/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(421).concat([function(t,e,r){"use strict";var n=r(423),o=r(498).utcFormat,l=r(424),c=r(430),f=c.FP_SAFE,h=c.BADNUM,d=t.exports={};d.nestedProperty=r(523),d.keyedContainer=r(752),d.relativeAttr=r(753),d.isPlainObject=r(489),d.toLogRange=r(524),d.relinkPrivateKeys=r(754);var v=r(477);d.isTypedArray=v.isTypedArray,d.isArrayOrTypedArray=v.isArrayOrTypedArray,d.isArray1D=v.isArray1D,d.ensureArray=v.ensureArray,d.concat=v.concat,d.maxRowLength=v.maxRowLength,d.minRowLength=v.minRowLength;var m=r(490);d.mod=m.mod,d.modHalf=m.modHalf;var y=r(755);d.valObjectMeta=y.valObjectMeta,d.coerce=y.coerce,d.coerce2=y.coerce2,d.coerceFont=y.coerceFont,d.coerceHoverinfo=y.coerceHoverinfo,d.coerceSelectionMarkerOpacity=y.coerceSelectionMarkerOpacity,d.validate=y.validate;var x=r(756);d.dateTime2ms=x.dateTime2ms,d.isDateTime=x.isDateTime,d.ms2DateTime=x.ms2DateTime,d.ms2DateTimeLocal=x.ms2DateTimeLocal,d.cleanDate=x.cleanDate,d.isJSDate=x.isJSDate,d.formatDate=x.formatDate,d.incrementMonth=x.incrementMonth,d.dateTick0=x.dateTick0,d.dfltRange=x.dfltRange,d.findExactDates=x.findExactDates,d.MIN_MS=x.MIN_MS,d.MAX_MS=x.MAX_MS;var _=r(614);d.findBin=_.findBin,d.sorterAsc=_.sorterAsc,d.sorterDes=_.sorterDes,d.distinctVals=_.distinctVals,d.roundUp=_.roundUp,d.sort=_.sort,d.findIndexOfMin=_.findIndexOfMin;var w=r(769);d.aggNums=w.aggNums,d.len=w.len,d.mean=w.mean,d.median=w.median,d.midRange=w.midRange,d.variance=w.variance,d.stdev=w.stdev,d.interp=w.interp;var M=r(529);d.init2dArray=M.init2dArray,d.transposeRagged=M.transposeRagged,d.dot=M.dot,d.translationMatrix=M.translationMatrix,d.rotationMatrix=M.rotationMatrix,d.rotationXYMatrix=M.rotationXYMatrix,d.apply3DTransform=M.apply3DTransform,d.apply2DTransform=M.apply2DTransform,d.apply2DTransform2=M.apply2DTransform2,d.convertCssMatrix=M.convertCssMatrix,d.inverseTransformMatrix=M.inverseTransformMatrix;var A=r(770);d.deg2rad=A.deg2rad,d.rad2deg=A.rad2deg,d.angleDelta=A.angleDelta,d.angleDist=A.angleDist,d.isFullCircle=A.isFullCircle,d.isAngleInsideSector=A.isAngleInsideSector,d.isPtInsideSector=A.isPtInsideSector,d.pathArc=A.pathArc,d.pathSector=A.pathSector,d.pathAnnulus=A.pathAnnulus;var T=r(771);d.isLeftAnchor=T.isLeftAnchor,d.isCenterAnchor=T.isCenterAnchor,d.isRightAnchor=T.isRightAnchor,d.isTopAnchor=T.isTopAnchor,d.isMiddleAnchor=T.isMiddleAnchor,d.isBottomAnchor=T.isBottomAnchor;var k=r(772);d.segmentsIntersect=k.segmentsIntersect,d.segmentDistance=k.segmentDistance,d.getTextLocation=k.getTextLocation,d.clearLocationCache=k.clearLocationCache,d.getVisibleSegment=k.getVisibleSegment,d.findPointOnPath=k.findPointOnPath;var E=r(429);d.extendFlat=E.extendFlat,d.extendDeep=E.extendDeep,d.extendDeepAll=E.extendDeepAll,d.extendDeepNoArrays=E.extendDeepNoArrays;var S=r(480);d.log=S.log,d.warn=S.warn,d.error=S.error;var L=r(491);d.counterRegex=L.counter;var C=r(539);d.throttle=C.throttle,d.throttleDone=C.done,d.clearThrottle=C.clear;var O=r(528);function R(t){var e={};for(var r in t)for(var n=t[r],o=0;o<n.length;o++)e[n[o]]=+r;return e}d.getGraphDiv=O.getGraphDiv,d.isPlotDiv=O.isPlotDiv,d.removeElement=O.removeElement,d.addStyleRule=O.addStyleRule,d.addRelatedStyleRule=O.addRelatedStyleRule,d.deleteRelatedStyleRule=O.deleteRelatedStyleRule,d.getFullTransformMatrix=O.getFullTransformMatrix,d.getElementTransformMatrix=O.getElementTransformMatrix,d.getElementAndAncestors=O.getElementAndAncestors,d.equalDomRects=O.equalDomRects,d.clearResponsive=r(773),d.preserveDrawingBuffer=r(774),d.makeTraceGroups=r(775),d._=r(776),d.notifier=r(603),d.filterUnique=r(777),d.filterVisible=r(778),d.pushUnique=r(604),d.increment=r(779),d.cleanNumber=r(780),d.ensureNumber=function(t){return l(t)?(t=Number(t))<-f||t>f?h:l(t)?Number(t):h:h},d.isIndex=function(t,e){return!(void 0!==e&&t>=e)&&(l(t)&&t>=0&&t%1==0)},d.noop=r(527),d.identity=r(615),d.repeat=function(t,e){for(var r=new Array(e),i=0;i<e;i++)r[i]=t;return r},d.swapAttrs=function(t,e,r,n){r||(r="x"),n||(n="y");for(var i=0;i<e.length;i++){var o=e[i],l=d.nestedProperty(t,o.replace("?",r)),c=d.nestedProperty(t,o.replace("?",n)),f=l.get();l.set(c.get()),c.set(f)}},d.raiseToTop=function(t){t.parentNode.appendChild(t)},d.cancelTransition=function(t){return t.transition().duration(0)},d.constrain=function(t,e,r){return e>r?Math.max(r,Math.min(e,t)):Math.max(e,Math.min(r,t))},d.bBoxIntersect=function(a,b,t){return t=t||0,a.left<=b.right+t&&b.left<=a.right+t&&a.top<=b.bottom+t&&b.top<=a.bottom+t},d.simpleMap=function(t,e,r,n,o){for(var l=t.length,c=new Array(l),i=0;i<l;i++)c[i]=e(t[i],r,n,o);return c},d.randstr=function t(e,r,base,n){if(base||(base=16),void 0===r&&(r=24),r<=0)return"0";var i,b,o=Math.log(Math.pow(2,r))/Math.log(base),l="";for(i=2;o===1/0;i*=2)o=Math.log(Math.pow(2,r/i))/Math.log(base)*i;var c=o-Math.floor(o);for(i=0;i<Math.floor(o);i++)l=Math.floor(Math.random()*base).toString(base)+l;c&&(b=Math.pow(base,c),l=Math.floor(Math.random()*b).toString(base)+l);var f=parseInt(l,base);return e&&e[l]||f!==1/0&&f>=Math.pow(2,r)?n>10?(d.warn("randstr failed uniqueness"),l):t(e,r,base,(n||0)+1):l},d.OptionControl=function(t,e){t||(t={}),e||(e="opt");var r={optionList:[],_newoption:function(n){n[e]=t,r[n.name]=n,r.optionList.push(n)}};return r["_"+e]=t,r},d.smooth=function(t,e){if((e=Math.round(e)||0)<2)return t;var i,r,n,o,l=t.length,c=2*l,f=2*e-1,h=new Array(f),d=new Array(l);for(i=0;i<f;i++)h[i]=(1-Math.cos(Math.PI*(i+1)/e))/(2*e);for(i=0;i<l;i++){for(o=0,r=0;r<f;r++)(n=i+r+1-e)<-l?n-=c*Math.round(n/c):n>=c&&(n-=c*Math.floor(n/c)),n<0?n=-1-n:n>=l&&(n=c-1-n),o+=t[n]*h[r];d[i]=o}return d},d.syncOrAsync=function(t,e,r){var n;function o(){return d.syncOrAsync(t,e,r)}for(;t.length;)if((n=(0,t.splice(0,1)[0])(e))&&n.then)return n.then(o).then(void 0,d.promiseError);return r&&r(e)},d.stripTrailingSlash=function(t){return"/"===t.substr(-1)?t.substr(0,t.length-1):t},d.noneOrAll=function(t,e,r){if(t){var i,n=!1,o=!0;for(i=0;i<r.length;i++)null!=t[r[i]]?n=!0:o=!1;if(n&&!o)for(i=0;i<r.length;i++)t[r[i]]=e[r[i]]}},d.mergeArray=function(t,e,r,n){var o="function"==typeof n;if(d.isArrayOrTypedArray(t))for(var l=Math.min(t.length,e.length),i=0;i<l;i++){var c=t[i];e[i][r]=o?n(c):c}},d.mergeArrayCastPositive=function(t,e,r){return d.mergeArray(t,e,r,(function(t){var e=+t;return isFinite(e)&&e>0?e:0}))},d.fillArray=function(t,e,r,n){if(n=n||d.identity,d.isArrayOrTypedArray(t))for(var i=0;i<e.length;i++)e[i][r]=n(t[i])},d.castOption=function(t,e,r,n){n=n||d.identity;var o=d.nestedProperty(t,r).get();return d.isArrayOrTypedArray(o)?Array.isArray(e)&&d.isArrayOrTypedArray(o[e[0]])?n(o[e[0]][e[1]]):n(o[e]):o},d.extractOption=function(t,e,r,n){if(r in t)return t[r];var o=d.nestedProperty(e,n).get();return Array.isArray(o)?void 0:o},d.tagSelected=function(t,e,r){var n,o,l=e.selectedpoints,c=e._indexToPoints;c&&(n=R(c));for(var i=0;i<l.length;i++){var f=l[i];if(d.isIndex(f)||d.isArrayOrTypedArray(f)&&d.isIndex(f[0])&&d.isIndex(f[1])){var h=n?n[f]:f,v=r?r[h]:h;void 0!==(o=v)&&o<t.length&&(t[v].selected=1)}}},d.selIndices2selPoints=function(t){var e=t.selectedpoints,r=t._indexToPoints;if(r){for(var n=R(r),o=[],i=0;i<e.length;i++){var l=e[i];if(d.isIndex(l)){var c=n[l];d.isIndex(c)&&o.push(c)}}return o}return e},d.getTargetArray=function(t,e){var r=e.target;if("string"==typeof r&&r){var n=d.nestedProperty(t,r).get();return!!Array.isArray(n)&&n}return!!Array.isArray(r)&&r},d.minExtend=function(t,e){var r={};"object"!=typeof e&&(e={});var i,n,o,l=Object.keys(t);for(i=0;i<l.length;i++)o=t[n=l[i]],"_"!==n.charAt(0)&&"function"!=typeof o&&("module"===n?r[n]=o:Array.isArray(o)?r[n]="colorscale"===n?o.slice():o.slice(0,3):d.isTypedArray(o)?r[n]=o.subarray(0,3):r[n]=o&&"object"==typeof o?d.minExtend(t[n],e[n]):o);for(l=Object.keys(e),i=0;i<l.length;i++)"object"==typeof(o=e[n=l[i]])&&n in r&&"object"==typeof r[n]||(r[n]=o);return r},d.titleCase=function(s){return s.charAt(0).toUpperCase()+s.substr(1)},d.containsAny=function(s,t){for(var i=0;i<t.length;i++)if(-1!==s.indexOf(t[i]))return!0;return!1},d.isIE=function(){return void 0!==window.navigator.msSaveBlob};var D=/MSIE [1-9]\./;d.isIE9orBelow=function(){return d.isIE()&&D.test(window.navigator.userAgent)};var P=/Version\/[\d\.]+.*Safari/;d.isSafari=function(){return P.test(window.navigator.userAgent)};var I=/iPad|iPhone|iPod/;d.isIOS=function(){return I.test(window.navigator.userAgent)},d.isD3Selection=function(t){return t&&"function"==typeof t.classed},d.ensureSingle=function(t,e,r,n){var o=t.select(e+(r?"."+r:""));if(o.size())return o;var l=t.append(e);return r&&l.classed(r,!0),n&&l.call(n),l},d.ensureSingleById=function(t,e,r,n){var o=t.select(e+"#"+r);if(o.size())return o;var l=t.append(e).attr("id",r);return n&&l.call(n),l},d.objectFromPath=function(path,t){for(var e,r=path.split("."),n=e={},i=0;i<r.length;i++){var o=r[i],l=null,c=r[i].match(/(.*)\[([0-9]+)\]/);c?(o=c[1],l=c[2],e=e[o]=[],i===r.length-1?e[l]=t:e[l]={},e=e[l]):(i===r.length-1?e[o]=t:e[o]={},e=e[o])}return n};var N=/^([^\[\.]+)\.(.+)?/,z=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;d.expandObjectPaths=function(data){var t,e,r,n,o,l,c;if("object"==typeof data&&!Array.isArray(data))for(e in data)data.hasOwnProperty(e)&&((t=e.match(N))?(n=data[e],r=t[1],delete data[e],data[r]=d.extendDeepNoArrays(data[r]||{},d.objectFromPath(e,d.expandObjectPaths(n))[r])):(t=e.match(z))?(n=data[e],r=t[1],o=parseInt(t[2]),delete data[e],data[r]=data[r]||[],"."===t[3]?(c=t[4],l=data[r][o]=data[r][o]||{},d.extendDeepNoArrays(l,d.objectFromPath(c,d.expandObjectPaths(n)))):data[r][o]=d.expandObjectPaths(n)):data[e]=d.expandObjectPaths(data[e]));return data},d.numSeparate=function(t,e,r){if(r||(r=!1),"string"!=typeof e||0===e.length)throw new Error("Separator string required for formatting!");"number"==typeof t&&(t=String(t));var n=/(\d+)(\d{3})/,o=e.charAt(0),l=e.charAt(1),c=t.split("."),f=c[0],h=c.length>1?o+c[1]:"";if(l&&(c.length>1||f.length>4||r))for(;n.test(f);)f=f.replace(n,"$1"+l+"$2");return f+h},d.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var F=/^\w*$/;d.templateString=function(t,e){var r={};return t.replace(d.TEMPLATE_STRING_REGEX,(function(t,n){var o;return F.test(n)?o=e[n]:(r[n]=r[n]||d.nestedProperty(e,n).get,o=r[n]()),d.isValidTextValue(o)?o:""}))};var j={max:10,count:0,name:"hovertemplate"};d.hovertemplateString=function(){return H.apply(j,arguments)};var B={max:10,count:0,name:"texttemplate"};d.texttemplateString=function(){return H.apply(B,arguments)};var U=/^[:|\|]/;function H(t,e,r){var l=this,c=arguments;e||(e={});var f={};return t.replace(d.TEMPLATE_STRING_REGEX,(function(t,h,v){var m,y,i,x;for(i=3;i<c.length;i++)if(m=c[i]){if(m.hasOwnProperty(h)){y=m[h];break}if(F.test(h)||(y=f[h]||d.nestedProperty(m,h).get())&&(f[h]=y),void 0!==y)break}if(void 0===y&&l)return l.count<l.max&&(d.warn("Variable '"+h+"' in "+l.name+" could not be found!"),y=t),l.count===l.max&&d.warn("Too many "+l.name+" warnings - additional warnings will be suppressed"),l.count++,t;if(v){if(":"===v[0]&&(y=(x=r?r.numberFormat:n.format)(v.replace(U,""))(y)),"|"===v[0]){x=r?r.timeFormat:o;var _=d.dateTime2ms(y);y=d.formatDate(_,v.replace(U,""),!1,x)}}else e.hasOwnProperty(h+"Label")&&(y=e[h+"Label"]);return y}))}d.subplotSort=function(a,b){for(var t=Math.min(a.length,b.length)+1,e=0,r=0,i=0;i<t;i++){var n=a.charCodeAt(i)||0,o=b.charCodeAt(i)||0,l=n>=48&&n<=57,c=o>=48&&o<=57;if(l&&(e=10*e+n-48),c&&(r=10*r+o-48),!l||!c){if(e!==r)return e-r;if(n!==o)return n-o}}return r-e};var V=2e9;d.seedPseudoRandom=function(){V=2e9},d.pseudoRandom=function(){var t=V;return V=(69069*V+1)%4294967296,Math.abs(V-t)<429496729?d.pseudoRandom():V/4294967296},d.fillText=function(t,e,r){var n=Array.isArray(r)?function(t){r.push(t)}:function(t){r.text=t},o=d.extractOption(t,e,"htx","hovertext");if(d.isValidTextValue(o))return n(o);var l=d.extractOption(t,e,"tx","text");return d.isValidTextValue(l)?n(l):void 0},d.isValidTextValue=function(t){return t||0===t},d.formatPercent=function(t,e){e=e||0;for(var r=(Math.round(100*t*Math.pow(10,e))*Math.pow(.1,e)).toFixed(e)+"%",i=0;i<e;i++)-1!==r.indexOf(".")&&(r=(r=r.replace("0%","%")).replace(".%","%"));return r},d.isHidden=function(t){var e=window.getComputedStyle(t).display;return!e||"none"===e},d.strTranslate=function(t,e){return t||e?"translate("+t+","+e+")":""},d.strRotate=function(a){return a?"rotate("+a+")":""},d.strScale=function(s){return 1!==s?"scale("+s+")":""},d.getTextTransform=function(t){var e=t.noCenter,r=t.textX,n=t.textY,o=t.targetX,l=t.targetY,c=t.anchorX||0,f=t.anchorY||0,h=t.rotate,v=t.scale;return v?v>1&&(v=1):v=0,d.strTranslate(o-v*(r+c),l-v*(n+f))+d.strScale(v)+(h?"rotate("+h+(e?"":" "+r+" "+n)+")":"")},d.ensureUniformFontSize=function(t,e){var r=d.extendFlat({},e);return r.size=Math.max(e.size,t._fullLayout.uniformtext.minsize||0),r},d.join2=function(t,e,r){var n=t.length;return n>1?t.slice(0,-1).join(e)+r+t[n-1]:t.join(e)}},function(t,e,r){"use strict";var n=r(480),o=r(527),l=r(604),c=r(489),f=r(528).addStyleRule,h=r(429),d=r(449),v=r(492),m=h.extendFlat,y=h.extendDeepAll;function x(t){var r=t.name,o=t.categories,meta=t.meta;if(e.modules[r])n.log("Type "+r+" already registered");else{e.subplotsRegistry[t.basePlotModule.name]||function(t){var r=t.name;if(e.subplotsRegistry[r])return void n.log("Plot type "+r+" already registered.");for(var o in A(t),e.subplotsRegistry[r]=t,e.componentsRegistry)E(o,t.name)}(t.basePlotModule);for(var l={},i=0;i<o.length;i++)l[o[i]]=!0,e.allCategories[o[i]]=!0;for(var c in e.modules[r]={_module:t,categories:l},meta&&Object.keys(meta).length&&(e.modules[r].meta=meta),e.allTypes.push(r),e.componentsRegistry)T(c,r);t.layoutAttributes&&m(e.traceLayoutAttributes,t.layoutAttributes);var h=t.basePlotModule,d=h.name;if("mapbox"===d){var v=h.constants.styleRules;for(var y in v)f(".js-plotly-plot .plotly .mapboxgl-"+y,v[y])}"geo"!==d&&"mapbox"!==d||void 0===typeof window||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function _(t){if("string"!=typeof t.name)throw new Error("Component module *name* must be a string.");var r=t.name;for(var n in e.componentsRegistry[r]=t,t.layoutAttributes&&(t.layoutAttributes._isLinkedToArray&&l(e.layoutArrayContainers,r),A(t)),e.modules)T(r,n);for(var o in e.subplotsRegistry)E(r,o);for(var c in e.transformsRegistry)k(r,c);t.schema&&t.schema.layout&&y(v,t.schema.layout)}function w(t){if("string"!=typeof t.name)throw new Error("Transform module *name* must be a string.");var r="Transform module "+t.name,o="function"==typeof t.transform,l="function"==typeof t.calcTransform;if(!o&&!l)throw new Error(r+" is missing a *transform* or *calcTransform* method.");for(var f in o&&l&&n.log([r+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),c(t.attributes)||n.log(r+" registered without an *attributes* object."),"function"!=typeof t.supplyDefaults&&n.log(r+" registered without a *supplyDefaults* method."),e.transformsRegistry[t.name]=t,e.componentsRegistry)k(f,t.name)}function M(t){var r=t.name,n=r.split("-")[0],o=t.dictionary,l=t.format,c=o&&Object.keys(o).length,f=l&&Object.keys(l).length,h=e.localeRegistry,d=h[r];if(d||(h[r]=d={}),n!==r){var v=h[n];v||(h[n]=v={}),c&&v.dictionary===d.dictionary&&(v.dictionary=o),f&&v.format===d.format&&(v.format=l)}c&&(d.dictionary=o),f&&(d.format=l)}function A(t){if(t.layoutAttributes){var r=t.layoutAttributes._arrayAttrRegexps;if(r)for(var i=0;i<r.length;i++)l(e.layoutArrayRegexes,r[i])}}function T(t,r){var n=e.componentsRegistry[t].schema;if(n&&n.traces){var o=n.traces[r];o&&y(e.modules[r]._module.attributes,o)}}function k(t,r){var n=e.componentsRegistry[t].schema;if(n&&n.transforms){var o=n.transforms[r];o&&y(e.transformsRegistry[r].attributes,o)}}function E(t,r){var n=e.componentsRegistry[t].schema;if(n&&n.subplots){var o=e.subplotsRegistry[r],l=o.layoutAttributes,c="subplot"===o.attr?o.name:o.attr;Array.isArray(c)&&(c=c[0]);var f=n.subplots[c];l&&f&&y(l,f)}}function S(t){return"object"==typeof t&&(t=t.type),t}e.modules={},e.allCategories={},e.allTypes=[],e.subplotsRegistry={},e.transformsRegistry={},e.componentsRegistry={},e.layoutArrayContainers=[],e.layoutArrayRegexes=[],e.traceLayoutAttributes={},e.localeRegistry={},e.apiMethodRegistry={},e.collectableSubplotTypes=null,e.register=function(t){if(e.collectableSubplotTypes=null,!t)throw new Error("No argument passed to Plotly.register.");t&&!Array.isArray(t)&&(t=[t]);for(var i=0;i<t.length;i++){var r=t[i];if(!r)throw new Error("Invalid module was attempted to be registered!");switch(r.moduleType){case"trace":x(r);break;case"transform":w(r);break;case"component":_(r);break;case"locale":M(r);break;case"apiMethod":var n=r.name;e.apiMethodRegistry[n]=r.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},e.getModule=function(t){var r=e.modules[S(t)];return!!r&&r._module},e.traceIs=function(t,r){if("various"===(t=S(t)))return!1;var o=e.modules[t];return o||(t&&"area"!==t&&n.log("Unrecognized trace type "+t+"."),o=e.modules[d.type.dflt]),!!o.categories[r]},e.getTransformIndices=function(data,t){for(var e=[],r=data.transforms||[],i=0;i<r.length;i++)r[i].type===t&&e.push(i);return e},e.hasTransform=function(data,t){for(var e=data.transforms||[],i=0;i<e.length;i++)if(e[i].type===t)return!0;return!1},e.getComponentMethod=function(t,r){var n=e.componentsRegistry[t];return n&&n[r]||o},e.call=function(){var t=arguments[0],r=[].slice.call(arguments,1);return e.apiMethodRegistry[t].apply(null,r)}},function(t,e,r){var n,o;!function(){var l={version:"3.5.17"},c=[].slice,f=function(t){return c.call(t)},h=this.document;function d(t){return t&&(t.ownerDocument||t.document||t).documentElement}function v(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(h)try{f(h.documentElement.childNodes)[0].nodeType}catch(t){f=function(t){for(var i=t.length,e=new Array(i);i--;)e[i]=t[i];return e}}if(Date.now||(Date.now=function(){return+new Date}),h)try{h.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var m=this.Element.prototype,y=m.setAttribute,x=m.setAttributeNS,_=this.CSSStyleDeclaration.prototype,w=_.setProperty;m.setAttribute=function(t,e){y.call(this,t,e+"")},m.setAttributeNS=function(t,e,r){x.call(this,t,e,r+"")},_.setProperty=function(t,e,r){w.call(this,t,e+"",r)}}function M(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function A(t){return null===t?NaN:+t}function T(t){return!isNaN(t)}function k(t){return{left:function(a,e,r,n){for(arguments.length<3&&(r=0),arguments.length<4&&(n=a.length);r<n;){var o=r+n>>>1;t(a[o],e)<0?r=o+1:n=o}return r},right:function(a,e,r,n){for(arguments.length<3&&(r=0),arguments.length<4&&(n=a.length);r<n;){var o=r+n>>>1;t(a[o],e)>0?n=o:r=o+1}return r}}}l.ascending=M,l.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},l.min=function(t,e){var a,b,i=-1,r=t.length;if(1===arguments.length){for(;++i<r;)if(null!=(b=t[i])&&b>=b){a=b;break}for(;++i<r;)null!=(b=t[i])&&a>b&&(a=b)}else{for(;++i<r;)if(null!=(b=e.call(t,t[i],i))&&b>=b){a=b;break}for(;++i<r;)null!=(b=e.call(t,t[i],i))&&a>b&&(a=b)}return a},l.max=function(t,e){var a,b,i=-1,r=t.length;if(1===arguments.length){for(;++i<r;)if(null!=(b=t[i])&&b>=b){a=b;break}for(;++i<r;)null!=(b=t[i])&&b>a&&(a=b)}else{for(;++i<r;)if(null!=(b=e.call(t,t[i],i))&&b>=b){a=b;break}for(;++i<r;)null!=(b=e.call(t,t[i],i))&&b>a&&(a=b)}return a},l.extent=function(t,e){var a,b,r,i=-1,n=t.length;if(1===arguments.length){for(;++i<n;)if(null!=(b=t[i])&&b>=b){a=r=b;break}for(;++i<n;)null!=(b=t[i])&&(a>b&&(a=b),r<b&&(r=b))}else{for(;++i<n;)if(null!=(b=e.call(t,t[i],i))&&b>=b){a=r=b;break}for(;++i<n;)null!=(b=e.call(t,t[i],i))&&(a>b&&(a=b),r<b&&(r=b))}return[a,r]},l.sum=function(t,e){var a,s=0,r=t.length,i=-1;if(1===arguments.length)for(;++i<r;)T(a=+t[i])&&(s+=a);else for(;++i<r;)T(a=+e.call(t,t[i],i))&&(s+=a);return s},l.mean=function(t,e){var a,s=0,r=t.length,i=-1,n=r;if(1===arguments.length)for(;++i<r;)T(a=A(t[i]))?s+=a:--n;else for(;++i<r;)T(a=A(e.call(t,t[i],i)))?s+=a:--n;if(n)return s/n},l.quantile=function(t,p){var e=(t.length-1)*p+1,r=Math.floor(e),n=+t[r-1],o=e-r;return o?n+o*(t[r]-n):n},l.median=function(t,e){var a,r=[],n=t.length,i=-1;if(1===arguments.length)for(;++i<n;)T(a=A(t[i]))&&r.push(a);else for(;++i<n;)T(a=A(e.call(t,t[i],i)))&&r.push(a);if(r.length)return l.quantile(r.sort(M),.5)},l.variance=function(t,e){var a,r,n=t.length,o=0,s=0,i=-1,l=0;if(1===arguments.length)for(;++i<n;)T(a=A(t[i]))&&(s+=(r=a-o)*(a-(o+=r/++l)));else for(;++i<n;)T(a=A(e.call(t,t[i],i)))&&(s+=(r=a-o)*(a-(o+=r/++l)));if(l>1)return s/(l-1)},l.deviation=function(){var t=l.variance.apply(this,arguments);return t?Math.sqrt(t):t};var E=k(M);function S(t){return t.length}l.bisectLeft=E.left,l.bisect=l.bisectRight=E.right,l.bisector=function(t){return k(1===t.length?function(e,r){return M(t(e),r)}:t)},l.shuffle=function(t,e,r){(o=arguments.length)<3&&(r=t.length,o<2&&(e=0));for(var n,i,o=r-e;o;)i=Math.random()*o--|0,n=t[o+e],t[o+e]=t[i+e],t[i+e]=n;return t},l.permute=function(t,e){for(var i=e.length,r=new Array(i);i--;)r[i]=t[e[i]];return r},l.pairs=function(t){for(var i=0,e=t.length-1,r=t[0],n=new Array(e<0?0:e);i<e;)n[i]=[r,r=t[++i]];return n},l.transpose=function(t){if(!(n=t.length))return[];for(var i=-1,e=l.min(t,S),r=new Array(e);++i<e;)for(var n,o=-1,c=r[i]=new Array(n);++o<n;)c[o]=t[o][i];return r},l.zip=function(){return l.transpose(arguments)},l.keys=function(map){var t=[];for(var e in map)t.push(e);return t},l.values=function(map){var t=[];for(var e in map)t.push(map[e]);return t},l.entries=function(map){var t=[];for(var e in map)t.push({key:e,value:map[e]});return t},l.merge=function(t){for(var e,r,n,o=t.length,i=-1,l=0;++i<o;)l+=t[i].length;for(r=new Array(l);--o>=0;)for(e=(n=t[o]).length;--e>=0;)r[--l]=n[e];return r};var L=Math.abs;function C(t){for(var e=1;t*e%1;)e*=10;return e}function O(t,e){for(var r in e)Object.defineProperty(t.prototype,r,{value:e[r],enumerable:!1})}function R(){this._=Object.create(null)}l.range=function(t,e,r){if(arguments.length<3&&(r=1,arguments.length<2&&(e=t,t=0)),(e-t)/r==1/0)throw new Error("infinite range");var n,o=[],l=C(L(r)),i=-1;if(t*=l,e*=l,(r*=l)<0)for(;(n=t+r*++i)>e;)o.push(n/l);else for(;(n=t+r*++i)<e;)o.push(n/l);return o},l.map=function(object,t){var map=new R;if(object instanceof R)object.forEach((function(t,e){map.set(t,e)}));else if(Array.isArray(object)){var e,i=-1,r=object.length;if(1===arguments.length)for(;++i<r;)map.set(i,object[i]);else for(;++i<r;)map.set(t.call(object,e=object[i],i),e)}else for(var n in object)map.set(n,object[n]);return map};function D(t){return"__proto__"==(t+="")||"\0"===t[0]?"\0"+t:t}function P(t){return"\0"===(t+="")[0]?t.slice(1):t}function I(t){return D(t)in this._}function N(t){return(t=D(t))in this._&&delete this._[t]}function z(){var t=[];for(var e in this._)t.push(P(e));return t}function F(){var t=0;for(var e in this._)++t;return t}function j(){for(var t in this._)return!1;return!0}function B(){this._=Object.create(null)}function U(t){return t}function H(t,source,e){return function(){var r=e.apply(source,arguments);return r===source?t:r}}function V(object,t){if(t in object)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var i=0,e=Y.length;i<e;++i){var r=Y[i]+t;if(r in object)return r}}O(R,{has:I,get:function(t){return this._[D(t)]},set:function(t,e){return this._[D(t)]=e},remove:N,keys:z,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:P(e),value:this._[e]});return t},size:F,empty:j,forEach:function(t){for(var e in this._)t.call(this,P(e),this._[e])}}),l.nest=function(){var t,e,r={},n=[],o=[];function map(o,l,c){if(c>=n.length)return e?e.call(r,l):t?l.sort(t):l;for(var f,object,h,d,i=-1,v=l.length,m=n[c++],y=new R;++i<v;)(d=y.get(f=m(object=l[i])))?d.push(object):y.set(f,[object]);return o?(object=o(),h=function(t,e){object.set(t,map(o,e,c))}):(object={},h=function(t,e){object[t]=map(o,e,c)}),y.forEach(h),object}return r.map=function(t,e){return map(e,t,0)},r.entries=function(t){return function t(map,e){if(e>=n.length)return map;var r=[],l=o[e++];return map.forEach((function(n,o){r.push({key:n,values:t(o,e)})})),l?r.sort((function(a,b){return l(a.key,b.key)})):r}(map(l.map,t,0),0)},r.key=function(t){return n.push(t),r},r.sortKeys=function(t){return o[n.length-1]=t,r},r.sortValues=function(e){return t=e,r},r.rollup=function(t){return e=t,r},r},l.set=function(t){var e=new B;if(t)for(var i=0,r=t.length;i<r;++i)e.add(t[i]);return e},O(B,{has:I,add:function(t){return this._[D(t+="")]=!0,t},remove:N,values:z,size:F,empty:j,forEach:function(t){for(var e in this._)t.call(this,P(e))}}),l.behavior={},l.rebind=function(t,source){for(var e,i=1,r=arguments.length;++i<r;)t[e=arguments[i]]=H(t,source,source[e]);return t};var Y=["webkit","ms","moz","Moz","o","O"];function G(){}function W(){}function X(t){var e=[],r=new R;function n(){for(var r,n=e,i=-1,o=n.length;++i<o;)(r=n[i].on)&&r.apply(this,arguments);return t}return n.on=function(n,o){var i,l=r.get(n);return arguments.length<2?l&&l.on:(l&&(l.on=null,e=e.slice(0,i=e.indexOf(l)).concat(e.slice(i+1)),r.remove(n)),o&&e.push(r.set(n,{on:o})),t)},n}function Z(){l.event.preventDefault()}function J(){for(var s,t=l.event;s=t.sourceEvent;)t=s;return t}function Q(t){for(var e=new W,i=0,r=arguments.length;++i<r;)e[arguments[i]]=X(e);return e.of=function(r,n){return function(o){try{var c=o.sourceEvent=l.event;o.target=t,l.event=o,e[o.type].apply(r,n)}finally{l.event=c}}},e}l.dispatch=function(){for(var t=new W,i=-1,e=arguments.length;++i<e;)t[arguments[i]]=X(t);return t},W.prototype.on=function(t,e){var i=t.indexOf("."),r="";if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},l.event=null,l.requote=function(s){return s.replace(K,"\\$&")};var K=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,$={}.__proto__?function(object,t){object.__proto__=t}:function(object,t){for(var e in t)object[e]=t[e]};function tt(t){return $(t,at),t}var et=function(s,t){return t.querySelector(s)},nt=function(s,t){return t.querySelectorAll(s)},it=function(t,s){var e=t.matches||t[V(t,"matchesSelector")];return(it=function(t,s){return e.call(t,s)})(t,s)};"function"==typeof Sizzle&&(et=function(s,t){return Sizzle(s,t)[0]||null},nt=Sizzle,it=Sizzle.matchesSelector),l.selection=function(){return l.select(h.documentElement)};var at=l.selection.prototype=[];function ot(t){return"function"==typeof t?t:function(){return et(t,this)}}function st(t){return"function"==typeof t?t:function(){return nt(t,this)}}at.select=function(t){var e,r,n,o,l=[];t=ot(t);for(var c=-1,f=this.length;++c<f;){l.push(e=[]),e.parentNode=(n=this[c]).parentNode;for(var i=-1,h=n.length;++i<h;)(o=n[i])?(e.push(r=t.call(o,o.__data__,i,c)),r&&"__data__"in o&&(r.__data__=o.__data__)):e.push(null)}return tt(l)},at.selectAll=function(t){var e,r,n=[];t=st(t);for(var o=-1,l=this.length;++o<l;)for(var c=this[o],i=-1,h=c.length;++i<h;)(r=c[i])&&(n.push(e=f(t.call(r,r.__data__,i,o))),e.parentNode=r);return tt(n)};var lt="http://www.w3.org/1999/xhtml",ut={svg:"http://www.w3.org/2000/svg",xhtml:lt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ct(t,e){return t=l.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var r=e.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}:function(){var r=e.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function ft(s){return s.trim().replace(/\s+/g," ")}function ht(t){return new RegExp("(?:^|\\s+)"+l.requote(t)+"(?:\\s+|$)","g")}function pt(t){return(t+"").trim().split(/^|\s+/)}function gt(t,e){var r=(t=pt(t).map(vt)).length;return"function"==typeof e?function(){for(var i=-1,n=e.apply(this,arguments);++i<r;)t[i](this,n)}:function(){for(var i=-1;++i<r;)t[i](this,e)}}function vt(t){var e=ht(t);return function(r,n){if(o=r.classList)return n?o.add(t):o.remove(t);var o=r.getAttribute("class")||"";n?(e.lastIndex=0,e.test(o)||r.setAttribute("class",ft(o+" "+t))):r.setAttribute("class",ft(o.replace(e," ")))}}function mt(t,e,r){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,r)}:function(){this.style.setProperty(t,e,r)}}function yt(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?delete this[t]:this[t]=r}:function(){this[t]=e}}function xt(t){return"function"==typeof t?t:(t=l.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,r=this.namespaceURI;return r===lt&&e.documentElement.namespaceURI===lt?e.createElement(t):e.createElementNS(r,t)}}function bt(){var t=this.parentNode;t&&t.removeChild(this)}function _t(data){return{__data__:data}}function wt(t){return function(){return it(this,t)}}function Mt(t){return arguments.length||(t=M),function(a,b){return a&&b?t(a.__data__,b.__data__):!a-!b}}function At(t,e){for(var r=0,n=t.length;r<n;r++)for(var o,l=t[r],i=0,c=l.length;i<c;i++)(o=l[i])&&e(o,i,r);return t}function Tt(t){return $(t,kt),t}l.ns={prefix:ut,qualify:function(t){var i=t.indexOf(":"),e=t;return i>=0&&"xmlns"!==(e=t.slice(0,i))&&(t=t.slice(i+1)),ut.hasOwnProperty(e)?{space:ut[e],local:t}:t}},at.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var r=this.node();return(t=l.ns.qualify(t)).local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(e in t)this.each(ct(e,t[e]));return this}return this.each(ct(t,e))},at.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var r=this.node(),n=(t=pt(t)).length,i=-1;if(e=r.classList){for(;++i<n;)if(!e.contains(t[i]))return!1}else for(e=r.getAttribute("class");++i<n;)if(!ht(t[i]).test(e))return!1;return!0}for(e in t)this.each(gt(e,t[e]));return this}return this.each(gt(t,e))},at.style=function(t,e,r){var n=arguments.length;if(n<3){if("string"!=typeof t){for(r in n<2&&(e=""),t)this.each(mt(r,t[r],e));return this}if(n<2){var o=this.node();return v(o).getComputedStyle(o,null).getPropertyValue(t)}r=""}return this.each(mt(t,e,r))},at.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(yt(e,t[e]));return this}return this.each(yt(t,e))},at.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},at.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},at.append=function(t){return t=xt(t),this.select((function(){return this.appendChild(t.apply(this,arguments))}))},at.insert=function(t,e){return t=xt(t),e=ot(e),this.select((function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)}))},at.remove=function(){return this.each(bt)},at.data=function(t,e){var r,n,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(r=this[0]).length);++i<o;)(n=r[i])&&(t[i]=n.__data__);return t}function l(t,r){var i,n,o,l=t.length,d=r.length,v=Math.min(l,d),m=new Array(d),y=new Array(d),x=new Array(l);if(e){var _,w=new R,M=new Array(l);for(i=-1;++i<l;)(n=t[i])&&(w.has(_=e.call(n,n.__data__,i))?x[i]=n:w.set(_,n),M[i]=_);for(i=-1;++i<d;)(n=w.get(_=e.call(r,o=r[i],i)))?!0!==n&&(m[i]=n,n.__data__=o):y[i]=_t(o),w.set(_,!0);for(i=-1;++i<l;)i in M&&!0!==w.get(M[i])&&(x[i]=t[i])}else{for(i=-1;++i<v;)n=t[i],o=r[i],n?(n.__data__=o,m[i]=n):y[i]=_t(o);for(;i<d;++i)y[i]=_t(r[i]);for(;i<l;++i)x[i]=t[i]}y.update=m,y.parentNode=m.parentNode=x.parentNode=t.parentNode,c.push(y),f.push(m),h.push(x)}var c=Tt([]),f=tt([]),h=tt([]);if("function"==typeof t)for(;++i<o;)l(r=this[i],t.call(r,r.parentNode.__data__,i));else for(;++i<o;)l(r=this[i],t);return f.enter=function(){return c},f.exit=function(){return h},f},at.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},at.filter=function(filter){var t,e,r,n=[];"function"!=typeof filter&&(filter=wt(filter));for(var o=0,l=this.length;o<l;o++){n.push(t=[]),t.parentNode=(e=this[o]).parentNode;for(var i=0,c=e.length;i<c;i++)(r=e[i])&&filter.call(r,r.__data__,i,o)&&t.push(r)}return tt(n)},at.order=function(){for(var t=-1,e=this.length;++t<e;)for(var r,n=this[t],i=n.length-1,o=n[i];--i>=0;)(r=n[i])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},at.sort=function(t){t=Mt.apply(this,arguments);for(var e=-1,r=this.length;++e<r;)this[e].sort(t);return this.order()},at.each=function(t){return At(this,(function(e,i,r){t.call(e,e.__data__,i,r)}))},at.call=function(t){var e=f(arguments);return t.apply(e[0]=this,e),this},at.empty=function(){return!this.node()},at.node=function(){for(var t=0,e=this.length;t<e;t++)for(var r=this[t],i=0,n=r.length;i<n;i++){var o=r[i];if(o)return o}return null},at.size=function(){var t=0;return At(this,(function(){++t})),t};var kt=[];function Et(t){var e,r;return function(n,i,o){var l,c=t[o].update,f=c.length;for(o!=r&&(r=o,e=0),i>=e&&(e=i+1);!(l=c[e])&&++e<f;);return l}}function St(t,e,r){var n="__on"+t,i=t.indexOf("."),o=Ct;i>0&&(t=t.slice(0,i));var filter=Lt.get(t);function c(){var e=this[n];e&&(this.removeEventListener(t,e,e.$),delete this[n])}return filter&&(t=filter,o=Ot),i?e?function(){var l=o(e,f(arguments));c.call(this),this.addEventListener(t,this[n]=l,l.$=r),l._=e}:c:e?G:function(){var e,r=new RegExp("^__on([^.]+)"+l.requote(t)+"$");for(var n in this)if(e=n.match(r)){var o=this[n];this.removeEventListener(e[1],o,o.$),delete this[n]}}}l.selection.enter=Tt,l.selection.enter.prototype=kt,kt.append=at.append,kt.empty=at.empty,kt.node=at.node,kt.call=at.call,kt.size=at.size,kt.select=function(t){for(var e,r,n,o,l,c=[],f=-1,h=this.length;++f<h;){n=(o=this[f]).update,c.push(e=[]),e.parentNode=o.parentNode;for(var i=-1,d=o.length;++i<d;)(l=o[i])?(e.push(n[i]=r=t.call(o.parentNode,l.__data__,i,f)),r.__data__=l.__data__):e.push(null)}return tt(c)},kt.insert=function(t,e){return arguments.length<2&&(e=Et(this)),at.insert.call(this,t,e)},l.select=function(t){var e;return"string"==typeof t?(e=[et(t,h)]).parentNode=h.documentElement:(e=[t]).parentNode=d(t),tt([e])},l.selectAll=function(t){var e;return"string"==typeof t?(e=f(nt(t,h))).parentNode=h.documentElement:(e=f(t)).parentNode=null,tt([e])},at.on=function(t,e,r){var n=arguments.length;if(n<3){if("string"!=typeof t){for(r in n<2&&(e=!1),t)this.each(St(r,t[r],e));return this}if(n<2)return(n=this.node()["__on"+t])&&n._;r=!1}return this.each(St(t,e,r))};var Lt=l.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Ct(t,e){return function(r){var n=l.event;l.event=r,e[0]=this.__data__;try{t.apply(this,e)}finally{l.event=n}}}function Ot(t,e){var r=Ct(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||r.call(this,t)}}h&&Lt.forEach((function(t){"on"+t in h&&Lt.remove(t)}));var Rt,Dt=0;function Pt(t){var e=".dragsuppress-"+ ++Dt,r="click"+e,n=l.select(v(t)).on("touchmove"+e,Z).on("dragstart"+e,Z).on("selectstart"+e,Z);if(null==Rt&&(Rt=!("onselectstart"in t)&&V(t.style,"userSelect")),Rt){var style=d(t).style,select=style[Rt];style[Rt]="none"}return function(t){if(n.on(e,null),Rt&&(style[Rt]=select),t){var o=function(){n.on(r,null)};n.on(r,(function(){Z(),o()}),!0),setTimeout(o,0)}}}l.mouse=function(t){return Nt(t,J())};var It=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Nt(t,e){e.changedTouches&&(e=e.changedTouches[0]);var svg=t.ownerSVGElement||t;if(svg.createSVGPoint){var r=svg.createSVGPoint();if(It<0){var n=v(t);if(n.scrollX||n.scrollY){var o=(svg=l.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();It=!(o.f||o.e),svg.remove()}}return It?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var rect=t.getBoundingClientRect();return[e.clientX-rect.left-t.clientLeft,e.clientY-rect.top-t.clientTop]}function zt(){return l.event.changedTouches[0].identifier}l.touch=function(t,e,r){if(arguments.length<3&&(r=e,e=J().changedTouches),e)for(var n,i=0,o=e.length;i<o;++i)if((n=e[i]).identifier===r)return Nt(t,n)},l.behavior.drag=function(){var t=Q(o,"drag","dragstart","dragend"),e=null,r=c(G,l.mouse,v,"mousemove","mouseup"),n=c(zt,l.touch,U,"touchmove","touchend");function o(){this.on("mousedown.drag",r).on("touchstart.drag",n)}function c(r,n,o,c,f){return function(){var h,d=this,v=l.event.target.correspondingElement||l.event.target,m=d.parentNode,y=t.of(d,arguments),x=0,_=r(),w=".drag"+(null==_?"":"-"+_),M=l.select(o(v)).on(c+w,k).on(f+w,E),A=Pt(v),T=n(m,_);function k(){var t,e,r=n(m,_);r&&(t=r[0]-T[0],e=r[1]-T[1],x|=t|e,T=r,y({type:"drag",x:r[0]+h[0],y:r[1]+h[1],dx:t,dy:e}))}function E(){n(m,_)&&(M.on(c+w,null).on(f+w,null),A(x),y({type:"dragend"}))}h=e?[(h=e.apply(d,arguments)).x-T[0],h.y-T[1]]:[0,0],y({type:"dragstart"})}}return o.origin=function(t){return arguments.length?(e=t,o):e},l.rebind(o,t,"on")},l.touches=function(t,e){return arguments.length<2&&(e=J().touches),e?f(e).map((function(e){var r=Nt(t,e);return r.identifier=e.identifier,r})):[]};var Ft=1e-6,jt=1e-12,Bt=Math.PI,Ut=2*Bt,Ht=Ut-Ft,Vt=Bt/2,Yt=Bt/180,Gt=180/Bt;function qt(t){return t>0?1:t<0?-1:0}function Wt(a,b,t){return(b[0]-a[0])*(t[1]-a[1])-(b[1]-a[1])*(t[0]-a[0])}function Xt(t){return t>1?0:t<-1?Bt:Math.acos(t)}function Zt(t){return t>1?Vt:t<-1?-Vt:Math.asin(t)}function Jt(t){return((t=Math.exp(t))+1/t)/2}function Qt(t){return(t=Math.sin(t/2))*t}var Kt=Math.SQRT2;l.interpolateZoom=function(t,e){var i,r,n=t[0],o=t[1],l=t[2],c=e[0],f=e[1],h=e[2],d=c-n,v=f-o,m=d*d+v*v;if(m<jt)r=Math.log(h/l)/Kt,i=function(t){return[n+t*d,o+t*v,l*Math.exp(Kt*t*r)]};else{var y=Math.sqrt(m),x=(h*h-l*l+4*m)/(2*l*2*y),_=(h*h-l*l-4*m)/(2*h*2*y),w=Math.log(Math.sqrt(x*x+1)-x),M=Math.log(Math.sqrt(_*_+1)-_);r=(M-w)/Kt,i=function(t){var e,s=t*r,c=Jt(w),u=l/(2*y)*(c*(e=Kt*s+w,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(w));return[n+u*d,o+u*v,l*c/Jt(Kt*s+w)]}}return i.duration=1e3*r,i},l.behavior.zoom=function(){var t,e,r,n,o,c,f,d,m,view={x:0,y:0,k:1},y=[960,500],x=ee,_=250,w=0,M="mousedown.zoom",A="mousemove.zoom",T="mouseup.zoom",k="touchstart.zoom",E=Q(S,"zoomstart","zoom","zoomend");function S(g){g.on(M,z).on(te+".zoom",j).on("dblclick.zoom",B).on(k,F)}function L(p){return[(p[0]-view.x)/view.k,(p[1]-view.y)/view.k]}function C(s){view.k=Math.max(x[0],Math.min(x[1],s))}function O(p,t){t=function(t){return[t[0]*view.k+view.x,t[1]*view.k+view.y]}(t),view.x+=p[0]-t[0],view.y+=p[1]-t[1]}function R(t,p,r,n){t.__chart__={x:view.x,y:view.y,k:view.k},C(Math.pow(2,n)),O(e=p,r),t=l.select(t),_>0&&(t=t.transition().duration(_)),t.call(S.event)}function D(){f&&f.domain(c.range().map((function(t){return(t-view.x)/view.k})).map(c.invert)),m&&m.domain(d.range().map((function(t){return(t-view.y)/view.k})).map(d.invert))}function P(t){w++||t({type:"zoomstart"})}function I(t){D(),t({type:"zoom",scale:view.k,translate:[view.x,view.y]})}function N(t){--w||(t({type:"zoomend"}),e=null)}function z(){var t=this,e=E.of(t,arguments),r=0,n=l.select(v(t)).on(A,f).on(T,h),o=L(l.mouse(t)),c=Pt(t);function f(){r=1,O(l.mouse(t),o),I(e)}function h(){n.on(A,null).on(T,null),c(r),N(e)}Is.call(t),P(e)}function F(){var t,e=this,r=E.of(e,arguments),n={},c=0,f=".zoom-"+l.event.changedTouches[0].identifier,h="touchmove"+f,d="touchend"+f,v=[],m=l.select(e),y=Pt(e);function x(){var r=l.touches(e);return t=view.k,r.forEach((function(t){t.identifier in n&&(n[t.identifier]=L(t))})),r}function _(){var t=l.event.target;l.select(t).on(h,w).on(d,A),v.push(t);for(var r=l.event.changedTouches,i=0,f=r.length;i<f;++i)n[r[i].identifier]=null;var m=x(),y=Date.now();if(1===m.length){if(y-o<500){var p=m[0];R(e,p,n[p.identifier],Math.floor(Math.log(view.k)/Math.LN2)+1),Z()}o=y}else if(m.length>1){p=m[0];var q=m[1],_=p[0]-q[0],M=p[1]-q[1];c=_*_+M*M}}function w(){var f,h,d,v,m=l.touches(e);Is.call(e);for(var i=0,y=m.length;i<y;++i,v=null)if(d=m[i],v=n[d.identifier]){if(h)break;f=d,h=v}if(v){var x=(x=d[0]-f[0])*x+(x=d[1]-f[1])*x,_=c&&Math.sqrt(x/c);f=[(f[0]+d[0])/2,(f[1]+d[1])/2],h=[(h[0]+v[0])/2,(h[1]+v[1])/2],C(_*t)}o=null,O(f,h),I(r)}function A(){if(l.event.touches.length){for(var t=l.event.changedTouches,i=0,e=t.length;i<e;++i)delete n[t[i].identifier];for(var o in n)return void x()}l.selectAll(v).on(f,null),m.on(M,z).on(k,F),y(),N(r)}_(),P(r),m.on(M,null).on(k,_)}function j(){var o=E.of(this,arguments);n?clearTimeout(n):(Is.call(this),t=L(e=r||l.mouse(this)),P(o)),n=setTimeout((function(){n=null,N(o)}),50),Z(),C(Math.pow(2,.002*$t())*view.k),O(e,t),I(o)}function B(){var p=l.mouse(this),t=Math.log(view.k)/Math.LN2;R(this,p,L(p),l.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}return te||(te="onwheel"in h?($t=function(){return-l.event.deltaY*(l.event.deltaMode?120:1)},"wheel"):"onmousewheel"in h?($t=function(){return l.event.wheelDelta},"mousewheel"):($t=function(){return-l.event.detail},"MozMousePixelScroll")),S.event=function(g){g.each((function(){var t=E.of(this,arguments),r=view;Fs?l.select(this).transition().each("start.zoom",(function(){view=this.__chart__||{x:0,y:0,k:1},P(t)})).tween("zoom:zoom",(function(){var n=y[0],o=y[1],c=e?e[0]:n/2,f=e?e[1]:o/2,i=l.interpolateZoom([(c-view.x)/view.k,(f-view.y)/view.k,n/view.k],[(c-r.x)/r.k,(f-r.y)/r.k,n/r.k]);return function(e){var r=i(e),o=n/r[2];this.__chart__=view={x:c-r[0]*o,y:f-r[1]*o,k:o},I(t)}})).each("interrupt.zoom",(function(){N(t)})).each("end.zoom",(function(){N(t)})):(this.__chart__=view,P(t),I(t),N(t))}))},S.translate=function(t){return arguments.length?(view={x:+t[0],y:+t[1],k:view.k},D(),S):[view.x,view.y]},S.scale=function(t){return arguments.length?(view={x:view.x,y:view.y,k:null},C(+t),D(),S):view.k},S.scaleExtent=function(t){return arguments.length?(x=null==t?ee:[+t[0],+t[1]],S):x},S.center=function(t){return arguments.length?(r=t&&[+t[0],+t[1]],S):r},S.size=function(t){return arguments.length?(y=t&&[+t[0],+t[1]],S):y},S.duration=function(t){return arguments.length?(_=+t,S):_},S.x=function(t){return arguments.length?(f=t,c=t.copy(),view={x:0,y:0,k:1},S):f},S.y=function(t){return arguments.length?(m=t,d=t.copy(),view={x:0,y:0,k:1},S):m},l.rebind(S,E,"on")};var $t,te,ee=[0,1/0];function re(){}function ne(t,s,e){return this instanceof ne?(this.h=+t,this.s=+s,void(this.l=+e)):arguments.length<2?t instanceof ne?new ne(t.h,t.s,t.l):we(""+t,Me,ne):new ne(t,s,e)}l.color=re,re.prototype.toString=function(){return this.rgb()+""},l.hsl=ne;var ie=ne.prototype=new re;function ae(t,s,e){var r,n;function o(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(n-r)*t/60:t<180?n:t<240?r+(n-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,s=isNaN(s)||s<0?0:s>1?1:s,r=2*(e=e<0?0:e>1?1:e)-(n=e<=.5?e*(1+s):e+s-e*s),new me(o(t+120),o(t),o(t-120))}function oe(t,e,r){return this instanceof oe?(this.h=+t,this.c=+e,void(this.l=+r)):arguments.length<2?t instanceof oe?new oe(t.h,t.c,t.l):de(t instanceof ue?t.l:(t=Ae((t=l.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new oe(t,e,r)}ie.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new ne(this.h,this.s,this.l/t)},ie.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ne(this.h,this.s,t*this.l)},ie.rgb=function(){return ae(this.h,this.s,this.l)},l.hcl=oe;var se=oe.prototype=new re;function le(t,e,r){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ue(r,Math.cos(t*=Yt)*e,Math.sin(t)*e)}function ue(t,a,b){return this instanceof ue?(this.l=+t,this.a=+a,void(this.b=+b)):arguments.length<2?t instanceof ue?new ue(t.l,t.a,t.b):t instanceof oe?le(t.h,t.c,t.l):Ae((t=me(t)).r,t.g,t.b):new ue(t,a,b)}se.brighter=function(t){return new oe(this.h,this.c,Math.min(100,this.l+ce*(arguments.length?t:1)))},se.darker=function(t){return new oe(this.h,this.c,Math.max(0,this.l-ce*(arguments.length?t:1)))},se.rgb=function(){return le(this.h,this.c,this.l).rgb()},l.lab=ue;var ce=18,fe=ue.prototype=new re;function he(t,a,b){var e=(t+16)/116,r=e+a/500,n=e-b/200;return new me(ve(3.2404542*(r=.95047*pe(r))-1.5371385*(e=1*pe(e))-.4985314*(n=1.08883*pe(n))),ve(-.969266*r+1.8760108*e+.041556*n),ve(.0556434*r-.2040259*e+1.0572252*n))}function de(t,a,b){return t>0?new oe(Math.atan2(b,a)*Gt,Math.sqrt(a*a+b*b),t):new oe(NaN,NaN,t)}function pe(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ge(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ve(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function me(t,g,b){return this instanceof me?(this.r=~~t,this.g=~~g,void(this.b=~~b)):arguments.length<2?t instanceof me?new me(t.r,t.g,t.b):we(""+t,me,ae):new me(t,g,b)}function ye(t){return new me(t>>16,t>>8&255,255&t)}function xe(t){return ye(t)+""}fe.brighter=function(t){return new ue(Math.min(100,this.l+ce*(arguments.length?t:1)),this.a,this.b)},fe.darker=function(t){return new ue(Math.max(0,this.l-ce*(arguments.length?t:1)),this.a,this.b)},fe.rgb=function(){return he(this.l,this.a,this.b)},l.rgb=me;var be=me.prototype=new re;function _e(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function we(t,e,r){var n,o,l,c=0,g=0,b=0;if(n=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(o=n[2].split(","),n[1]){case"hsl":return r(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return e(ke(o[0]),ke(o[1]),ke(o[2]))}return(l=Ee.get(t))?e(l.r,l.g,l.b):(null==t||"#"!==t.charAt(0)||isNaN(l=parseInt(t.slice(1),16))||(4===t.length?(c=(3840&l)>>4,c|=c>>4,g=240&l,g|=g>>4,b=15&l,b|=b<<4):7===t.length&&(c=(16711680&l)>>16,g=(65280&l)>>8,b=255&l)),e(c,g,b))}function Me(t,g,b){var e,s,r=Math.min(t/=255,g/=255,b/=255),n=Math.max(t,g,b),o=n-r,l=(n+r)/2;return o?(s=l<.5?o/(n+r):o/(2-n-r),e=t==n?(g-b)/o+(g<b?6:0):g==n?(b-t)/o+2:(t-g)/o+4,e*=60):(e=NaN,s=l>0&&l<1?0:e),new ne(e,s,l)}function Ae(t,g,b){var e=ge((.4124564*(t=Te(t))+.3575761*(g=Te(g))+.1804375*(b=Te(b)))/.95047),r=ge((.2126729*t+.7151522*g+.072175*b)/1);return ue(116*r-16,500*(e-r),200*(r-ge((.0193339*t+.119192*g+.9503041*b)/1.08883)))}function Te(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ke(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}be.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,g=this.g,b=this.b,i=30;return e||g||b?(e&&e<i&&(e=i),g&&g<i&&(g=i),b&&b<i&&(b=i),new me(Math.min(255,e/t),Math.min(255,g/t),Math.min(255,b/t))):new me(i,i,i)},be.darker=function(t){return new me((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},be.hsl=function(){return Me(this.r,this.g,this.b)},be.toString=function(){return"#"+_e(this.r)+_e(this.g)+_e(this.b)};var Ee=l.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Se(t){return"function"==typeof t?t:function(){return t}}function Le(t){return function(e,r,n){return 2===arguments.length&&"function"==typeof r&&(n=r,r=null),Ce(e,r,t,n)}}function Ce(t,e,r,n){var o={},c=l.dispatch("beforesend","progress","load","error"),h={},d=new XMLHttpRequest,v=null;function m(){var t,e=d.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(d)||e>=200&&e<300||304===e){try{t=r.call(o,d)}catch(t){return void c.error.call(o,t)}c.load.call(o,t)}else c.error.call(o,d)}return this.XDomainRequest&&!("withCredentials"in d)&&/^(http(s)?:)?\/\//.test(t)&&(d=new XDomainRequest),"onload"in d?d.onload=d.onerror=m:d.onreadystatechange=function(){d.readyState>3&&m()},d.onprogress=function(t){var e=l.event;l.event=t;try{c.progress.call(o,d)}finally{l.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?h[t]:(null==e?delete h[t]:h[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(v=t,o):v},o.response=function(t){return r=t,o},["get","post"].forEach((function(t){o[t]=function(){return o.send.apply(o,[t].concat(f(arguments)))}})),o.send=function(r,data,n){if(2===arguments.length&&"function"==typeof data&&(n=data,data=null),d.open(r,t,!0),null==e||"accept"in h||(h.accept=e+",*/*"),d.setRequestHeader)for(var l in h)d.setRequestHeader(l,h[l]);return null!=e&&d.overrideMimeType&&d.overrideMimeType(e),null!=v&&(d.responseType=v),null!=n&&o.on("error",n).on("load",(function(t){n(null,t)})),c.beforesend.call(o,d),d.send(null==data?null:data),o},o.abort=function(){return d.abort(),o},l.rebind(o,c,"on"),null==n?o:o.get(function(t){return 1===t.length?function(e,r){t(null==e?r:null)}:t}(n))}Ee.forEach((function(t,e){Ee.set(t,ye(e))})),l.functor=Se,l.xhr=Le(U),l.dsv=function(t,e){var r=new RegExp('["'+t+"\n]"),n=t.charCodeAt(0);function o(t,r,n){arguments.length<3&&(n=r,r=null);var o=Ce(t,e,null==r?l:c(r),n);return o.row=function(t){return arguments.length?o.response(null==(r=t)?l:c(t)):r},o}function l(t){return o.parse(t.responseText)}function c(t){return function(e){return o.parse(e.responseText,t)}}function f(e){return e.map(h).join(t)}function h(text){return r.test(text)?'"'+text.replace(/\"/g,'""')+'"':text}return o.parse=function(text,t){var e;return o.parseRows(text,(function(r,i){if(e)return e(r,i-1);var a=new Function("d","return {"+r.map((function(t,i){return JSON.stringify(t)+": d["+i+"]"})).join(",")+"}");e=t?function(e,i){return t(a(e),i)}:a}))},o.parseRows=function(text,t){var e,r,o={},l={},c=[],f=text.length,h=0,d=0;function v(){if(h>=f)return l;if(r)return r=!1,o;var t=h;if(34===text.charCodeAt(t)){for(var i=t;i++<f;)if(34===text.charCodeAt(i)){if(34!==text.charCodeAt(i+1))break;++i}return h=i+2,13===(e=text.charCodeAt(i+1))?(r=!0,10===text.charCodeAt(i+2)&&++h):10===e&&(r=!0),text.slice(t+1,i).replace(/""/g,'"')}for(;h<f;){var e,c=1;if(10===(e=text.charCodeAt(h++)))r=!0;else if(13===e)r=!0,10===text.charCodeAt(h)&&(++h,++c);else if(e!==n)continue;return text.slice(t,h-c)}return text.slice(t)}for(;(e=v())!==l;){for(var a=[];e!==o&&e!==l;)a.push(e),e=v();t&&null==(a=t(a,d++))||c.push(a)}return c},o.format=function(e){if(Array.isArray(e[0]))return o.formatRows(e);var r=new B,n=[];return e.forEach((function(t){for(var e in t)r.has(e)||n.push(r.add(e))})),[n.map(h).join(t)].concat(e.map((function(e){return n.map((function(t){return h(e[t])})).join(t)}))).join("\n")},o.formatRows=function(t){return t.map(f).join("\n")},o},l.csv=l.dsv(",","text/csv"),l.tsv=l.dsv("\t","text/tab-separated-values");var Oe,Re,De,Pe,Ie=this[V(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Ne(t,e,r){var n=arguments.length;n<2&&(e=0),n<3&&(r=Date.now());var time=r+e,o={c:t,t:time,n:null};return Re?Re.n=o:Oe=o,Re=o,De||(Pe=clearTimeout(Pe),De=1,Ie(ze)),o}function ze(){var t=Fe(),e=je()-t;e>24?(isFinite(e)&&(clearTimeout(Pe),Pe=setTimeout(ze,e)),De=0):(De=1,Ie(ze))}function Fe(){for(var t=Date.now(),e=Oe;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function je(){for(var t,e=Oe,time=1/0;e;)e.c?(e.t<time&&(time=e.t),e=(t=e).n):e=t?t.n=e.n:Oe=e.n;return Re=t,time}function Be(t,p){return p-(t?Math.ceil(Math.log(t)/Math.LN10):1)}l.timer=function(){Ne.apply(this,arguments)},l.timer.flush=function(){Fe(),je()},l.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Ue=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map((function(t,i){var e=Math.pow(10,3*L(8-i));return{scale:i>8?function(t){return t/e}:function(t){return t*e},symbol:t}}));function He(t){var e=t.decimal,r=t.thousands,n=t.grouping,o=t.currency,c=n&&r?function(t,e){for(var i=t.length,o=[],l=0,g=n[0],c=0;i>0&&g>0&&(c+g+1>e&&(g=Math.max(1,e-c)),o.push(t.substring(i-=g,i+g)),!((c+=g+1)>e));)g=n[l=(l+1)%n.length];return o.reverse().join(r)}:U;return function(t){var r=Ve.exec(t),n=r[1]||" ",f=r[2]||">",h=r[3]||"-",symbol=r[4]||"",d=r[5],v=+r[6],m=r[7],y=r[8],x=r[9],_=1,w="",M="",A=!1,T=!0;switch(y&&(y=+y.substring(1)),(d||"0"===n&&"="===f)&&(d=n="0",f="="),x){case"n":m=!0,x="g";break;case"%":_=100,M="%",x="f";break;case"p":_=100,M="%",x="r";break;case"b":case"o":case"x":case"X":"#"===symbol&&(w="0"+x.toLowerCase());case"c":T=!1;case"d":A=!0,y=0;break;case"s":_=-1,x="r"}"$"===symbol&&(w=o[0],M=o[1]),"r"!=x||y||(x="g"),null!=y&&("g"==x?y=Math.max(1,Math.min(21,y)):"e"!=x&&"f"!=x||(y=Math.max(0,Math.min(20,y)))),x=Ye.get(x)||Ge;var k=d&&m;return function(t){var r=M;if(A&&t%1)return"";var o=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===h?"":h;if(_<0){var E=l.formatPrefix(t,y);t=E.scale(t),r=E.symbol+M}else t*=_;var S,L,i=(t=x(t,y)).lastIndexOf(".");if(i<0){var C=T?t.lastIndexOf("e"):-1;C<0?(S=t,L=""):(S=t.substring(0,C),L=t.substring(C))}else S=t.substring(0,i),L=e+t.substring(i+1);!d&&m&&(S=c(S,1/0));var O=w.length+S.length+L.length+(k?0:o.length),R=O<v?new Array(O=v-O+1).join(n):"";return k&&(S=c(R+S,R.length?v-L.length:1/0)),o+=w,t=S+L,("<"===f?o+t+R:">"===f?R+o+t:"^"===f?R.substring(0,O>>=1)+o+t+R.substring(O):o+(k?t:R+t))+r}}}l.formatPrefix=function(t,e){var i=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=l.round(t,Be(t,e))),i=1+Math.floor(1e-12+Math.log(t)/Math.LN10),i=Math.max(-24,Math.min(24,3*Math.floor((i-1)/3)))),Ue[8+i/3]};var Ve=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ye=l.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,p){return t.toPrecision(p)},e:function(t,p){return t.toExponential(p)},f:function(t,p){return t.toFixed(p)},r:function(t,p){return(t=l.round(t,Be(t,p))).toFixed(Math.max(0,Math.min(20,Be(t*(1+1e-15),p))))}});function Ge(t){return t+""}var qe=l.time={},We=Date;function Xe(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Xe.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ze.setUTCDate.apply(this._,arguments)},setDay:function(){Ze.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ze.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ze.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ze.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ze.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ze.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ze.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ze.setTime.apply(this._,arguments)}};var Ze=Date.prototype;function Je(t,e,r){function n(e){var r=t(e),n=l(r,1);return e-r<n-e?r:n}function o(r){return e(r=t(new We(r-1)),1),r}function l(t,r){return e(t=new We(+t),r),t}function c(t,n,dt){var time=o(t),l=[];if(dt>1)for(;time<n;)r(time)%dt||l.push(new Date(+time)),e(time,1);else for(;time<n;)l.push(new Date(+time)),e(time,1);return l}t.floor=t,t.round=n,t.ceil=o,t.offset=l,t.range=c;var f=t.utc=Qe(t);return f.floor=f,f.round=Qe(n),f.ceil=Qe(o),f.offset=Qe(l),f.range=function(t,e,dt){try{We=Xe;var r=new Xe;return r._=t,c(r,e,dt)}finally{We=Date}},t}function Qe(t){return function(e,r){try{We=Xe;var n=new Xe;return n._=e,t(n,r)._}finally{We=Date}}}function Ke(t){var e=t.dateTime,r=t.date,n=t.time,o=t.periods,c=t.days,f=t.shortDays,h=t.months,d=t.shortMonths;function v(template){var t=template.length;function e(e){for(var r,p,n,o=[],i=-1,l=0;++i<t;)37===template.charCodeAt(i)&&(o.push(template.slice(l,i)),null!=(p=$e[r=template.charAt(++i)])&&(r=template.charAt(++i)),(n=S[r])&&(r=n(e,null==p?"e"===r?" ":"0":p)),o.push(r),l=i+1);return o.push(template.slice(l,i)),o.join("")}return e.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(m(e,template,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var r=null!=e.Z&&We!==Xe,n=new(r?Xe:We);return"j"in e?n.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),n.setFullYear(e.y,0,1),n.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(n.getDay()+5)%7:e.w+7*e.U-(n.getDay()+6)%7)):n.setFullYear(e.y,e.m,e.d),n.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),r?n._:n},e.toString=function(){return template},e}function m(t,template,e,r){for(var n,p,o,i=0,l=template.length,c=e.length;i<l;){if(r>=c)return-1;if(37===(n=template.charCodeAt(i++))){if(o=template.charAt(i++),!(p=L[o in $e?template.charAt(i++):o])||(r=p(t,e,r))<0)return-1}else if(n!=e.charCodeAt(r++))return-1}return r}v.utc=function(template){var t=v(template);function e(e){try{var r=new(We=Xe);return r._=e,t(r)}finally{We=Date}}return e.parse=function(e){try{We=Xe;var r=t.parse(e);return r&&r._}finally{We=Date}},e.toString=t.toString,e},v.multi=v.utc.multi=Mr;var y=l.map(),x=ir(c),_=ar(c),w=ir(f),M=ar(f),A=ir(h),T=ar(h),k=ir(d),E=ar(d);o.forEach((function(p,i){y.set(p.toLowerCase(),i)}));var S={a:function(t){return f[t.getDay()]},A:function(t){return c[t.getDay()]},b:function(t){return d[t.getMonth()]},B:function(t){return h[t.getMonth()]},c:v(e),d:function(t,p){return nr(t.getDate(),p,2)},e:function(t,p){return nr(t.getDate(),p,2)},H:function(t,p){return nr(t.getHours(),p,2)},I:function(t,p){return nr(t.getHours()%12||12,p,2)},j:function(t,p){return nr(1+qe.dayOfYear(t),p,3)},L:function(t,p){return nr(t.getMilliseconds(),p,3)},m:function(t,p){return nr(t.getMonth()+1,p,2)},M:function(t,p){return nr(t.getMinutes(),p,2)},p:function(t){return o[+(t.getHours()>=12)]},S:function(t,p){return nr(t.getSeconds(),p,2)},U:function(t,p){return nr(qe.sundayOfYear(t),p,2)},w:function(t){return t.getDay()},W:function(t,p){return nr(qe.mondayOfYear(t),p,2)},x:v(r),X:v(n),y:function(t,p){return nr(t.getFullYear()%100,p,2)},Y:function(t,p){return nr(t.getFullYear()%1e4,p,4)},Z:_r,"%":function(){return"%"}},L={a:function(t,e,i){w.lastIndex=0;var r=w.exec(e.slice(i));return r?(t.w=M.get(r[0].toLowerCase()),i+r[0].length):-1},A:function(t,e,i){x.lastIndex=0;var r=x.exec(e.slice(i));return r?(t.w=_.get(r[0].toLowerCase()),i+r[0].length):-1},b:function(t,e,i){k.lastIndex=0;var r=k.exec(e.slice(i));return r?(t.m=E.get(r[0].toLowerCase()),i+r[0].length):-1},B:function(t,e,i){A.lastIndex=0;var r=A.exec(e.slice(i));return r?(t.m=T.get(r[0].toLowerCase()),i+r[0].length):-1},c:function(t,e,i){return m(t,S.c.toString(),e,i)},d:pr,e:pr,H:vr,I:vr,j:gr,L:xr,m:dr,M:mr,p:function(t,e,i){var r=y.get(e.slice(i,i+=2).toLowerCase());return null==r?-1:(t.p=r,i)},S:yr,U:sr,w:or,W:lr,x:function(t,e,i){return m(t,S.x.toString(),e,i)},X:function(t,e,i){return m(t,S.X.toString(),e,i)},y:cr,Y:ur,Z:fr,"%":wr};return v}qe.year=Je((function(t){return(t=qe.day(t)).setMonth(0,1),t}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t){return t.getFullYear()})),qe.years=qe.year.range,qe.years.utc=qe.year.utc.range,qe.day=Je((function(t){var e=new We(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t){return t.getDate()-1})),qe.days=qe.day.range,qe.days.utc=qe.day.utc.range,qe.dayOfYear=function(t){var e=qe.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(t,i){i=7-i;var e=qe[t]=Je((function(t){return(t=qe.day(t)).setDate(t.getDate()-(t.getDay()+i)%7),t}),(function(t,e){t.setDate(t.getDate()+7*Math.floor(e))}),(function(t){var e=qe.year(t).getDay();return Math.floor((qe.dayOfYear(t)+(e+i)%7)/7)-(e!==i)}));qe[t+"s"]=e.range,qe[t+"s"].utc=e.utc.range,qe[t+"OfYear"]=function(t){var e=qe.year(t).getDay();return Math.floor((qe.dayOfYear(t)+(e+i)%7)/7)}})),qe.week=qe.sunday,qe.weeks=qe.sunday.range,qe.weeks.utc=qe.sunday.utc.range,qe.weekOfYear=qe.sundayOfYear;var $e={"-":"",_:" ",0:"0"},er=/^\s*\d+/,rr=/^%/;function nr(t,e,r){var n=t<0?"-":"",o=(n?-t:t)+"",l=o.length;return n+(l<r?new Array(r-l+1).join(e)+o:o)}function ir(t){return new RegExp("^(?:"+t.map(l.requote).join("|")+")","i")}function ar(t){for(var map=new R,i=-1,e=t.length;++i<e;)map.set(t[i].toLowerCase(),i);return map}function or(t,e,i){er.lastIndex=0;var r=er.exec(e.slice(i,i+1));return r?(t.w=+r[0],i+r[0].length):-1}function sr(t,e,i){er.lastIndex=0;var r=er.exec(e.slice(i));return r?(t.U=+r[0],i+r[0].length):-1}function lr(t,e,i){er.lastIndex=0;var r=er.exec(e.slice(i));return r?(t.W=+r[0],i+r[0].length):-1}function ur(t,e,i){er.lastIndex=0;var r=er.exec(e.slice(i,i+4));return r?(t.y=+r[0],i+r[0].length):-1}function cr(t,e,i){er.lastIndex=0;var r,n=er.exec(e.slice(i,i+2));return n?(t.y=(r=+n[0])+(r>68?1900:2e3),i+n[0].length):-1}function fr(t,e,i){return/^[+-]\d{4}$/.test(e=e.slice(i,i+5))?(t.Z=-e,i+5):-1}function dr(t,e,i){er.lastIndex=0;var r=er.exec(e.slice(i,i+2));return r?(t.m=r[0]-1,i+r[0].length):-1}function pr(t,e,i){er.lastIndex=0;var r=er.exec(e.slice(i,i+2));return r?(t.d=+r[0],i+r[0].length):-1}function gr(t,e,i){er.lastIndex=0;var r=er.exec(e.slice(i,i+3));return r?(t.j=+r[0],i+r[0].length):-1}function vr(t,e,i){er.lastIndex=0;var r=er.exec(e.slice(i,i+2));return r?(t.H=+r[0],i+r[0].length):-1}function mr(t,e,i){er.lastIndex=0;var r=er.exec(e.slice(i,i+2));return r?(t.M=+r[0],i+r[0].length):-1}function yr(t,e,i){er.lastIndex=0;var r=er.exec(e.slice(i,i+2));return r?(t.S=+r[0],i+r[0].length):-1}function xr(t,e,i){er.lastIndex=0;var r=er.exec(e.slice(i,i+3));return r?(t.L=+r[0],i+r[0].length):-1}function _r(t){var e=t.getTimezoneOffset(),r=e>0?"-":"+",n=L(e)/60|0,o=L(e)%60;return r+nr(n,"0",2)+nr(o,"0",2)}function wr(t,e,i){rr.lastIndex=0;var r=rr.exec(e.slice(i,i+1));return r?i+r[0].length:-1}function Mr(t){for(var e=t.length,i=-1;++i<e;)t[i][0]=this(t[i][0]);return function(e){for(var i=0,r=t[i];!r[1](e);)r=t[++i];return r[0](e)}}l.locale=function(t){return{numberFormat:He(t),timeFormat:Ke(t)}};var Ar=l.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tr(){}l.format=Ar.numberFormat,l.geo={},Tr.prototype={s:0,t:0,add:function(t){Er(t,this.t,kr),Er(kr.s,this.s,this),this.s?this.t+=kr.t:this.s=kr.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var kr=new Tr;function Er(a,b,t){var e=t.s=a+b,r=e-a,n=e-r;t.t=a-n+(b-r)}function Sr(t,e){t&&Cr.hasOwnProperty(t.type)&&Cr[t.type](t,e)}l.geo.stream=function(object,t){object&&Lr.hasOwnProperty(object.type)?Lr[object.type](object,t):Sr(object,t)};var Lr={Feature:function(t,e){Sr(t.geometry,e)},FeatureCollection:function(object,t){for(var e=object.features,i=-1,r=e.length;++i<r;)Sr(e[i].geometry,t)}},Cr={Sphere:function(object,t){t.sphere()},Point:function(object,t){object=object.coordinates,t.point(object[0],object[1],object[2])},MultiPoint:function(object,t){for(var e=object.coordinates,i=-1,r=e.length;++i<r;)object=e[i],t.point(object[0],object[1],object[2])},LineString:function(object,t){Or(object.coordinates,t,0)},MultiLineString:function(object,t){for(var e=object.coordinates,i=-1,r=e.length;++i<r;)Or(e[i],t,0)},Polygon:function(object,t){Rr(object.coordinates,t)},MultiPolygon:function(object,t){for(var e=object.coordinates,i=-1,r=e.length;++i<r;)Rr(e[i],t)},GeometryCollection:function(object,t){for(var e=object.geometries,i=-1,r=e.length;++i<r;)Sr(e[i],t)}};function Or(t,e,r){var n,i=-1,o=t.length-r;for(e.lineStart();++i<o;)n=t[i],e.point(n[0],n[1],n[2]);e.lineEnd()}function Rr(t,e){var i=-1,r=t.length;for(e.polygonStart();++i<r;)Or(t[i],e,1);e.polygonEnd()}l.geo.area=function(object){return Dr=0,l.geo.stream(object,qr),Dr};var Dr,Pr,Ir,Nr,zr,Fr,jr,Br,Ur,Hr,Vr,Yr,Gr=new Tr,qr={sphere:function(){Dr+=4*Bt},point:G,lineStart:G,lineEnd:G,polygonStart:function(){Gr.reset(),qr.lineStart=Wr},polygonEnd:function(){var area=2*Gr;Dr+=area<0?4*Bt+area:area,qr.lineStart=qr.lineEnd=qr.point=G}};function Wr(){var t,e,r,n,o;function l(t,e){e=e*Yt/2+Bt/4;var l=(t*=Yt)-r,c=l>=0?1:-1,f=c*l,h=Math.cos(e),d=Math.sin(e),v=o*d,u=n*h+v*Math.cos(f),m=v*c*Math.sin(f);Gr.add(Math.atan2(m,u)),r=t,n=h,o=d}qr.point=function(c,f){qr.point=l,r=(t=c)*Yt,n=Math.cos(f=(e=f)*Yt/2+Bt/4),o=Math.sin(f)},qr.lineEnd=function(){l(t,e)}}function Xr(t){var e=t[0],r=t[1],n=Math.cos(r);return[n*Math.cos(e),n*Math.sin(e),Math.sin(r)]}function Zr(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function Jr(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Qr(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function Kr(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function $r(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function tn(t){return[Math.atan2(t[1],t[0]),Zt(t[2])]}function en(a,b){return L(a[0]-b[0])<Ft&&L(a[1]-b[1])<Ft}l.geo.bounds=function(){var t,e,r,n,o,c,f,h,d,v,m,y={point:x,lineStart:w,lineEnd:M,polygonStart:function(){y.point=A,y.lineStart=T,y.lineEnd=k,d=0,qr.polygonStart()},polygonEnd:function(){qr.polygonEnd(),y.point=x,y.lineStart=w,y.lineEnd=M,Gr<0?(t=-(r=180),e=-(n=90)):d>Ft?n=90:d<-Ft&&(e=-90),m[0]=t,m[1]=r}};function x(o,l){v.push(m=[t=o,r=o]),l<e&&(e=l),l>n&&(n=l)}function _(l,c){var p=Xr([l*Yt,c*Yt]);if(h){var f=Jr(h,p),d=Jr([f[1],-f[0],0],f);$r(d),d=tn(d);var v=l-o,s=v>0?1:-1,m=d[0]*Gt*s,y=L(v)>180;if(y^(s*o<m&&m<s*l))(_=d[1]*Gt)>n&&(n=_);else if(y^(s*o<(m=(m+360)%360-180)&&m<s*l)){var _;(_=-d[1]*Gt)<e&&(e=_)}else c<e&&(e=c),c>n&&(n=c);y?l<o?E(t,l)>E(t,r)&&(r=l):E(l,r)>E(t,r)&&(t=l):r>=t?(l<t&&(t=l),l>r&&(r=l)):l>o?E(t,l)>E(t,r)&&(r=l):E(l,r)>E(t,r)&&(t=l)}else x(l,c);h=p,o=l}function w(){y.point=_}function M(){m[0]=t,m[1]=r,y.point=x,h=null}function A(t,e){if(h){var r=t-o;d+=L(r)>180?r+(r>0?360:-360):r}else c=t,f=e;qr.point(t,e),_(t,e)}function T(){qr.lineStart()}function k(){A(c,f),qr.lineEnd(),L(d)>Ft&&(t=-(r=180)),m[0]=t,m[1]=r,h=null}function E(t,e){return(e-=t)<0?e+360:e}function S(a,b){return a[0]-b[0]}function C(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(o){if(n=r=-(t=e=1/0),v=[],l.geo.stream(o,y),h=v.length){v.sort(S);for(var i=1,c=[a=v[0]];i<h;++i)C((b=v[i])[0],a)||C(b[1],a)?(E(a[0],b[1])>E(a[0],a[1])&&(a[1]=b[1]),E(b[0],a[1])>E(a[0],a[1])&&(a[0]=b[0])):c.push(a=b);for(var f,h,b,d=-1/0,a=(i=0,c[h=c.length-1]);i<=h;a=b,++i)b=c[i],(f=E(a[1],b[0]))>d&&(d=f,t=b[0],r=a[1])}return v=m=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[r,n]]}}(),l.geo.centroid=function(object){Pr=Ir=Nr=zr=Fr=jr=Br=Ur=Hr=Vr=Yr=0,l.geo.stream(object,rn);var t=Hr,e=Vr,r=Yr,n=t*t+e*e+r*r;return n<jt&&(t=jr,e=Br,r=Ur,Ir<Ft&&(t=Nr,e=zr,r=Fr),(n=t*t+e*e+r*r)<jt)?[NaN,NaN]:[Math.atan2(e,t)*Gt,Zt(r/Math.sqrt(n))*Gt]};var rn={sphere:G,point:nn,lineStart:on,lineEnd:sn,polygonStart:function(){rn.lineStart=ln},polygonEnd:function(){rn.lineStart=on}};function nn(t,e){t*=Yt;var r=Math.cos(e*=Yt);an(r*Math.cos(t),r*Math.sin(t),Math.sin(e))}function an(t,e,r){++Pr,Nr+=(t-Nr)/Pr,zr+=(e-zr)/Pr,Fr+=(r-Fr)/Pr}function on(){var t,e,r;function n(n,o){n*=Yt;var l=Math.cos(o*=Yt),c=l*Math.cos(n),f=l*Math.sin(n),h=Math.sin(o),d=Math.atan2(Math.sqrt((d=e*h-r*f)*d+(d=r*c-t*h)*d+(d=t*f-e*c)*d),t*c+e*f+r*h);Ir+=d,jr+=d*(t+(t=c)),Br+=d*(e+(e=f)),Ur+=d*(r+(r=h)),an(t,e,r)}rn.point=function(o,l){o*=Yt;var c=Math.cos(l*=Yt);t=c*Math.cos(o),e=c*Math.sin(o),r=Math.sin(l),rn.point=n,an(t,e,r)}}function sn(){rn.point=nn}function ln(){var t,e,r,n,o;function l(t,e){t*=Yt;var l=Math.cos(e*=Yt),c=l*Math.cos(t),f=l*Math.sin(t),h=Math.sin(e),d=n*h-o*f,v=o*c-r*h,m=r*f-n*c,y=Math.sqrt(d*d+v*v+m*m),u=r*c+n*f+o*h,x=y&&-Xt(u)/y,_=Math.atan2(y,u);Hr+=x*d,Vr+=x*v,Yr+=x*m,Ir+=_,jr+=_*(r+(r=c)),Br+=_*(n+(n=f)),Ur+=_*(o+(o=h)),an(r,n,o)}rn.point=function(c,f){t=c,e=f,rn.point=l,c*=Yt;var h=Math.cos(f*=Yt);r=h*Math.cos(c),n=h*Math.sin(c),o=Math.sin(f),an(r,n,o)},rn.lineEnd=function(){l(t,e),rn.lineEnd=sn,rn.point=nn}}function un(a,b){function t(t,e){return t=a(t,e),b(t[0],t[1])}return a.invert&&b.invert&&(t.invert=function(t,e){return(t=b.invert(t,e))&&a.invert(t[0],t[1])}),t}function cn(){return!0}function fn(t,e,r,n,o){var l=[],c=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,r=t[0],n=t[e];if(en(r,n)){o.lineStart();for(var i=0;i<e;++i)o.point((r=t[i])[0],r[1]);o.lineEnd()}else{var a=new dn(r,t,null,!0),b=new dn(r,null,a,!1);a.o=b,l.push(a),c.push(b),a=new dn(n,t,null,!1),b=new dn(n,null,a,!0),a.o=b,l.push(a),c.push(b)}}})),c.sort(e),hn(l),hn(c),l.length){for(var i=0,f=r,h=c.length;i<h;++i)c[i].e=f=!f;for(var d,v,m=l[0];;){for(var y=m,x=!0;y.v;)if((y=y.n)===m)return;d=y.z,o.lineStart();do{if(y.v=y.o.v=!0,y.e){if(x)for(i=0,h=d.length;i<h;++i)o.point((v=d[i])[0],v[1]);else n(y.x,y.n.x,1,o);y=y.n}else{if(x)for(i=(d=y.p.z).length-1;i>=0;--i)o.point((v=d[i])[0],v[1]);else n(y.x,y.p.x,-1,o);y=y.p}d=(y=y.o).z,x=!x}while(!y.v);o.lineEnd()}}}function hn(t){if(e=t.length){for(var e,b,i=0,a=t[0];++i<e;)a.n=b=t[i],b.p=a,a=b;a.n=b=t[0],b.p=a}}function dn(t,e,r,n){this.x=t,this.z=e,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function pn(t,e,r,n){return function(o,c){var f,line=e(c),h=o.invert(n[0],n[1]),d={point:v,lineStart:y,lineEnd:x,polygonStart:function(){d.point=T,d.lineStart=k,d.lineEnd=E,f=[],polygon=[]},polygonEnd:function(){d.point=v,d.lineStart=y,d.lineEnd=x,f=l.merge(f);var t=function(t,polygon){var e=t[0],r=t[1],n=[Math.sin(e),-Math.cos(e),0],o=0,l=0;Gr.reset();for(var i=0,c=polygon.length;i<c;++i){var f=polygon[i],h=f.length;if(h)for(var d=f[0],v=d[0],m=d[1]/2+Bt/4,y=Math.sin(m),x=Math.cos(m),_=1;;){_===h&&(_=0);var w=(t=f[_])[0],M=t[1]/2+Bt/4,A=Math.sin(M),T=Math.cos(M),k=w-v,E=k>=0?1:-1,S=E*k,L=S>Bt,C=y*A;if(Gr.add(Math.atan2(C*E*Math.sin(S),x*T+C*Math.cos(S))),o+=L?k+E*Ut:k,L^v>=e^w>=e){var O=Jr(Xr(d),Xr(t));$r(O);var R=Jr(n,O);$r(R);var D=(L^k>=0?-1:1)*Zt(R[2]);(r>D||r===D&&(O[0]||O[1]))&&(l+=L^k>=0?1:-1)}if(!_++)break;v=w,y=A,x=T,d=t}}return(o<-Ft||o<Ft&&Gr<-Ft)^1&l}(h,polygon);f.length?(A||(c.polygonStart(),A=!0),fn(f,mn,t,r,c)):t&&(A||(c.polygonStart(),A=!0),c.lineStart(),r(null,null,1,c),c.lineEnd()),A&&(c.polygonEnd(),A=!1),f=polygon=null},sphere:function(){c.polygonStart(),c.lineStart(),r(null,null,1,c),c.lineEnd(),c.polygonEnd()}};function v(e,r){var n=o(e,r);t(e=n[0],r=n[1])&&c.point(e,r)}function m(t,e){var r=o(t,e);line.point(r[0],r[1])}function y(){d.point=m,line.lineStart()}function x(){d.point=v,line.lineEnd()}var polygon,_,w=vn(),M=e(w),A=!1;function T(t,e){_.push([t,e]);var r=o(t,e);M.point(r[0],r[1])}function k(){M.lineStart(),_=[]}function E(){T(_[0][0],_[0][1]),M.lineEnd();var t,e=M.clean(),r=w.buffer(),n=r.length;if(_.pop(),polygon.push(_),_=null,n)if(1&e){var o,i=-1;if((n=(t=r[0]).length-1)>0){for(A||(c.polygonStart(),A=!0),c.lineStart();++i<n;)c.point((o=t[i])[0],o[1]);c.lineEnd()}}else n>1&&2&e&&r.push(r.pop().concat(r.shift())),f.push(r.filter(gn))}return d}}function gn(t){return t.length>1}function vn(){var line,t=[];return{lineStart:function(){t.push(line=[])},point:function(t,e){line.push([t,e])},lineEnd:G,buffer:function(){var e=t;return t=[],line=null,e},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function mn(a,b){return((a=a.x)[0]<0?a[1]-Vt-Ft:Vt-a[1])-((b=b.x)[0]<0?b[1]-Vt-Ft:Vt-b[1])}var yn=pn(cn,(function(t){var e,r=NaN,n=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(l,c){var f=l>0?Bt:-Bt,h=L(l-r);L(h-Bt)<Ft?(t.point(r,n=(n+c)/2>0?Vt:-Vt),t.point(o,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(l,n),e=0):o!==f&&h>=Bt&&(L(r-o)<Ft&&(r-=o*Ft),L(l-f)<Ft&&(l-=f*Ft),n=function(t,e,r,n){var o,l,c=Math.sin(t-r);return L(c)>Ft?Math.atan((Math.sin(e)*(l=Math.cos(n))*Math.sin(r)-Math.sin(n)*(o=Math.cos(e))*Math.sin(t))/(o*l*c)):(e+n)/2}(r,n,l,c),t.point(o,n),t.lineEnd(),t.lineStart(),t.point(f,n),e=0),t.point(r=l,n=c),o=f},lineEnd:function(){t.lineEnd(),r=n=NaN},clean:function(){return 2-e}}}),(function(t,e,r,n){var o;if(null==t)o=r*Vt,n.point(-Bt,o),n.point(0,o),n.point(Bt,o),n.point(Bt,0),n.point(Bt,-o),n.point(0,-o),n.point(-Bt,-o),n.point(-Bt,0),n.point(-Bt,o);else if(L(t[0]-e[0])>Ft){var s=t[0]<e[0]?Bt:-Bt;o=r*s/2,n.point(-s,o),n.point(0,o),n.point(s,o)}else n.point(e[0],e[1])}),[-Bt,-Bt/2]);function xn(t){var e=Math.cos(t),r=e>0,n=L(e)>Ft;return pn(o,(function(t){var e,c,f,h,d;return{lineStart:function(){h=f=!1,d=1},point:function(v,m){var y,x=[v,m],_=o(v,m),w=r?_?0:code(v,m):_?code(v+(v<0?Bt:-Bt),m):0;if(!e&&(h=f=_)&&t.lineStart(),_!==f&&(y=l(e,x),(en(e,y)||en(x,y))&&(x[0]+=Ft,x[1]+=Ft,_=o(x[0],x[1]))),_!==f)d=0,_?(t.lineStart(),y=l(x,e),t.point(y[0],y[1])):(y=l(e,x),t.point(y[0],y[1]),t.lineEnd()),e=y;else if(n&&e&&r^_){var M;w&c||!(M=l(x,e,!0))||(d=0,r?(t.lineStart(),t.point(M[0][0],M[0][1]),t.point(M[1][0],M[1][1]),t.lineEnd()):(t.point(M[1][0],M[1][1]),t.lineEnd(),t.lineStart(),t.point(M[0][0],M[0][1])))}!_||e&&en(e,x)||t.point(x[0],x[1]),e=x,f=_,c=w},lineEnd:function(){f&&t.lineEnd(),e=null},clean:function(){return d|(h&&f)<<1}}}),ei(t,6*Yt),r?[0,-t]:[-Bt,t-Bt]);function o(t,r){return Math.cos(t)*Math.cos(r)>e}function l(a,b,t){var r=[1,0,0],n=Jr(Xr(a),Xr(b)),o=Zr(n,n),l=n[0],c=o-l*l;if(!c)return!t&&a;var f=e*o/c,h=-e*l/c,d=Jr(r,n),v=Kr(r,f);Qr(v,Kr(n,h));var u=d,m=Zr(v,u),y=Zr(u,u),x=m*m-y*(Zr(v,v)-1);if(!(x<0)){var _=Math.sqrt(x),q=Kr(u,(-m-_)/y);if(Qr(q,v),q=tn(q),!t)return q;var w,M=a[0],A=b[0],T=a[1],k=b[1];A<M&&(w=M,M=A,A=w);var E=A-M,S=L(E-Bt)<Ft;if(!S&&k<T&&(w=T,T=k,k=w),S||E<Ft?S?T+k>0^q[1]<(L(q[0]-M)<Ft?T:k):T<=q[1]&&q[1]<=k:E>Bt^(M<=q[0]&&q[0]<=A)){var C=Kr(u,(-m+_)/y);return Qr(C,v),[q,tn(C)]}}}function code(e,n){var o=r?t:Bt-t,code=0;return e<-o?code|=1:e>o&&(code|=2),n<-o?code|=4:n>o&&(code|=8),code}}function bn(t,e,r,n){return function(line){var o,a=line.a,b=line.b,l=a.x,c=a.y,f=0,h=1,d=b.x-l,v=b.y-c;if(o=t-l,d||!(o>0)){if(o/=d,d<0){if(o<f)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>f&&(f=o)}if(o=r-l,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>f&&(f=o)}else if(d>0){if(o<f)return;o<h&&(h=o)}if(o=e-c,v||!(o>0)){if(o/=v,v<0){if(o<f)return;o<h&&(h=o)}else if(v>0){if(o>h)return;o>f&&(f=o)}if(o=n-c,v||!(o<0)){if(o/=v,v<0){if(o>h)return;o>f&&(f=o)}else if(v>0){if(o<f)return;o<h&&(h=o)}return f>0&&(line.a={x:l+f*d,y:c+f*v}),h<1&&(line.b={x:l+h*d,y:c+h*v}),line}}}}}}function _n(t,e,r,n){return function(h){var d,polygon,v,m,y,x,_,w,M,A,T,k=h,E=vn(),S=bn(t,e,r,n),L={point:R,lineStart:function(){L.point=D,polygon&&polygon.push(v=[]);A=!0,M=!1,_=w=NaN},lineEnd:function(){d&&(D(m,y),x&&M&&E.rejoin(),d.push(E.buffer()));L.point=R,M&&h.lineEnd()},polygonStart:function(){h=E,d=[],polygon=[],T=!0},polygonEnd:function(){h=k,d=l.merge(d);var e=function(p){for(var t=0,e=polygon.length,r=p[1],i=0;i<e;++i)for(var b,n=1,o=polygon[i],l=o.length,a=o[0];n<l;++n)b=o[n],a[1]<=r?b[1]>r&&Wt(a,b,p)>0&&++t:b[1]<=r&&Wt(a,b,p)<0&&--t,a=b;return 0!==t}([t,n]),r=T&&e,o=d.length;(r||o)&&(h.polygonStart(),r&&(h.lineStart(),C(null,null,1,h),h.lineEnd()),o&&fn(d,c,e,C,h),h.polygonEnd()),d=polygon=v=null}};function C(l,c,h,d){var a=0,v=0;if(null==l||(a=o(l,h))!==(v=o(c,h))||f(l,c)<0^h>0)do{d.point(0===a||3===a?t:r,a>1?n:e)}while((a=(a+h+4)%4)!==v);else d.point(c[0],c[1])}function O(o,l){return t<=o&&o<=r&&e<=l&&l<=n}function R(t,e){O(t,e)&&h.point(t,e)}function D(t,e){var r=O(t=Math.max(-1e9,Math.min(1e9,t)),e=Math.max(-1e9,Math.min(1e9,e)));if(polygon&&v.push([t,e]),A)m=t,y=e,x=r,A=!1,r&&(h.lineStart(),h.point(t,e));else if(r&&M)h.point(t,e);else{var n={a:{x:_,y:w},b:{x:t,y:e}};S(n)?(M||(h.lineStart(),h.point(n.a.x,n.a.y)),h.point(n.b.x,n.b.y),r||h.lineEnd(),T=!1):r&&(h.lineStart(),h.point(t,e),T=!1)}_=t,w=e,M=r}return L};function o(p,n){return L(p[0]-t)<Ft?n>0?0:3:L(p[0]-r)<Ft?n>0?2:1:L(p[1]-e)<Ft?n>0?1:0:n>0?3:2}function c(a,b){return f(a.x,b.x)}function f(a,b){var t=o(a,1),e=o(b,1);return t!==e?t-e:0===t?b[1]-a[1]:1===t?a[0]-b[0]:2===t?a[1]-b[1]:b[0]-a[0]}}function wn(t){var e=0,r=Bt/3,n=Wn(t),p=n(e,r);return p.parallels=function(t){return arguments.length?n(e=t[0]*Bt/180,r=t[1]*Bt/180):[e/Bt*180,r/Bt*180]},p}function Mn(t,e){var r=Math.sin(t),n=(r+Math.sin(e))/2,o=1+r*(2*n-r),l=Math.sqrt(o)/n;function c(t,e){var r=Math.sqrt(o-2*n*Math.sin(e))/n;return[r*Math.sin(t*=n),l-r*Math.cos(t)]}return c.invert=function(t,e){var r=l-e;return[Math.atan2(t,r)/n,Zt((o-(t*t+r*r)*n*n)/(2*n))]},c}l.geo.clipExtent=function(){var t,e,r,n,o,l,c={stream:function(output){return o&&(o.valid=!1),(o=l(output)).valid=!0,o},extent:function(f){return arguments.length?(l=_n(t=+f[0][0],e=+f[0][1],r=+f[1][0],n=+f[1][1]),o&&(o.valid=!1,o=null),c):[[t,e],[r,n]]}};return c.extent([[0,0],[960,500]])},(l.geo.conicEqualArea=function(){return wn(Mn)}).raw=Mn,l.geo.albers=function(){return l.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},l.geo.albersUsa=function(){var t,e,r,n,o=l.geo.albers(),c=l.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=l.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(e,r){t=[e,r]}};function d(o){var l=o[0],c=o[1];return t=null,e(l,c),t||(r(l,c),t)||n(l,c),t}return d.invert=function(t){var e=o.scale(),r=o.translate(),n=(t[0]-r[0])/e,l=(t[1]-r[1])/e;return(l>=.12&&l<.234&&n>=-.425&&n<-.214?c:l>=.166&&l<.234&&n>=-.214&&n<-.115?f:o).invert(t)},d.stream=function(t){var e=o.stream(t),r=c.stream(t),n=f.stream(t);return{point:function(t,o){e.point(t,o),r.point(t,o),n.point(t,o)},sphere:function(){e.sphere(),r.sphere(),n.sphere()},lineStart:function(){e.lineStart(),r.lineStart(),n.lineStart()},lineEnd:function(){e.lineEnd(),r.lineEnd(),n.lineEnd()},polygonStart:function(){e.polygonStart(),r.polygonStart(),n.polygonStart()},polygonEnd:function(){e.polygonEnd(),r.polygonEnd(),n.polygonEnd()}}},d.precision=function(t){return arguments.length?(o.precision(t),c.precision(t),f.precision(t),d):o.precision()},d.scale=function(t){return arguments.length?(o.scale(t),c.scale(.35*t),f.scale(t),d.translate(o.translate())):o.scale()},d.translate=function(t){if(!arguments.length)return o.translate();var l=o.scale(),v=+t[0],m=+t[1];return e=o.translate(t).clipExtent([[v-.455*l,m-.238*l],[v+.455*l,m+.238*l]]).stream(h).point,r=c.translate([v-.307*l,m+.201*l]).clipExtent([[v-.425*l+Ft,m+.12*l+Ft],[v-.214*l-Ft,m+.234*l-Ft]]).stream(h).point,n=f.translate([v-.205*l,m+.212*l]).clipExtent([[v-.214*l+Ft,m+.166*l+Ft],[v-.115*l-Ft,m+.234*l-Ft]]).stream(h).point,d},d.scale(1070)};var An,Tn,kn,En,Sn,Ln,Cn={point:G,lineStart:G,lineEnd:G,polygonStart:function(){Tn=0,Cn.lineStart=On},polygonEnd:function(){Cn.lineStart=Cn.lineEnd=Cn.point=G,An+=L(Tn/2)}};function On(){var t,e,r,n;function o(t,e){Tn+=n*t-r*e,r=t,n=e}Cn.point=function(l,c){Cn.point=o,t=r=l,e=n=c},Cn.lineEnd=function(){o(t,e)}}var Rn={point:function(t,e){t<kn&&(kn=t);t>Sn&&(Sn=t);e<En&&(En=e);e>Ln&&(Ln=e)},lineStart:G,lineEnd:G,polygonStart:G,polygonEnd:G};function Dn(){var t=Pn(4.5),e=[],r={point:n,lineStart:function(){r.point=o},lineEnd:c,polygonStart:function(){r.lineEnd=f},polygonEnd:function(){r.lineEnd=c,r.point=n},pointRadius:function(e){return t=Pn(e),r},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function n(r,n){e.push("M",r,",",n,t)}function o(t,n){e.push("M",t,",",n),r.point=l}function l(t,r){e.push("L",t,",",r)}function c(){r.point=n}function f(){e.push("Z")}return r}function Pn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var In,Nn={point:zn,lineStart:Fn,lineEnd:jn,polygonStart:function(){Nn.lineStart=Bn},polygonEnd:function(){Nn.point=zn,Nn.lineStart=Fn,Nn.lineEnd=jn}};function zn(t,e){Nr+=t,zr+=e,++Fr}function Fn(){var t,e;function r(r,n){var o=r-t,l=n-e,c=Math.sqrt(o*o+l*l);jr+=c*(t+r)/2,Br+=c*(e+n)/2,Ur+=c,zn(t=r,e=n)}Nn.point=function(n,o){Nn.point=r,zn(t=n,e=o)}}function jn(){Nn.point=zn}function Bn(){var t,e,r,n;function o(t,e){var o=t-r,l=e-n,c=Math.sqrt(o*o+l*l);jr+=c*(r+t)/2,Br+=c*(n+e)/2,Ur+=c,Hr+=(c=n*t-r*e)*(r+t),Vr+=c*(n+e),Yr+=3*c,zn(r=t,n=e)}Nn.point=function(l,c){Nn.point=o,zn(t=r=l,e=n=c)},Nn.lineEnd=function(){o(t,e)}}function Un(t){var e=4.5,r={point:n,lineStart:function(){r.point=o},lineEnd:c,polygonStart:function(){r.lineEnd=f},polygonEnd:function(){r.lineEnd=c,r.point=n},pointRadius:function(t){return e=t,r},result:G};function n(r,n){t.moveTo(r+e,n),t.arc(r,n,e,0,Ut)}function o(e,n){t.moveTo(e,n),r.point=l}function l(e,r){t.lineTo(e,r)}function c(){r.point=n}function f(){t.closePath()}return r}function Hn(t){var e=.5,r=Math.cos(30*Yt),n=16;function o(t){return(n?c:l)(t)}function l(e){return Gn(e,(function(r,n){r=t(r,n),e.point(r[0],r[1])}))}function c(e){var r,o,l,c,h,d,v,m,y,x,_,w,M={point:A,lineStart:T,lineEnd:E,polygonStart:function(){e.polygonStart(),M.lineStart=S},polygonEnd:function(){e.polygonEnd(),M.lineStart=T}};function A(r,n){r=t(r,n),e.point(r[0],r[1])}function T(){m=NaN,M.point=k,e.lineStart()}function k(r,o){var l=Xr([r,o]),p=t(r,o);f(m,y,v,x,_,w,m=p[0],y=p[1],v=r,x=l[0],_=l[1],w=l[2],n,e),e.point(m,y)}function E(){M.point=A,e.lineEnd()}function S(){T(),M.point=L,M.lineEnd=C}function L(t,e){k(r=t,e),o=m,l=y,c=x,h=_,d=w,M.point=k}function C(){f(m,y,v,x,_,w,o,l,r,c,h,d,n,e),M.lineEnd=E,E()}return M}function f(n,o,l,c,h,d,v,m,y,x,_,w,M,A){var T=v-n,k=m-o,E=T*T+k*k;if(E>4*e&&M--){var a=c+x,b=h+_,S=d+w,C=Math.sqrt(a*a+b*b+S*S),O=Math.asin(S/=C),R=L(L(S)-1)<Ft||L(l-y)<Ft?(l+y)/2:Math.atan2(b,a),p=t(R,O),D=p[0],P=p[1],I=D-n,N=P-o,z=k*I-T*N;(z*z/E>e||L((T*I+k*N)/E-.5)>.3||c*x+h*_+d*w<r)&&(f(n,o,l,c,h,d,D,P,R,a/=C,b/=C,S,M,A),A.point(D,P),f(D,P,R,a,b,S,v,m,y,x,_,w,M,A))}}return o.precision=function(t){return arguments.length?(n=(e=t*t)>0&&16,o):Math.sqrt(e)},o}function Vn(t){var e=Hn((function(e,r){return t([e*Gt,r*Gt])}));return function(t){return Xn(e(t))}}function Yn(t){this.stream=t}function Gn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function qn(t){return Wn((function(){return t}))()}function Wn(t){var e,r,n,o,c,f,h=Hn((function(t,r){return[(t=e(t,r))[0]*d+o,c-t[1]*d]})),d=150,v=480,m=250,y=0,x=0,_=0,w=0,M=0,A=yn,T=U,k=null,E=null;function S(t){return[(t=n(t[0]*Yt,t[1]*Yt))[0]*d+o,c-t[1]*d]}function L(t){return(t=n.invert((t[0]-o)/d,(c-t[1])/d))&&[t[0]*Gt,t[1]*Gt]}function C(){n=un(r=Qn(_,w,M),e);var t=e(y,x);return o=v-t[0]*d,c=m+t[1]*d,O()}function O(){return f&&(f.valid=!1,f=null),S}return S.stream=function(output){return f&&(f.valid=!1),(f=Xn(A(r,h(T(output))))).valid=!0,f},S.clipAngle=function(t){return arguments.length?(A=null==t?(k=t,yn):xn((k=+t)*Yt),O()):k},S.clipExtent=function(t){return arguments.length?(E=t,T=t?_n(t[0][0],t[0][1],t[1][0],t[1][1]):U,O()):E},S.scale=function(t){return arguments.length?(d=+t,C()):d},S.translate=function(t){return arguments.length?(v=+t[0],m=+t[1],C()):[v,m]},S.center=function(t){return arguments.length?(y=t[0]%360*Yt,x=t[1]%360*Yt,C()):[y*Gt,x*Gt]},S.rotate=function(t){return arguments.length?(_=t[0]%360*Yt,w=t[1]%360*Yt,M=t.length>2?t[2]%360*Yt:0,C()):[_*Gt,w*Gt,M*Gt]},l.rebind(S,h,"precision"),function(){return e=t.apply(this,arguments),S.invert=e.invert&&L,C()}}function Xn(t){return Gn(t,(function(e,r){t.point(e*Yt,r*Yt)}))}function Zn(t,e){return[t,e]}function Jn(t,e){return[t>Bt?t-Ut:t<-Bt?t+Ut:t,e]}function Qn(t,e,r){return t?e||r?un($n(t),ti(e,r)):$n(t):e||r?ti(e,r):Jn}function Kn(t){return function(e,r){return[(e+=t)>Bt?e-Ut:e<-Bt?e+Ut:e,r]}}function $n(t){var e=Kn(t);return e.invert=Kn(-t),e}function ti(t,e){var r=Math.cos(t),n=Math.sin(t),o=Math.cos(e),l=Math.sin(e);function c(t,e){var c=Math.cos(e),f=Math.cos(t)*c,h=Math.sin(t)*c,d=Math.sin(e),v=d*r+f*n;return[Math.atan2(h*o-v*l,f*r-d*n),Zt(v*o+h*l)]}return c.invert=function(t,e){var c=Math.cos(e),f=Math.cos(t)*c,h=Math.sin(t)*c,d=Math.sin(e),v=d*o-h*l;return[Math.atan2(h*o+d*l,f*r+v*n),Zt(v*r-f*n)]},c}function ei(t,e){var r=Math.cos(t),n=Math.sin(t);return function(o,l,c,f){var h=c*e;null!=o?(o=ri(r,o),l=ri(r,l),(c>0?o<l:o>l)&&(o+=c*Ut)):(o=t+c*Ut,l=t-.5*h);for(var d,v=o;c>0?v>l:v<l;v-=h)f.point((d=tn([r,-n*Math.cos(v),-n*Math.sin(v)]))[0],d[1])}}function ri(t,e){var a=Xr(e);a[0]-=t,$r(a);var r=Xt(-a[1]);return((-a[2]<0?-r:r)+2*Math.PI-Ft)%(2*Math.PI)}function ni(t,e,r){var n=l.range(t,e-Ft,r).concat(e);return function(t){return n.map((function(e){return[t,e]}))}}function ii(t,e,r){var n=l.range(t,e-Ft,r).concat(e);return function(t){return n.map((function(e){return[e,t]}))}}function ai(t){return t.source}function oi(t){return t.target}l.geo.path=function(){var t,e,r,n,o,c=4.5;function path(object){return object&&("function"==typeof c&&n.pointRadius(+c.apply(this,arguments)),o&&o.valid||(o=r(n)),l.geo.stream(object,o)),n.result()}function f(){return o=null,path}return path.area=function(object){return An=0,l.geo.stream(object,r(Cn)),An},path.centroid=function(object){return Nr=zr=Fr=jr=Br=Ur=Hr=Vr=Yr=0,l.geo.stream(object,r(Nn)),Yr?[Hr/Yr,Vr/Yr]:Ur?[jr/Ur,Br/Ur]:Fr?[Nr/Fr,zr/Fr]:[NaN,NaN]},path.bounds=function(object){return Sn=Ln=-(kn=En=1/0),l.geo.stream(object,r(Rn)),[[kn,En],[Sn,Ln]]},path.projection=function(e){return arguments.length?(r=(t=e)?e.stream||Vn(e):U,f()):t},path.context=function(t){return arguments.length?(n=null==(e=t)?new Dn:new Un(t),"function"!=typeof c&&n.pointRadius(c),f()):e},path.pointRadius=function(t){return arguments.length?(c="function"==typeof t?t:(n.pointRadius(+t),+t),path):c},path.projection(l.geo.albersUsa()).context(null)},l.geo.transform=function(t){return{stream:function(e){var r=new Yn(e);for(var n in t)r[n]=t[n];return r}}},Yn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},l.geo.projection=qn,l.geo.projectionMutator=Wn,(l.geo.equirectangular=function(){return qn(Zn)}).raw=Zn.invert=Zn,l.geo.rotation=function(t){function e(e){return(e=t(e[0]*Yt,e[1]*Yt))[0]*=Gt,e[1]*=Gt,e}return t=Qn(t[0]%360*Yt,t[1]*Yt,t.length>2?t[2]*Yt:0),e.invert=function(e){return(e=t.invert(e[0]*Yt,e[1]*Yt))[0]*=Gt,e[1]*=Gt,e},e},Jn.invert=Zn,l.geo.circle=function(){var t,e,r=[0,0],n=6;function circle(){var t="function"==typeof r?r.apply(this,arguments):r,n=Qn(-t[0]*Yt,-t[1]*Yt,0).invert,o=[];return e(null,null,1,{point:function(t,e){o.push(t=n(t,e)),t[0]*=Gt,t[1]*=Gt}}),{type:"Polygon",coordinates:[o]}}return circle.origin=function(t){return arguments.length?(r=t,circle):r},circle.angle=function(r){return arguments.length?(e=ei((t=+r)*Yt,n*Yt),circle):t},circle.precision=function(r){return arguments.length?(e=ei(t*Yt,(n=+r)*Yt),circle):n},circle.angle(90)},l.geo.distance=function(a,b){var t,e=(b[0]-a[0])*Yt,r=a[1]*Yt,n=b[1]*Yt,o=Math.sin(e),l=Math.cos(e),c=Math.sin(r),f=Math.cos(r),h=Math.sin(n),d=Math.cos(n);return Math.atan2(Math.sqrt((t=d*o)*t+(t=f*h-c*d*l)*t),c*h+f*d*l)},l.geo.graticule=function(){var t,e,r,n,o,c,f,h,d,v,m,y,x=10,_=x,w=90,M=360,A=2.5;function T(){return{type:"MultiLineString",coordinates:k()}}function k(){return l.range(Math.ceil(n/w)*w,r,w).map(m).concat(l.range(Math.ceil(h/M)*M,f,M).map(y)).concat(l.range(Math.ceil(e/x)*x,t,x).filter((function(t){return L(t%w)>Ft})).map(d)).concat(l.range(Math.ceil(c/_)*_,o,_).filter((function(t){return L(t%M)>Ft})).map(v))}return T.lines=function(){return k().map((function(t){return{type:"LineString",coordinates:t}}))},T.outline=function(){return{type:"Polygon",coordinates:[m(n).concat(y(f).slice(1),m(r).reverse().slice(1),y(h).reverse().slice(1))]}},T.extent=function(t){return arguments.length?T.majorExtent(t).minorExtent(t):T.minorExtent()},T.majorExtent=function(t){return arguments.length?(n=+t[0][0],r=+t[1][0],h=+t[0][1],f=+t[1][1],n>r&&(t=n,n=r,r=t),h>f&&(t=h,h=f,f=t),T.precision(A)):[[n,h],[r,f]]},T.minorExtent=function(r){return arguments.length?(e=+r[0][0],t=+r[1][0],c=+r[0][1],o=+r[1][1],e>t&&(r=e,e=t,t=r),c>o&&(r=c,c=o,o=r),T.precision(A)):[[e,c],[t,o]]},T.step=function(t){return arguments.length?T.majorStep(t).minorStep(t):T.minorStep()},T.majorStep=function(t){return arguments.length?(w=+t[0],M=+t[1],T):[w,M]},T.minorStep=function(t){return arguments.length?(x=+t[0],_=+t[1],T):[x,_]},T.precision=function(l){return arguments.length?(A=+l,d=ni(c,o,90),v=ii(e,t,A),m=ni(h,f,90),y=ii(n,r,A),T):A},T.majorExtent([[-180,-90+Ft],[180,90-Ft]]).minorExtent([[-180,-80-Ft],[180,80+Ft]])},l.geo.greatArc=function(){var t,e,source=ai,r=oi;function n(){return{type:"LineString",coordinates:[t||source.apply(this,arguments),e||r.apply(this,arguments)]}}return n.distance=function(){return l.geo.distance(t||source.apply(this,arguments),e||r.apply(this,arguments))},n.source=function(e){return arguments.length?(source=e,t="function"==typeof e?null:e,n):source},n.target=function(t){return arguments.length?(r=t,e="function"==typeof t?null:t,n):r},n.precision=function(){return arguments.length?n:0},n},l.geo.interpolate=function(source,t){return e=source[0]*Yt,r=source[1]*Yt,n=t[0]*Yt,o=t[1]*Yt,l=Math.cos(r),c=Math.sin(r),f=Math.cos(o),h=Math.sin(o),d=l*Math.cos(e),v=l*Math.sin(e),m=f*Math.cos(n),y=f*Math.sin(n),x=2*Math.asin(Math.sqrt(Qt(o-r)+l*f*Qt(n-e))),_=1/Math.sin(x),(w=x?function(t){var e=Math.sin(t*=x)*_,r=Math.sin(x-t)*_,n=r*d+e*m,o=r*v+e*y,l=r*c+e*h;return[Math.atan2(o,n)*Gt,Math.atan2(l,Math.sqrt(n*n+o*o))*Gt]}:function(){return[e*Gt,r*Gt]}).distance=x,w;var e,r,n,o,l,c,f,h,d,v,m,y,x,_,w},l.geo.length=function(object){return In=0,l.geo.stream(object,si),In};var si={sphere:G,point:G,lineStart:function(){var t,e,r;function n(n,o){var l=Math.sin(o*=Yt),c=Math.cos(o),f=L((n*=Yt)-t),h=Math.cos(f);In+=Math.atan2(Math.sqrt((f=c*Math.sin(f))*f+(f=r*l-e*c*h)*f),e*l+r*c*h),t=n,e=l,r=c}si.point=function(o,l){t=o*Yt,e=Math.sin(l*=Yt),r=Math.cos(l),si.point=n},si.lineEnd=function(){si.point=si.lineEnd=G}},lineEnd:G,polygonStart:G,polygonEnd:G};function ui(t,e){function r(e,r){var n=Math.cos(e),o=Math.cos(r),l=t(n*o);return[l*o*Math.sin(e),l*Math.sin(r)]}return r.invert=function(t,r){var n=Math.sqrt(t*t+r*r),o=e(n),l=Math.sin(o),c=Math.cos(o);return[Math.atan2(t*l,n*c),Math.asin(n&&r*l/n)]},r}var ci=ui((function(t){return Math.sqrt(2/(1+t))}),(function(t){return 2*Math.asin(t/2)}));(l.geo.azimuthalEqualArea=function(){return qn(ci)}).raw=ci;var fi=ui((function(t){var e=Math.acos(t);return e&&e/Math.sin(e)}),U);function hi(t,e){var r=Math.cos(t),n=function(t){return Math.tan(Bt/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(n(e)/n(t)),l=r*Math.pow(n(t),o)/o;if(!o)return gi;function c(t,e){l>0?e<-Vt+Ft&&(e=-Vt+Ft):e>Vt-Ft&&(e=Vt-Ft);var r=l/Math.pow(n(e),o);return[r*Math.sin(o*t),l-r*Math.cos(o*t)]}return c.invert=function(t,e){var r=l-e,n=qt(o)*Math.sqrt(t*t+r*r);return[Math.atan2(t,r)/o,2*Math.atan(Math.pow(l/n,1/o))-Vt]},c}function di(t,e){var r=Math.cos(t),n=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/n+t;if(L(n)<Ft)return Zn;function l(t,e){var r=o-e;return[r*Math.sin(n*t),o-r*Math.cos(n*t)]}return l.invert=function(t,e){var r=o-e;return[Math.atan2(t,r)/n,o-qt(n)*Math.sqrt(t*t+r*r)]},l}(l.geo.azimuthalEquidistant=function(){return qn(fi)}).raw=fi,(l.geo.conicConformal=function(){return wn(hi)}).raw=hi,(l.geo.conicEquidistant=function(){return wn(di)}).raw=di;var pi=ui((function(t){return 1/t}),Math.atan);function gi(t,e){return[t,Math.log(Math.tan(Bt/4+e/2))]}function vi(t){var e,r=qn(t),n=r.scale,o=r.translate,l=r.clipExtent;return r.scale=function(){var t=n.apply(r,arguments);return t===r?e?r.clipExtent(null):r:t},r.translate=function(){var t=o.apply(r,arguments);return t===r?e?r.clipExtent(null):r:t},r.clipExtent=function(t){var c=l.apply(r,arguments);if(c===r){if(e=null==t){var f=Bt*n(),h=o();l([[h[0]-f,h[1]-f],[h[0]+f,h[1]+f]])}}else e&&(c=null);return c},r.clipExtent(null)}(l.geo.gnomonic=function(){return qn(pi)}).raw=pi,gi.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Vt]},(l.geo.mercator=function(){return vi(gi)}).raw=gi;var mi=ui((function(){return 1}),Math.asin);(l.geo.orthographic=function(){return qn(mi)}).raw=mi;var yi=ui((function(t){return 1/(1+t)}),(function(t){return 2*Math.atan(t)}));function xi(t,e){return[Math.log(Math.tan(Bt/4+e/2)),-t]}function bi(t){return t[0]}function _i(t){return t[1]}function wi(t){for(var e=t.length,r=[0,1],n=2,i=2;i<e;i++){for(;n>1&&Wt(t[r[n-2]],t[r[n-1]],t[i])<=0;)--n;r[n++]=i}return r.slice(0,n)}function Mi(a,b){return a[0]-b[0]||a[1]-b[1]}(l.geo.stereographic=function(){return qn(yi)}).raw=yi,xi.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Vt]},(l.geo.transverseMercator=function(){var t=vi(xi),e=t.center,r=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?r([t[0],t[1],t.length>2?t[2]+90:90]):[(t=r())[0],t[1],t[2]-90]},r([0,0,90])}).raw=xi,l.geom={},l.geom.hull=function(t){var e=bi,r=_i;if(arguments.length)return n(t);function n(data){if(data.length<3)return[];var i,t=Se(e),n=Se(r),o=data.length,l=[],c=[];for(i=0;i<o;i++)l.push([+t.call(this,data[i],i),+n.call(this,data[i],i),i]);for(l.sort(Mi),i=0;i<o;i++)c.push([l[i][0],-l[i][1]]);var f=wi(l),h=wi(c),d=h[0]===f[0],v=h[h.length-1]===f[f.length-1],polygon=[];for(i=f.length-1;i>=0;--i)polygon.push(data[l[f[i]][2]]);for(i=+d;i<h.length-v;++i)polygon.push(data[l[h[i]][2]]);return polygon}return n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(r=t,n):r},n},l.geom.polygon=function(t){return $(t,Ai),t};var Ai=l.geom.polygon.prototype=[];function Ti(p,a,b){return(b[0]-a[0])*(p[1]-a[1])<(b[1]-a[1])*(p[0]-a[0])}function ki(t,e,a,b){var r=t[0],n=a[0],o=e[0]-r,l=b[0]-n,c=t[1],f=a[1],h=e[1]-c,d=b[1]-f,v=(l*(c-f)-d*(r-n))/(d*o-l*h);return[r+v*o,c+v*h]}function Ei(t){var a=t[0],b=t[t.length-1];return!(a[0]-b[0]||a[1]-b[1])}Ai.area=function(){for(var a,i=-1,t=this.length,b=this[t-1],area=0;++i<t;)a=b,b=this[i],area+=a[1]*b[0]-a[0]*b[1];return.5*area},Ai.centroid=function(t){var a,e,i=-1,r=this.length,n=0,o=0,b=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)a=b,b=this[i],e=a[0]*b[1]-b[0]*a[1],n+=(a[0]+b[0])*e,o+=(a[1]+b[1])*e;return[n*t,o*t]},Ai.clip=function(t){for(var input,e,r,b,n,o,l=Ei(t),i=-1,c=this.length-Ei(this),a=this[c-1];++i<c;){for(input=t.slice(),t.length=0,b=this[i],n=input[(r=input.length-l)-1],e=-1;++e<r;)Ti(o=input[e],a,b)?(Ti(n,a,b)||t.push(ki(n,o,a,b)),t.push(o)):Ti(n,a,b)&&t.push(ki(n,o,a,b)),n=o;l&&t.push(t[0]),a=b}return t};var Si,Li,Ci,Oi,Ri,Di=[],Pi=[];function Ii(){ta(this),this.edge=this.site=this.circle=null}function Ni(t){var e=Di.pop()||new Ii;return e.site=t,e}function zi(t){qi(t),Ci.remove(t),Di.push(t),ta(t)}function Fi(t){var circle=t.circle,e=circle.x,r=circle.cy,n={x:e,y:r},o=t.P,l=t.N,c=[t];zi(t);for(var f=o;f.circle&&L(e-f.circle.x)<Ft&&L(r-f.circle.cy)<Ft;)o=f.P,c.unshift(f),zi(f),f=o;c.unshift(f),qi(f);for(var h=l;h.circle&&L(e-h.circle.x)<Ft&&L(r-h.circle.cy)<Ft;)l=h.N,c.push(h),zi(h),h=l;c.push(h),qi(h);var d,v=c.length;for(d=1;d<v;++d)h=c[d],f=c[d-1],Qi(h.edge,f.site,h.site,n);f=c[0],(h=c[v-1]).edge=Zi(f.site,h.site,null,n),Gi(f),Gi(h)}function ji(t){for(var e,r,n,o,l=t.x,c=t.y,f=Ci._;f;)if((n=Bi(f,c)-l)>Ft)f=f.L;else{if(!((o=l-Ui(f,c))>Ft)){n>-Ft?(e=f.P,r=f):o>-Ft?(e=f,r=f.N):e=r=f;break}if(!f.R){e=f;break}f=f.R}var h=Ni(t);if(Ci.insert(e,h),e||r){if(e===r)return qi(e),r=Ni(e.site),Ci.insert(h,r),h.edge=r.edge=Zi(e.site,h.site),Gi(e),void Gi(r);if(r){qi(e),qi(r);var d=e.site,v=d.x,m=d.y,y=t.x-v,x=t.y-m,_=r.site,w=_.x-v,M=_.y-m,A=2*(y*M-x*w),T=y*y+x*x,k=w*w+M*M,E={x:(M*T-x*k)/A+v,y:(y*k-w*T)/A+m};Qi(r.edge,d,_,E),h.edge=Zi(d,t,null,E),r.edge=Zi(t,_,null,E),Gi(e),Gi(r)}else h.edge=Zi(e.site,h.site)}}function Bi(t,e){var r=t.site,n=r.x,o=r.y,l=o-e;if(!l)return n;var c=t.P;if(!c)return-1/0;var f=(r=c.site).x,h=r.y,d=h-e;if(!d)return f;var v=f-n,m=1/l-1/d,b=v/d;return m?(-b+Math.sqrt(b*b-2*m*(v*v/(-2*d)-h+d/2+o-l/2)))/m+n:(n+f)/2}function Ui(t,e){var r=t.N;if(r)return Bi(r,e);var n=t.site;return n.y===e?n.x:1/0}function Hi(t){this.site=t,this.edges=[]}function Vi(a,b){return b.angle-a.angle}function Yi(){ta(this),this.x=this.y=this.arc=this.site=this.cy=null}function Gi(t){var e=t.P,r=t.N;if(e&&r){var n=e.site,o=t.site,l=r.site;if(n!==l){var c=o.x,f=o.y,h=n.x-c,d=n.y-f,v=l.x-c,m=2*(h*(M=l.y-f)-d*v);if(!(m>=-jt)){var y=h*h+d*d,x=v*v+M*M,_=(M*y-d*x)/m,w=(h*x-v*y)/m,M=w+f,circle=Pi.pop()||new Yi;circle.arc=t,circle.site=o,circle.x=_+c,circle.y=M+Math.sqrt(_*_+w*w),circle.cy=M,t.circle=circle;for(var A=null,T=Ri._;T;)if(circle.y<T.y||circle.y===T.y&&circle.x<=T.x){if(!T.L){A=T.P;break}T=T.L}else{if(!T.R){A=T;break}T=T.R}Ri.insert(A,circle),A||(Oi=circle)}}}}function qi(t){var circle=t.circle;circle&&(circle.P||(Oi=circle.N),Ri.remove(circle),Pi.push(circle),ta(circle),t.circle=null)}function Wi(t,e){var r=t.b;if(r)return!0;var n,o,l=t.a,c=e[0][0],f=e[1][0],h=e[0][1],d=e[1][1],v=t.l,m=t.r,y=v.x,x=v.y,_=m.x,w=m.y,M=(y+_)/2,A=(x+w)/2;if(w===x){if(M<c||M>=f)return;if(y>_){if(l){if(l.y>=d)return}else l={x:M,y:h};r={x:M,y:d}}else{if(l){if(l.y<h)return}else l={x:M,y:d};r={x:M,y:h}}}else if(o=A-(n=(y-_)/(w-x))*M,n<-1||n>1)if(y>_){if(l){if(l.y>=d)return}else l={x:(h-o)/n,y:h};r={x:(d-o)/n,y:d}}else{if(l){if(l.y<h)return}else l={x:(d-o)/n,y:d};r={x:(h-o)/n,y:h}}else if(x<w){if(l){if(l.x>=f)return}else l={x:c,y:n*c+o};r={x:f,y:n*f+o}}else{if(l){if(l.x<c)return}else l={x:f,y:n*f+o};r={x:c,y:n*c+o}}return t.a=l,t.b=r,!0}function Xi(t,e){this.l=t,this.r=e,this.a=this.b=null}function Zi(t,e,r,n){var o=new Xi(t,e);return Si.push(o),r&&Qi(o,t,e,r),n&&Qi(o,e,t,n),Li[t.i].edges.push(new Ki(o,t,e)),Li[e.i].edges.push(new Ki(o,e,t)),o}function Ji(t,e,r){var n=new Xi(t,null);return n.a=e,n.b=r,Si.push(n),n}function Qi(t,e,r,n){t.a||t.b?t.l===r?t.b=n:t.a=n:(t.a=n,t.l=e,t.r=r)}function Ki(t,e,r){var n=t.a,o=t.b;this.edge=t,this.site=e,this.angle=r?Math.atan2(r.y-e.y,r.x-e.x):t.l===e?Math.atan2(o.x-n.x,n.y-o.y):Math.atan2(n.x-o.x,o.y-n.y)}function $i(){this._=null}function ta(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ea(t,e){var p=e,q=e.R,r=p.U;r?r.L===p?r.L=q:r.R=q:t._=q,q.U=r,p.U=q,p.R=q.L,p.R&&(p.R.U=p),q.L=p}function ra(t,e){var p=e,q=e.L,r=p.U;r?r.L===p?r.L=q:r.R=q:t._=q,q.U=r,p.U=q,p.L=q.R,p.L&&(p.L.U=p),q.R=p}function na(t){for(;t.L;)t=t.L;return t}function ia(t,e){var r,n,circle,o=t.sort(aa).pop();for(Si=[],Li=new Array(t.length),Ci=new $i,Ri=new $i;;)if(circle=Oi,o&&(!circle||o.y<circle.y||o.y===circle.y&&o.x<circle.x))o.x===r&&o.y===n||(Li[o.i]=new Hi(o),ji(o),r=o.x,n=o.y),o=t.pop();else{if(!circle)break;Fi(circle.arc)}e&&(function(t){for(var e,r=Si,n=bn(t[0][0],t[0][1],t[1][0],t[1][1]),i=r.length;i--;)(!Wi(e=r[i],t)||!n(e)||L(e.a.x-e.b.x)<Ft&&L(e.a.y-e.b.y)<Ft)&&(e.a=e.b=null,r.splice(i,1))}(e),function(t){for(var e,r,n,o,l,c,f,h,d,v,m=t[0][0],y=t[1][0],x=t[0][1],_=t[1][1],w=Li,M=w.length;M--;)if((l=w[M])&&l.prepare())for(h=(f=l.edges).length,c=0;c<h;)n=(v=f[c].end()).x,o=v.y,e=(d=f[++c%h].start()).x,r=d.y,(L(n-e)>Ft||L(o-r)>Ft)&&(f.splice(c,0,new Ki(Ji(l.site,v,L(n-m)<Ft&&_-o>Ft?{x:m,y:L(e-m)<Ft?r:_}:L(o-_)<Ft&&y-n>Ft?{x:L(r-_)<Ft?e:y,y:_}:L(n-y)<Ft&&o-x>Ft?{x:y,y:L(e-y)<Ft?r:x}:L(o-x)<Ft&&n-m>Ft?{x:L(r-x)<Ft?e:m,y:x}:null),l.site,null)),++h)}(e));var l={cells:Li,edges:Si};return Ci=Ri=Si=Li=null,l}function aa(a,b){return b.y-a.y||b.x-a.x}Hi.prototype.prepare=function(){for(var t,e=this.edges,r=e.length;r--;)(t=e[r].edge).b&&t.a||e.splice(r,1);return e.sort(Vi),e.length},Ki.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},$i.prototype={insert:function(t,e){var r,n,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;r=t}else this._?(t=na(this._),e.P=null,e.N=t,t.P=t.L=e,r=t):(e.P=e.N=null,this._=e,r=null);for(e.L=e.R=null,e.U=r,e.C=!0,t=e;r&&r.C;)r===(n=r.U).L?(o=n.R)&&o.C?(r.C=o.C=!1,n.C=!0,t=n):(t===r.R&&(ea(this,r),r=(t=r).U),r.C=!1,n.C=!0,ra(this,n)):(o=n.L)&&o.C?(r.C=o.C=!1,n.C=!0,t=n):(t===r.L&&(ra(this,r),r=(t=r).U),r.C=!1,n.C=!0,ea(this,n)),r=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,r,n,o=t.U,l=t.L,c=t.R;if(r=l?c?na(c):l:c,o?o.L===t?o.L=r:o.R=r:this._=r,l&&c?(n=r.C,r.C=t.C,r.L=l,l.U=r,r!==c?(o=r.U,r.U=t.U,t=r.R,o.L=t,r.R=c,c.U=r):(r.U=o,o=r,t=r.R)):(n=t.C,t=r),t&&(t.U=o),!n)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===o.L){if((e=o.R).C&&(e.C=!1,o.C=!0,ea(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ra(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,ea(this,o),t=this._;break}}else if((e=o.L).C&&(e.C=!1,o.C=!0,ra(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ea(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,ra(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}},l.geom.voronoi=function(t){var e=bi,r=_i,n=e,o=r,l=oa;if(t)return c(t);function c(data){var t=new Array(data.length),e=l[0][0],r=l[0][1],n=l[1][0],o=l[1][1];return ia(f(data),l).cells.forEach((function(l,i){var c=l.edges,f=l.site;(t[i]=c.length?c.map((function(t){var s=t.start();return[s.x,s.y]})):f.x>=e&&f.x<=n&&f.y>=r&&f.y<=o?[[e,o],[n,o],[n,r],[e,r]]:[]).point=data[i]})),t}function f(data){return data.map((function(t,i){return{x:Math.round(n(t,i)/Ft)*Ft,y:Math.round(o(t,i)/Ft)*Ft,i:i}}))}return c.links=function(data){return ia(f(data)).edges.filter((function(t){return t.l&&t.r})).map((function(t){return{source:data[t.l.i],target:data[t.r.i]}}))},c.triangles=function(data){var t=[];return ia(f(data)).cells.forEach((function(e,i){for(var r,a,b,n,o=e.site,l=e.edges.sort(Vi),c=-1,f=l.length,h=l[f-1].edge,d=h.l===o?h.r:h.l;++c<f;)h,r=d,d=(h=l[c].edge).l===o?h.r:h.l,i<r.i&&i<d.i&&(b=r,n=d,((a=o).x-n.x)*(b.y-a.y)-(a.x-b.x)*(n.y-a.y)<0)&&t.push([data[i],data[r.i],data[d.i]])})),t},c.x=function(t){return arguments.length?(n=Se(e=t),c):e},c.y=function(t){return arguments.length?(o=Se(r=t),c):r},c.clipExtent=function(t){return arguments.length?(l=null==t?oa:t,c):l===oa?null:l},c.size=function(t){return arguments.length?c.clipExtent(t&&[[0,0],t]):l===oa?null:l&&l[1]},c};var oa=[[-1e6,-1e6],[1e6,1e6]];function sa(t){return t.x}function la(t){return t.y}function ua(t,e,r,n,o,l){if(!t(e,r,n,o,l)){var c=.5*(r+o),f=.5*(n+l),h=e.nodes;h[0]&&ua(t,h[0],r,n,c,f),h[1]&&ua(t,h[1],c,n,o,f),h[2]&&ua(t,h[2],r,f,c,l),h[3]&&ua(t,h[3],c,f,o,l)}}function ca(t,e,r,n,o,l,c){var f,h=1/0;return function t(d,v,m,y,x){if(!(v>l||m>c||y<n||x<o)){if(_=d.point){var _,w=e-d.x,M=r-d.y,A=w*w+M*M;if(A<h){var T=Math.sqrt(h=A);n=e-T,o=r-T,l=e+T,c=r+T,f=_}}for(var k=d.nodes,E=.5*(v+y),S=.5*(m+x),i=(r>=S)<<1|e>=E,L=i+4;i<L;++i)if(d=k[3&i])switch(3&i){case 0:t(d,v,m,E,S);break;case 1:t(d,E,m,y,S);break;case 2:t(d,v,S,E,x);break;case 3:t(d,E,S,y,x)}}}(t,n,o,l,c),f}function fa(a,b){a=l.rgb(a),b=l.rgb(b);var t=a.r,e=a.g,r=a.b,br=b.r-t,n=b.g-e,o=b.b-r;return function(l){return"#"+_e(Math.round(t+br*l))+_e(Math.round(e+n*l))+_e(Math.round(r+o*l))}}function ha(a,b){var t,i={},e={};for(t in a)t in b?i[t]=ma(a[t],b[t]):e[t]=a[t];for(t in b)t in a||(e[t]=b[t]);return function(r){for(t in i)e[t]=i[t](r);return e}}function da(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}function pa(a,b){var t,e,r,n=ga.lastIndex=va.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(t=ga.exec(a))&&(e=va.exec(b));)(r=e.index)>n&&(r=b.slice(n,r),s[i]?s[i]+=r:s[++i]=r),(t=t[0])===(e=e[0])?s[i]?s[i]+=e:s[++i]=e:(s[++i]=null,q.push({i:i,x:da(t,e)})),n=va.lastIndex;return n<b.length&&(r=b.slice(n),s[i]?s[i]+=r:s[++i]=r),s.length<2?q[0]?(b=q[0].x,function(t){return b(t)+""}):function(){return b}:(b=q.length,function(t){for(var e,i=0;i<b;++i)s[(e=q[i]).i]=e.x(t);return s.join("")})}l.geom.delaunay=function(t){return l.geom.voronoi().triangles(t)},l.geom.quadtree=function(t,e,r,n,o){var l,c=bi,f=_i;if(l=arguments.length)return c=sa,f=la,3===l&&(o=r,n=e,r=e=0),h(t);function h(data){var t,h,d,i,v,m,y,x,_,w=Se(c),M=Se(f);if(null!=e)m=e,y=r,x=n,_=o;else if(x=_=-(m=y=1/0),h=[],d=[],v=data.length,l)for(i=0;i<v;++i)(t=data[i]).x<m&&(m=t.x),t.y<y&&(y=t.y),t.x>x&&(x=t.x),t.y>_&&(_=t.y),h.push(t.x),d.push(t.y);else for(i=0;i<v;++i){var A=+w(t=data[i],i),T=+M(t,i);A<m&&(m=A),T<y&&(y=T),A>x&&(x=A),T>_&&(_=T),h.push(A),d.push(T)}var k=x-m,E=_-y;function S(t,e,r,n,o,l,c,f){if(!isNaN(r)&&!isNaN(n))if(t.leaf){var h=t.x,d=t.y;if(null!=h)if(L(h-r)+L(d-n)<.01)C(t,e,r,n,o,l,c,f);else{var v=t.point;t.x=t.y=t.point=null,C(t,v,h,d,o,l,c,f),C(t,e,r,n,o,l,c,f)}else t.x=r,t.y=n,t.point=e}else C(t,e,r,n,o,l,c,f)}function C(t,e,r,n,o,l,c,f){var h=.5*(o+c),d=.5*(l+f),v=r>=h,m=n>=d,i=m<<1|v;t.leaf=!1,v?o=h:c=h,m?l=d:f=d,S(t=t.nodes[i]||(t.nodes[i]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,r,n,o,l,c,f)}k>E?_=y+k:x=m+E;var O={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){S(O,t,+w(t,++i),+M(t,i),m,y,x,_)},visit:function(t){ua(t,O,m,y,x,_)},find:function(t){return ca(O,t[0],t[1],m,y,x,_)}};if(i=-1,null==e){for(;++i<v;)S(O,data[i],h[i],d[i],m,y,x,_);--i}else data.forEach(O.add);return h=d=data=t=null,O}return h.x=function(t){return arguments.length?(c=t,h):c},h.y=function(t){return arguments.length?(f=t,h):f},h.extent=function(t){return arguments.length?(null==t?e=r=n=o=null:(e=+t[0][0],r=+t[0][1],n=+t[1][0],o=+t[1][1]),h):null==e?null:[[e,r],[n,o]]},h.size=function(t){return arguments.length?(null==t?e=r=n=o=null:(e=r=0,n=+t[0],o=+t[1]),h):null==e?null:[n-e,o-r]},h},l.interpolateRgb=fa,l.interpolateObject=ha,l.interpolateNumber=da,l.interpolateString=pa;var ga=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,va=new RegExp(ga.source,"g");function ma(a,b){for(var t,i=l.interpolators.length;--i>=0&&!(t=l.interpolators[i](a,b)););return t}function ya(a,b){var i,t=[],e=[],r=a.length,n=b.length,o=Math.min(a.length,b.length);for(i=0;i<o;++i)t.push(ma(a[i],b[i]));for(;i<r;++i)e[i]=a[i];for(;i<n;++i)e[i]=b[i];return function(r){for(i=0;i<o;++i)e[i]=t[i](r);return e}}l.interpolate=ma,l.interpolators=[function(a,b){var t=typeof b;return("string"===t?Ee.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?fa:pa:b instanceof re?fa:Array.isArray(b)?ya:"object"===t&&isNaN(b)?ha:da)(a,b)}],l.interpolateArray=ya;var xa=function(){return U},ba=l.map({linear:xa,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return Ta},cubic:function(){return ka},sin:function(){return Sa},exp:function(){return La},circle:function(){return Ca},elastic:function(a,p){var s;arguments.length<2&&(p=.45);arguments.length?s=p/Ut*Math.asin(1/a):(a=1,s=p/4);return function(t){return 1+a*Math.pow(2,-10*t)*Math.sin((t-s)*Ut/p)}},back:function(s){s||(s=1.70158);return function(t){return t*t*((s+1)*t-s)}},bounce:function(){return Oa}}),_a=l.map({in:U,out:Ma,"in-out":Aa,"out-in":function(t){return Aa(Ma(t))}});function wa(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function Ma(t){return function(e){return 1-t(1-e)}}function Aa(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Ta(t){return t*t}function ka(t){return t*t*t}function Ea(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,r=e*t;return 4*(t<.5?r:3*(t-e)+r-.75)}function Sa(t){return 1-Math.cos(t*Vt)}function La(t){return Math.pow(2,10*(t-1))}function Ca(t){return 1-Math.sqrt(1-t*t)}function Oa(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Ra(a,b){return b-=a,function(t){return Math.round(a+b*t)}}function Da(t){var a,b,e,r=[t.a,t.b],n=[t.c,t.d],o=Ia(r),l=Pa(r,n),c=Ia(((a=n)[0]+=(e=-l)*(b=r)[0],a[1]+=e*b[1],a))||0;r[0]*n[1]<n[0]*r[1]&&(r[0]*=-1,r[1]*=-1,o*=-1,l*=-1),this.rotate=(o?Math.atan2(r[1],r[0]):Math.atan2(-n[0],n[1]))*Gt,this.translate=[t.e,t.f],this.scale=[o,c],this.skew=c?Math.atan2(l,c)*Gt:0}function Pa(a,b){return a[0]*b[0]+a[1]*b[1]}function Ia(a){var t=Math.sqrt(Pa(a,a));return t&&(a[0]/=t,a[1]/=t),t}l.ease=function(t){var i=t.indexOf("-"),e=i>=0?t.slice(0,i):t,r=i>=0?t.slice(i+1):"in";return e=ba.get(e)||xa,wa((r=_a.get(r)||U)(e.apply(null,c.call(arguments,1))))},l.interpolateHcl=function(a,b){a=l.hcl(a),b=l.hcl(b);var t=a.h,e=a.c,r=a.l,n=b.h-t,o=b.c-e,c=b.l-r;isNaN(o)&&(o=0,e=isNaN(e)?b.c:e);isNaN(n)?(n=0,t=isNaN(t)?b.h:t):n>180?n-=360:n<-180&&(n+=360);return function(l){return le(t+n*l,e+o*l,r+c*l)+""}},l.interpolateHsl=function(a,b){a=l.hsl(a),b=l.hsl(b);var t=a.h,e=a.s,r=a.l,n=b.h-t,o=b.s-e,c=b.l-r;isNaN(o)&&(o=0,e=isNaN(e)?b.s:e);isNaN(n)?(n=0,t=isNaN(t)?b.h:t):n>180?n-=360:n<-180&&(n+=360);return function(l){return ae(t+n*l,e+o*l,r+c*l)+""}},l.interpolateLab=function(a,b){a=l.lab(a),b=l.lab(b);var t=a.l,e=a.a,r=a.b,n=b.l-t,o=b.a-e,c=b.b-r;return function(l){return he(t+n*l,e+o*l,r+c*l)+""}},l.interpolateRound=Ra,l.transform=function(t){var g=h.createElementNS(l.ns.prefix.svg,"g");return(l.transform=function(t){if(null!=t){g.setAttribute("transform",t);var e=g.transform.baseVal.consolidate()}return new Da(e?e.matrix:Na)})(t)},Da.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Na={a:1,b:0,c:0,d:1,e:0,f:0};function za(s){return s.length?s.pop()+",":""}function Fa(a,b){var s=[],q=[];return a=l.transform(a),b=l.transform(b),function(t,e,s,q){if(t[0]!==e[0]||t[1]!==e[1]){var i=s.push("translate(",null,",",null,")");q.push({i:i-4,x:da(t[0],e[0])},{i:i-2,x:da(t[1],e[1])})}else(e[0]||e[1])&&s.push("translate("+e+")")}(a.translate,b.translate,s,q),function(t,e,s,q){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),q.push({i:s.push(za(s)+"rotate(",null,")")-2,x:da(t,e)})):e&&s.push(za(s)+"rotate("+e+")")}(a.rotate,b.rotate,s,q),function(t,e,s,q){t!==e?q.push({i:s.push(za(s)+"skewX(",null,")")-2,x:da(t,e)}):e&&s.push(za(s)+"skewX("+e+")")}(a.skew,b.skew,s,q),function(t,e,s,q){if(t[0]!==e[0]||t[1]!==e[1]){var i=s.push(za(s)+"scale(",null,",",null,")");q.push({i:i-4,x:da(t[0],e[0])},{i:i-2,x:da(t[1],e[1])})}else 1===e[0]&&1===e[1]||s.push(za(s)+"scale("+e+")")}(a.scale,b.scale,s,q),a=b=null,function(t){for(var e,i=-1,r=q.length;++i<r;)s[(e=q[i]).i]=e.x(t);return s.join("")}}function ja(a,b){return b=(b-=a=+a)||1/b,function(t){return(t-a)/b}}function Ba(a,b){return b=(b-=a=+a)||1/b,function(t){return Math.max(0,Math.min(1,(t-a)/b))}}function Ua(link){for(var t=link.source,e=link.target,r=function(a,b){if(a===b)return a;var t=Ha(a),e=Ha(b),r=t.pop(),n=e.pop(),o=null;for(;r===n;)o=r,r=t.pop(),n=e.pop();return o}(t,e),n=[t];t!==r;)t=t.parent,n.push(t);for(var o=n.length;e!==r;)n.splice(o,0,e),e=e.parent;return n}function Ha(t){for(var e=[],r=t.parent;null!=r;)e.push(t),t=r,r=r.parent;return e.push(t),e}function Va(t){t.fixed|=2}function Ya(t){t.fixed&=-7}function Ga(t){t.fixed|=4,t.px=t.x,t.py=t.y}function qa(t){t.fixed&=-5}l.interpolateTransform=Fa,l.layout={},l.layout.bundle=function(){return function(t){for(var e=[],i=-1,r=t.length;++i<r;)e.push(Ua(t[i]));return e}},l.layout.chord=function(){var t,e,r,n,o,c,f,h={},d=0;function v(){var h,v,y,i,x,_={},w=[],M=l.range(n),A=[];for(t=[],e=[],h=0,i=-1;++i<n;){for(v=0,x=-1;++x<n;)v+=r[i][x];w.push(v),A.push(l.range(n)),h+=v}for(o&&M.sort((function(a,b){return o(w[a],w[b])})),c&&A.forEach((function(t,i){t.sort((function(a,b){return c(r[i][a],r[i][b])}))})),h=(Ut-d*n)/h,v=0,i=-1;++i<n;){for(y=v,x=-1;++x<n;){var T=M[i],k=A[T][x],E=r[T][k],S=v,L=v+=E*h;_[T+"-"+k]={index:T,subindex:k,startAngle:S,endAngle:L,value:E}}e[T]={index:T,startAngle:y,endAngle:v,value:w[T]},v+=d}for(i=-1;++i<n;)for(x=i-1;++x<n;){var source=_[i+"-"+x],C=_[x+"-"+i];(source.value||C.value)&&t.push(source.value<C.value?{source:C,target:source}:{source:source,target:C})}f&&m()}function m(){t.sort((function(a,b){return f((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)}))}return h.matrix=function(o){return arguments.length?(n=(r=o)&&r.length,t=e=null,h):r},h.padding=function(r){return arguments.length?(d=r,t=e=null,h):d},h.sortGroups=function(r){return arguments.length?(o=r,t=e=null,h):o},h.sortSubgroups=function(e){return arguments.length?(c=e,t=null,h):c},h.sortChords=function(e){return arguments.length?(f=e,t&&m(),h):f},h.chords=function(){return t||v(),t},h.groups=function(){return e||v(),e},h},l.layout.force=function(){var t,e,r,n,o,c,f={},h=l.dispatch("start","tick","end"),d=[1,1],v=.9,m=Wa,y=Xa,x=-30,_=Za,w=.1,M=.64,A=[],T=[];function k(t){return function(e,r,n,o){if(e.point!==t){var l=e.cx-t.x,c=e.cy-t.y,f=o-r,h=l*l+c*c;if(f*f/M<h){if(h<_){var d=e.charge/h;t.px-=l*d,t.py-=c*d}return!0}if(e.point&&h&&h<_){d=e.pointCharge/h;t.px-=l*d,t.py-=c*d}}return!e.charge}}function E(t){t.px=l.event.x,t.py=l.event.y,f.resume()}return f.tick=function(){if((r*=.99)<.005)return t=null,h.end({type:"end",alpha:r=0}),!0;var q,i,e,s,f,m,y,_,M,E=A.length,S=T.length;for(i=0;i<S;++i)s=(e=T[i]).source,(m=(_=(f=e.target).x-s.x)*_+(M=f.y-s.y)*M)&&(_*=m=r*o[i]*((m=Math.sqrt(m))-n[i])/m,M*=m,f.x-=_*(y=s.weight+f.weight?s.weight/(s.weight+f.weight):.5),f.y-=M*y,s.x+=_*(y=1-y),s.y+=M*y);if((y=r*w)&&(_=d[0]/2,M=d[1]/2,i=-1,y))for(;++i<E;)(e=A[i]).x+=(_-e.x)*y,e.y+=(M-e.y)*y;if(x)for(!function t(e,r,n){var o=0,l=0;if(e.charge=0,!e.leaf)for(var c,f=e.nodes,h=f.length,i=-1;++i<h;)null!=(c=f[i])&&(t(c,r,n),e.charge+=c.charge,o+=c.charge*c.cx,l+=c.charge*c.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var d=r*n[e.point.index];e.charge+=e.pointCharge=d,o+=d*e.point.x,l+=d*e.point.y}e.cx=o/e.charge,e.cy=l/e.charge}(q=l.geom.quadtree(A),r,c),i=-1;++i<E;)(e=A[i]).fixed||q.visit(k(e));for(i=-1;++i<E;)(e=A[i]).fixed?(e.x=e.px,e.y=e.py):(e.x-=(e.px-(e.px=e.x))*v,e.y-=(e.py-(e.py=e.y))*v);h.tick({type:"tick",alpha:r})},f.nodes=function(t){return arguments.length?(A=t,f):A},f.links=function(t){return arguments.length?(T=t,f):T},f.size=function(t){return arguments.length?(d=t,f):d},f.linkDistance=function(t){return arguments.length?(m="function"==typeof t?t:+t,f):m},f.distance=f.linkDistance,f.linkStrength=function(t){return arguments.length?(y="function"==typeof t?t:+t,f):y},f.friction=function(t){return arguments.length?(v=+t,f):v},f.charge=function(t){return arguments.length?(x="function"==typeof t?t:+t,f):x},f.chargeDistance=function(t){return arguments.length?(_=t*t,f):Math.sqrt(_)},f.gravity=function(t){return arguments.length?(w=+t,f):w},f.theta=function(t){return arguments.length?(M=t*t,f):Math.sqrt(M)},f.alpha=function(e){return arguments.length?(e=+e,r?e>0?r=e:(t.c=null,t.t=NaN,t=null,h.end({type:"end",alpha:r=0})):e>0&&(h.start({type:"start",alpha:r=e}),t=Ne(f.tick)),f):r},f.start=function(){var i,t,e,r=A.length,l=T.length,h=d[0],v=d[1];for(i=0;i<r;++i)(e=A[i]).index=i,e.weight=0;for(i=0;i<l;++i)"number"==typeof(e=T[i]).source&&(e.source=A[e.source]),"number"==typeof e.target&&(e.target=A[e.target]),++e.source.weight,++e.target.weight;for(i=0;i<r;++i)e=A[i],isNaN(e.x)&&(e.x=_("x",h)),isNaN(e.y)&&(e.y=_("y",v)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(n=[],"function"==typeof m)for(i=0;i<l;++i)n[i]=+m.call(this,T[i],i);else for(i=0;i<l;++i)n[i]=m;if(o=[],"function"==typeof y)for(i=0;i<l;++i)o[i]=+y.call(this,T[i],i);else for(i=0;i<l;++i)o[i]=y;if(c=[],"function"==typeof x)for(i=0;i<r;++i)c[i]=+x.call(this,A[i],i);else for(i=0;i<r;++i)c[i]=x;function _(e,n){if(!t){for(t=new Array(r),h=0;h<r;++h)t[h]=[];for(h=0;h<l;++h){var o=T[h];t[o.source.index].push(o.target),t[o.target.index].push(o.source)}}for(var c,f=t[i],h=-1,d=f.length;++h<d;)if(!isNaN(c=f[h][e]))return c;return Math.random()*n}return f.resume()},f.resume=function(){return f.alpha(.1)},f.stop=function(){return f.alpha(0)},f.drag=function(){if(e||(e=l.behavior.drag().origin(U).on("dragstart.force",Va).on("drag.force",E).on("dragend.force",Ya)),!arguments.length)return e;this.on("mouseover.force",Ga).on("mouseout.force",qa).call(e)},l.rebind(f,h,"on")};var Wa=20,Xa=1,Za=1/0;function Ja(object,t){return l.rebind(object,t,"sort","children","value"),object.nodes=object,object.links=ro,object}function Qa(t,e){for(var r=[t];null!=(t=r.pop());)if(e(t),(o=t.children)&&(n=o.length))for(var n,o;--n>=0;)r.push(o[n])}function Ka(t,e){for(var r=[t],n=[];null!=(t=r.pop());)if(n.push(t),(l=t.children)&&(o=l.length))for(var o,l,i=-1;++i<o;)r.push(l[i]);for(;null!=(t=n.pop());)e(t)}function $a(t){return t.children}function to(t){return t.value}function eo(a,b){return b.value-a.value}function ro(t){return l.merge(t.map((function(t){return(t.children||[]).map((function(e){return{source:t,target:e}}))})))}l.layout.hierarchy=function(){var t=eo,e=$a,r=to;function n(o){var l,c=[o],f=[];for(o.depth=0;null!=(l=c.pop());)if(f.push(l),(d=e.call(n,l,l.depth))&&(h=d.length)){for(var h,d,v;--h>=0;)c.push(v=d[h]),v.parent=l,v.depth=l.depth+1;r&&(l.value=0),l.children=d}else r&&(l.value=+r.call(n,l,l.depth)||0),delete l.children;return Ka(o,(function(e){var n,o;t&&(n=e.children)&&n.sort(t),r&&(o=e.parent)&&(o.value+=e.value)})),f}return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&&(Qa(t,(function(t){t.children&&(t.value=0)})),Ka(t,(function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)}))),t},n},l.layout.partition=function(){var t=l.layout.hierarchy(),e=[1,1];function r(r,i){var n=t.call(this,r,i);return function t(e,r,n,o){var l=e.children;if(e.x=r,e.y=e.depth*o,e.dx=n,e.dy=o,l&&(c=l.length)){var c,f,h,i=-1;for(n=e.value?n/e.value:0;++i<c;)t(f=l[i],r,h=f.value*n,o),r+=h}}(n[0],0,e[0],e[1]/function t(e){var r=e.children,n=0;if(r&&(o=r.length))for(var o,i=-1;++i<o;)n=Math.max(n,t(r[i]));return 1+n}(n[0])),n}return r.size=function(t){return arguments.length?(e=t,r):e},Ja(r,t)},l.layout.pie=function(){var t=Number,e=no,r=0,n=Ut,o=0;function c(data){var f,h=data.length,d=data.map((function(e,i){return+t.call(c,e,i)})),a=+("function"==typeof r?r.apply(this,arguments):r),v=("function"==typeof n?n.apply(this,arguments):n)-a,p=Math.min(Math.abs(v)/h,+("function"==typeof o?o.apply(this,arguments):o)),m=p*(v<0?-1:1),y=l.sum(d),x=y?(v-h*m)/y:0,_=l.range(h),w=[];return null!=e&&_.sort(e===no?function(i,t){return d[t]-d[i]}:function(i,t){return e(data[i],data[t])}),_.forEach((function(i){w[i]={data:data[i],value:f=d[i],startAngle:a,endAngle:a+=f*x+m,padAngle:p}})),w}return c.value=function(e){return arguments.length?(t=e,c):t},c.sort=function(t){return arguments.length?(e=t,c):e},c.startAngle=function(t){return arguments.length?(r=t,c):r},c.endAngle=function(t){return arguments.length?(n=t,c):n},c.padAngle=function(t){return arguments.length?(o=t,c):o},c};var no={};function io(t){return t.x}function ao(t){return t.y}function oo(t,e,r){t.y0=e,t.y=r}l.layout.stack=function(){var t=U,e=uo,r=co,n=oo,o=io,c=ao;function f(data,h){if(!(y=data.length))return data;var d=data.map((function(e,i){return t.call(f,e,i)})),v=d.map((function(t){return t.map((function(t,i){return[o.call(f,t,i),c.call(f,t,i)]}))})),m=e.call(f,v,h);d=l.permute(d,m),v=l.permute(v,m);var y,i,x,_,w=r.call(f,v,h),M=d[0].length;for(x=0;x<M;++x)for(n.call(f,d[0][x],_=w[x],v[0][x][1]),i=1;i<y;++i)n.call(f,d[i][x],_+=v[i-1][x][1],v[i][x][1]);return data}return f.values=function(e){return arguments.length?(t=e,f):t},f.order=function(t){return arguments.length?(e="function"==typeof t?t:so.get(t)||uo,f):e},f.offset=function(t){return arguments.length?(r="function"==typeof t?t:lo.get(t)||co,f):r},f.x=function(t){return arguments.length?(o=t,f):o},f.y=function(t){return arguments.length?(c=t,f):c},f.out=function(t){return arguments.length?(n=t,f):n},f};var so=l.map({"inside-out":function(data){var i,t,e=data.length,r=data.map(fo),n=data.map(ho),o=l.range(e).sort((function(a,b){return r[a]-r[b]})),c=0,f=0,h=[],d=[];for(i=0;i<e;++i)t=o[i],c<f?(c+=n[t],h.push(t)):(f+=n[t],d.push(t));return d.reverse().concat(h)},reverse:function(data){return l.range(data.length).reverse()},default:uo}),lo=l.map({silhouette:function(data){var i,t,e,r=data.length,n=data[0].length,o=[],l=0,c=[];for(t=0;t<n;++t){for(i=0,e=0;i<r;i++)e+=data[i][t][1];e>l&&(l=e),o.push(e)}for(t=0;t<n;++t)c[t]=(l-o[t])/2;return c},wiggle:function(data){var i,t,e,r,n,o,l,c,f,h=data.length,d=data[0],v=d.length,m=[];for(m[0]=c=f=0,t=1;t<v;++t){for(i=0,r=0;i<h;++i)r+=data[i][t][1];for(i=0,n=0,l=d[t][0]-d[t-1][0];i<h;++i){for(e=0,o=(data[i][t][1]-data[i][t-1][1])/(2*l);e<i;++e)o+=(data[e][t][1]-data[e][t-1][1])/l;n+=o*data[i][t][1]}m[t]=c-=r?n/r*l:0,c<f&&(f=c)}for(t=0;t<v;++t)m[t]-=f;return m},expand:function(data){var i,t,e,r=data.length,n=data[0].length,o=1/r,l=[];for(t=0;t<n;++t){for(i=0,e=0;i<r;i++)e+=data[i][t][1];if(e)for(i=0;i<r;i++)data[i][t][1]/=e;else for(i=0;i<r;i++)data[i][t][1]=o}for(t=0;t<n;++t)l[t]=0;return l},zero:co});function uo(data){return l.range(data.length)}function co(data){for(var t=-1,e=data[0].length,r=[];++t<e;)r[t]=0;return r}function fo(t){for(var e,i=1,r=0,n=t[0][1],o=t.length;i<o;++i)(e=t[i][1])>n&&(r=i,n=e);return r}function ho(t){return t.reduce(po,0)}function po(p,t){return p+t[1]}function go(t,e){return vo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function vo(t,e){for(var r=-1,b=+t[0],n=(t[1]-b)/e,o=[];++r<=e;)o[r]=n*r+b;return o}function mo(t){return[l.min(t),l.max(t)]}function yo(a,b){return a.value-b.value}function xo(a,b){var t=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=t,t._pack_prev=b}function bo(a,b){a._pack_next=b,b._pack_prev=a}function _o(a,b){var t=b.x-a.x,e=b.y-a.y,r=a.r+b.r;return.999*r*r>t*t+e*e}function wo(t){if((e=t.children)&&(l=e.length)){var e,a,b,r,i,n,o,l,c=1/0,f=-1/0,h=1/0,d=-1/0;if(e.forEach(Mo),(a=e[0]).x=-a.r,a.y=0,M(a),l>1&&((b=e[1]).x=b.r,b.y=0,M(b),l>2))for(To(a,b,r=e[2]),M(r),xo(a,r),a._pack_prev=r,xo(r,b),b=a._pack_next,i=3;i<l;i++){To(a,b,r=e[i]);var v=0,m=1,y=1;for(n=b._pack_next;n!==b;n=n._pack_next,m++)if(_o(n,r)){v=1;break}if(1==v)for(o=a._pack_prev;o!==n._pack_prev&&!_o(o,r);o=o._pack_prev,y++);v?(m<y||m==y&&b.r<a.r?bo(a,b=n):bo(a=o,b),i--):(xo(a,r),b=r,M(r))}var x=(c+f)/2,_=(h+d)/2,w=0;for(i=0;i<l;i++)(r=e[i]).x-=x,r.y-=_,w=Math.max(w,r.r+Math.sqrt(r.x*r.x+r.y*r.y));t.r=w,e.forEach(Ao)}function M(t){c=Math.min(t.x-t.r,c),f=Math.max(t.x+t.r,f),h=Math.min(t.y-t.r,h),d=Math.max(t.y+t.r,d)}}function Mo(t){t._pack_next=t._pack_prev=t}function Ao(t){delete t._pack_next,delete t._pack_prev}function To(a,b,t){var e=a.r+t.r,r=b.x-a.x,n=b.y-a.y;if(e&&(r||n)){var o=b.r+t.r,l=r*r+n*n,c=.5+((e*=e)-(o*=o))/(2*l),f=Math.sqrt(Math.max(0,2*o*(e+l)-(e-=l)*e-o*o))/(2*l);t.x=a.x+c*r+f*n,t.y=a.y+c*n-f*r}else t.x=a.x+e,t.y=a.y}function ko(a,b){return a.parent==b.parent?1:2}function Eo(t){var e=t.children;return e.length?e[0]:t.t}function So(t){var e,r=t.children;return(e=r.length)?r[e-1]:t.t}function Lo(t,e,r){var n=r/(e.i-t.i);e.c-=n,e.s+=r,t.c+=n,e.z+=r,e.m+=r}function Co(t,e,r){return t.a.parent===e.parent?t.a:r}function Oo(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Ro(t,e){var r=t.x+e[3],n=t.y+e[0],o=t.dx-e[1]-e[3],l=t.dy-e[0]-e[2];return o<0&&(r+=o/2,o=0),l<0&&(n+=l/2,l=0),{x:r,y:n,dx:o,dy:l}}function Do(t){var e=t[0],r=t[t.length-1];return e<r?[e,r]:[r,e]}function Po(t){return t.rangeExtent?t.rangeExtent():Do(t.range())}function Io(t,e,r,n){var u=r(t[0],t[1]),i=n(e[0],e[1]);return function(t){return i(u(t))}}function No(t,e){var r,n=0,o=t.length-1,l=t[n],c=t[o];return c<l&&(r=n,n=o,o=r,r=l,l=c,c=r),t[n]=e.floor(l),t[o]=e.ceil(c),t}function zo(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Fo}l.layout.histogram=function(){var t=!0,e=Number,r=mo,n=go;function o(data,i){for(var o,c,f=[],h=data.map(e,this),d=r.call(this,h,i),v=n.call(this,d,h,i),m=(i=-1,h.length),y=v.length-1,x=t?1:1/m;++i<y;)(o=f[i]=[]).dx=v[i+1]-(o.x=v[i]),o.y=0;if(y>0)for(i=-1;++i<m;)(c=h[i])>=d[0]&&c<=d[1]&&((o=f[l.bisect(v,c,1,y)-1]).y+=x,o.push(data[i]));return f}return o.value=function(t){return arguments.length?(e=t,o):e},o.range=function(t){return arguments.length?(r=Se(t),o):r},o.bins=function(t){return arguments.length?(n="number"==typeof t?function(e){return vo(e,t)}:Se(t),o):n},o.frequency=function(e){return arguments.length?(t=!!e,o):t},o},l.layout.pack=function(){var t,e=l.layout.hierarchy().sort(yo),r=0,n=[1,1];function o(o,i){var l=e.call(this,o,i),c=l[0],f=n[0],h=n[1],d=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(c.x=c.y=0,Ka(c,(function(t){t.r=+d(t.value)})),Ka(c,wo),r){var v=r*(t?1:Math.max(2*c.r/f,2*c.r/h))/2;Ka(c,(function(t){t.r+=v})),Ka(c,wo),Ka(c,(function(t){t.r-=v}))}return function t(e,r,n,o){var l=e.children;if(e.x=r+=o*e.x,e.y=n+=o*e.y,e.r*=o,l)for(var i=-1,c=l.length;++i<c;)t(l[i],r,n,o)}(c,f/2,h/2,t?1:1/Math.max(2*c.r/f,2*c.r/h)),l}return o.size=function(t){return arguments.length?(n=t,o):n},o.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,o):t},o.padding=function(t){return arguments.length?(r=+t,o):r},Ja(o,e)},l.layout.tree=function(){var t=l.layout.hierarchy().sort(null).value(null),e=ko,r=[1,1],n=null;function o(o,i){var l=t.call(this,o,i),d=l[0],v=function(t){var e,r={A:null,children:[t]},n=[r];for(;null!=(e=n.pop());)for(var o,l=e.children,i=0,c=l.length;i<c;++i)n.push((l[i]=o={_:l[i],parent:e,children:(o=l[i].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:i}).a=o);return r.children[0]}(d);if(Ka(v,c),v.parent.m=-v.z,Qa(v,f),n)Qa(d,h);else{var m=d,y=d,x=d;Qa(d,(function(t){t.x<m.x&&(m=t),t.x>y.x&&(y=t),t.depth>x.depth&&(x=t)}));var _=e(m,y)/2-m.x,w=r[0]/(y.x+e(y,m)/2+_),M=r[1]/(x.depth||1);Qa(d,(function(t){t.x=(t.x+_)*w,t.y=t.depth*M}))}return l}function c(t){var r=t.children,n=t.parent.children,o=t.i?n[t.i-1]:null;if(r.length){!function(t){var e,r=0,n=0,o=t.children,i=o.length;for(;--i>=0;)(e=o[i]).z+=r,e.m+=r,r+=e.s+(n+=e.c)}(t);var l=(r[0].z+r[r.length-1].z)/2;o?(t.z=o.z+e(t._,o._),t.m=t.z-l):t.z=l}else o&&(t.z=o.z+e(t._,o._));t.parent.A=function(t,r,n){if(r){for(var o,l=t,c=t,f=r,h=l.parent.children[0],d=l.m,v=c.m,m=f.m,y=h.m;f=So(f),l=Eo(l),f&&l;)h=Eo(h),(c=So(c)).a=t,(o=f.z+m-l.z-d+e(f._,l._))>0&&(Lo(Co(f,t,n),t,o),d+=o,v+=o),m+=f.m,d+=l.m,y+=h.m,v+=c.m;f&&!So(c)&&(c.t=f,c.m+=m-v),l&&!Eo(h)&&(h.t=l,h.m+=d-y,n=t)}return n}(t,o,t.parent.A||n[0])}function f(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function h(t){t.x*=r[0],t.y=t.depth*r[1]}return o.separation=function(t){return arguments.length?(e=t,o):e},o.size=function(t){return arguments.length?(n=null==(r=t)?h:null,o):n?null:r},o.nodeSize=function(t){return arguments.length?(n=null==(r=t)?null:h,o):n?r:null},Ja(o,t)},l.layout.cluster=function(){var t=l.layout.hierarchy().sort(null).value(null),e=ko,r=[1,1],n=!1;function o(o,i){var c,f=t.call(this,o,i),h=f[0],d=0;Ka(h,(function(t){var r=t.children;r&&r.length?(t.x=function(t){return t.reduce((function(t,e){return t+e.x}),0)/t.length}(r),t.y=function(t){return 1+l.max(t,(function(t){return t.y}))}(r)):(t.x=c?d+=e(t,c):0,t.y=0,c=t)}));var v=function t(e){var r=e.children;return r&&r.length?t(r[0]):e}(h),m=function t(e){var r,n=e.children;return n&&(r=n.length)?t(n[r-1]):e}(h),y=v.x-e(v,m)/2,x=m.x+e(m,v)/2;return Ka(h,n?function(t){t.x=(t.x-h.x)*r[0],t.y=(h.y-t.y)*r[1]}:function(t){t.x=(t.x-y)/(x-y)*r[0],t.y=(1-(h.y?t.y/h.y:1))*r[1]}),f}return o.separation=function(t){return arguments.length?(e=t,o):e},o.size=function(t){return arguments.length?(n=null==(r=t),o):n?null:r},o.nodeSize=function(t){return arguments.length?(n=null!=(r=t),o):n?r:null},Ja(o,t)},l.layout.treemap=function(){var t,e=l.layout.hierarchy(),r=Math.round,n=[1,1],o=null,c=Oo,f=!1,h="squarify",d=.5*(1+Math.sqrt(5));function v(t,e){for(var r,area,i=-1,n=t.length;++i<n;)area=(r=t[i]).value*(e<0?0:e),r.area=isNaN(area)||area<=0?0:area}function m(t){var e=t.children;if(e&&e.length){var r,n,o,rect=c(t),l=[],f=e.slice(),d=1/0,u="slice"===h?rect.dx:"dice"===h?rect.dy:"slice-dice"===h?1&t.depth?rect.dy:rect.dx:Math.min(rect.dx,rect.dy);for(v(f,rect.dx*rect.dy/t.value),l.area=0;(o=f.length)>0;)l.push(r=f[o-1]),l.area+=r.area,"squarify"!==h||(n=x(l,u))<=d?(f.pop(),d=n):(l.area-=l.pop().area,_(l,u,rect,!1),u=Math.min(rect.dx,rect.dy),l.length=l.area=0,d=1/0);l.length&&(_(l,u,rect,!0),l.length=l.area=0),e.forEach(m)}}function y(t){var e=t.children;if(e&&e.length){var r,rect=c(t),n=e.slice(),o=[];for(v(n,rect.dx*rect.dy/t.value),o.area=0;r=n.pop();)o.push(r),o.area+=r.area,null!=r.z&&(_(o,r.z?rect.dx:rect.dy,rect,!n.length),o.length=o.area=0);e.forEach(y)}}function x(t,u){for(var e,s=t.area,r=0,n=1/0,i=-1,o=t.length;++i<o;)(e=t[i].area)&&(e<n&&(n=e),e>r&&(r=e));return u*=u,(s*=s)?Math.max(u*r*d/s,s/(u*n*d)):1/0}function _(t,u,rect,e){var n,i=-1,o=t.length,l=rect.x,c=rect.y,f=u?r(t.area/u):0;if(u==rect.dx){for((e||f>rect.dy)&&(f=rect.dy);++i<o;)(n=t[i]).x=l,n.y=c,n.dy=f,l+=n.dx=Math.min(rect.x+rect.dx-l,f?r(n.area/f):0);n.z=!0,n.dx+=rect.x+rect.dx-l,rect.y+=f,rect.dy-=f}else{for((e||f>rect.dx)&&(f=rect.dx);++i<o;)(n=t[i]).x=l,n.y=c,n.dx=f,c+=n.dy=Math.min(rect.y+rect.dy-c,f?r(n.area/f):0);n.z=!1,n.dy+=rect.y+rect.dy-c,rect.x+=f,rect.dx-=f}}function w(r){var o=t||e(r),l=o[0];return l.x=l.y=0,l.value?(l.dx=n[0],l.dy=n[1]):l.dx=l.dy=0,t&&e.revalue(l),v([l],l.dx*l.dy/l.value),(t?y:m)(l),f&&(t=o),o}return w.size=function(t){return arguments.length?(n=t,w):n},w.padding=function(t){if(!arguments.length)return o;function e(e){var p=t.call(w,e,e.depth);return null==p?Oo(e):Ro(e,"number"==typeof p?[p,p,p,p]:p)}function r(e){return Ro(e,t)}var n;return c=null==(o=t)?Oo:"function"==(n=typeof t)?e:"number"===n?(t=[t,t,t,t],r):r,w},w.round=function(t){return arguments.length?(r=t?Math.round:Number,w):r!=Number},w.sticky=function(e){return arguments.length?(f=e,t=null,w):f},w.ratio=function(t){return arguments.length?(d=t,w):d},w.mode=function(t){return arguments.length?(h=t+"",w):h},Ja(w,e)},l.random={normal:function(t,e){var r=arguments.length;return r<2&&(e=1),r<1&&(t=0),function(){var r,n,o;do{o=(r=2*Math.random()-1)*r+(n=2*Math.random()-1)*n}while(!o||o>1);return t+e*r*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var t=l.random.normal.apply(l,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=l.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var s=0,e=0;e<t;e++)s+=Math.random();return s}}},l.scale={};var Fo={floor:U,ceil:U};function jo(t,e,r,n){var u=[],i=[],o=0,c=Math.min(t.length,e.length)-1;for(t[c]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<=c;)u.push(r(t[o-1],t[o])),i.push(n(e[o-1],e[o]));return function(e){var r=l.bisect(t,e,1,c)-1;return i[r](u[r](e))}}function Bo(t,e){return l.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Uo(t,e){return No(t,zo(Ho(t,e)[2])),No(t,zo(Ho(t,e)[2])),t}function Ho(t,e){null==e&&(e=10);var r=Do(t),span=r[1]-r[0],n=Math.pow(10,Math.floor(Math.log(span/e)/Math.LN10)),o=e/span*n;return o<=.15?n*=10:o<=.35?n*=5:o<=.75&&(n*=2),r[0]=Math.ceil(r[0]/n)*n,r[1]=Math.floor(r[1]/n)*n+.5*n,r[2]=n,r}function Vo(t,e){return l.range.apply(l,Ho(t,e))}function Yo(t,e,r){var n=Ho(t,e);if(r){var o=Ve.exec(r);if(o.shift(),"s"===o[8]){var c=l.formatPrefix(Math.max(L(n[0]),L(n[1])));return o[7]||(o[7]="."+qo(c.scale(n[2]))),o[8]="f",r=l.format(o.join("")),function(t){return r(c.scale(t))+c.symbol}}o[7]||(o[7]="."+function(t,e){var p=qo(e[2]);return t in Go?Math.abs(p-qo(Math.max(L(e[0]),L(e[1]))))+ +("e"!==t):p-2*("%"===t)}(o[8],n)),r=o.join("")}else r=",."+qo(n[2])+"f";return l.format(r)}l.scale.linear=function(){return function t(e,r,n,o){var output,input;function l(){var t=Math.min(e.length,r.length)>2?jo:Io,l=o?Ba:ja;return output=t(e,r,l,n),input=t(r,e,l,ma),c}function c(t){return output(t)}return c.invert=function(t){return input(t)},c.domain=function(t){return arguments.length?(e=t.map(Number),l()):e},c.range=function(t){return arguments.length?(r=t,l()):r},c.rangeRound=function(t){return c.range(t).interpolate(Ra)},c.clamp=function(t){return arguments.length?(o=t,l()):o},c.interpolate=function(t){return arguments.length?(n=t,l()):n},c.ticks=function(t){return Vo(e,t)},c.tickFormat=function(t,r){return Yo(e,t,r)},c.nice=function(t){return Uo(e,t),l()},c.copy=function(){return t(e,r,n,o)},l()}([0,1],[0,1],ma,!1)};var Go={s:1,g:1,p:1,r:1,e:1};function qo(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}l.scale.log=function(){return function t(e,base,r,n){function o(t){return(r?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(base)}function c(t){return r?Math.pow(base,t):-Math.pow(base,-t)}function f(t){return e(o(t))}return f.invert=function(t){return c(e.invert(t))},f.domain=function(t){return arguments.length?(r=t[0]>=0,e.domain((n=t.map(Number)).map(o)),f):n},f.base=function(t){return arguments.length?(base=+t,e.domain(n.map(o)),f):base},f.nice=function(){var t=No(n.map(o),r?Math:Xo);return e.domain(t),n=t.map(c),f},f.ticks=function(){var t=Do(n),e=[],u=t[0],l=t[1],i=Math.floor(o(u)),f=Math.ceil(o(l)),h=base%1?2:base;if(isFinite(f-i)){if(r){for(;i<f;i++)for(var d=1;d<h;d++)e.push(c(i)*d);e.push(c(i))}else for(e.push(c(i));i++<f;)for(d=h-1;d>0;d--)e.push(c(i)*d);for(i=0;e[i]<u;i++);for(f=e.length;e[f-1]>l;f--);e=e.slice(i,f)}return e},f.tickFormat=function(t,e){if(!arguments.length)return Wo;arguments.length<2?e=Wo:"function"!=typeof e&&(e=l.format(e));var r=Math.max(1,base*t/f.ticks().length);return function(t){var i=t/c(Math.round(o(t)));return i*base<base-.5&&(i*=base),i<=r?e(t):""}},f.copy=function(){return t(e.copy(),base,r,n)},Bo(f,e)}(l.scale.linear().domain([0,1]),10,!0,[1,10])};var Wo=l.format(".0e"),Xo={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Zo(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}l.scale.pow=function(){return function t(e,r,n){var o=Zo(r),l=Zo(1/r);function c(t){return e(o(t))}return c.invert=function(t){return l(e.invert(t))},c.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(o)),c):n},c.ticks=function(t){return Vo(n,t)},c.tickFormat=function(t,e){return Yo(n,t,e)},c.nice=function(t){return c.domain(Uo(n,t))},c.exponent=function(t){return arguments.length?(o=Zo(r=t),l=Zo(1/r),e.domain(n.map(o)),c):r},c.copy=function(){return t(e.copy(),r,n)},Bo(c,e)}(l.scale.linear(),1,[0,1])},l.scale.sqrt=function(){return l.scale.pow().exponent(.5)},l.scale.ordinal=function(){return function t(e,r){var n,o,c;function f(t){return o[((n.get(t)||("range"===r.t?n.set(t,e.push(t)):NaN))-1)%o.length]}function h(t,r){return l.range(e.length).map((function(i){return t+r*i}))}return f.domain=function(t){if(!arguments.length)return e;e=[],n=new R;for(var o,i=-1,l=t.length;++i<l;)n.has(o=t[i])||n.set(o,e.push(o));return f[r.t].apply(f,r.a)},f.range=function(t){return arguments.length?(o=t,c=0,r={t:"range",a:arguments},f):o},f.rangePoints=function(t,n){arguments.length<2&&(n=0);var l=t[0],d=t[1],v=e.length<2?(l=(l+d)/2,0):(d-l)/(e.length-1+n);return o=h(l+v*n/2,v),c=0,r={t:"rangePoints",a:arguments},f},f.rangeRoundPoints=function(t,n){arguments.length<2&&(n=0);var l=t[0],d=t[1],v=e.length<2?(l=d=Math.round((l+d)/2),0):(d-l)/(e.length-1+n)|0;return o=h(l+Math.round(v*n/2+(d-l-(e.length-1+n)*v)/2),v),c=0,r={t:"rangeRoundPoints",a:arguments},f},f.rangeBands=function(t,n,l){arguments.length<2&&(n=0),arguments.length<3&&(l=n);var d=t[1]<t[0],v=t[d-0],m=t[1-d],y=(m-v)/(e.length-n+2*l);return o=h(v+y*l,y),d&&o.reverse(),c=y*(1-n),r={t:"rangeBands",a:arguments},f},f.rangeRoundBands=function(t,n,l){arguments.length<2&&(n=0),arguments.length<3&&(l=n);var d=t[1]<t[0],v=t[d-0],m=t[1-d],y=Math.floor((m-v)/(e.length-n+2*l));return o=h(v+Math.round((m-v-(e.length-n)*y)/2),y),d&&o.reverse(),c=Math.round(y*(1-n)),r={t:"rangeRoundBands",a:arguments},f},f.rangeBand=function(){return c},f.rangeExtent=function(){return Do(r.a[0])},f.copy=function(){return t(e,r)},f.domain(e)}([],{t:"range",a:[[]]})},l.scale.category10=function(){return l.scale.ordinal().range(Jo)},l.scale.category20=function(){return l.scale.ordinal().range(Qo)},l.scale.category20b=function(){return l.scale.ordinal().range(Ko)},l.scale.category20c=function(){return l.scale.ordinal().range($o)};var Jo=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xe),Qo=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xe),Ko=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xe),$o=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xe);function ts(){return 0}l.scale.quantile=function(){return function t(e,r){var n;function o(){var t=0,q=r.length;for(n=[];++t<q;)n[t-1]=l.quantile(e,t/q);return c}function c(t){if(!isNaN(t=+t))return r[l.bisect(n,t)]}return c.domain=function(t){return arguments.length?(e=t.map(A).filter(T).sort(M),o()):e},c.range=function(t){return arguments.length?(r=t,o()):r},c.quantiles=function(){return n},c.invertExtent=function(t){return(t=r.indexOf(t))<0?[NaN,NaN]:[t>0?n[t-1]:e[0],t<n.length?n[t]:e[e.length-1]]},c.copy=function(){return t(e,r)},o()}([],[])},l.scale.quantize=function(){return function t(e,r,n){var o,i;function l(t){return n[Math.max(0,Math.min(i,Math.floor(o*(t-e))))]}function c(){return o=n.length/(r-e),i=n.length-1,l}return l.domain=function(t){return arguments.length?(e=+t[0],r=+t[t.length-1],c()):[e,r]},l.range=function(t){return arguments.length?(n=t,c()):n},l.invertExtent=function(t){return[t=(t=n.indexOf(t))<0?NaN:t/o+e,t+1/o]},l.copy=function(){return t(e,r,n)},c()}(0,1,[0,1])},l.scale.threshold=function(){return function t(e,r){function n(t){if(t<=t)return r[l.bisect(e,t)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=t,n):r},n.invertExtent=function(t){return t=r.indexOf(t),[e[t-1],e[t]]},n.copy=function(){return t(e,r)},n}([.5],[0,1])},l.scale.identity=function(){return function t(e){function r(t){return+t}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=t.map(r),r):e},r.ticks=function(t){return Vo(e,t)},r.tickFormat=function(t,r){return Yo(e,t,r)},r.copy=function(){return t(e)},r}([0,1])},l.svg={},l.svg.arc=function(){var t=rs,e=ns,r=ts,n=es,o=is,l=as,c=os;function f(){var f=Math.max(0,+t.apply(this,arguments)),d=Math.max(0,+e.apply(this,arguments)),v=o.apply(this,arguments)-Vt,m=l.apply(this,arguments)-Vt,y=Math.abs(m-v),x=v>m?0:1;if(d<f&&(_=d,d=f,f=_),y>=Ht)return h(d,x)+(f?h(f,1-x):"")+"Z";var _,w,rp,M,A,T,k,E,S,L,C,O,R=0,D=0,path=[];if((M=(+c.apply(this,arguments)||0)/2)&&(rp=n===es?Math.sqrt(f*f+d*d):+n.apply(this,arguments),x||(D*=-1),d&&(D=Zt(rp/d*Math.sin(M))),f&&(R=Zt(rp/f*Math.sin(M)))),d){A=d*Math.cos(v+D),T=d*Math.sin(v+D),k=d*Math.cos(m-D),E=d*Math.sin(m-D);var P=Math.abs(m-v-2*D)<=Bt?0:1;if(D&&ss(A,T,k,E)===x^P){var h1=(v+m)/2;A=d*Math.cos(h1),T=d*Math.sin(h1),k=E=null}}else A=T=0;if(f){S=f*Math.cos(m-R),L=f*Math.sin(m-R),C=f*Math.cos(v+R),O=f*Math.sin(v+R);var I=Math.abs(v-m+2*R)<=Bt?0:1;if(R&&ss(S,L,C,O)===1-x^I){var N=(v+m)/2;S=f*Math.cos(N),L=f*Math.sin(N),C=O=null}}else S=L=0;if(y>Ft&&(_=Math.min(Math.abs(d-f)/2,+r.apply(this,arguments)))>.001){w=f<d^x?0:1;var z=_,F=_;if(y<Bt){var j=null==C?[S,L]:null==k?[A,T]:ki([A,T],[C,O],[k,E],[S,L]),B=A-j[0],U=T-j[1],H=k-j[0],V=E-j[1],Y=1/Math.sin(Math.acos((B*H+U*V)/(Math.sqrt(B*B+U*U)*Math.sqrt(H*H+V*V)))/2),G=Math.sqrt(j[0]*j[0]+j[1]*j[1]);F=Math.min(_,(f-G)/(Y-1)),z=Math.min(_,(d-G)/(Y+1))}if(null!=k){var W=ls(null==C?[S,L]:[C,O],[A,T],d,z,x),X=ls([k,E],[S,L],d,z,x);_===z?path.push("M",W[0],"A",z,",",z," 0 0,",w," ",W[1],"A",d,",",d," 0 ",1-x^ss(W[1][0],W[1][1],X[1][0],X[1][1]),",",x," ",X[1],"A",z,",",z," 0 0,",w," ",X[0]):path.push("M",W[0],"A",z,",",z," 0 1,",w," ",X[0])}else path.push("M",A,",",T);if(null!=C){var Z=ls([A,T],[C,O],f,-F,x),J=ls([S,L],null==k?[A,T]:[k,E],f,-F,x);_===F?path.push("L",J[0],"A",F,",",F," 0 0,",w," ",J[1],"A",f,",",f," 0 ",x^ss(J[1][0],J[1][1],Z[1][0],Z[1][1]),",",1-x," ",Z[1],"A",F,",",F," 0 0,",w," ",Z[0]):path.push("L",J[0],"A",F,",",F," 0 0,",w," ",Z[0])}else path.push("L",S,",",L)}else path.push("M",A,",",T),null!=k&&path.push("A",d,",",d," 0 ",P,",",x," ",k,",",E),path.push("L",S,",",L),null!=C&&path.push("A",f,",",f," 0 ",I,",",1-x," ",C,",",O);return path.push("Z"),path.join("")}function h(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return f.innerRadius=function(e){return arguments.length?(t=Se(e),f):t},f.outerRadius=function(t){return arguments.length?(e=Se(t),f):e},f.cornerRadius=function(t){return arguments.length?(r=Se(t),f):r},f.padRadius=function(t){return arguments.length?(n=t==es?es:Se(t),f):n},f.startAngle=function(t){return arguments.length?(o=Se(t),f):o},f.endAngle=function(t){return arguments.length?(l=Se(t),f):l},f.padAngle=function(t){return arguments.length?(c=Se(t),f):c},f.centroid=function(){var r=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,a=(+o.apply(this,arguments)+ +l.apply(this,arguments))/2-Vt;return[Math.cos(a)*r,Math.sin(a)*r]},f};var es="auto";function rs(t){return t.innerRadius}function ns(t){return t.outerRadius}function is(t){return t.startAngle}function as(t){return t.endAngle}function os(t){return t&&t.padAngle}function ss(t,e,r,n){return(t-r)*e-(e-n)*t>0?0:1}function ls(t,e,r,n,o){var l=t[0]-e[0],c=t[1]-e[1],f=(o?n:-n)/Math.sqrt(l*l+c*c),h=f*c,d=-f*l,v=t[0]+h,m=t[1]+d,y=e[0]+h,x=e[1]+d,_=(v+y)/2,w=(m+x)/2,M=y-v,A=x-m,T=M*M+A*A,k=r-n,E=v*x-y*m,S=(A<0?-1:1)*Math.sqrt(Math.max(0,k*k*T-E*E)),L=(E*A-M*S)/T,C=(-E*M-A*S)/T,O=(E*A+M*S)/T,R=(-E*M+A*S)/T,D=L-_,P=C-w,I=O-_,N=R-w;return D*D+P*P>I*I+N*N&&(L=O,C=R),[[L-h,C-d],[L*r/k,C*r/k]]}function us(t){var e=bi,r=_i,n=cn,o=fs,l=o.key,c=.7;function line(data){var l,f=[],h=[],i=-1,d=data.length,v=Se(e),m=Se(r);function y(){f.push("M",o(t(h),c))}for(;++i<d;)n.call(this,l=data[i],i)?h.push([+v.call(this,l,i),+m.call(this,l,i)]):h.length&&(y(),h=[]);return h.length&&y(),f.length?f.join(""):null}return line.x=function(t){return arguments.length?(e=t,line):e},line.y=function(t){return arguments.length?(r=t,line):r},line.defined=function(t){return arguments.length?(n=t,line):n},line.interpolate=function(t){return arguments.length?(l="function"==typeof t?o=t:(o=cs.get(t)||fs).key,line):l},line.tension=function(t){return arguments.length?(c=t,line):c},line}l.svg.line=function(){return us(U)};var cs=l.map({linear:fs,"linear-closed":hs,step:function(t){var i=0,e=t.length,p=t[0],path=[p[0],",",p[1]];for(;++i<e;)path.push("H",(p[0]+(p=t[i])[0])/2,"V",p[1]);e>1&&path.push("H",p[0]);return path.join("")},"step-before":ds,"step-after":ps,basis:ms,"basis-open":function(t){if(t.length<4)return fs(t);var e,path=[],i=-1,r=t.length,n=[0],o=[0];for(;++i<3;)e=t[i],n.push(e[0]),o.push(e[1]);path.push(ys(_s,n)+","+ys(_s,o)),--i;for(;++i<r;)e=t[i],n.shift(),n.push(e[0]),o.shift(),o.push(e[1]),ws(path,n,o);return path.join("")},"basis-closed":function(t){var path,e,i=-1,r=t.length,n=r+4,o=[],l=[];for(;++i<4;)e=t[i%r],o.push(e[0]),l.push(e[1]);path=[ys(_s,o),",",ys(_s,l)],--i;for(;++i<n;)e=t[i%r],o.shift(),o.push(e[0]),l.shift(),l.push(e[1]),ws(path,o,l);return path.join("")},bundle:function(t,e){var r=t.length-1;if(r)for(var p,n,o=t[0][0],l=t[0][1],c=t[r][0]-o,f=t[r][1]-l,i=-1;++i<=r;)p=t[i],n=i/r,p[0]=e*p[0]+(1-e)*(o+n*c),p[1]=e*p[1]+(1-e)*(l+n*f);return ms(t)},cardinal:function(t,e){return t.length<3?fs(t):t[0]+gs(t,vs(t,e))},"cardinal-open":function(t,e){return t.length<4?fs(t):t[1]+gs(t.slice(1,-1),vs(t,e))},"cardinal-closed":function(t,e){return t.length<3?hs(t):t[0]+gs((t.push(t[0]),t),vs([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?fs(t):t[0]+gs(t,function(t){var e,a,b,s,r=[],n=function(t){var i=0,e=t.length-1,r=[],n=t[0],o=t[1],l=r[0]=Ms(n,o);for(;++i<e;)r[i]=(l+(l=Ms(n=o,o=t[i+1])))/2;return r[i]=l,r}(t),i=-1,o=t.length-1;for(;++i<o;)e=Ms(t[i],t[i+1]),L(e)<Ft?n[i]=n[i+1]=0:(a=n[i]/e,b=n[i+1]/e,(s=a*a+b*b)>9&&(s=3*e/Math.sqrt(s),n[i]=s*a,n[i+1]=s*b));i=-1;for(;++i<=o;)s=(t[Math.min(o,i+1)][0]-t[Math.max(0,i-1)][0])/(6*(1+n[i]*n[i])),r.push([s||0,n[i]*s||0]);return r}(t))}});function fs(t){return t.length>1?t.join("L"):t+"Z"}function hs(t){return t.join("L")+"Z"}function ds(t){for(var i=0,e=t.length,p=t[0],path=[p[0],",",p[1]];++i<e;)path.push("V",(p=t[i])[1],"H",p[0]);return path.join("")}function ps(t){for(var i=0,e=t.length,p=t[0],path=[p[0],",",p[1]];++i<e;)path.push("H",(p=t[i])[0],"V",p[1]);return path.join("")}function gs(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return fs(t);var r=t.length!=e.length,path="",n=t[0],p=t[1],o=e[0],l=o,c=1;if(r&&(path+="Q"+(p[0]-2*o[0]/3)+","+(p[1]-2*o[1]/3)+","+p[0]+","+p[1],n=t[1],c=2),e.length>1){l=e[1],p=t[c],c++,path+="C"+(n[0]+o[0])+","+(n[1]+o[1])+","+(p[0]-l[0])+","+(p[1]-l[1])+","+p[0]+","+p[1];for(var i=2;i<e.length;i++,c++)p=t[c],l=e[i],path+="S"+(p[0]-l[0])+","+(p[1]-l[1])+","+p[0]+","+p[1]}if(r){var f=t[c];path+="Q"+(p[0]+2*l[0]/3)+","+(p[1]+2*l[1]/3)+","+f[0]+","+f[1]}return path}function vs(t,e){for(var r,n=[],a=(1-e)/2,o=t[0],l=t[1],i=1,c=t.length;++i<c;)r=o,o=l,l=t[i],n.push([a*(l[0]-r[0]),a*(l[1]-r[1])]);return n}function ms(t){if(t.length<3)return fs(t);var i=1,e=t.length,r=t[0],n=r[0],o=r[1],l=[n,n,n,(r=t[1])[0]],c=[o,o,o,r[1]],path=[n,",",o,"L",ys(_s,l),",",ys(_s,c)];for(t.push(t[e-1]);++i<=e;)r=t[i],l.shift(),l.push(r[0]),c.shift(),c.push(r[1]),ws(path,l,c);return t.pop(),path.push("L",r),path.join("")}function ys(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}cs.forEach((function(t,e){e.key=t,e.closed=/-closed$/.test(t)}));var xs=[0,2/3,1/3,0],bs=[0,1/3,2/3,0],_s=[0,1/6,2/3,1/6];function ws(path,t,e){path.push("C",ys(xs,t),",",ys(xs,e),",",ys(bs,t),",",ys(bs,e),",",ys(_s,t),",",ys(_s,e))}function Ms(t,e){return(e[1]-t[1])/(e[0]-t[0])}function As(t){for(var e,r,a,i=-1,n=t.length;++i<n;)r=(e=t[i])[0],a=e[1]-Vt,e[0]=r*Math.cos(a),e[1]=r*Math.sin(a);return t}function Ts(t){var e=bi,r=bi,n=0,o=_i,l=cn,c=fs,f=c.key,h=c,d="L",v=.7;function area(data){var f,m,y,x=[],_=[],w=[],i=-1,M=data.length,A=Se(e),T=Se(n),k=e===r?function(){return m}:Se(r),E=n===o?function(){return y}:Se(o);function S(){x.push("M",c(t(w),v),d,h(t(_.reverse()),v),"Z")}for(;++i<M;)l.call(this,f=data[i],i)?(_.push([m=+A.call(this,f,i),y=+T.call(this,f,i)]),w.push([+k.call(this,f,i),+E.call(this,f,i)])):_.length&&(S(),_=[],w=[]);return _.length&&S(),x.length?x.join(""):null}return area.x=function(t){return arguments.length?(e=r=t,area):r},area.x0=function(t){return arguments.length?(e=t,area):e},area.x1=function(t){return arguments.length?(r=t,area):r},area.y=function(t){return arguments.length?(n=o=t,area):o},area.y0=function(t){return arguments.length?(n=t,area):n},area.y1=function(t){return arguments.length?(o=t,area):o},area.defined=function(t){return arguments.length?(l=t,area):l},area.interpolate=function(t){return arguments.length?(f="function"==typeof t?c=t:(c=cs.get(t)||fs).key,h=c.reverse||c,d=c.closed?"M":"L",area):f},area.tension=function(t){return arguments.length?(v=t,area):v},area}function ks(t){return t.radius}function Es(t){return[t.x,t.y]}function Ss(t){return function(){var e=t.apply(this,arguments),r=e[0],a=e[1]-Vt;return[r*Math.cos(a),r*Math.sin(a)]}}function Ls(){return 64}function Cs(){return"circle"}function Os(t){var e=Math.sqrt(t/Bt);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}l.svg.line.radial=function(){var line=us(As);return line.radius=line.x,delete line.x,line.angle=line.y,delete line.y,line},ds.reverse=ps,ps.reverse=ds,l.svg.area=function(){return Ts(U)},l.svg.area.radial=function(){var area=Ts(As);return area.radius=area.x,delete area.x,area.innerRadius=area.x0,delete area.x0,area.outerRadius=area.x1,delete area.x1,area.angle=area.y,delete area.y,area.startAngle=area.y0,delete area.y0,area.endAngle=area.y1,delete area.y1,area},l.svg.chord=function(){var source=ai,t=oi,e=ks,r=is,n=as;function o(e,i){var a,b,s=l(this,source,e,i),r=l(this,t,e,i);return"M"+s.p0+c(s.r,s.p1,s.a1-s.a0)+(b=r,((a=s).a0==b.a0&&a.a1==b.a1?f(s.r,s.p1,s.r,s.p0):f(s.r,s.p1,r.r,r.p0)+c(r.r,r.p1,r.a1-r.a0)+f(r.r,r.p1,s.r,s.p0))+"Z")}function l(t,o,l,i){var c=o.call(t,l,i),f=e.call(t,c,i),h=r.call(t,c,i)-Vt,d=n.call(t,c,i)-Vt;return{r:f,a0:h,a1:d,p0:[f*Math.cos(h),f*Math.sin(h)],p1:[f*Math.cos(d),f*Math.sin(d)]}}function c(t,p,a){return"A"+t+","+t+" 0 "+ +(a>Bt)+",1 "+p}function f(t,e,r,n){return"Q 0,0 "+n}return o.radius=function(t){return arguments.length?(e=Se(t),o):e},o.source=function(t){return arguments.length?(source=Se(t),o):source},o.target=function(e){return arguments.length?(t=Se(e),o):t},o.startAngle=function(t){return arguments.length?(r=Se(t),o):r},o.endAngle=function(t){return arguments.length?(n=Se(t),o):n},o},l.svg.diagonal=function(){var source=ai,t=oi,e=Es;function r(r,i){var n=source.call(this,r,i),o=t.call(this,r,i),l=(n.y+o.y)/2,p=[n,{x:n.x,y:l},{x:o.x,y:l},o];return"M"+(p=p.map(e))[0]+"C"+p[1]+" "+p[2]+" "+p[3]}return r.source=function(t){return arguments.length?(source=Se(t),r):source},r.target=function(e){return arguments.length?(t=Se(e),r):t},r.projection=function(t){return arguments.length?(e=t,r):e},r},l.svg.diagonal.radial=function(){var t=l.svg.diagonal(),e=Es,r=t.projection;return t.projection=function(t){return arguments.length?r(Ss(e=t)):e},t},l.svg.symbol=function(){var t=Cs,e=Ls;function symbol(r,i){return(Rs.get(t.call(this,r,i))||Os)(e.call(this,r,i))}return symbol.type=function(e){return arguments.length?(t=Se(e),symbol):t},symbol.size=function(t){return arguments.length?(e=Se(t),symbol):e},symbol};var Rs=l.map({circle:Os,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Ps)),r=e*Ps;return"M0,"+-e+"L"+r+",0 0,"+e+" "+-r+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Ds),r=e*Ds/2;return"M0,"+r+"L"+e+","+-r+" "+-e+","+-r+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Ds),r=e*Ds/2;return"M0,"+-r+"L"+e+","+r+" "+-e+","+r+"Z"}});l.svg.symbolTypes=Rs.keys();var Ds=Math.sqrt(3),Ps=Math.tan(30*Yt);at.transition=function(t){for(var e,r,n=Fs||++Us,o=Ys(t),l=[],c=js||{time:Date.now(),ease:Ea,delay:0,duration:250},f=-1,h=this.length;++f<h;){l.push(e=[]);for(var d=this[f],i=-1,v=d.length;++i<v;)(r=d[i])&&Gs(r,i,o,n,c),e.push(r)}return zs(l,o,n)},at.interrupt=function(t){return this.each(null==t?Is:Ns(Ys(t)))};var Is=Ns(Ys());function Ns(t){return function(){var e,r,n;(e=this[t])&&(n=e[r=e.active])&&(n.timer.c=null,n.timer.t=NaN,--e.count?delete e[r]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function zs(t,e,r){return $(t,Bs),t.namespace=e,t.id=r,t}var Fs,js,Bs=[],Us=0;function Hs(t,e,r,n){var o=t.id,l=t.namespace;return At(t,"function"==typeof r?function(t,i,c){t[l][o].tween.set(e,n(r.call(t,t.__data__,i,c)))}:(r=n(r),function(t){t[l][o].tween.set(e,r)}))}function Vs(b){return null==b&&(b=""),function(){this.textContent=b}}function Ys(t){return null==t?"__transition__":"__transition_"+t+"__"}function Gs(t,i,e,r,n){var time,o,l,c,f,h=t[e]||(t[e]={active:0,count:0}),d=h[r];function v(e){var n=h.active,v=h[n];for(var y in v&&(v.timer.c=null,v.timer.t=NaN,--h.count,delete h[n],v.event&&v.event.interrupt.call(t,t.__data__,v.index)),h)if(+y<r){var x=h[y];x.timer.c=null,x.timer.t=NaN,--h.count,delete h[y]}o.c=m,Ne((function(){return o.c&&m(e||1)&&(o.c=null,o.t=NaN),1}),0,time),h.active=r,d.event&&d.event.start.call(t,t.__data__,i),f=[],d.tween.forEach((function(e,r){(r=r.call(t,t.__data__,i))&&f.push(r)})),c=d.ease,l=d.duration}function m(n){for(var o=n/l,v=c(o),m=f.length;m>0;)f[--m].call(t,v);if(o>=1)return d.event&&d.event.end.call(t,t.__data__,i),--h.count?delete h[r]:delete t[e],1}d||(time=n.time,o=Ne((function(t){var e=d.delay;if(o.t=e+time,e<=t)return v(t-e);o.c=v}),0,time),d=h[r]={tween:new R,time:time,timer:o,delay:n.delay,duration:n.duration,ease:n.ease,index:i},n=null,++h.count)}Bs.call=at.call,Bs.empty=at.empty,Bs.node=at.node,Bs.size=at.size,l.transition=function(t,e){return t&&t.transition?Fs?t.transition(e):t:l.selection().transition(t)},l.transition.prototype=Bs,Bs.select=function(t){var e,r,n,o=this.id,l=this.namespace,c=[];t=ot(t);for(var f=-1,h=this.length;++f<h;){c.push(e=[]);for(var d=this[f],i=-1,v=d.length;++i<v;)(n=d[i])&&(r=t.call(n,n.__data__,i,f))?("__data__"in n&&(r.__data__=n.__data__),Gs(r,i,l,o,n[l][o]),e.push(r)):e.push(null)}return zs(c,l,o)},Bs.selectAll=function(t){var e,r,n,o,l,c=this.id,f=this.namespace,h=[];t=st(t);for(var d=-1,v=this.length;++d<v;)for(var m=this[d],i=-1,y=m.length;++i<y;)if(n=m[i]){l=n[f][c],r=t.call(n,n.__data__,i,d),h.push(e=[]);for(var x=-1,_=r.length;++x<_;)(o=r[x])&&Gs(o,x,f,c,l),e.push(o)}return zs(h,f,c)},Bs.filter=function(filter){var t,e,r=[];"function"!=typeof filter&&(filter=wt(filter));for(var n=0,o=this.length;n<o;n++){r.push(t=[]);for(var l,i=0,c=(l=this[n]).length;i<c;i++)(e=l[i])&&filter.call(e,e.__data__,i,n)&&t.push(e)}return zs(r,this.namespace,this.id)},Bs.tween=function(t,e){var r=this.id,n=this.namespace;return arguments.length<2?this.node()[n][r].tween.get(t):At(this,null==e?function(e){e[n][r].tween.remove(t)}:function(o){o[n][r].tween.set(t,e)})},Bs.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var r="transform"==t?Fa:ma,n=l.ns.qualify(t);function o(){this.removeAttribute(n)}function c(){this.removeAttributeNS(n.space,n.local)}function f(b){return null==b?o:(b+="",function(){var i,a=this.getAttribute(n);return a!==b&&(i=r(a,b),function(t){this.setAttribute(n,i(t))})})}function h(b){return null==b?c:(b+="",function(){var i,a=this.getAttributeNS(n.space,n.local);return a!==b&&(i=r(a,b),function(t){this.setAttributeNS(n.space,n.local,i(t))})})}return Hs(this,"attr."+t,e,n.local?h:f)},Bs.attrTween=function(t,e){var r=l.ns.qualify(t);return this.tween("attr."+t,r.local?function(t,i){var n=e.call(this,t,i,this.getAttributeNS(r.space,r.local));return n&&function(t){this.setAttributeNS(r.space,r.local,n(t))}}:function(t,i){var n=e.call(this,t,i,this.getAttribute(r));return n&&function(t){this.setAttribute(r,n(t))}})},Bs.style=function(t,e,r){var n=arguments.length;if(n<3){if("string"!=typeof t){for(r in n<2&&(e=""),t)this.style(r,t[r],e);return this}r=""}function o(){this.style.removeProperty(t)}function l(b){return null==b?o:(b+="",function(){var i,a=v(this).getComputedStyle(this,null).getPropertyValue(t);return a!==b&&(i=ma(a,b),function(e){this.style.setProperty(t,i(e),r)})})}return Hs(this,"style."+t,e,l)},Bs.styleTween=function(t,e,r){function n(n,i){var o=e.call(this,n,i,v(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),r)}}return arguments.length<3&&(r=""),this.tween("style."+t,n)},Bs.text=function(t){return Hs(this,"text",t,Vs)},Bs.remove=function(){var t=this.namespace;return this.each("end.transition",(function(){var p;this[t].count<2&&(p=this.parentNode)&&p.removeChild(this)}))},Bs.ease=function(t){var e=this.id,r=this.namespace;return arguments.length<1?this.node()[r][e].ease:("function"!=typeof t&&(t=l.ease.apply(l,arguments)),At(this,(function(n){n[r][e].ease=t})))},Bs.delay=function(t){var e=this.id,r=this.namespace;return arguments.length<1?this.node()[r][e].delay:At(this,"function"==typeof t?function(n,i,o){n[r][e].delay=+t.call(n,n.__data__,i,o)}:(t=+t,function(n){n[r][e].delay=t}))},Bs.duration=function(t){var e=this.id,r=this.namespace;return arguments.length<1?this.node()[r][e].duration:At(this,"function"==typeof t?function(n,i,o){n[r][e].duration=Math.max(1,t.call(n,n.__data__,i,o))}:(t=Math.max(1,t),function(n){n[r][e].duration=t}))},Bs.each=function(t,e){var r=this.id,n=this.namespace;if(arguments.length<2){var o=js,c=Fs;try{Fs=r,At(this,(function(e,i,o){js=e[n][r],t.call(e,e.__data__,i,o)}))}finally{js=o,Fs=c}}else At(this,(function(o){var c=o[n][r];(c.event||(c.event=l.dispatch("start","end","interrupt"))).on(t,e)}));return this},Bs.transition=function(){for(var t,e,r,n=this.id,o=++Us,l=this.namespace,c=[],f=0,h=this.length;f<h;f++){c.push(t=[]);for(var d,i=0,v=(d=this[f]).length;i<v;i++)(e=d[i])&&Gs(e,i,l,o,{time:(r=e[l][n]).time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration}),t.push(e)}return zs(c,l,o)},l.svg.axis=function(){var t,e=l.scale.linear(),r=qs,n=6,o=6,c=3,h=[10],d=null;function v(g){g.each((function(){var f,g=l.select(this),v=this.__chart__||e,m=this.__chart__=e.copy(),y=null==d?m.ticks?m.ticks.apply(m,h):m.domain():d,x=null==t?m.tickFormat?m.tickFormat.apply(m,h):U:t,_=g.selectAll(".tick").data(y,m),w=_.enter().insert("g",".domain").attr("class","tick").style("opacity",Ft),M=l.transition(_.exit()).style("opacity",Ft).remove(),A=l.transition(_.order()).style("opacity",1),T=Math.max(n,0)+c,k=Po(m),path=g.selectAll(".domain").data([0]),E=(path.enter().append("path").attr("class","domain"),l.transition(path));w.append("line"),w.append("text");var S,L,C,O,R=w.select("line"),D=A.select("line"),text=_.select("text").text(x),P=w.select("text"),I=A.select("text"),N="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(f=Xs,S="x",C="y",L="x2",O="y2",text.attr("dy",N<0?"0em":".71em").style("text-anchor","middle"),E.attr("d","M"+k[0]+","+N*o+"V0H"+k[1]+"V"+N*o)):(f=Zs,S="y",C="x",L="y2",O="x2",text.attr("dy",".32em").style("text-anchor",N<0?"end":"start"),E.attr("d","M"+N*o+","+k[0]+"H0V"+k[1]+"H"+N*o)),R.attr(O,N*n),P.attr(C,N*T),D.attr(L,0).attr(O,N*n),I.attr(S,0).attr(C,N*T),m.rangeBand){var z=m,F=z.rangeBand()/2;v=m=function(t){return z(t)+F}}else v.rangeBand?v=m:M.call(f,m,v);w.call(f,v,m),A.call(f,m,m)}))}return v.scale=function(t){return arguments.length?(e=t,v):e},v.orient=function(t){return arguments.length?(r=t in Ws?t+"":qs,v):r},v.ticks=function(){return arguments.length?(h=f(arguments),v):h},v.tickValues=function(t){return arguments.length?(d=t,v):d},v.tickFormat=function(e){return arguments.length?(t=e,v):t},v.tickSize=function(t){var e=arguments.length;return e?(n=+t,o=+arguments[e-1],v):n},v.innerTickSize=function(t){return arguments.length?(n=+t,v):n},v.outerTickSize=function(t){return arguments.length?(o=+t,v):o},v.tickPadding=function(t){return arguments.length?(c=+t,v):c},v.tickSubdivide=function(){return arguments.length&&v},v};var qs="bottom",Ws={top:1,right:1,bottom:1,left:1};function Xs(t,e,r){t.attr("transform",(function(t){var n=e(t);return"translate("+(isFinite(n)?n:r(t))+",0)"}))}function Zs(t,e,r){t.attr("transform",(function(t){var n=e(t);return"translate(0,"+(isFinite(n)?n:r(t))+")"}))}l.svg.brush=function(){var t,e,r=Q(y,"brushstart","brush","brushend"),n=null,o=null,c=[0,0],f=[0,0],h=!0,d=!0,m=Qs[0];function y(g){g.each((function(){var g=l.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",M).on("touchstart.brush",M),t=g.selectAll(".background").data([0]);t.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),g.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var e=g.selectAll(".resize").data(m,U);e.exit().remove(),e.enter().append("g").attr("class",(function(t){return"resize "+t})).style("cursor",(function(t){return Js[t]})).append("rect").attr("x",(function(t){return/[ew]$/.test(t)?-3:null})).attr("y",(function(t){return/^[ns]/.test(t)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),e.style("display",y.empty()?"none":null);var r,c=l.transition(g),f=l.transition(t);n&&(r=Po(n),f.attr("x",r[0]).attr("width",r[1]-r[0]),_(c)),o&&(r=Po(o),f.attr("y",r[0]).attr("height",r[1]-r[0]),w(c)),x(c)}))}function x(g){g.selectAll(".resize").attr("transform",(function(t){return"translate("+c[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"}))}function _(g){g.select(".extent").attr("x",c[0]),g.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function w(g){g.select(".extent").attr("y",f[0]),g.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function M(){var m,M,A=this,T=l.select(l.event.target),k=r.of(A,arguments),g=l.select(A),E=T.datum(),S=!/^(n|s)$/.test(E)&&n,L=!/^(e|w)$/.test(E)&&o,C=T.classed("extent"),O=Pt(A),R=l.mouse(A),D=l.select(v(A)).on("keydown.brush",N).on("keyup.brush",z);if(l.event.changedTouches?D.on("touchmove.brush",F).on("touchend.brush",B):D.on("mousemove.brush",F).on("mouseup.brush",B),g.interrupt().selectAll("*").interrupt(),C)R[0]=c[0]-R[0],R[1]=f[0]-R[1];else if(E){var P=+/w$/.test(E),I=+/^n/.test(E);M=[c[1-P]-R[0],f[1-I]-R[1]],R[0]=c[P],R[1]=f[I]}else l.event.altKey&&(m=R.slice());function N(){32==l.event.keyCode&&(C||(m=null,R[0]-=c[1],R[1]-=f[1],C=2),Z())}function z(){32==l.event.keyCode&&2==C&&(R[0]+=c[1],R[1]+=f[1],C=0,Z())}function F(){var t=l.mouse(A),e=!1;M&&(t[0]+=M[0],t[1]+=M[1]),C||(l.event.altKey?(m||(m=[(c[0]+c[1])/2,(f[0]+f[1])/2]),R[0]=c[+(t[0]<m[0])],R[1]=f[+(t[1]<m[1])]):m=null),S&&j(t,n,0)&&(_(g),e=!0),L&&j(t,o,1)&&(w(g),e=!0),e&&(x(g),k({type:"brush",mode:C?"move":"resize"}))}function j(r,n,i){var o,l,v=Po(n),y=v[0],x=v[1],_=R[i],w=i?f:c,M=w[1]-w[0];if(C&&(y-=_,x-=M+_),o=(i?d:h)?Math.max(y,Math.min(x,r[i])):r[i],C?l=(o+=_)+M:(m&&(_=Math.max(y,Math.min(x,2*m[i]-o))),_<o?(l=o,o=_):l=_),w[0]!=o||w[1]!=l)return i?e=null:t=null,w[0]=o,w[1]=l,!0}function B(){F(),g.style("pointer-events","all").selectAll(".resize").style("display",y.empty()?"none":null),l.select("body").style("cursor",null),D.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),O(),k({type:"brushend"})}g.style("pointer-events","none").selectAll(".resize").style("display",null),l.select("body").style("cursor",T.style("cursor")),k({type:"brushstart"}),F()}return y.event=function(g){g.each((function(){var n=r.of(this,arguments),o={x:c,y:f,i:t,j:e},h=this.__chart__||o;this.__chart__=o,Fs?l.select(this).transition().each("start.brush",(function(){t=h.i,e=h.j,c=h.x,f=h.y,n({type:"brushstart"})})).tween("brush:brush",(function(){var r=ya(c,o.x),l=ya(f,o.y);return t=e=null,function(t){c=o.x=r(t),f=o.y=l(t),n({type:"brush",mode:"resize"})}})).each("end.brush",(function(){t=o.i,e=o.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})})):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))}))},y.x=function(t){return arguments.length?(m=Qs[!(n=t)<<1|!o],y):n},y.y=function(t){return arguments.length?(m=Qs[!n<<1|!(o=t)],y):o},y.clamp=function(t){return arguments.length?(n&&o?(h=!!t[0],d=!!t[1]):n?h=!!t:o&&(d=!!t),y):n&&o?[h,d]:n?h:o?d:null},y.extent=function(r){var l,h,d,v,m;return arguments.length?(n&&(l=r[0],h=r[1],o&&(l=l[0],h=h[0]),t=[l,h],n.invert&&(l=n(l),h=n(h)),h<l&&(m=l,l=h,h=m),l==c[0]&&h==c[1]||(c=[l,h])),o&&(d=r[0],v=r[1],n&&(d=d[1],v=v[1]),e=[d,v],o.invert&&(d=o(d),v=o(v)),v<d&&(m=d,d=v,v=m),d==f[0]&&v==f[1]||(f=[d,v])),y):(n&&(t?(l=t[0],h=t[1]):(l=c[0],h=c[1],n.invert&&(l=n.invert(l),h=n.invert(h)),h<l&&(m=l,l=h,h=m))),o&&(e?(d=e[0],v=e[1]):(d=f[0],v=f[1],o.invert&&(d=o.invert(d),v=o.invert(v)),v<d&&(m=d,d=v,v=m))),n&&o?[[l,d],[h,v]]:n?[l,h]:o&&[d,v])},y.clear=function(){return y.empty()||(c=[0,0],f=[0,0],t=e=null),y},y.empty=function(){return!!n&&c[0]==c[1]||!!o&&f[0]==f[1]},l.rebind(y,r,"on")};var Js={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Qs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ks=qe.format=Ar.timeFormat,$s=Ks.utc,tl=$s("%Y-%m-%dT%H:%M:%S.%LZ");function el(t){return t.toISOString()}function rl(t,e,r){function n(e){return t(e)}function o(t,r){var n=(t[1]-t[0])/r,i=l.bisect(il,n);return i==il.length?[e.year,Ho(t.map((function(t){return t/31536e6})),r)[2]]:i?e[n/il[i-1]<il[i]/n?i-1:i]:[ll,Ho(t,r)[2]]}return n.invert=function(e){return nl(t.invert(e))},n.domain=function(e){return arguments.length?(t.domain(e),n):t.domain().map(nl)},n.nice=function(t,e){var r=n.domain(),l=Do(r),c=null==t?o(l,10):"number"==typeof t&&o(l,t);function f(r){return!isNaN(r)&&!t.range(r,nl(+r+1),e).length}return c&&(t=c[0],e=c[1]),n.domain(No(r,e>1?{floor:function(e){for(;f(e=t.floor(e));)e=nl(e-1);return e},ceil:function(e){for(;f(e=t.ceil(e));)e=nl(+e+1);return e}}:t))},n.ticks=function(t,e){var r=Do(n.domain()),l=null==t?o(r,10):"number"==typeof t?o(r,t):!t.range&&[{range:t},e];return l&&(t=l[0],e=l[1]),t.range(r[0],nl(+r[1]+1),e<1?1:e)},n.tickFormat=function(){return r},n.copy=function(){return rl(t.copy(),e,r)},Bo(n,t)}function nl(t){return new Date(t)}Ks.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?el:tl,el.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},el.toString=tl.toString,qe.second=Je((function(t){return new We(1e3*Math.floor(t/1e3))}),(function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))}),(function(t){return t.getSeconds()})),qe.seconds=qe.second.range,qe.seconds.utc=qe.second.utc.range,qe.minute=Je((function(t){return new We(6e4*Math.floor(t/6e4))}),(function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))}),(function(t){return t.getMinutes()})),qe.minutes=qe.minute.range,qe.minutes.utc=qe.minute.utc.range,qe.hour=Je((function(t){var e=t.getTimezoneOffset()/60;return new We(36e5*(Math.floor(t/36e5-e)+e))}),(function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))}),(function(t){return t.getHours()})),qe.hours=qe.hour.range,qe.hours.utc=qe.hour.utc.range,qe.month=Je((function(t){return(t=qe.day(t)).setDate(1),t}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t){return t.getMonth()})),qe.months=qe.month.range,qe.months.utc=qe.month.utc.range;var il=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],al=[[qe.second,1],[qe.second,5],[qe.second,15],[qe.second,30],[qe.minute,1],[qe.minute,5],[qe.minute,15],[qe.minute,30],[qe.hour,1],[qe.hour,3],[qe.hour,6],[qe.hour,12],[qe.day,1],[qe.day,2],[qe.week,1],[qe.month,1],[qe.month,3],[qe.year,1]],sl=Ks.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",cn]]),ll={range:function(t,e,r){return l.range(Math.ceil(t/r)*r,+e,r).map(nl)},floor:U,ceil:U};al.year=qe.year,qe.scale=function(){return rl(l.scale.linear(),al,sl)};var cl=al.map((function(t){return[t[0].utc,t[1]]})),fl=$s.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",cn]]);function hl(t){return JSON.parse(t.responseText)}function pl(t){var e=h.createRange();return e.selectNode(h.body),e.createContextualFragment(t.responseText)}cl.year=qe.year.utc,qe.scale.utc=function(){return rl(l.scale.linear(),cl,fl)},l.text=Le((function(t){return t.responseText})),l.json=function(t,e){return Ce(t,"application/json",hl,e)},l.html=function(t,e){return Ce(t,"text/html",pl,e)},l.xml=Le((function(t){return t.responseXML})),this.d3=l,void 0===(o="function"==typeof(n=l)?n.call(e,r,e,t):n)||(t.exports=o)}()},function(t,e,r){"use strict";var n=r(602);t.exports=function(t){var e=typeof t;if("string"===e){var r=t;if(0===(t=+t)&&n(r))return!1}else if("number"!==e)return!1;return t-t<1}},function(t,e,r){"use strict";var n=r(443),o=r(424),l=t.exports={},c=r(456);l.defaults=c.defaults;var f=l.defaultLine=c.defaultLine;l.lightLine=c.lightLine;var h=l.background=c.background;function d(t){if(o(t)||"string"!=typeof t)return t;var e=t.trim();if("rgb"!==e.substr(0,3))return t;var r=e.match(/^rgba?\s*\(([^()]*)\)$/);if(!r)return t;var n=r[1].trim().split(/\s*[\s,]\s*/),l="a"===e.charAt(3)&&4===n.length;if(!l&&3!==n.length)return t;for(var i=0;i<n.length;i++){if(!n[i].length)return t;if(n[i]=Number(n[i]),!(n[i]>=0))return t;if(3===i)n[i]>1&&(n[i]=1);else if(n[i]>=1)return t}var c=Math.round(255*n[0])+", "+Math.round(255*n[1])+", "+Math.round(255*n[2]);return l?"rgba("+c+", "+n[3]+")":"rgb("+c+")"}l.tinyRGB=function(t){var e=t.toRgb();return"rgb("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+")"},l.rgb=function(t){return l.tinyRGB(n(t))},l.opacity=function(t){return t?n(t).getAlpha():0},l.addOpacity=function(t,e){var r=n(t).toRgb();return"rgba("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+", "+e+")"},l.combine=function(t,e){var r=n(t).toRgb();if(1===r.a)return n(t).toRgbString();var o=n(e||h).toRgb(),l=1===o.a?o:{r:255*(1-o.a)+o.r*o.a,g:255*(1-o.a)+o.g*o.a,b:255*(1-o.a)+o.b*o.a},c={r:l.r*(1-r.a)+r.r*r.a,g:l.g*(1-r.a)+r.g*r.a,b:l.b*(1-r.a)+r.b*r.a};return n(c).toRgbString()},l.contrast=function(t,e,r){var o=n(t);return 1!==o.getAlpha()&&(o=n(l.combine(t,h))),(o.isDark()?e?o.lighten(e):h:r?o.darken(r):f).toString()},l.stroke=function(s,t){var e=n(t);s.style({stroke:l.tinyRGB(e),"stroke-opacity":e.getAlpha()})},l.fill=function(s,t){var e=n(t);s.style({fill:l.tinyRGB(e),"fill-opacity":e.getAlpha()})},l.clean=function(t){if(t&&"object"==typeof t){var i,e,r,n,o=Object.keys(t);for(i=0;i<o.length;i++)if(n=t[r=o[i]],"color"===r.substr(r.length-5))if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]=d(n[e]);else t[r]=d(n);else if("colorscale"===r.substr(r.length-10)&&Array.isArray(n))for(e=0;e<n.length;e++)Array.isArray(n[e])&&(n[e][1]=d(n[e][1]));else if(Array.isArray(n)){var c=n[0];if(!Array.isArray(c)&&c&&"object"==typeof c)for(e=0;e<n.length;e++)l.clean(n[e])}else n&&"object"==typeof n&&l.clean(n)}}},function(t,e,r){"use strict";var n=r(423),o=r(424),l=r(431),c=r(422),f=r(421),h=f.strTranslate,d=r(440),v=r(504),m=r(425),y=r(427),x=r(446),_=r(626),w=r(430),M=w.ONEMAXYEAR,A=w.ONEAVGYEAR,T=w.ONEMINYEAR,k=w.ONEMAXQUARTER,E=w.ONEAVGQUARTER,S=w.ONEMINQUARTER,L=w.ONEMAXMONTH,C=w.ONEAVGMONTH,O=w.ONEMINMONTH,R=w.ONEWEEK,D=w.ONEDAY,P=D/2,I=w.ONEHOUR,N=w.ONEMIN,z=w.ONESEC,F=w.MINUS_SIGN,j=w.BADNUM,B=r(438),U=B.MID_SHIFT,H=B.CAP_SHIFT,V=B.LINE_SPACING,Y=B.OPPOSITE_SIDE,G=t.exports={};G.setConvert=r(505);var W=r(631),X=r(432),Z=X.idSort,J=X.isLinked;G.id2name=X.id2name,G.name2id=X.name2id,G.cleanId=X.cleanId,G.list=X.list,G.listIds=X.listIds,G.getFromId=X.getFromId,G.getFromTrace=X.getFromTrace;var Q=r(506);G.getAutoRange=Q.getAutoRange,G.findExtremes=Q.findExtremes;function K(t){var e=1e-4*(t[1]-t[0]);return[t[0]-e,t[1]+e]}G.coerceRef=function(t,e,r,n,o,l){var c=n.charAt(n.length-1),h=r._fullLayout._subplots[c+"axis"],d=n+"ref",v={};return o||(o=h[0]||("string"==typeof l?l:l[0])),l||(l=o),h=h.concat(h.map((function(t){return t+" domain"}))),v[d]={valType:"enumerated",values:h.concat(l?"string"==typeof l?[l]:l:[]),dflt:o},f.coerce(t,e,v,d)},G.getRefType=function(t){return void 0===t?t:"paper"===t?"paper":"pixel"===t?"pixel":/( domain)$/.test(t)?"domain":"range"},G.coercePosition=function(t,e,r,n,o,l){var c,h;if("range"!==G.getRefType(n))c=f.ensureNumber,h=r(o,l);else{var d=G.getFromId(e,n);h=r(o,l=d.fraction2r(l)),c=d.cleanPos}t[o]=c(h)},G.cleanPosition=function(t,e,r){return("paper"===r||"pixel"===r?f.ensureNumber:G.getFromId(e,r).cleanPos)(t)},G.redrawComponents=function(t,e){e=e||G.listIds(t);var r=t._fullLayout;function n(n,o,l,f){for(var h=c.getComponentMethod(n,o),d={},i=0;i<e.length;i++)for(var v=r[G.id2name(e[i])][l],m=0;m<v.length;m++){var y=v[m];if(!d[y]&&(h(t,y),d[y]=1,f))return}}n("annotations","drawOne","_annIndices"),n("shapes","drawOne","_shapeIndices"),n("images","draw","_imgIndices",!0)};var $=G.getDataConversions=function(t,e,r,n){var o,l="x"===r||"y"===r||"z"===r?r:n;if(Array.isArray(l)){if(o={type:W(n,void 0,{autotypenumbers:t._fullLayout.autotypenumbers}),_categories:[]},G.setConvert(o),"category"===o.type)for(var i=0;i<n.length;i++)o.d2c(n[i])}else o=G.getFromTrace(t,e,l);return o?{d2c:o.d2c,c2d:o.c2d}:"ids"===l?{d2c:et,c2d:et}:{d2c:tt,c2d:tt}};function tt(t){return+t}function et(t){return String(t)}function nt(t){return+t.substring(1)}G.getDataToCoordFunc=function(t,e,r,n){return $(t,e,r,n).d2c},G.counterLetter=function(t){var e=t.charAt(0);return"x"===e?"y":"y"===e?"x":void 0},G.minDtick=function(t,e,r,n){-1===["log","category","multicategory"].indexOf(t.type)&&n?void 0===t._minDtick?(t._minDtick=e,t._forceTick0=r):t._minDtick&&((t._minDtick/e+1e-6)%1<2e-6&&((r-t._forceTick0)/e%1+1.000001)%1<2e-6?(t._minDtick=e,t._forceTick0=r):((e/t._minDtick+1e-6)%1>2e-6||((r-t._forceTick0)/t._minDtick%1+1.000001)%1>2e-6)&&(t._minDtick=0)):t._minDtick=0},G.saveRangeInitial=function(t,e){for(var r=G.list(t,"",!0),n=!1,i=0;i<r.length;i++){var o=r[i],l=void 0===o._rangeInitial,c=l||!(o.range[0]===o._rangeInitial[0]&&o.range[1]===o._rangeInitial[1]);(l&&!1===o.autorange||e&&c)&&(o._rangeInitial=o.range.slice(),n=!0)}return n},G.saveShowSpikeInitial=function(t,e){for(var r=G.list(t,"",!0),n=!1,o="on",i=0;i<r.length;i++){var l=r[i],c=void 0===l._showSpikeInitial,f=c||!(l.showspikes===l._showspikes);(c||e&&f)&&(l._showSpikeInitial=l.showspikes,n=!0),"on"!==o||l.showspikes||(o="off")}return t._fullLayout._cartesianSpikesEnabled=o,n},G.autoBin=function(data,t,e,r,n,l){var c,h=f.aggNums(Math.min,null,data),d=f.aggNums(Math.max,null,data);if("category"===t.type||"multicategory"===t.type)return{start:h-.5,end:d+.5,size:Math.max(1,Math.round(l)||1),_dataSpan:d-h};if(n||(n=t.calendar),c="log"===t.type?{type:"linear",range:[h,d]}:{type:t.type,range:f.simpleMap([h,d],t.c2r,0,n),calendar:n},G.setConvert(c),l=l&&_.dtick(l,c.type))c.dtick=l,c.tick0=_.tick0(void 0,c.type,n);else{var v;if(e)v=(d-h)/e;else{var m=f.distinctVals(data),y=Math.pow(10,Math.floor(Math.log(m.minDiff)/Math.LN10)),x=y*f.roundUp(m.minDiff/y,[.9,1.9,4.9,9.9],!0);v=Math.max(x,2*f.stdev(data)/Math.pow(data.length,r?.25:.4)),o(v)||(v=1)}G.autoTicks(c,v)}var w,M=c.dtick,A=G.tickIncrement(G.tickFirst(c),M,"reverse",n);if("number"==typeof M)w=(A=function(t,data,e,r,n){var l=0,c=0,f=0,h=0;function d(r){return(1+100*(r-t)/e.dtick)%100<2}for(var i=0;i<data.length;i++)data[i]%1==0?f++:o(data[i])||h++,d(data[i])&&l++,d(data[i]+e.dtick/2)&&c++;var v=data.length-h;if(f===v&&"date"!==e.type)e.dtick<1?t=r-.5*e.dtick:(t-=.5)+e.dtick<r&&(t+=e.dtick);else if(c<.1*v&&(l>.3*v||d(r)||d(n))){var m=e.dtick/2;t+=t+m<r?m:-m}return t}(A,data,c,h,d))+(1+Math.floor((d-A)/M))*M;else for("M"===c.dtick.charAt(0)&&(A=function(t,data,e,r,n){var o=f.findExactDates(data,n);if(o.exactDays>.8){var l=Number(e.substr(1));o.exactYears>.8&&l%12==0?t=G.tickIncrement(t,"M6","reverse")+1.5*D:o.exactMonths>.8?t=G.tickIncrement(t,"M1","reverse")+15.5*D:t-=P;var c=G.tickIncrement(t,e);if(c<=r)return c}return t}(A,data,M,h,n)),w=A,0;w<=d;)w=G.tickIncrement(w,M,!1,n);return{start:t.c2r(A,0,n),end:t.c2r(w,0,n),size:M,_dataSpan:d-h}},G.prepTicks=function(t,e){var r=f.simpleMap(t.range,t.r2l,void 0,void 0,e);if(t._dtickInit=t.dtick,t._tick0Init=t.tick0,"auto"===t.tickmode||!t.dtick){var n,l=t.nticks;l||("category"===t.type||"multicategory"===t.type?(n=t.tickfont?1.2*(t.tickfont.size||12):15,l=t._length/n):(n="y"===t._id.charAt(0)?40:80,l=f.constrain(t._length/n,4,9)+1),"radialaxis"===t._name&&(l*=2)),"array"===t.tickmode&&(l*=100),t._roughDTick=Math.abs(r[1]-r[0])/l,G.autoTicks(t,t._roughDTick),t._minDtick>0&&t.dtick<2*t._minDtick&&(t.dtick=t._minDtick,t.tick0=t.l2r(t._forceTick0))}"period"===t.ticklabelmode&&function(t){var e;function r(){return!(o(t.dtick)||"M"!==t.dtick.charAt(0))}var n=r(),l=G.getTickFormat(t);if(l){var c=t._dtickInit!==t.dtick;/%[fLQsSMX]/.test(l)||(/%[HI]/.test(l)?(e=I,c&&!n&&t.dtick<I&&(t.dtick=I)):/%p/.test(l)?(e=P,c&&!n&&t.dtick<P&&(t.dtick=P)):/%[Aadejuwx]/.test(l)?(e=D,c&&!n&&t.dtick<D&&(t.dtick=D)):/%[UVW]/.test(l)?(e=R,c&&!n&&t.dtick<R&&(t.dtick=R)):/%[Bbm]/.test(l)?(e=C,c&&(n?nt(t.dtick)<1:t.dtick<O)&&(t.dtick="M1")):/%[q]/.test(l)?(e=E,c&&(n?nt(t.dtick)<3:t.dtick<S)&&(t.dtick="M3")):/%[Yy]/.test(l)&&(e=A,c&&(n?nt(t.dtick)<12:t.dtick<T)&&(t.dtick="M12")))}(n=r())&&t.tick0===t._dowTick0&&(t.tick0=t._rawTick0);t._definedDelta=e}(t),t.tick0||(t.tick0="date"===t.type?"2000-01-01":0),"date"===t.type&&t.dtick<.1&&(t.dtick=.1),ht(t)},G.calcTicks=function(t,e){G.prepTicks(t,e);var r=f.simpleMap(t.range,t.r2l,void 0,void 0,e);if("array"===t.tickmode)return function(t){var e=t.tickvals,text=t.ticktext,r=new Array(e.length),n=K(f.simpleMap(t.range,t.r2l)),o=Math.min(n[0],n[1]),l=Math.max(n[0],n[1]),c=0;Array.isArray(text)||(text=[]);var h="category"===t.type?t.d2l_noadd:t.d2l;"log"===t.type&&"L"!==String(t.dtick).charAt(0)&&(t.dtick="L"+Math.pow(10,Math.floor(Math.min(t.range[0],t.range[1]))-1));for(var i=0;i<e.length;i++){var d=h(e[i]);d>o&&d<l&&(void 0===text[i]?r[c]=G.tickText(t,d):r[c]=pt(t,d,String(text[i])),c++)}c<e.length&&r.splice(c,e.length-c);t.rangebreaks&&(r=r.filter((function(e){return t.maskBreaks(e.x)!==j})));return r}(t);var n=K(r),l=n[0],c=n[1],h=r[1]<r[0],d=Math.min(r[0],r[1]),v=Math.max(r[0],r[1]),m="log"===t.type&&!(o(t.dtick)||"L"===t.dtick.charAt(0)),y="period"===t.ticklabelmode;if(t._tmin=G.tickFirst(t,e),t._tmin<l!==h)return[];"category"!==t.type&&"multicategory"!==t.type||(c=h?Math.max(-.5,c):Math.min(t._categories.length-.5,c));var x=t._tmin;t.rangebreaks&&t._tick0Init!==t.tick0&&(x=Rt(x,t),h||(x=G.tickIncrement(x,t.dtick,!h,t.calendar))),y&&(x=G.tickIncrement(x,t.dtick,!h,t.calendar));for(var i,_=Math.max(1e3,t._length||0),w=[],N=null;h?x>=c:x<=c;x=G.tickIncrement(x,t.dtick,h,t.calendar)){if(t.rangebreaks&&!h){if(x<l)continue;if(t.maskBreaks(x)===j&&Rt(x,t)>=v)break}if(w.length>_||x===N)break;N=x;var z=!1;m&&x!==(0|x)&&(z=!0),w.push({minor:z,value:x})}if(y&&function(t,e,r){for(var i=0;i<t.length;i++){var n=t[i].value,a=i,b=i+1;i<t.length-1?(a=i,b=i+1):i>0?(a=i-1,b=i):(a=i,b=i);var o,l=t[a].value,c=t[b].value,f=Math.abs(c-l),h=r||f,d=0;h>=T?d=f>=T&&f<=M?f:A:r===E&&h>=S?d=f>=S&&f<=k?f:E:h>=O?d=f>=O&&f<=L?f:C:r===R&&h>=R?d=R:h>=D?d=D:r===P&&h>=P?d=P:r===I&&h>=I&&(d=I),d>=f&&(d=f,o=!0);var v=n+d;if(e.rangebreaks&&d>0){for(var m=0,y=0;y<84;y++){var x=(y+.5)/84;e.maskBreaks(n*(1-x)+x*v)!==j&&m++}(d*=m/84)||(t[i].drop=!0),o&&f>R&&(d=f)}(d>0||0===i)&&(t[i].periodX=n+d/2)}}(w,t,t._definedDelta),t.rangebreaks){var F="y"===t._id.charAt(0),B=1;"auto"===t.tickmode&&(B=t.tickfont?t.tickfont.size:12);var U=NaN;for(i=w.length-1;i>-1;i--)if(w[i].drop)w.splice(i,1);else{w[i].value=Rt(w[i].value,t);var H=t.c2p(w[i].value);(F?U>H-B:U<H+B)?w.splice(h?i+1:i,1):U=H}}Ot(t)&&360===Math.abs(r[1]-r[0])&&w.pop(),t._tmax=(w[w.length-1]||{}).value,t._prevDateHead="",t._inCalcTicks=!0;var V,p,Y=[];for(i=0;i<w.length;i++){var W=w[i].minor,X=w[i].value;V=G.tickText(t,X,!1,W),void 0!==(p=w[i].periodX)&&(V.periodX=p,(p>v||p<d)&&(p>v&&(V.periodX=v),p<d&&(V.periodX=d),V.text=" ",t._prevDateHead="")),Y.push(V)}return t._inCalcTicks=!1,Y};var it=[2,5,10],at=[1,2,3,6,12],ot=[1,2,5,10,15,30],st=[1,2,3,7,14],lt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],ut=[-.301,0,.301,.699,1],ct=[15,30,45,90,180];function ft(t,base,e){return base*f.roundUp(t/base,e)}function ht(t){var e=t.dtick;if(t._tickexponent=0,o(e)||"string"==typeof e||(e=1),"category"!==t.type&&"multicategory"!==t.type||(t._tickround=null),"date"===t.type){var r=t.r2l(t.tick0),n=t.l2r(r).replace(/(^-|i)/g,""),l=n.length;if("M"===String(e).charAt(0))l>10||"01-01"!==n.substr(5)?t._tickround="d":t._tickround=+e.substr(1)%12==0?"y":"m";else if(e>=D&&l<=10||e>=15*D)t._tickround="d";else if(e>=N&&l<=16||e>=I)t._tickround="M";else if(e>=z&&l<=19||e>=N)t._tickround="S";else{var c=t.l2r(r+e).replace(/^-/,"").length;t._tickround=Math.max(l,c)-20,t._tickround<0&&(t._tickround=4)}}else if(o(e)||"L"===e.charAt(0)){var f=t.range.map(t.r2d||Number);o(e)||(e=Number(e.substr(1))),t._tickround=2-Math.floor(Math.log(e)/Math.LN10+.01);var h=Math.max(Math.abs(f[0]),Math.abs(f[1])),d=Math.floor(Math.log(h)/Math.LN10+.01),v=void 0===t.minexponent?3:t.minexponent;Math.abs(d)>v&&(vt(t.exponentformat)&&!mt(d)?t._tickexponent=3*Math.round((d-1)/3):t._tickexponent=d)}else t._tickround=null}function pt(t,e,text){var r=t.tickfont||{};return{x:e,dx:0,dy:0,text:text||"",fontSize:r.size,font:r.family,fontColor:r.color}}G.autoTicks=function(t,e){var base;function r(t){return Math.pow(t,Math.floor(Math.log(e)/Math.LN10))}if("date"===t.type){t.tick0=f.dateTick0(t.calendar,0);var n=2*e;if(n>A)e/=A,base=r(10),t.dtick="M"+12*ft(e,base,it);else if(n>C)e/=C,t.dtick="M"+ft(e,1,at);else if(n>D){t.dtick=ft(e,D,t._hasDayOfWeekBreaks?[1,2,7,14]:st);var l=G.getTickFormat(t),c="period"===t.ticklabelmode;c&&(t._rawTick0=t.tick0),/%[uVW]/.test(l)?t.tick0=f.dateTick0(t.calendar,2):t.tick0=f.dateTick0(t.calendar,1),c&&(t._dowTick0=t.tick0)}else n>I?t.dtick=ft(e,I,at):n>N?t.dtick=ft(e,N,ot):n>z?t.dtick=ft(e,z,ot):(base=r(10),t.dtick=ft(e,base,it))}else if("log"===t.type){t.tick0=0;var h=f.simpleMap(t.range,t.r2l);if(e>.7)t.dtick=Math.ceil(e);else if(Math.abs(h[1]-h[0])<1){var d=1.5*Math.abs((h[1]-h[0])/e);e=Math.abs(Math.pow(10,h[1])-Math.pow(10,h[0]))/d,base=r(10),t.dtick="L"+ft(e,base,it)}else t.dtick=e>.3?"D2":"D1"}else"category"===t.type||"multicategory"===t.type?(t.tick0=0,t.dtick=Math.ceil(Math.max(e,1))):Ot(t)?(t.tick0=0,base=1,t.dtick=ft(e,base,ct)):(t.tick0=0,base=r(10),t.dtick=ft(e,base,it));if(0===t.dtick&&(t.dtick=1),!o(t.dtick)&&"string"!=typeof t.dtick){var v=t.dtick;throw t.dtick=1,"ax.dtick error: "+String(v)}},G.tickIncrement=function(t,e,r,l){var c=r?-1:1;if(o(e))return f.increment(t,c*e);var h=e.charAt(0),d=c*Number(e.substr(1));if("M"===h)return f.incrementMonth(t,d,l);if("L"===h)return Math.log(Math.pow(10,t)+d)/Math.LN10;if("D"===h){var v="D2"===e?ut:lt,m=t+.01*c,y=f.roundUp(f.mod(m,1),v,r);return Math.floor(m)+Math.log(n.round(Math.pow(10,y),1))/Math.LN10}throw"unrecognized dtick "+String(e)},G.tickFirst=function(t,e){var r=t.r2l||Number,l=f.simpleMap(t.range,r,void 0,void 0,e),c=l[1]<l[0],h=c?Math.floor:Math.ceil,d=K(l)[0],v=t.dtick,m=r(t.tick0);if(o(v)){var y=h((d-m)/v)*v+m;return"category"!==t.type&&"multicategory"!==t.type||(y=f.constrain(y,0,t._categories.length-1)),y}var x=v.charAt(0),_=Number(v.substr(1));if("M"===x){for(var w,M,A,T=0,k=m;T<10;){if(((w=G.tickIncrement(k,v,c,t.calendar))-d)*(k-d)<=0)return c?Math.min(k,w):Math.max(k,w);M=(d-(k+w)/2)/(w-k),A=x+(Math.abs(Math.round(M))||1)*_,k=G.tickIncrement(k,A,M<0?!c:c,t.calendar),T++}return f.error("tickFirst did not converge",t),k}if("L"===x)return Math.log(h((Math.pow(10,d)-m)/_)*_+m)/Math.LN10;if("D"===x){var E="D2"===v?ut:lt,S=f.roundUp(f.mod(d,1),E,c);return Math.floor(d)+Math.log(n.round(Math.pow(10,S),1))/Math.LN10}throw"unrecognized dtick "+String(v)},G.tickText=function(t,e,r,n){var i,l=pt(t,e),c="array"===t.tickmode,h=r||c,d=t.type,v="category"===d?t.d2l_noadd:t.d2l;if(c&&Array.isArray(t.ticktext)){var m=f.simpleMap(t.range,t.r2l),y=(Math.abs(m[1]-m[0])-(t._lBreaks||0))/1e4;for(i=0;i<t.ticktext.length&&!(Math.abs(e-v(t.tickvals[i]))<y);i++);if(i<t.ticktext.length)return l.text=String(t.ticktext[i]),l}function x(n){if(void 0===n)return!0;if(r)return"none"===n;var o={first:t._tmin,last:t._tmax}[n];return"all"!==n&&e!==o}var _=r?"never":"none"!==t.exponentformat&&x(t.showexponent)?"hide":"";if("date"===d?function(t,e,r,n){var tr=t._tickround,l=r&&t.hoverformat||G.getTickFormat(t);n&&(tr=o(tr)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[tr]);var c,h=f.formatDate(e.x,l,tr,t._dateFormat,t.calendar,t._extraFormat),d=h.indexOf("\n");-1!==d&&(c=h.substr(d+1),h=h.substr(0,d));n&&("00:00:00"===h||"00:00"===h?(h=c,c=""):8===h.length&&(h=h.replace(/:00$/,"")));if(c)if(r)"d"===tr?h+=", "+c:h=c+(h?", "+h:"");else if(t._inCalcTicks&&t._prevDateHead===c){var v=-1!==(t.ticklabelposition||"").indexOf("inside"),m=t._realSide||t.side;(!v&&"top"===m||v&&"bottom"===m)&&(h+="<br> ")}else t._prevDateHead=c,h+="<br>"+c;e.text=h}(t,l,r,h):"log"===d?function(t,e,r,n,l){var c=t.dtick,h=e.x,d=t.tickformat,v="string"==typeof c&&c.charAt(0);"never"===l&&(l="");n&&"L"!==v&&(c="L3",v="L");if(d||"L"===v)e.text=yt(Math.pow(10,h),t,l,n);else if(o(c)||"D"===v&&f.mod(h+.01,1)<.1){var p=Math.round(h),m=Math.abs(p),y=t.exponentformat;"power"===y||vt(y)&&mt(p)?(e.text=0===p?1:1===p?"10":"10<sup>"+(p>1?"":F)+m+"</sup>",e.fontSize*=1.25):("e"===y||"E"===y)&&m>2?e.text="1"+y+(p>0?"+":F)+m:(e.text=yt(Math.pow(10,h),t,"","fakehover"),"D1"===c&&"y"===t._id.charAt(0)&&(e.dy-=e.fontSize/6))}else{if("D"!==v)throw"unrecognized dtick "+String(c);e.text=String(Math.round(Math.pow(10,f.mod(h,1)))),e.fontSize*=.75}if("D1"===t.dtick){var x=String(e.text).charAt(0);"0"!==x&&"1"!==x||("y"===t._id.charAt(0)?e.dx-=e.fontSize/4:(e.dy+=e.fontSize/2,e.dx+=(t.range[1]>t.range[0]?1:-1)*e.fontSize*(h<0?.5:.25)))}}(t,l,0,h,_):"category"===d?function(t,e){var r=t._categories[Math.round(e.x)];void 0===r&&(r="");e.text=String(r)}(t,l):"multicategory"===d?function(t,e,r){var n=Math.round(e.x),o=t._categories[n]||[],l=void 0===o[1]?"":String(o[1]),c=void 0===o[0]?"":String(o[0]);r?e.text=c+" - "+l:(e.text=l,e.text2=c)}(t,l,r):Ot(t)?function(t,e,r,n,o){if("radians"!==t.thetaunit||r)e.text=yt(e.x,t,o,n);else{var l=e.x/180;if(0===l)e.text="0";else{var c=function(t){function e(a,b){return Math.abs(a-b)<=1e-6}var r=function(t){for(var r=1;!e(Math.round(t*r)/r,t);)r*=10;return r}(t),n=t*r,o=Math.abs(function t(a,b){return e(b,0)?a:t(b,a%b)}(n,r));return[Math.round(n/o),Math.round(r/o)]}(l);if(c[1]>=100)e.text=yt(f.deg2rad(e.x),t,o,n);else{var h=e.x<0;1===c[1]?1===c[0]?e.text="π":e.text=c[0]+"π":e.text=["<sup>",c[0],"</sup>","⁄","<sub>",c[1],"</sub>","π"].join(""),h&&(e.text=F+e.text)}}}}(t,l,r,h,_):function(t,e,r,n,o){"never"===o?o="":"all"===t.showexponent&&Math.abs(e.x/t.dtick)<1e-6&&(o="hide");e.text=yt(e.x,t,o,n)}(t,l,0,h,_),n||(t.tickprefix&&!x(t.showtickprefix)&&(l.text=t.tickprefix+l.text),t.ticksuffix&&!x(t.showticksuffix)&&(l.text+=t.ticksuffix)),"boundaries"===t.tickson||t.showdividers){var w=function(e){var p=t.l2p(e);return p>=0&&p<=t._length?e:null};l.xbnd=[w(l.x-.5),w(l.x+t.dtick-.5)]}return l},G.hoverLabelText=function(t,e,r){if(r!==j&&r!==e)return G.hoverLabelText(t,e)+" - "+G.hoverLabelText(t,r);var n="log"===t.type&&e<=0,o=G.tickText(t,t.c2l(n?-e:e),"hover").text;return n?0===e?"0":F+o:o};var gt=["f","p","n","μ","m","","k","M","G","T"];function vt(t){return"SI"===t||"B"===t}function mt(t){return t>14||t<-15}function yt(t,e,r,n){var l=t<0,c=e._tickround,h=r||e.exponentformat||"B",d=e._tickexponent,v=G.getTickFormat(e),m=e.separatethousands;if(n){var y={exponentformat:h,minexponent:e.minexponent,dtick:"none"===e.showexponent?e.dtick:o(t)&&Math.abs(t)||1,range:"none"===e.showexponent?e.range.map(e.r2d):[0,t||1]};ht(y),c=(Number(y._tickround)||0)+4,d=y._tickexponent,e.hoverformat&&(v=e.hoverformat)}if(v)return e._numFormat(v)(t).replace(/-/g,F);var x,_=Math.pow(10,-c)/2;if("none"===h&&(d=0),(t=Math.abs(t))<_)t="0",l=!1;else{if(t+=_,d&&(t*=Math.pow(10,-d),c+=d),0===c)t=String(Math.floor(t));else if(c<0){t=(t=String(Math.round(t))).substr(0,t.length+c);for(var i=c;i<0;i++)t+="0"}else{var w=(t=String(t)).indexOf(".")+1;w&&(t=t.substr(0,w+c).replace(/\.?0+$/,""))}t=f.numSeparate(t,e._separators,m)}d&&"hide"!==h&&(vt(h)&&mt(d)&&(h="power"),x=d<0?F+-d:"power"!==h?"+"+d:String(d),"e"===h||"E"===h?t+=h+x:"power"===h?t+="×10<sup>"+x+"</sup>":"B"===h&&9===d?t+="B":vt(h)&&(t+=gt[d/3+5]));return l?F+t:t}function xt(t,e){for(var r=[],n={},i=0;i<e.length;i++){var o=e[i];n[o.text2]?n[o.text2].push(o.x):n[o.text2]=[o.x]}for(var l in n)r.push(pt(t,f.interp(n[l],.5),l));return r}function bt(t){return void 0!==t.periodX?t.periodX:t.x}function _t(t){return[t.text,t.x,t.axInfo,t.font,t.fontSize,t.fontColor].join("_")}function wt(t){var e=t.title.font.size,r=(t.title.text.match(d.BR_TAG_ALL)||[]).length;return t.title.hasOwnProperty("standoff")?r?e*(H+r*V):e*H:r?e*(r+1)*V:e}function Mt(t,e){var p=t.l2p(e);return p>1&&p<t._length-1}function At(t){var s=n.select(t),e=s.select(".text-math-group");return e.empty()?s.select("text"):e}function Tt(t){return t._id+".automargin"}function kt(t){return Tt(t)+".mirror"}function Et(t){return t._id+".rangeslider"}function St(t,e){for(var i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i])}function Lt(t,e,r){var i,n,o=[],l=[],c=t.layout;for(i=0;i<e.length;i++)o.push(G.getFromId(t,e[i]));for(i=0;i<r.length;i++)l.push(G.getFromId(t,r[i]));var h=Object.keys(x),d=["anchor","domain","overlaying","position","side","tickangle","editType"],v=["linear","log"];for(i=0;i<h.length;i++){var m=h[i],y=o[0][m],_=l[0][m],w=!0,M=!1,A=!1;if("_"!==m.charAt(0)&&"function"!=typeof y&&-1===d.indexOf(m)){for(n=1;n<o.length&&w;n++){var T=o[n][m];"type"===m&&-1!==v.indexOf(y)&&-1!==v.indexOf(T)&&y!==T?M=!0:T!==y&&(w=!1)}for(n=1;n<l.length&&w;n++){var k=l[n][m];"type"===m&&-1!==v.indexOf(_)&&-1!==v.indexOf(k)&&_!==k?A=!0:l[n][m]!==_&&(w=!1)}w&&(M&&(c[o[0]._name].type="linear"),A&&(c[l[0]._name].type="linear"),Ct(c,m,o,l,t._fullLayout._dfltTitle))}}for(i=0;i<t._fullLayout.annotations.length;i++){var E=t._fullLayout.annotations[i];-1!==e.indexOf(E.xref)&&-1!==r.indexOf(E.yref)&&f.swapAttrs(c.annotations[i],["?"])}}function Ct(t,e,r,n,o){var i,l=f.nestedProperty,c=l(t[r[0]._name],e).get(),h=l(t[n[0]._name],e).get();for("title"===e&&(c&&c.text===o.x&&(c.text=o.y),h&&h.text===o.y&&(h.text=o.x)),i=0;i<r.length;i++)l(t,r[i]._name+"."+e).set(h);for(i=0;i<n.length;i++)l(t,n[i]._name+"."+e).set(c)}function Ot(t){return"angularaxis"===t._id}function Rt(t,e){for(var r=e._rangebreaks.length,n=0;n<r;n++){var o=e._rangebreaks[n];if(t>=o.min&&t<o.max)return o.max}return t}G.getTickFormat=function(t){var i,e,r,n,o,l,c,f;function h(t){return"string"!=typeof t?t:Number(t.replace("M",""))*C}function d(t,e){var r=["L","D"];if(typeof t==typeof e){if("number"==typeof t)return t-e;var n=r.indexOf(t.charAt(0)),o=r.indexOf(e.charAt(0));return n===o?Number(t.replace(/(L|D)/g,""))-Number(e.replace(/(L|D)/g,"")):n-o}return"number"==typeof t?1:-1}function v(t,e){var r=null===e[0],n=null===e[1],o=d(t,e[0])>=0,l=d(t,e[1])<=0;return(r||o)&&(n||l)}if(t.tickformatstops&&t.tickformatstops.length>0)switch(t.type){case"date":case"linear":for(i=0;i<t.tickformatstops.length;i++)if((r=t.tickformatstops[i]).enabled&&(n=t.dtick,o=r.dtickrange,l=void 0,c=void 0,f=void 0,l=h||function(t){return t},c=o[0],f=o[1],(!c&&"number"!=typeof c||l(c)<=l(n))&&(!f&&"number"!=typeof f||l(f)>=l(n)))){e=r;break}break;case"log":for(i=0;i<t.tickformatstops.length;i++)if((r=t.tickformatstops[i]).enabled&&v(t.dtick,r.dtickrange)){e=r;break}}return e?e.value:t.tickformat},G.getSubplots=function(t,e){var r=t._fullLayout._subplots,n=r.cartesian.concat(r.gl2d||[]),o=e?G.findSubplotsWithAxis(n,e):n;return o.sort((function(a,b){var t=a.substr(1).split("y"),e=b.substr(1).split("y");return t[0]===e[0]?+t[1]-+e[1]:+t[0]-+e[0]})),o},G.findSubplotsWithAxis=function(t,e){for(var r=new RegExp("x"===e._id.charAt(0)?"^"+e._id+"y":e._id+"$"),n=[],i=0;i<t.length;i++){var o=t[i];r.test(o)&&n.push(o)}return n},G.makeClipPaths=function(t){var e=t._fullLayout;if(!e._hasOnlyLargeSploms){var i,r,o={_offset:0,_length:e.width,_id:""},l={_offset:0,_length:e.height,_id:""},c=G.list(t,"x",!0),f=G.list(t,"y",!0),h=[];for(i=0;i<c.length;i++)for(h.push({x:c[i],y:l}),r=0;r<f.length;r++)0===i&&h.push({x:o,y:f[r]}),h.push({x:c[i],y:f[r]});var d=e._clips.selectAll(".axesclip").data(h,(function(t){return t.x._id+t.y._id}));d.enter().append("clipPath").classed("axesclip",!0).attr("id",(function(t){return"clip"+e._uid+t.x._id+t.y._id})).append("rect"),d.exit().remove(),d.each((function(t){n.select(this).select("rect").attr({x:t.x._offset||0,y:t.y._offset||0,width:t.x._length||1,height:t.y._length||1})}))}},G.draw=function(t,e,r){var n=t._fullLayout;"redraw"===e&&n._paper.selectAll("g.subplot").each((function(t){var e=t[0],r=n._plots[e];if(r){var o=r.xaxis,l=r.yaxis;r.xaxislayer.selectAll("."+o._id+"tick").remove(),r.yaxislayer.selectAll("."+l._id+"tick").remove(),r.xaxislayer.selectAll("."+o._id+"tick2").remove(),r.yaxislayer.selectAll("."+l._id+"tick2").remove(),r.xaxislayer.selectAll("."+o._id+"divider").remove(),r.yaxislayer.selectAll("."+l._id+"divider").remove(),r.gridlayer&&r.gridlayer.selectAll("path").remove(),r.zerolinelayer&&r.zerolinelayer.selectAll("path").remove(),n._infolayer.select(".g-"+o._id+"title").remove(),n._infolayer.select(".g-"+l._id+"title").remove()}}));var o=e&&"redraw"!==e?e:G.listIds(t);return f.syncOrAsync(o.map((function(e){return function(){if(e){var n=G.getFromId(t,e),o=G.drawOne(t,n,r);return n._r=n.range.slice(),n._rl=f.simpleMap(n._r,n.r2l),o}}})))},G.drawOne=function(t,e,r){var i,n,o;r=r||{},e.setScale();var h=t._fullLayout,d=e._id,x=d.charAt(0),_=G.counterLetter(d),w=h._plots[e._mainSubplot];if(w){var M=w[x+"axislayer"],A=e._mainLinePosition,T=e._mainMirrorPosition,k=e._vals=G.calcTicks(e),E=[e.mirror,A,T].join("_");for(i=0;i<k.length;i++)k[i].axInfo=E;e._selections={},e._tickAngles&&(e._prevTickAngles=e._tickAngles),e._tickAngles={},e._depth=null;var S={};if(e.visible){var L,C,O=G.makeTransTickFn(e),R=G.makeTransTickLabelFn(e),D="inside"===e.ticks,P="outside"===e.ticks;if("boundaries"===e.tickson){var I=function(t,e){var i,r=[],n=function(t,e){var n=t.xbnd[e];null!==n&&r.push(f.extendFlat({},t,{x:n}))};if(e.length){for(i=0;i<e.length;i++)n(e[i],0);n(e[i-1],1)}return r}(0,k);C=G.clipEnds(e,I),L=D?C:I}else C=G.clipEnds(e,k),L=D&&"period"!==e.ticklabelmode?C:k;var N=e._gridVals=C,z=function(t,e){var i,r,n=[],o=e.length&&e[e.length-1].x<e[0].x,l=function(t,e){var r=t.xbnd[e];null!==r&&n.push(f.extendFlat({},t,{x:r}))};if(t.showdividers&&e.length){for(i=0;i<e.length;i++){var c=e[i];c.text2!==r&&l(c,o?1:0),r=c.text2}l(e[i-1],o?0:1)}return n}(e,k);if(!h._hasOnlyLargeSploms){var F=e._subplotsWith,j={};for(i=0;i<F.length;i++){n=F[i];var B=(o=h._plots[n])[_+"axis"],U=B._mainAxis._id;if(!j[U]){j[U]=1;var H="x"===x?"M0,"+B._offset+"v"+B._length:"M"+B._offset+",0h"+B._length;G.drawGrid(t,e,{vals:N,counterAxis:B,layer:o.gridlayer.select("."+d),path:H,transFn:O}),G.drawZeroLine(t,e,{counterAxis:B,layer:o.zerolinelayer,path:H,transFn:O})}}}var W=G.getTickSigns(e),X=[];if(e.ticks){var Z,J,Q,K=G.makeTickPath(e,A,W[2]);if(e._anchorAxis&&e.mirror&&!0!==e.mirror?(Z=G.makeTickPath(e,T,W[3]),J=K+Z):(Z="",J=K),e.showdividers&&P&&"boundaries"===e.tickson){var $={};for(i=0;i<z.length;i++)$[z[i].x]=1;Q=function(t){return $[t.x]?Z:J}}else Q=J;G.drawTicks(t,e,{vals:L,layer:M,path:Q,transFn:O}),"allticks"===e.mirror&&(X=Object.keys(e._linepositions||{}))}for(i=0;i<X.length;i++){n=X[i],o=h._plots[n];var tt=e._linepositions[n]||[],et=G.makeTickPath(e,tt[0],W[0])+G.makeTickPath(e,tt[1],W[1]);G.drawTicks(t,e,{vals:L,layer:o[x+"axislayer"],path:et,transFn:O})}var nt=[];if(nt.push((function(){return G.drawLabels(t,e,{vals:k,layer:M,transFn:R,labelFns:G.makeLabelFns(e,A)})})),"multicategory"===e.type){var it={x:2,y:10}[x];nt.push((function(){var r={x:"height",y:"width"}[x],n=ot()[r]+it+(e._tickAngles[d+"tick"]?e.tickfont.size*V:0);return G.drawLabels(t,e,{vals:xt(e,k),layer:M,cls:d+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:O,labelFns:G.makeLabelFns(e,A+n*W[4])})})),nt.push((function(){return e._depth=W[4]*(ot("tick2")[e.side]-A),function(t,e,r){var n=e._id+"divider",o=r.vals,l=r.layer.selectAll("path."+n).data(o,_t);l.exit().remove(),l.enter().insert("path",":first-child").classed(n,1).classed("crisp",1).call(m.stroke,e.dividercolor).style("stroke-width",y.crispRound(t,e.dividerwidth,1)+"px"),l.attr("transform",r.transFn).attr("d",r.path)}(t,e,{vals:z,layer:M,path:G.makeTickPath(e,A,W[4],e._depth),transFn:O})}))}else e.title.hasOwnProperty("standoff")&&nt.push((function(){e._depth=W[4]*(ot()[e.side]-A)}));var at=c.getComponentMethod("rangeslider","isVisible")(e);return nt.push((function(){var r,n,o,f,s=e.side.charAt(0),d=Y[e.side].charAt(0),v=G.getPxPosition(t,e),m=P?e.ticklen:0;if((e.automargin||at)&&("multicategory"===e.type?r=ot("tick2"):(r=ot(),"x"===x&&"b"===s&&(e._depth=Math.max(r.width>0?r.bottom-v:0,m)))),e.automargin){n={x:0,y:0,r:0,l:0,t:0,b:0};var y=[0,1];if("x"===x){if("b"===s?n[s]=e._depth:(n[s]=e._depth=Math.max(r.width>0?v-r.top:0,m),y.reverse()),r.width>0){var w=r.right-(e._offset+e._length);w>0&&(n.xr=1,n.r=w);var M=e._offset-r.left;M>0&&(n.xl=0,n.l=M)}}else if("l"===s?n[s]=e._depth=Math.max(r.height>0?v-r.left:0,m):(n[s]=e._depth=Math.max(r.height>0?r.right-v:0,m),y.reverse()),r.height>0){var A=r.bottom-(e._offset+e._length);A>0&&(n.yb=0,n.b=A);var T=e._offset-r.top;T>0&&(n.yt=1,n.t=T)}n[_]="free"===e.anchor?e.position:e._anchorAxis.domain[y[0]],e.title.text!==h._dfltTitle[x]&&(n[s]+=wt(e)+(e.title.standoff||0)),e.mirror&&"free"!==e.anchor&&((o={x:0,y:0,r:0,l:0,t:0,b:0})[d]=e.linewidth,e.mirror&&!0!==e.mirror&&(o[d]+=m),!0===e.mirror||"ticks"===e.mirror?o[_]=e._anchorAxis.domain[y[1]]:"all"!==e.mirror&&"allticks"!==e.mirror||(o[_]=[e._counterDomainMin,e._counterDomainMax][y[1]]))}at&&(f=c.getComponentMethod("rangeslider","autoMarginOpts")(t,e)),l.autoMargin(t,Tt(e),n),l.autoMargin(t,kt(e),o),l.autoMargin(t,Et(e),f)})),r.skipTitle||at&&"bottom"===e.side||nt.push((function(){return function(t,e){var r,n=t._fullLayout,o=e._id,l=o.charAt(0),c=e.title.font.size;if(e.title.hasOwnProperty("standoff"))r=e._depth+e.title.standoff+wt(e);else{var f=-1!==(e.ticklabelposition||"").indexOf("inside");if("multicategory"===e.type)r=e._depth;else{var h=1.5*c;f&&(h=.5*c,"outside"===e.ticks&&(h+=e.ticklen)),r=10+h+(e.linewidth?e.linewidth-1:0)}f||(r+="x"===l?"top"===e.side?c*(e.showticklabels?1:0):c*(e.showticklabels?1.5:.5):"right"===e.side?c*(e.showticklabels?1:.5):c*(e.showticklabels?.5:0))}var d,m,x,_,w=G.getPxPosition(t,e);"x"===l?(m=e._offset+e._length/2,x="top"===e.side?w-r:w+r):(x=e._offset+e._length/2,m="right"===e.side?w+r:w-r,d={rotate:"-90",offset:0});if("multicategory"!==e.type){var M=e._selections[e._id+"tick"];if(_={selection:M,side:e.side},M&&M.node()&&M.node().parentNode){var A=y.getTranslate(M.node().parentNode);_.offsetLeft=A.x,_.offsetTop=A.y}e.title.hasOwnProperty("standoff")&&(_.pad=0)}return v.draw(t,o+"title",{propContainer:e,propName:e._name+".title.text",placeholder:n._dfltTitle[l],avoid:_,transform:d,attributes:{x:m,y:x,"text-anchor":"middle"}})}(t,e)})),f.syncOrAsync(nt)}}function ot(t){var r=d+(t||"tick");return S[r]||(S[r]=function(t,e){var r,n,o,l;t._selections[e].size()?(r=1/0,n=-1/0,o=1/0,l=-1/0,t._selections[e].each((function(){var t=At(this),e=y.bBox(t.node().parentNode);r=Math.min(r,e.top),n=Math.max(n,e.bottom),o=Math.min(o,e.left),l=Math.max(l,e.right)}))):(r=0,n=0,o=0,l=0);return{top:r,bottom:n,left:o,right:l,height:n-r,width:l-o}}(e,r)),S[r]}},G.getTickSigns=function(t){var e=t._id.charAt(0),r={x:"top",y:"right"}[e],main=t.side===r?1:-1,n=[-1,1,main,-main];return"inside"!==t.ticks==("x"===e)&&(n=n.map((function(t){return-t}))),t.side&&n.push({l:-1,t:-1,r:1,b:1}[t.side.charAt(0)]),n},G.makeTransTickFn=function(t){return"x"===t._id.charAt(0)?function(e){return h(t._offset+t.l2p(e.x),0)}:function(e){return h(0,t._offset+t.l2p(e.x))}},G.makeTransTickLabelFn=function(t){var e=function(t){var e=t.ticklabelposition||"",r=function(t){return-1!==e.indexOf(t)},n=r("top"),o=r("left"),l=r("right"),c=r("bottom"),f=r("inside"),h=c||o||n||l;if(!h&&!f)return[0,0];var d=t.side,u=h?(t.tickwidth||0)/2:0,v=3,m=t.tickfont?t.tickfont.size:12;(c||n)&&(u+=m*H,v+=(t.linewidth||0)/2);(o||l)&&(u+=(t.linewidth||0)/2,v+=3);f&&"top"===d&&(v-=m*(1-H));(o||n)&&(u=-u);"bottom"!==d&&"right"!==d||(v=-v);return[h?u:0,f?v:0]}(t),u=e[0],r=e[1];return"x"===t._id.charAt(0)?function(e){return h(u+t._offset+t.l2p(bt(e)),r)}:function(e){return h(r,u+t._offset+t.l2p(bt(e)))}},G.makeTickPath=function(t,e,r,n){n=void 0!==n?n:t.ticklen;var o=t._id.charAt(0),l=(t.linewidth||1)/2;return"x"===o?"M0,"+(e+l*r)+"v"+n*r:"M"+(e+l*r)+",0h"+n*r},G.makeLabelFns=function(t,e,r){var n=t.ticklabelposition||"",l=function(t){return-1!==n.indexOf(t)},c=l("top"),h=l("left"),d=l("right"),v=l("bottom")||h||c||d,m=l("inside"),y="inside"===n&&"inside"===t.ticks||!m&&"outside"===t.ticks&&"boundaries"!==t.tickson,x=0,_=0,w=y?t.ticklen:0;if(m?w*=-1:v&&(w=0),y&&(x+=w,r)){var M=f.deg2rad(r);x=w*Math.cos(M)+1,_=w*Math.sin(M)}t.showticklabels&&(y||t.showline)&&(x+=.2*t.tickfont.size);var A,T,k,E,S,L={labelStandoff:x+=(t.linewidth||1)/2*(m?-1:1),labelShift:_},C=0,O=t.side,R=t._id.charAt(0),D=t.tickangle;if("x"===R)E=(S=!m&&"bottom"===O||m&&"top"===O)?1:-1,m&&(E*=-1),A=_*E,T=e+x*E,k=S?1:-.2,90===Math.abs(D)&&(m?k+=U:k=-90===D&&"bottom"===O?H:90===D&&"top"===O?U:.5,C=U/2*(D/90)),L.xFn=function(t){return t.dx+A+C*t.fontSize},L.yFn=function(t){return t.dy+T+t.fontSize*k},L.anchorFn=function(t,a){if(v){if(h)return"end";if(d)return"start"}return o(a)&&0!==a&&180!==a?a*E<0!==m?"end":"start":"middle"},L.heightFn=function(e,a,r){return a<-60||a>60?-.5*r:"top"===t.side!==m?-r:0};else if("y"===R){if(E=(S=!m&&"left"===O||m&&"right"===O)?1:-1,m&&(E*=-1),A=x,T=_*E,k=0,m||90!==Math.abs(D)||(k=-90===D&&"left"===O||90===D&&"right"===O?H:.5),m){var P=o(D)?+D:0;if(0!==P){var I=f.deg2rad(P);C=Math.abs(Math.sin(I))*H*E,k=0}}L.xFn=function(t){return t.dx+e-(A+t.fontSize*k)*E+C*t.fontSize},L.yFn=function(t){return t.dy+T+t.fontSize*U},L.anchorFn=function(t,a){return o(a)&&90===Math.abs(a)?"middle":S?"end":"start"},L.heightFn=function(e,a,r){return"right"===t.side&&(a*=-1),a<-30?-r:a<30?-.5*r:0}}return L},G.drawTicks=function(t,e,r){r=r||{};var n=e._id+"tick",o=r.vals;"period"===e.ticklabelmode&&(o=o.slice()).shift();var l=r.layer.selectAll("path."+n).data(e.ticks?o:[],_t);l.exit().remove(),l.enter().append("path").classed(n,1).classed("ticks",1).classed("crisp",!1!==r.crisp).call(m.stroke,e.tickcolor).style("stroke-width",y.crispRound(t,e.tickwidth,1)+"px").attr("d",r.path),l.attr("transform",r.transFn)},G.drawGrid=function(t,e,r){r=r||{};var n=e._id+"grid",o=r.vals,l=r.counterAxis;if(!1===e.showgrid)o=[];else if(l&&G.shouldShowZeroLine(t,e,l))for(var c="array"===e.tickmode,i=0;i<o.length;i++){var f=o[i].x;if(c?!f:Math.abs(f)<e.dtick/100){if(o=o.slice(0,i).concat(o.slice(i+1)),!c)break;i--}}var h=r.layer.selectAll("path."+n).data(o,_t);h.exit().remove(),h.enter().append("path").classed(n,1).classed("crisp",!1!==r.crisp),e._gw=y.crispRound(t,e.gridwidth,1),h.attr("transform",r.transFn).attr("d",r.path).call(m.stroke,e.gridcolor||"#ddd").style("stroke-width",e._gw+"px"),"function"==typeof r.path&&h.attr("d",r.path)},G.drawZeroLine=function(t,e,r){r=r||r;var n=e._id+"zl",o=G.shouldShowZeroLine(t,e,r.counterAxis),l=r.layer.selectAll("path."+n).data(o?[{x:0,id:e._id}]:[]);l.exit().remove(),l.enter().append("path").classed(n,1).classed("zl",1).classed("crisp",!1!==r.crisp).each((function(){r.layer.selectAll("path").sort((function(t,e){return Z(t.id,e.id)}))})),l.attr("transform",r.transFn).attr("d",r.path).call(m.stroke,e.zerolinecolor||m.defaultLine).style("stroke-width",y.crispRound(t,e.zerolinewidth,e._gw||1)+"px")},G.drawLabels=function(t,e,r){r=r||{};var l=t._fullLayout,c=e._id,v=c.charAt(0),m=r.cls||c+"tick",x=r.vals,_=r.labelFns,w=r.secondary?0:e.tickangle,M=(e._prevTickAngles||{})[m],A=r.layer.selectAll("g."+m).data(e.showticklabels?x:[],_t),T=[];function k(s,t){var l=-1!==(e.ticklabelposition||"").indexOf("inside");s.each((function(c){var f=n.select(this),v=f.select(".text-math-group"),m=_.anchorFn(c,t),x=r.transFn.call(f.node(),c)+(o(t)&&0!=+t?" rotate("+t+","+_.xFn(c)+","+(_.yFn(c)-c.fontSize/2)+")":""),w=d.lineCount(f),M=V*c.fontSize,A=_.heightFn(c,o(t)?+t:0,(w-1)*M);if(A&&(x+=h(0,A)),v.empty()){var T=f.select("text");T.attr({transform:x,"text-anchor":m}),l&&(T.style({opacity:100}),e._hideOutOfRangeInsideTickLabels&&e._hideOutOfRangeInsideTickLabels())}else{var k=y.bBox(v.node()).width*{end:-.5,start:.5}[m];v.attr("transform",x+h(k,0))}}))}A.enter().append("g").classed(m,1).append("text").attr("text-anchor","middle").each((function(e){var r=n.select(this),o=t._promises.length;r.call(d.positionText,_.xFn(e),_.yFn(e)).call(y.font,e.font,e.fontSize,e.fontColor).text(e.text).call(d.convertToTspans,t),t._promises[o]?T.push(t._promises.pop().then((function(){k(r,w)}))):k(r,w)})),A.exit().remove(),r.repositionOnUpdate&&A.each((function(t){n.select(this).select("text").call(d.positionText,_.xFn(t),_.yFn(t))})),e._hideOutOfRangeInsideTickLabels=void 0,-1!==(e.ticklabelposition||"").indexOf("inside")&&(e._hideOutOfRangeInsideTickLabels=function(){var t=f.simpleMap(e.range,e.r2l),r=e.l2p(t[0]),o=e.l2p(t[1]),l=Math.min(r,o)+e._offset,c=Math.max(r,o)+e._offset,h="x"===e._id.charAt(0);A.each((function(t){var r=n.select(this);if(r.select(".text-math-group").empty()){var o=y.bBox(r.node()),f=!1;h?(o.right>c||o.left<l)&&(f=!0):(o.bottom>c||o.top+(e.tickangle?0:t.fontSize/4)<l)&&(f=!0),f&&r.select("text").style({opacity:0})}}))}),k(A,M+1?M:w);var E=null;e._selections&&(e._selections[m]=A);var S=[function(){return T.length&&Promise.all(T)}];e.automargin&&l._redrawFromAutoMarginCount&&90===M?(E=90,S.push((function(){k(A,M)}))):S.push((function(){if(k(A,w),x.length&&"x"===v&&!o(w)&&("log"!==e.type||"D"!==String(e.dtick).charAt(0))){E=0;var i,t=0,n=[];if(A.each((function(r){t=Math.max(t,r.fontSize);var o=e.l2p(r.x),l=At(this),c=y.bBox(l.node());n.push({top:0,bottom:10,height:10,left:o-c.width/2,right:o+c.width/2+2,width:c.width+2})})),"boundaries"!==e.tickson&&!e.showdividers||r.secondary){var l=x.length,c=Math.abs((x[l-1].x-x[0].x)*e._m)/(l-1),h=e.ticklabelposition||"",d=function(t){return-1!==h.indexOf(t)},m=d("top"),_=d("left"),M=d("right"),T=d("bottom")||_||m||M?(e.tickwidth||0)+6:0,S=c<2.5*t||"multicategory"===e.type;for(i=0;i<n.length-1;i++)if(f.bBoxIntersect(n[i],n[i+1],T)){E=S?90:30;break}}else{var L=2;for(e.ticks&&(L+=e.tickwidth/2),i=0;i<n.length;i++){var C=x[i].xbnd,O=n[i];if(null!==C[0]&&O.left-e.l2p(C[0])<L||null!==C[1]&&e.l2p(C[1])-O.right<L){E=90;break}}}E&&k(A,E)}})),e._tickAngles&&S.push((function(){e._tickAngles[m]=null===E?o(w)?w:0:E}));var L=e._anchorAxis;L&&L.autorange&&-1!==(e.ticklabelposition||"").indexOf("inside")&&!J(l,e._id)&&(l._insideTickLabelsAutorange||(l._insideTickLabelsAutorange={}),l._insideTickLabelsAutorange[L._name+".autorange"]=L.autorange,S.push((function(){A.each((function(t,i){var r=At(this);e._vals[i].bb=y.bBox(r.node())}))})));var C=f.syncOrAsync(S);return C&&C.then&&t._promises.push(C),C},G.getPxPosition=function(t,e){var r,n=t._fullLayout._size,o=e._id.charAt(0),l=e.side;return"free"!==e.anchor?r=e._anchorAxis:"x"===o?r={_offset:n.t+(1-(e.position||0))*n.h,_length:0}:"y"===o&&(r={_offset:n.l+(e.position||0)*n.w,_length:0}),"top"===l||"left"===l?r._offset:"bottom"===l||"right"===l?r._offset+r._length:void 0},G.shouldShowZeroLine=function(t,e,r){var n=f.simpleMap(e.range,e.r2l);return n[0]*n[1]<=0&&e.zeroline&&("linear"===e.type||"-"===e.type)&&!(e.rangebreaks&&e.maskBreaks(0)===j)&&(Mt(e,0)||!function(t,e,r,n){var o=r._mainAxis;if(!o)return;var l=t._fullLayout,c=e._id.charAt(0),f=G.counterLetter(e._id),h=e._offset+(Math.abs(n[0])<Math.abs(n[1])==("x"===c)?0:e._length);function d(t){if(!t.showline||!t.linewidth)return!1;var r=Math.max((t.linewidth+e.zerolinewidth)/2,1);function n(t){return"number"==typeof t&&Math.abs(t-h)<r}if(n(t._mainLinePosition)||n(t._mainMirrorPosition))return!0;var o=t._linepositions||{};for(var l in o)if(n(o[l][0])||n(o[l][1]))return!0}var v=l._plots[r._mainSubplot];if(!(v.mainplotinfo||v).overlays.length)return d(r);for(var m=G.list(t,f),i=0;i<m.length;i++){var y=m[i];if(y._mainAxis===o&&d(y))return!0}}(t,e,r,n)||function(t,e){for(var r=t._fullData,n=e._mainSubplot,o=e._id.charAt(0),i=0;i<r.length;i++){var l=r[i];if(!0===l.visible&&l.xaxis+l.yaxis===n){if(c.traceIs(l,"bar-like")&&l.orientation==={x:"h",y:"v"}[o])return!0;if(l.fill&&l.fill.charAt(l.fill.length-1)===o)return!0}}return!1}(t,e))},G.clipEnds=function(t,e){return e.filter((function(e){return Mt(t,e.x)}))},G.allowAutoMargin=function(t){for(var e=G.list(t,"",!0),i=0;i<e.length;i++){var r=e[i];r.automargin&&(l.allowAutoMargin(t,Tt(r)),r.mirror&&l.allowAutoMargin(t,kt(r))),c.getComponentMethod("rangeslider","isVisible")(r)&&l.allowAutoMargin(t,Et(r))}},G.swap=function(t,e){for(var r=function(t,e){var i,r,n=[];for(i=0;i<e.length;i++){var o=[],l=t._fullData[e[i]].xaxis,c=t._fullData[e[i]].yaxis;if(l&&c){for(r=0;r<n.length;r++)-1===n[r].x.indexOf(l)&&-1===n[r].y.indexOf(c)||o.push(r);if(o.length){var f,h=n[o[0]];if(o.length>1)for(r=1;r<o.length;r++)f=n[o[r]],St(h.x,f.x),St(h.y,f.y);St(h.x,[l]),St(h.y,[c])}else n.push({x:[l],y:[c]})}}return n}(t,e),i=0;i<r.length;i++)Lt(t,r[i].x,r[i].y)}},function(t,e,r){"use strict";var n=r(423),o=r(424),l=r(443),c=r(422),f=r(425),h=r(447),d=r(421),v=d.strTranslate,m=r(440),y=r(463),x=r(438).LINE_SPACING,_=r(526).DESELECTDIM,w=r(442),M=r(629),A=r(459).appendArrayPointValue,T=t.exports={};T.font=function(s,t,e,r){d.isPlainObject(t)&&(r=t.color,e=t.size,t=t.family),t&&s.style("font-family",t),e+1&&s.style("font-size",e+"px"),r&&s.call(f.fill,r)},T.setPosition=function(s,t,e){s.attr("x",t).attr("y",e)},T.setSize=function(s,t,e){s.attr("width",t).attr("height",e)},T.setRect=function(s,t,e,r,n){s.call(T.setPosition,t,e).call(T.setSize,r,n)},T.translatePoint=function(t,e,r,n){var l=r.c2p(t.x),c=n.c2p(t.y);return!!(o(l)&&o(c)&&e.node())&&("text"===e.node().nodeName?e.attr("x",l).attr("y",c):e.attr("transform",v(l,c)),!0)},T.translatePoints=function(s,t,e){s.each((function(r){var o=n.select(this);T.translatePoint(r,o,t,e)}))},T.hideOutsideRangePoint=function(t,e,r,n,o,l){e.attr("display",r.isPtWithinRange(t,o)&&n.isPtWithinRange(t,l)?null:"none")},T.hideOutsideRangePoints=function(t,e){if(e._hasClipOnAxisFalse){var r=e.xaxis,o=e.yaxis;t.each((function(e){var l=e[0].trace,f=l.xcalendar,h=l.ycalendar,d=c.traceIs(l,"bar-like")?".bartext":".point,.textpoint";t.selectAll(d).each((function(t){T.hideOutsideRangePoint(t,n.select(this),r,o,f,h)}))}))}},T.crispRound=function(t,e,r){return e&&o(e)?t._context.staticPlot?e:e<1?1:Math.round(e):r||0},T.singleLineStyle=function(t,s,e,r,n){s.style("fill","none");var line=(((t||[])[0]||{}).trace||{}).line||{},o=e||line.width||0,l=n||line.dash||"";f.stroke(s,r||line.color),T.dashLine(s,l,o)},T.lineGroupStyle=function(s,t,e,r){s.style("fill","none").each((function(o){var line=(((o||[])[0]||{}).trace||{}).line||{},l=t||line.width||0,c=r||line.dash||"";n.select(this).call(f.stroke,e||line.color).call(T.dashLine,c,l)}))},T.dashLine=function(s,t,e){e=+e||0,t=T.dashStyle(t,e),s.style({"stroke-dasharray":t,"stroke-width":e+"px"})},T.dashStyle=function(t,e){e=+e||1;var r=Math.max(e,3);return"solid"===t?t="":"dot"===t?t=r+"px,"+r+"px":"dash"===t?t=3*r+"px,"+3*r+"px":"longdash"===t?t=5*r+"px,"+5*r+"px":"dashdot"===t?t=3*r+"px,"+r+"px,"+r+"px,"+r+"px":"longdashdot"===t&&(t=5*r+"px,"+2*r+"px,"+r+"px,"+2*r+"px"),t},T.singleFillStyle=function(t){var e=(((n.select(t.node()).data()[0]||[])[0]||{}).trace||{}).fillcolor;e&&t.call(f.fill,e)},T.fillGroupStyle=function(s){s.style("stroke-width",0).each((function(t){var e=n.select(this);t[0].trace&&e.call(f.fill,t[0].trace.fillcolor)}))};var k=r(786);T.symbolNames=[],T.symbolFuncs=[],T.symbolNeedLines={},T.symbolNoDot={},T.symbolNoFill={},T.symbolList=[],Object.keys(k).forEach((function(t){var e=k[t],r=e.n;T.symbolList.push(r,String(r),t,r+100,String(r+100),t+"-open"),T.symbolNames[r]=t,T.symbolFuncs[r]=e.f,e.needLine&&(T.symbolNeedLines[r]=!0),e.noDot?T.symbolNoDot[r]=!0:T.symbolList.push(r+200,String(r+200),t+"-dot",r+300,String(r+300),t+"-open-dot"),e.noFill&&(T.symbolNoFill[r]=!0)}));var E=T.symbolNames.length;function S(t,e){var base=t%100;return T.symbolFuncs[base](e)+(t>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}T.symbolNumber=function(t){if(o(t))t=+t;else if("string"==typeof t){var e=0;t.indexOf("-open")>0&&(e=100,t=t.replace("-open","")),t.indexOf("-dot")>0&&(e+=200,t=t.replace("-dot","")),(t=T.symbolNames.indexOf(t))>=0&&(t+=e)}return t%100>=E||t>=400?0:Math.floor(Math.max(t,0))};var L={x1:1,x2:0,y1:0,y2:0},C={x1:0,x2:0,y1:1,y2:0},O=n.format("~.1f"),R={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:L},horizontalreversed:{node:"linearGradient",attrs:L,reversed:!0},vertical:{node:"linearGradient",attrs:C},verticalreversed:{node:"linearGradient",attrs:C,reversed:!0}};T.gradient=function(t,e,r,o,c,h){for(var v=c.length,m=R[o],y=new Array(v),i=0;i<v;i++)m.reversed?y[v-1-i]=[O(100*(1-c[i][0])),c[i][1]]:y[i]=[O(100*c[i][0]),c[i][1]];var x=e._fullLayout,_="g"+x._uid+"-"+r,w=x._defs.select(".gradients").selectAll("#"+_).data([o+y.join(";")],d.identity);w.exit().remove(),w.enter().append(m.node).each((function(){var t=n.select(this);m.attrs&&t.attr(m.attrs),t.attr("id",_);var e=t.selectAll("stop").data(y);e.exit().remove(),e.enter().append("stop"),e.each((function(t){var e=l(t[1]);n.select(this).attr({offset:t[0]+"%","stop-color":f.tinyRGB(e),"stop-opacity":e.getAlpha()})}))})),t.style(h,U(_,e)).style(h+"-opacity",null);var M=function(s){return"."+s.attr("class").replace(/\s/g,".")},A=M(n.select(t.node().parentNode))+">"+M(t);x._gradientUrlQueryParts[A]=1},T.initGradients=function(t){var e=t._fullLayout;d.ensureSingle(e._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),e._gradientUrlQueryParts={}},T.pointStyle=function(s,t,e){if(s.size()){var r=T.makePointStyleFns(t);s.each((function(o){T.singlePointStyle(o,n.select(this),t,r,e)}))}},T.singlePointStyle=function(t,e,r,n,o){var marker=r.marker,l=marker.line;if(e.style("opacity",n.selectedOpacityFn?n.selectedOpacityFn(t):void 0===t.mo?marker.opacity:t.mo),n.ms2mrc){var c;c="various"===t.ms||"various"===marker.size?3:n.ms2mrc(t.ms),t.mrc=c,n.selectedSizeFn&&(c=t.mrc=n.selectedSizeFn(t));var h=T.symbolNumber(t.mx||marker.symbol)||0;t.om=h%200>=100,e.attr("d",S(h,c))}var v,m,y,x=!1;if(t.so)y=l.outlierwidth,m=l.outliercolor,v=marker.outliercolor;else{var _=(l||{}).width;y=(t.mlw+1||_+1||(t.trace?(t.trace.marker.line||{}).width:0)+1)-1||0,m="mlc"in t?t.mlcc=n.lineScale(t.mlc):d.isArrayOrTypedArray(l.color)?f.defaultLine:l.color,d.isArrayOrTypedArray(marker.color)&&(v=f.defaultLine,x=!0),v="mc"in t?t.mcc=n.markerScale(t.mc):marker.color||"rgba(0,0,0,0)",n.selectedColorFn&&(v=n.selectedColorFn(t))}if(t.om)e.call(f.stroke,v).style({"stroke-width":(y||1)+"px",fill:"none"});else{e.style("stroke-width",(t.isBlank?0:y)+"px");var w=marker.gradient,M=t.mgt;if(M?x=!0:M=w&&w.type,Array.isArray(M)&&(M=M[0],R[M]||(M=0)),M&&"none"!==M){var A=t.mgc;A?x=!0:A=w.color;var k=r.uid;x&&(k+="-"+t.i),T.gradient(e,o,k,M,[[0,A],[1,v]],"fill")}else f.fill(e,v);y&&f.stroke(e,m)}},T.makePointStyleFns=function(t){var e={},marker=t.marker;return e.markerScale=T.tryColorscale(marker,""),e.lineScale=T.tryColorscale(marker,"line"),c.traceIs(t,"symbols")&&(e.ms2mrc=w.isBubble(t)?M(t):function(){return(marker.size||6)/2}),t.selectedpoints&&d.extendFlat(e,T.makeSelectedPointStyleFns(t)),e},T.makeSelectedPointStyleFns=function(t){var e={},r=t.selected||{},n=t.unselected||{},marker=t.marker||{},o=r.marker||{},l=n.marker||{},f=marker.opacity,h=o.opacity,v=l.opacity,m=void 0!==h,y=void 0!==v;(d.isArrayOrTypedArray(f)||m||y)&&(e.selectedOpacityFn=function(t){var base=void 0===t.mo?marker.opacity:t.mo;return t.selected?m?h:base:y?v:_*base});var x=marker.color,w=o.color,M=l.color;(w||M)&&(e.selectedColorFn=function(t){var base=t.mcc||x;return t.selected?w||base:M||base});var A=marker.size,T=o.size,k=l.size,E=void 0!==T,S=void 0!==k;return c.traceIs(t,"symbols")&&(E||S)&&(e.selectedSizeFn=function(t){var base=t.mrc||A/2;return t.selected?E?T/2:base:S?k/2:base}),e},T.makeSelectedTextStyleFns=function(t){var e={},r=t.selected||{},n=t.unselected||{},o=t.textfont||{},l=r.textfont||{},c=n.textfont||{},h=o.color,d=l.color,v=c.color;return e.selectedTextColorFn=function(t){var base=t.tc||h;return t.selected?d||base:v||(d?base:f.addOpacity(base,_))},e},T.selectedPointStyle=function(s,t){if(s.size()&&t.selectedpoints){var e=T.makeSelectedPointStyleFns(t),marker=t.marker||{},r=[];e.selectedOpacityFn&&r.push((function(t,r){t.style("opacity",e.selectedOpacityFn(r))})),e.selectedColorFn&&r.push((function(t,r){f.fill(t,e.selectedColorFn(r))})),e.selectedSizeFn&&r.push((function(t,r){var n=r.mx||marker.symbol||0,o=e.selectedSizeFn(r);t.attr("d",S(T.symbolNumber(n),o)),r.mrc2=o})),r.length&&s.each((function(t){for(var e=n.select(this),i=0;i<r.length;i++)r[i](e,t)}))}},T.tryColorscale=function(marker,t){var e=t?d.nestedProperty(marker,t).get():marker;if(e){var r=e.color;if((e.colorscale||e._colorAx)&&d.isArrayOrTypedArray(r))return h.makeColorScaleFuncFromTrace(e)}return d.identity};var D={start:1,end:-1,middle:0,bottom:1,top:-1};function P(s,t,e,r){var o=n.select(s.node().parentNode),l=-1!==t.indexOf("top")?"top":-1!==t.indexOf("bottom")?"bottom":"middle",c=-1!==t.indexOf("left")?"end":-1!==t.indexOf("right")?"start":"middle",f=r?r/.8+1:0,h=(m.lineCount(s)-1)*x+1,d=D[c]*f,y=.75*e+D[l]*f+(D[l]-1)*h*e/2;s.attr("text-anchor",c),o.attr("transform",v(d,y))}function I(t,e){var r=t.ts||e.textfont.size;return o(r)&&r>0?r:0}T.textPointStyle=function(s,t,e){if(s.size()){var r;if(t.selectedpoints){var o=T.makeSelectedTextStyleFns(t);r=o.selectedTextColorFn}var l=t.texttemplate,c=e._fullLayout;s.each((function(o){var p=n.select(this),text=l?d.extractOption(o,t,"txt","texttemplate"):d.extractOption(o,t,"tx","text");if(text||0===text){if(l){var f=t._module.formatLabels?t._module.formatLabels(o,t,c):{},h={};A(h,t,o.i);var meta=t._meta||{};text=d.texttemplateString(text,f,c._d3locale,h,o,meta)}var v=o.tp||t.textposition,y=I(o,t),x=r?r(o):o.tc||t.textfont.color;p.call(T.font,o.tf||t.textfont.family,y,x).text(text).call(m.convertToTspans,e).call(P,v,y,o.mrc)}else p.remove()}))}},T.selectedTextStyle=function(s,t){if(s.size()&&t.selectedpoints){var e=T.makeSelectedTextStyleFns(t);s.each((function(r){var o=n.select(this),l=e.selectedTextColorFn(r),c=r.tp||t.textposition,h=I(r,t);f.fill(o,l),P(o,c,h,r.mrc2||r.mrc)}))}};function N(t,e,r,o){var l=t[0]-e[0],c=t[1]-e[1],f=r[0]-e[0],h=r[1]-e[1],d=Math.pow(l*l+c*c,.25),v=Math.pow(f*f+h*h,.25),m=(v*v*l-d*d*f)*o,y=(v*v*c-d*d*h)*o,x=3*v*(d+v),_=3*d*(d+v);return[[n.round(e[0]+(x&&m/x),2),n.round(e[1]+(x&&y/x),2)],[n.round(e[0]-(_&&m/_),2),n.round(e[1]-(_&&y/_),2)]]}T.smoothopen=function(t,e){if(t.length<3)return"M"+t.join("L");var i,path="M"+t[0],r=[];for(i=1;i<t.length-1;i++)r.push(N(t[i-1],t[i],t[i+1],e));for(path+="Q"+r[0][0]+" "+t[1],i=2;i<t.length-1;i++)path+="C"+r[i-2][1]+" "+r[i-1][0]+" "+t[i];return path+="Q"+r[t.length-3][1]+" "+t[t.length-1]},T.smoothclosed=function(t,e){if(t.length<3)return"M"+t.join("L")+"Z";var i,path="M"+t[0],r=t.length-1,n=[N(t[r],t[0],t[1],e)];for(i=1;i<r;i++)n.push(N(t[i-1],t[i],t[i+1],e));for(n.push(N(t[r-1],t[r],t[0],e)),i=1;i<=r;i++)path+="C"+n[i-1][1]+" "+n[i][0]+" "+t[i];return path+="C"+n[r][1]+" "+n[0][0]+" "+t[0]+"Z"};var z={hv:function(t,e){return"H"+n.round(e[0],2)+"V"+n.round(e[1],2)},vh:function(t,e){return"V"+n.round(e[1],2)+"H"+n.round(e[0],2)},hvh:function(t,e){return"H"+n.round((t[0]+e[0])/2,2)+"V"+n.round(e[1],2)+"H"+n.round(e[0],2)},vhv:function(t,e){return"V"+n.round((t[1]+e[1])/2,2)+"H"+n.round(e[0],2)+"V"+n.round(e[1],2)}},F=function(t,e){return"L"+n.round(e[0],2)+","+n.round(e[1],2)};T.steps=function(t){var e=z[t]||F;return function(t){for(var path="M"+n.round(t[0][0],2)+","+n.round(t[0][1],2),i=1;i<t.length;i++)path+=e(t[i-1],t[i]);return path}},T.makeTester=function(){var t=d.ensureSingleById(n.select("body"),"svg","js-plotly-tester",(function(s){s.attr(y.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})})),e=d.ensureSingle(t,"path","js-reference-point",(function(s){s.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})}));T.tester=t,T.testref=e},T.savedBBoxes={};var j=0;function B(t){var e=t.getAttribute("data-unformatted");if(null!==e)return e+t.getAttribute("data-math")+t.getAttribute("text-anchor")+t.getAttribute("style")}function U(t,e){if(!t)return null;var r=e._context;return"url('"+(r._exportedPlot?"":r._baseUrl||"")+"#"+t+"')"}T.bBox=function(t,e,r){var o,l,c;if(r||(r=B(t)),r){if(o=T.savedBBoxes[r])return d.extendFlat({},o)}else if(1===t.childNodes.length){var f=t.childNodes[0];if(r=B(f)){var h=+f.getAttribute("x")||0,v=+f.getAttribute("y")||0,y=f.getAttribute("transform");if(!y){var x=T.bBox(f,!1,r);return h&&(x.left+=h,x.right+=h),v&&(x.top+=v,x.bottom+=v),x}if(r+="~"+h+"~"+v+"~"+y,o=T.savedBBoxes[r])return d.extendFlat({},o)}}e?l=t:(c=T.tester.node(),l=t.cloneNode(!0),c.appendChild(l)),n.select(l).attr("transform",null).call(m.positionText,0,0);var _=l.getBoundingClientRect(),w=T.testref.node().getBoundingClientRect();e||c.removeChild(l);var M={height:_.height,width:_.width,left:_.left-w.left,top:_.top-w.top,right:_.right-w.left,bottom:_.bottom-w.top};return j>=1e4&&(T.savedBBoxes={},j=0),r&&(T.savedBBoxes[r]=M),j++,d.extendFlat({},M)},T.setClipUrl=function(s,t,e){s.attr("clip-path",U(t,e))},T.getTranslate=function(element){var t=(element[element.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,(function(t,e,r){return[e,r].join(" ")})).split(" ");return{x:+t[0]||0,y:+t[1]||0}},T.setTranslate=function(element,t,e){var r=element.attr?"attr":"getAttribute",n=element.attr?"attr":"setAttribute",o=element[r]("transform")||"";return t=t||0,e=e||0,o=o.replace(/(\btranslate\(.*?\);?)/,"").trim(),o=(o+=v(t,e)).trim(),element[n]("transform",o),o},T.getScale=function(element){var t=(element[element.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,(function(t,e,r){return[e,r].join(" ")})).split(" ");return{x:+t[0]||1,y:+t[1]||1}},T.setScale=function(element,t,e){var r=element.attr?"attr":"getAttribute",n=element.attr?"attr":"setAttribute",o=element[r]("transform")||"";return t=t||1,e=e||1,o=o.replace(/(\bscale\(.*?\);?)/,"").trim(),o=(o+="scale("+t+","+e+")").trim(),element[n]("transform",o),o};var H=/\s*sc.*/;T.setPointGroupScale=function(t,e,r){if(e=e||1,r=r||1,t){var n=1===e&&1===r?"":"scale("+e+","+r+")";t.each((function(){var t=(this.getAttribute("transform")||"").replace(H,"");t=(t+=n).trim(),this.setAttribute("transform",t)}))}};var V=/translate\([^)]*\)\s*$/;T.setTextPointsScale=function(t,e,r){t&&t.each((function(){var t,o=n.select(this),text=o.select("text");if(text.node()){var l=parseFloat(text.attr("x")||0),c=parseFloat(text.attr("y")||0),f=(o.attr("transform")||"").match(V);t=1===e&&1===r?[]:[v(l,c),"scale("+e+","+r+")",v(-l,-c)],f&&t.push(f),o.attr("transform",t.join(""))}}))}},function(t,e,r){"use strict";var n=r(421),o=r(449),l={name:{valType:"string",editType:"none"}};function c(t){return t&&"string"==typeof t}function f(t){var e=t.length-1;return"s"!==t.charAt(e)&&n.warn("bad argument to arrayDefaultKey: "+t),t.substr(0,t.length-1)+"defaults"}l.templateitemname={valType:"string",editType:"calc"},e.templatedArray=function(t,e){return e._isLinkedToArray=t,e.name=l.name,e.templateitemname=l.templateitemname,e},e.traceTemplater=function(t){var e,r,l={};for(e in t)r=t[e],Array.isArray(r)&&r.length&&(l[e]=0);return{newTrace:function(c){var f={type:e=n.coerce(c,{},o,"type"),_template:null};if(e in l){r=t[e];var h=l[e]%r.length;l[e]++,f._template=r[h]}return f}}},e.newContainer=function(t,e,r){var template=t._template,o=template&&(template[e]||r&&template[r]);return n.isPlainObject(o)||(o=null),t[e]={_template:o}},e.arrayTemplater=function(t,e,r){var template=t._template,n=template&&template[f(e)],o=template&&template[e];Array.isArray(o)&&o.length||(o=[]);var l={};return{newItem:function(t){var e={name:t.name,_input:t},f=e.templateitemname=t.templateitemname;if(!c(f))return e._template=n,e;for(var i=0;i<o.length;i++){var h=o[i];if(h.name===f)return l[f]=1,e._template=h,e}return e[r]=t[r]||!1,e._template=!1,e},defaultItems:function(){for(var t=[],i=0;i<o.length;i++){var e=o[i],r=e.name;if(c(r)&&!l[r]){var n={_template:e,name:r,_input:{_templateitemname:r}};n.templateitemname=e.templateitemname,t.push(n),l[r]=1}}return t}}},e.arrayDefaultKey=f,e.arrayEditor=function(t,e,r){var o=(n.nestedProperty(t,e).get()||[]).length,l=r._index,c=l>=o&&(r._input||{})._templateitemname;c&&(l=o);var f,h=e+"["+l+"]";function d(){f={},c&&(f[h]={},f[h].templateitemname=c)}function v(t,e){c?n.nestedProperty(f[h],t).set(e):f[h+"."+t]=e}function m(){var t=f;return d(),t}return d(),{modifyBase:function(t,e){f[t]=e},modifyItem:v,getUpdateObj:m,applyUpdate:function(e,r){e&&v(e,r);var o=m();for(var l in o)n.nestedProperty(t,l).set(o[l])}}}},function(t,e,r){"use strict";var n=r(489),o=Array.isArray;function l(t,e,r,c){var input,f,h,d,v,m,y=t[0],x=t.length;if(2===x&&o(y)&&o(t[1])&&0===y.length){if(function(source,t){var i,e;for(i=0;i<source.length;i++){if(null!==(e=source[i])&&"object"==typeof e)return!1;void 0!==e&&(t[i]=e)}return!0}(t[1],y))return y;y.splice(0,y.length)}for(var i=1;i<x;i++)for(f in input=t[i])h=y[f],d=input[f],c&&o(d)?y[f]=d:e&&d&&(n(d)||(v=o(d)))?(v?(v=!1,m=h&&o(h)?h:[]):m=h&&n(h)?h:{},y[f]=l([m,d],e,r,c)):(void 0!==d||r)&&(y[f]=d);return y}e.extendFlat=function(){return l(arguments,!1,!1,!1)},e.extendDeep=function(){return l(arguments,!0,!1,!1)},e.extendDeepAll=function(){return l(arguments,!0,!0,!1)},e.extendDeepNoArrays=function(){return l(arguments,!0,!1,!0)}},function(t,e,r){"use strict";t.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE/1e4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},function(t,e,r){"use strict";var n=r(423),o=r(498).timeFormatLocale,l=r(424),c=r(422),f=r(494),h=r(428),d=r(421),v=r(425),m=r(430).BADNUM,y=r(432),x=r(496).clearSelect,_=r(501),w=r(621),M=r(503).getModuleCalcData,A=d.relinkPrivateKeys,T=d._,k=t.exports={};d.extendFlat(k,c),k.attributes=r(449),k.attributes.type.values=k.allTypes,k.fontAttrs=r(441),k.layoutAttributes=r(492),k.fontWeight="normal";var E=k.transformsRegistry,S=r(788);k.executeAPICommand=S.executeAPICommand,k.computeAPICommandBindings=S.computeAPICommandBindings,k.manageCommandObserver=S.manageCommandObserver,k.hasSimpleAPICommandBindings=S.hasSimpleAPICommandBindings,k.redrawText=function(t){var e=(t=d.getGraphDiv(t))._fullLayout||{};if(!(!(e._has&&e._has("polar"))&&t.data&&t.data[0]&&t.data[0].r))return new Promise((function(e){setTimeout((function(){c.getComponentMethod("annotations","draw")(t),c.getComponentMethod("legend","draw")(t),c.getComponentMethod("colorbar","draw")(t),e(k.previousPromises(t))}),300)}))},k.resize=function(t){var e;t=d.getGraphDiv(t);var p=new Promise((function(r,n){t&&!d.isHidden(t)||n(new Error("Resize must be passed a displayed plot div element.")),t._redrawTimer&&clearTimeout(t._redrawTimer),t._resolveResize&&(e=t._resolveResize),t._resolveResize=r,t._redrawTimer=setTimeout((function(){if(!t.layout||t.layout.width&&t.layout.height||d.isHidden(t))r(t);else{delete t.layout.width,delete t.layout.height;var e=t.changed;t.autoplay=!0,c.call("relayout",t,{autosize:!0}).then((function(){t.changed=e,t._resolveResize===r&&(delete t._resolveResize,r(t))}))}}),100)}));return e&&e(p),p},k.previousPromises=function(t){if((t._promises||[]).length)return Promise.all(t._promises).then((function(){t._promises=[]}))},k.addLinks=function(t){if(t._context.showLink||t._context.showSources){var e=t._fullLayout,r=d.ensureSingle(e._paper,"text","js-plot-link-container",(function(s){s.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:v.defaultLine,"pointer-events":"all"}).each((function(){var t=n.select(this);t.append("tspan").classed("js-link-to-tool",!0),t.append("tspan").classed("js-link-spacer",!0),t.append("tspan").classed("js-sourcelinks",!0)}))})),text=r.node(),o={y:e._paper.attr("height")-9};document.body.contains(text)&&text.getComputedTextLength()>=e.width-20?(o["text-anchor"]="start",o.x=5):(o["text-anchor"]="end",o.x=e._paper.attr("width")-7),r.attr(o);var l=r.select(".js-link-to-tool"),c=r.select(".js-link-spacer"),f=r.select(".js-sourcelinks");t._context.showSources&&t._context.showSources(t),t._context.showLink&&function(t,e){e.text("");var link=e.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(t._context.linkText+" "+String.fromCharCode(187));if(t._context.sendData)link.on("click",(function(){k.sendDataToCloud(t)}));else{var path=window.location.pathname.split("/"),r=window.location.search;link.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+path[2].split(".")[0]+"/"+path[1]+r})}}(t,l),c.text(l.text()&&f.text()?" - ":"")}},k.sendDataToCloud=function(t){var e=(window.PLOTLYENV||{}).BASE_URL||t._context.plotlyServerURL;if(e){t.emit("plotly_beforeexport");var r=n.select(t).append("div").attr("id","hiddenform").style("display","none"),o=r.append("form").attr({action:e+"/external",method:"post",target:"_blank"});return o.append("input").attr({type:"text",name:"data"}).node().value=k.graphJson(t,!1,"keepdata"),o.node().submit(),r.remove(),t.emit("plotly_afterexport"),!1}};var L=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],C=["year","month","dayMonth","dayMonthYear"];function O(t,e){var r=t._context.locale;r||(r="en-US");var n=!1,o={};function l(t){for(var r=!0,i=0;i<e.length;i++){var l=e[i];o[l]||(t[l]?o[l]=t[l]:r=!1)}r&&(n=!0)}for(var i=0;i<2;i++){for(var f=t._context.locales,h=0;h<2;h++){var d=(f[r]||{}).format;if(d&&(l(d),n))break;f=c.localeRegistry}var v=r.split("-")[0];if(n||v===r)break;r=v}return n||l(c.localeRegistry.en.format),o}function R(t,e){var r={_fullLayout:e},n="x"===t._id.charAt(0),o=t._mainAxis._anchorAxis,l="",c="",f="";if(o&&(f=o._mainAxis._id,l=n?t._id+f:f+t._id),!l||!e._plots[l]){l="";for(var h=t._counterAxes,d=0;d<h.length;d++){var v=h[d],m=n?t._id+v:v+t._id;c||(c=m);var x=y.getFromId(r,v);if(f&&x.overlaying===f){l=m;break}}}return l||c}function D(t){var e=t.transforms;if(Array.isArray(e)&&e.length)for(var i=0;i<e.length;i++){var r=e[i],n=r._module||E[r.type];if(n&&n.makesData)return!0}return!1}function P(t,e,r,n){for(var o=t.transforms,l=[t],i=0;i<o.length;i++){var c=o[i],f=E[c.type];f&&f.transform&&(l=f.transform(l,{transform:c,fullTrace:t,fullData:e,layout:r,fullLayout:n,transformIndex:i}))}return l}function I(t){return"string"==typeof t&&"px"===t.substr(t.length-2)&&parseFloat(t)}function N(t){var e=t.margin;if(!t._size){var r=t._size={l:Math.round(e.l),r:Math.round(e.r),t:Math.round(e.t),b:Math.round(e.b),p:Math.round(e.pad)};r.w=Math.round(t.width)-r.l-r.r,r.h=Math.round(t.height)-r.t-r.b}t._pushmargin||(t._pushmargin={}),t._pushmarginIds||(t._pushmarginIds={})}k.supplyDefaults=function(t,e){var r=e&&e.skipUpdateCalc,l=t._fullLayout||{};if(l._skipDefaults)delete l._skipDefaults;else{var i,f=t._fullLayout={},h=t.layout||{},v=t._fullData||[],m=t._fullData=[],y=t.data||[],_=t.calcdata||[],w=t._context||{};t._transitionData||k.createTransitionData(t),f._dfltTitle={plot:T(t,"Click to enter Plot title"),x:T(t,"Click to enter X axis title"),y:T(t,"Click to enter Y axis title"),colorbar:T(t,"Click to enter Colorscale title"),annotation:T(t,"new text")},f._traceWord=T(t,"trace");var M=O(t,L);if(f._mapboxAccessToken=w.mapboxAccessToken,l._initialAutoSizeIsDone){var E=l.width,S=l.height;k.supplyLayoutGlobalDefaults(h,f,M),h.width||(f.width=E),h.height||(f.height=S),k.sanitizeMargins(f)}else{k.supplyLayoutGlobalDefaults(h,f,M);var R=!h.width||!h.height,D=f.autosize,P=w.autosizable;R&&(D||P)?k.plotAutoSize(t,h,f):R&&k.sanitizeMargins(f),!D&&R&&(h.width=f.width,h.height=f.height)}f._d3locale=function(t,e){return t.decimal=e.charAt(0),t.thousands=e.charAt(1),{numberFormat:n.locale(t).numberFormat,timeFormat:o(t).utcFormat}}(M,f.separators),f._extraFormat=O(t,C),f._initialAutoSizeIsDone=!0,f._dataLength=y.length,f._modules=[],f._visibleModules=[],f._basePlotModules=[];var I=f._subplots=function(){var i,t,e=c.collectableSubplotTypes,r={};if(!e){e=[];var n=c.subplotsRegistry;for(var o in n){var l=n[o].attr;if(l&&(e.push(o),Array.isArray(l)))for(t=0;t<l.length;t++)d.pushUnique(e,l[t])}}for(i=0;i<e.length;i++)r[e[i]]=[];return r}(),z=f._splomAxes={x:{},y:{}},F=f._splomSubplots={};f._splomGridDflt={},f._scatterStackOpts={},f._firstScatter={},f._alignmentOpts={},f._colorAxes={},f._requestRangeslider={},f._traceUids=function(t,e){var i,r,n=e.length,o=[];for(i=0;i<t.length;i++){var l=t[i]._fullInput;l!==r&&o.push(l),r=l}var c=o.length,f=new Array(n),h={};function v(t,i){f[i]=t,h[t]=1}function m(t,i){if(t&&"string"==typeof t&&!h[t])return v(t,i),!0}for(i=0;i<n;i++){var y=e[i].uid;"number"==typeof y&&(y=String(y)),m(y,i)||(i<c&&m(o[i].uid,i)||v(d.randstr(h),i))}return f}(v,y),f._globalTransforms=(t._context||{}).globalTransforms,k.supplyDataDefaults(y,m,h,f);var j=Object.keys(z.x),B=Object.keys(z.y);if(j.length>1&&B.length>1){for(c.getComponentMethod("grid","sizeDefaults")(h,f),i=0;i<j.length;i++)d.pushUnique(I.xaxis,j[i]);for(i=0;i<B.length;i++)d.pushUnique(I.yaxis,B[i]);for(var U in F)d.pushUnique(I.cartesian,U)}if(f._has=k._hasPlotType.bind(f),v.length===m.length)for(i=0;i<m.length;i++)A(m[i],v[i]);k.supplyLayoutModuleDefaults(h,f,m,t._transitionData);var H=f._visibleModules,V=[];for(i=0;i<H.length;i++){var Y=H[i].crossTraceDefaults;Y&&d.pushUnique(V,Y)}for(i=0;i<V.length;i++)V[i](m,f);f._hasOnlyLargeSploms=1===f._basePlotModules.length&&"splom"===f._basePlotModules[0].name&&j.length>15&&B.length>15&&0===f.shapes.length&&0===f.images.length,f._hasCartesian=f._has("cartesian"),f._hasGeo=f._has("geo"),f._hasGL3D=f._has("gl3d"),f._hasGL2D=f._has("gl2d"),f._hasTernary=f._has("ternary"),f._hasPie=f._has("pie"),k.linkSubplots(m,f,v,l),k.cleanPlot(m,f,v,l);var G=!(!l._has||!l._has("gl2d")),W=!(!f._has||!f._has("gl2d")),X=!(!l._has||!l._has("cartesian"))||G,Z=!(!f._has||!f._has("cartesian"))||W;X&&!Z?l._bgLayer.remove():Z&&!X&&(f._shouldCreateBgLayer=!0),l._zoomlayer&&!t._dragging&&x({_fullLayout:l}),function(t,e){var r,n=[];e.meta&&(r=e._meta={meta:e.meta,layout:{meta:e.meta}});for(var i=0;i<t.length;i++){var o=t[i];o.meta?n[o.index]=o._meta={meta:o.meta}:e.meta&&(o._meta={meta:e.meta}),e.meta&&(o._meta.layout={meta:e.meta})}n.length&&(r||(r=e._meta={}),r.data=n)}(m,f),A(f,l),c.getComponentMethod("colorscale","crossTraceDefaults")(m,f),f._preGUI||(f._preGUI={}),f._tracePreGUI||(f._tracePreGUI={});var J,Q=f._tracePreGUI,K={};for(J in Q)K[J]="old";for(i=0;i<m.length;i++)K[J=m[i]._fullInput.uid]||(Q[J]={}),K[J]="new";for(J in K)"old"===K[J]&&delete Q[J];N(f),c.getComponentMethod("rangeslider","makeData")(f),r||_.length!==m.length||k.supplyDefaultsUpdateCalc(_,m)}},k.supplyDefaultsUpdateCalc=function(t,e){for(var i=0;i<e.length;i++){var r=e[i],n=(t[i]||[])[0];if(n&&n.trace){var o=n.trace;if(o._hasCalcTransform){var l,c,f,h=o._arrayAttrs;for(l=0;l<h.length;l++)c=h[l],f=d.nestedProperty(o,c).get().slice(),d.nestedProperty(r,c).set(f)}n.trace=r}}},k.createTransitionData=function(t){t._transitionData||(t._transitionData={}),t._transitionData._frames||(t._transitionData._frames=[]),t._transitionData._frameHash||(t._transitionData._frameHash={}),t._transitionData._counter||(t._transitionData._counter=0),t._transitionData._interruptCallbacks||(t._transitionData._interruptCallbacks=[])},k._hasPlotType=function(t){var i,e=this._basePlotModules||[];for(i=0;i<e.length;i++)if(e[i].name===t)return!0;var r=this._modules||[];for(i=0;i<r.length;i++){var n=r[i].name;if(n===t)return!0;var o=c.modules[n];if(o&&o.categories[t])return!0}return!1},k.cleanPlot=function(t,e,r,n){var i,o,l=n._basePlotModules||[];for(i=0;i<l.length;i++){var c=l[i];c.clean&&c.clean(t,e,r,n)}var f=n._has&&n._has("gl"),h=e._has&&e._has("gl");f&&!h&&void 0!==n._glcontainer&&(n._glcontainer.selectAll(".gl-canvas").remove(),n._glcontainer.selectAll(".no-webgl").remove(),n._glcanvas=null);var d=!!n._infolayer;t:for(i=0;i<r.length;i++){var v=r[i].uid;for(o=0;o<t.length;o++){if(v===t[o].uid)continue t}d&&n._infolayer.select(".cb"+v).remove()}},k.linkSubplots=function(t,e,r,n){var i,o,l=n._plots||{},f=e._plots={},h=e._subplots,v={_fullData:t,_fullLayout:e},m=h.cartesian.concat(h.gl2d||[]);for(i=0;i<m.length;i++){var x,_=m[i],w=l[_],M=y.getFromId(v,_,"x"),A=y.getFromId(v,_,"y");for(w?x=f[_]=w:(x=f[_]={}).id=_,M._counterAxes.push(A._id),A._counterAxes.push(M._id),M._subplotsWith.push(_),A._subplotsWith.push(_),x.xaxis=M,x.yaxis=A,x._hasClipOnAxisFalse=!1,o=0;o<t.length;o++){var T=t[o];if(T.xaxis===x.xaxis._id&&T.yaxis===x.yaxis._id&&!1===T.cliponaxis){x._hasClipOnAxisFalse=!0;break}}}var k,E=y.list(v,null,!0);for(i=0;i<E.length;i++){var S=null;(k=E[i]).overlaying&&(S=y.getFromId(v,k.overlaying))&&S.overlaying&&(k.overlaying=!1,S=null),k._mainAxis=S||k,S&&(k.domain=S.domain.slice()),k._anchorAxis="free"===k.anchor?null:y.getFromId(v,k.anchor)}for(i=0;i<E.length;i++)if((k=E[i])._counterAxes.sort(y.idSort),k._subplotsWith.sort(d.subplotSort),k._mainSubplot=R(k,e),k._counterAxes.length&&(k.spikemode&&-1!==k.spikemode.indexOf("across")||k.automargin&&k.mirror&&"free"!==k.anchor||c.getComponentMethod("rangeslider","isVisible")(k))){var L=1,C=0;for(o=0;o<k._counterAxes.length;o++){var O=y.getFromId(v,k._counterAxes[o]);L=Math.min(L,O.domain[0]),C=Math.max(C,O.domain[1])}L<C&&(k._counterDomainMin=L,k._counterDomainMax=C)}},k.clearExpandedTraceDefaultColors=function(t){var e,path,i;for(path=[],(e=t._module._colorAttrs)||(t._module._colorAttrs=e=[],f.crawl(t._module.attributes,(function(t,r,n,o){path[o]=r,path.length=o+1,"color"===t.valType&&void 0===t.dflt&&e.push(path.join("."))}))),i=0;i<e.length;i++){d.nestedProperty(t,"_input."+e[i]).get()||d.nestedProperty(t,e[i]).set(null)}},k.supplyDataDefaults=function(t,e,r,n){var i,o,l,f=n._modules,v=n._visibleModules,m=n._basePlotModules,y=0,x=0;function _(t){e.push(t);var r=t._module;r&&(d.pushUnique(f,r),!0===t.visible&&d.pushUnique(v,r),d.pushUnique(m,t._module.basePlotModule),y++,!1!==t._input.visible&&x++)}n._transformModules=[];var w={},M=[],T=(r.template||{}).data||{},E=h.traceTemplater(T);for(i=0;i<t.length;i++){if(l=t[i],(o=E.newTrace(l)).uid=n._traceUids[i],k.supplyTraceDefaults(l,o,x,n,i),o.index=i,o._input=l,o._expandedIndex=y,o.transforms&&o.transforms.length)for(var S=!1!==l.visible&&!1===o.visible,L=P(o,e,r,n),C=0;C<L.length;C++){var O=L[C],R={_template:o._template,type:o.type,uid:o.uid+C};S&&!1===O.visible&&delete O.visible,k.supplyTraceDefaults(O,R,y,n,i),A(R,O),R.index=i,R._input=l,R._fullInput=o,R._expandedIndex=y,R._expandedInput=O,_(R)}else o._fullInput=o,o._expandedInput=o,_(o);c.traceIs(o,"carpetAxis")&&(w[o.carpet]=o),c.traceIs(o,"carpetDependent")&&M.push(i)}for(i=0;i<M.length;i++)if((o=e[M[i]]).visible){var D=w[o.carpet];o._carpet=D,D&&D.visible?(o.xaxis=D.xaxis,o.yaxis=D.yaxis):o.visible=!1}},k.supplyAnimationDefaults=function(t){var i;t=t||{};var e={};function r(r,n){return d.coerce(t||{},e,_,r,n)}if(r("mode"),r("direction"),r("fromcurrent"),Array.isArray(t.frame))for(e.frame=[],i=0;i<t.frame.length;i++)e.frame[i]=k.supplyAnimationFrameDefaults(t.frame[i]||{});else e.frame=k.supplyAnimationFrameDefaults(t.frame||{});if(Array.isArray(t.transition))for(e.transition=[],i=0;i<t.transition.length;i++)e.transition[i]=k.supplyAnimationTransitionDefaults(t.transition[i]||{});else e.transition=k.supplyAnimationTransitionDefaults(t.transition||{});return e},k.supplyAnimationFrameDefaults=function(t){var e={};function r(r,n){return d.coerce(t||{},e,_.frame,r,n)}return r("duration"),r("redraw"),e},k.supplyAnimationTransitionDefaults=function(t){var e={};function r(r,n){return d.coerce(t||{},e,_.transition,r,n)}return r("duration"),r("easing"),e},k.supplyFrameDefaults=function(t){var e={};function r(r,n){return d.coerce(t,e,w,r,n)}return r("group"),r("name"),r("traces"),r("baseframe"),r("data"),r("layout"),e},k.supplyTraceDefaults=function(t,e,r,n,o){var i,l=n.colorway||v.defaults,f=l[r%l.length];function h(r,n){return d.coerce(t,e,k.attributes,r,n)}var m=h("visible");h("type"),h("name",n._traceWord+" "+o),h("uirevision",n.uirevision);var y=k.getModule(e);if(e._module=y,y){var x=y.basePlotModule,_=x.attr,w=x.attributes;if(_&&w){var M=n._subplots,A="";if(m||"gl2d"!==x.name){if(Array.isArray(_))for(i=0;i<_.length;i++){var T=_[i],E=d.coerce(t,e,w,T);M[T]&&d.pushUnique(M[T],E),A+=E}else A=d.coerce(t,e,w,_);M[x.name]&&d.pushUnique(M[x.name],A)}}}return m&&(h("customdata"),h("ids"),h("meta"),c.traceIs(e,"showLegend")?(d.coerce(t,e,y.attributes.showlegend?y.attributes:k.attributes,"showlegend"),h("legendgroup"),e._dfltShowLegend=!0):e._dfltShowLegend=!1,y&&y.supplyDefaults(t,e,f,n),c.traceIs(e,"noOpacity")||h("opacity"),c.traceIs(e,"notLegendIsolatable")&&(e.visible=!!e.visible),c.traceIs(e,"noHover")||(e.hovertemplate||d.coerceHoverinfo(t,e,n),"parcats"!==e.type&&c.getComponentMethod("fx","supplyDefaults")(t,e,f,n)),y&&y.selectPoints&&h("selectedpoints"),k.supplyTransformDefaults(t,e,n)),e},k.hasMakesDataTransform=D,k.supplyTransformDefaults=function(t,e,r){if(e._length||D(t)){var n=r._globalTransforms||[],o=r._transformModules||[];if(Array.isArray(t.transforms)||0!==n.length)for(var l=t.transforms||[],c=n.concat(l),f=e.transforms=[],i=0;i<c.length;i++){var h,v=c[i],m=v.type,y=E[m],x=!(v._module&&v._module===y),_=y&&"function"==typeof y.transform;y||d.warn("Unrecognized transform type "+m+"."),y&&y.supplyDefaults&&(x||_)?((h=y.supplyDefaults(v,e,r,t)).type=m,h._module=y,d.pushUnique(o,y)):h=d.extendFlat({},v),f.push(h)}}},k.supplyLayoutGlobalDefaults=function(t,e,r){function n(r,n){return d.coerce(t,e,k.layoutAttributes,r,n)}var template=t.template;d.isPlainObject(template)&&(e.template=template,e._template=template.layout,e._dataTemplate=template.data),n("autotypenumbers");var o=d.coerceFont(n,"font");n("title.text",e._dfltTitle.plot),d.coerceFont(n,"title.font",{family:o.family,size:Math.round(1.4*o.size),color:o.color}),n("title.xref"),n("title.yref"),n("title.x"),n("title.y"),n("title.xanchor"),n("title.yanchor"),n("title.pad.t"),n("title.pad.r"),n("title.pad.b"),n("title.pad.l"),n("uniformtext.mode")&&n("uniformtext.minsize"),n("autosize",!(t.width&&t.height)),n("width"),n("height"),n("margin.l"),n("margin.r"),n("margin.t"),n("margin.b"),n("margin.pad"),n("margin.autoexpand"),t.width&&t.height&&k.sanitizeMargins(e),c.getComponentMethod("grid","sizeDefaults")(t,e),n("paper_bgcolor"),n("separators",r.decimal+r.thousands),n("hidesources"),n("colorway"),n("datarevision");var l=n("uirevision");n("editrevision",l),n("selectionrevision",l),n("modebar.orientation"),n("modebar.bgcolor",v.addOpacity(e.paper_bgcolor,.5));var f=v.contrast(v.rgb(e.modebar.bgcolor));n("modebar.color",v.addOpacity(f,.3)),n("modebar.activecolor",v.addOpacity(f,.7)),n("modebar.uirevision",l),c.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(t,e,n),n("meta"),d.isPlainObject(t.transition)&&(n("transition.duration"),n("transition.easing"),n("transition.ordering")),c.getComponentMethod("calendars","handleDefaults")(t,e,"calendar"),c.getComponentMethod("fx","supplyLayoutGlobalDefaults")(t,e,n)},k.plotAutoSize=function(t,e,r){var n,o,c=t._context||{},f=c.frameMargins,h=d.isPlotDiv(t);if(h&&t.emit("plotly_autosize"),c.fillFrame)n=window.innerWidth,o=window.innerHeight,document.body.style.overflow="hidden";else{var v=h?window.getComputedStyle(t):{};if(n=I(v.width)||I(v.maxWidth)||r.width,o=I(v.height)||I(v.maxHeight)||r.height,l(f)&&f>0){var m=1-2*f;n=Math.round(m*n),o=Math.round(m*o)}}var y=k.layoutAttributes.width.min,x=k.layoutAttributes.height.min;n<y&&(n=y),o<x&&(o=x);var _=!e.width&&Math.abs(r.width-n)>1,w=!e.height&&Math.abs(r.height-o)>1;(w||_)&&(_&&(r.width=n),w&&(r.height=o)),t._initialAutoSize||(t._initialAutoSize={width:n,height:o}),k.sanitizeMargins(r)},k.supplyLayoutModuleDefaults=function(t,e,r,n){var component,i,o,l=c.componentsRegistry,f=e._basePlotModules,h=c.subplotsRegistry.cartesian;for(component in l)(o=l[component]).includeBasePlot&&o.includeBasePlot(t,e);for(var v in f.length||f.push(h),e._has("cartesian")&&(c.getComponentMethod("grid","contentDefaults")(t,e),h.finalizeSubplots(t,e)),e._subplots)e._subplots[v].sort(d.subplotSort);for(i=0;i<f.length;i++)(o=f[i]).supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,r);var m=e._modules;for(i=0;i<m.length;i++)(o=m[i]).supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,r);var y=e._transformModules;for(i=0;i<y.length;i++)(o=y[i]).supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,r,n);for(component in l)(o=l[component]).supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,r)},k.purge=function(t){var e=t._fullLayout||{};void 0!==e._glcontainer&&(e._glcontainer.selectAll(".gl-canvas").remove(),e._glcontainer.remove(),e._glcanvas=null),e._modeBar&&e._modeBar.destroy(),t._transitionData&&(t._transitionData._interruptCallbacks&&(t._transitionData._interruptCallbacks.length=0),t._transitionData._animationRaf&&window.cancelAnimationFrame(t._transitionData._animationRaf)),d.clearThrottle(),d.clearResponsive(t),delete t.data,delete t.layout,delete t._fullData,delete t._fullLayout,delete t.calcdata,delete t.framework,delete t.empty,delete t.fid,delete t.undoqueue,delete t.undonum,delete t.autoplay,delete t.changed,delete t._promises,delete t._redrawTimer,delete t._hmlumcount,delete t._hmpixcount,delete t._transitionData,delete t._transitioning,delete t._initialAutoSize,delete t._transitioningWithDuration,delete t._dragging,delete t._dragged,delete t._dragdata,delete t._hoverdata,delete t._snapshotInProgress,delete t._editing,delete t._mouseDownTime,delete t._legendMouseDownTime,t.removeAllListeners&&t.removeAllListeners()},k.style=function(t){var i,e=t._fullLayout._visibleModules,r=[];for(i=0;i<e.length;i++){var n=e[i];n.style&&d.pushUnique(r,n.style)}for(i=0;i<r.length;i++)r[i](t)},k.sanitizeMargins=function(t){if(t&&t.margin){var e,r=t.width,n=t.height,o=t.margin,l=r-(o.l+o.r),c=n-(o.t+o.b);l<0&&(e=(r-1)/(o.l+o.r),o.l=Math.floor(e*o.l),o.r=Math.floor(e*o.r)),c<0&&(e=(n-1)/(o.t+o.b),o.t=Math.floor(e*o.t),o.b=Math.floor(e*o.b))}},k.clearAutoMarginIds=function(t){t._fullLayout._pushmarginIds={}},k.allowAutoMargin=function(t,e){t._fullLayout._pushmarginIds[e]=1};k.autoMargin=function(t,e,r){var n=t._fullLayout,o=n.width,l=n.height,c=n.margin,f=d.constrain(o-c.l-c.r,2,64),h=d.constrain(l-c.t-c.b,2,64),v=Math.max(0,o-f),m=Math.max(0,l-h),y=n._pushmargin,x=n._pushmarginIds;if(!1!==c.autoexpand){if(r){var _=r.pad;if(void 0===_&&(_=Math.min(12,c.l,c.r,c.t,c.b)),v){var w=(r.l+r.r)/v;w>1&&(r.l/=w,r.r/=w)}if(m){var M=(r.t+r.b)/m;M>1&&(r.t/=M,r.b/=M)}var A=void 0!==r.xl?r.xl:r.x,T=void 0!==r.xr?r.xr:r.x,E=void 0!==r.yt?r.yt:r.y,S=void 0!==r.yb?r.yb:r.y;y[e]={l:{val:A,size:r.l+_},r:{val:T,size:r.r+_},b:{val:S,size:r.b+_},t:{val:E,size:r.t+_}},x[e]=1}else delete y[e],delete x[e];if(!n._replotting)return k.doAutoMargin(t)}},k.doAutoMargin=function(t){var e=t._fullLayout,r=e.width,n=e.height;e._size||(e._size={}),N(e);var o=e._size,f=e.margin,h=d.extendFlat({},o),v=f.l,m=f.r,x=f.t,_=f.b,w=e._pushmargin,M=e._pushmarginIds;if(!1!==e.margin.autoexpand){for(var A in w)M[A]||delete w[A];for(var T in w.base={l:{val:0,size:v},r:{val:1,size:m},t:{val:1,size:x},b:{val:0,size:_}},w){var E=w[T].l||{},S=w[T].b||{},L=E.val,C=E.size,O=S.val,R=S.size;for(var D in w){if(l(C)&&w[D].r){var P=w[D].r.val,I=w[D].r.size;if(P>L){var z=(C*P+(I-r)*L)/(P-L),F=(I*(1-L)+(C-r)*(1-P))/(P-L);z+F>v+m&&(v=z,m=F)}}if(l(R)&&w[D].t){var j=w[D].t.val,B=w[D].t.size;if(j>O){var U=(R*j+(B-n)*O)/(j-O),H=(B*(1-O)+(R-n)*(1-j))/(j-O);U+H>_+x&&(_=U,x=H)}}}}}var V=d.constrain(r-f.l-f.r,2,64),Y=d.constrain(n-f.t-f.b,2,64),G=Math.max(0,r-V),W=Math.max(0,n-Y);if(G){var X=(v+m)/G;X>1&&(v/=X,m/=X)}if(W){var Z=(_+x)/W;Z>1&&(_/=Z,x/=Z)}if(o.l=Math.round(v),o.r=Math.round(m),o.t=Math.round(x),o.b=Math.round(_),o.p=Math.round(f.pad),o.w=Math.round(r)-o.l-o.r,o.h=Math.round(n)-o.t-o.b,!e._replotting&&k.didMarginChange(h,o)){"_redrawFromAutoMarginCount"in e?e._redrawFromAutoMarginCount++:e._redrawFromAutoMarginCount=1;var J=3*(1+Object.keys(M).length);if(e._redrawFromAutoMarginCount<J)return c.call("plot",t);e._size=h,d.warn("Too many auto-margin redraws.")}!function(t){for(var e=y.list(t,"",!0),i=0;i<e.length;i++){var r=e[i]._hideOutOfRangeInsideTickLabels;r&&r()}}(t)};var z=["l","r","t","b","p","w","h"];function F(t,e,r){var n=!1;var o=[k.previousPromises,function(){if(t._transitionData)return t._transitioning=!1,function(t){var p=Promise.resolve();if(!t)return p;for(;t.length;)p=p.then(t.shift());return p}(t._transitionData._interruptCallbacks)},r.prepareFn,k.rehover,function(){return t.emit("plotly_transitioning",[]),new Promise((function(o){t._transitioning=!0,e.duration>0&&(t._transitioningWithDuration=!0),t._transitionData._interruptCallbacks.push((function(){n=!0})),r.redraw&&t._transitionData._interruptCallbacks.push((function(){return c.call("redraw",t)})),t._transitionData._interruptCallbacks.push((function(){t.emit("plotly_transitioninterrupted",[])}));var l=0,f=0;function h(){return l++,function(){f++,n||f!==l||function(e){if(!t._transitionData)return;(function(t){if(t)for(;t.length;)t.shift()})(t._transitionData._interruptCallbacks),Promise.resolve().then((function(){if(r.redraw)return c.call("redraw",t)})).then((function(){t._transitioning=!1,t._transitioningWithDuration=!1,t.emit("plotly_transitioned",[])})).then(e)}(o)}}r.runFn(h),setTimeout(h())}))}],l=d.syncOrAsync(o,t);return l&&l.then||(l=Promise.resolve()),l.then((function(){return t}))}k.didMarginChange=function(t,e){for(var i=0;i<z.length;i++){var r=z[i],n=t[r],o=e[r];if(!l(n)||Math.abs(o-n)>1)return!0}return!1},k.graphJson=function(t,e,r,output,n,o){(n&&e&&!t._fullData||n&&!e&&!t._fullLayout)&&k.supplyDefaults(t);var data=n?t._fullData:t.data,l=n?t._fullLayout:t.layout,c=(t._transitionData||{})._frames;function f(t,e){if("function"==typeof t)return e?"_function_":null;if(d.isPlainObject(t)){var n,o={};return Object.keys(t).sort().forEach((function(l){if(-1===["_","["].indexOf(l.charAt(0)))if("function"!=typeof t[l]){if("keepdata"===r){if("src"===l.substr(l.length-3))return}else if("keepstream"===r){if("string"==typeof(n=t[l+"src"])&&n.indexOf(":")>0&&!d.isPlainObject(t.stream))return}else if("keepall"!==r&&"string"==typeof(n=t[l+"src"])&&n.indexOf(":")>0)return;o[l]=f(t[l],e)}else e&&(o[l]="_function")})),o}return Array.isArray(t)?t.map((function(t){return f(t,e)})):d.isTypedArray(t)?d.simpleMap(t,d.identity):d.isJSDate(t)?d.ms2DateTimeLocal(+t):t}var h={data:(data||[]).map((function(t){var r=f(t);return e&&delete r.fit,r}))};if(!e&&(h.layout=f(l),n)){var v=l._size;h.layout.computed={margin:{b:v.b,l:v.l,r:v.r,t:v.t}}}return t.framework&&t.framework.isPolar&&(h=t.framework.getConfig()),c&&(h.frames=f(c)),o&&(h.config=f(t._context,!0)),"object"===output?h:JSON.stringify(h)},k.modifyFrames=function(t,e){var i,r,n,o=t._transitionData._frames,l=t._transitionData._frameHash;for(i=0;i<e.length;i++)switch((r=e[i]).type){case"replace":n=r.value;var c=(o[r.index]||{}).name,f=n.name;o[r.index]=l[f]=n,f!==c&&(delete l[c],l[f]=n);break;case"insert":l[(n=r.value).name]=n,o.splice(r.index,0,n);break;case"delete":delete l[(n=o[r.index]).name],o.splice(r.index,1)}return Promise.resolve()},k.computeFrame=function(t,e){var i,r,n,o,l=t._transitionData._frameHash;if(!e)throw new Error("computeFrame must be given a string frame name");var c=l[e.toString()];if(!c)return!1;for(var f=[c],h=[c.name];c.baseframe&&(c=l[c.baseframe.toString()])&&-1===h.indexOf(c.name);)f.push(c),h.push(c.name);for(var d={};c=f.pop();)if(c.layout&&(d.layout=k.extendLayout(d.layout,c.layout)),c.data){if(d.data||(d.data=[]),!(r=c.traces))for(r=[],i=0;i<c.data.length;i++)r[i]=i;for(d.traces||(d.traces=[]),i=0;i<c.data.length;i++)null!=(n=r[i])&&(-1===(o=d.traces.indexOf(n))&&(o=d.data.length,d.traces[o]=n),d.data[o]=k.extendTrace(d.data[o],c.data[i]))}return d},k.recomputeFrameHash=function(t){for(var e=t._transitionData._frameHash={},r=t._transitionData._frames,i=0;i<r.length;i++){var n=r[i];n&&n.name&&(e[n.name]=n)}},k.extendObjectWithContainers=function(t,e,r){var n,o,i,l,c,f,h,v=d.extendDeepNoArrays({},e||{}),m=d.expandObjectPaths(v),y={};if(r&&r.length)for(i=0;i<r.length;i++)void 0===(o=(n=d.nestedProperty(m,r[i])).get())?d.nestedProperty(y,r[i]).set(null):(n.set(null),d.nestedProperty(y,r[i]).set(o));if(t=d.extendDeepNoArrays(t||{},m),r&&r.length)for(i=0;i<r.length;i++)if(f=d.nestedProperty(y,r[i]).get()){for(h=(c=d.nestedProperty(t,r[i])).get(),Array.isArray(h)||(h=[],c.set(h)),l=0;l<f.length;l++){var x=f[l];h[l]=null===x?null:k.extendObjectWithContainers(h[l],x)}c.set(h)}return t},k.dataArrayContainers=["transforms","dimensions"],k.layoutArrayContainers=c.layoutArrayContainers,k.extendTrace=function(t,e){return k.extendObjectWithContainers(t,e,k.dataArrayContainers)},k.extendLayout=function(t,e){return k.extendObjectWithContainers(t,e,k.layoutArrayContainers)},k.transition=function(t,data,e,r,n,o){var l={redraw:n.redraw},c={},f=[];return l.prepareFn=function(){for(var n=Array.isArray(data)?data.length:0,o=r.slice(0,n),i=0;i<o.length;i++){var l=o[i],h=t._fullData[l]._module;if(h){if(h.animatable){var v=h.basePlotModule.name;c[v]||(c[v]=[]),c[v].push(l)}t.data[o[i]]=k.extendTrace(t.data[o[i]],data[i])}}var m=d.expandObjectPaths(d.extendDeepNoArrays({},e)),y=/^[xy]axis[0-9]*$/;for(var x in m)y.test(x)&&delete m[x].range;k.extendLayout(t.layout,m),delete t.calcdata,k.supplyDefaults(t),k.doCalcdata(t);var _=d.expandObjectPaths(e);if(_){var w=t._fullLayout._plots;for(var M in w){var A=w[M],T=A.xaxis,E=A.yaxis,S=T.range.slice(),L=E.range.slice(),C=null,O=null,R=null,D=null;Array.isArray(_[T._name+".range"])?C=_[T._name+".range"].slice():Array.isArray((_[T._name]||{}).range)&&(C=_[T._name].range.slice()),Array.isArray(_[E._name+".range"])?O=_[E._name+".range"].slice():Array.isArray((_[E._name]||{}).range)&&(O=_[E._name].range.slice()),S&&C&&(T.r2l(S[0])!==T.r2l(C[0])||T.r2l(S[1])!==T.r2l(C[1]))&&(R={xr0:S,xr1:C}),L&&O&&(E.r2l(L[0])!==E.r2l(O[0])||E.r2l(L[1])!==E.r2l(O[1]))&&(D={yr0:L,yr1:O}),(R||D)&&f.push(d.extendFlat({plotinfo:A},R,D))}}return Promise.resolve()},l.runFn=function(r){var n,i,l=t._fullLayout._basePlotModules,h=f.length;if(e)for(i=0;i<l.length;i++)l[i].transitionAxes&&l[i].transitionAxes(t,f,o,r);for(var v in h?((n=d.extendFlat({},o)).duration=0,delete c.cartesian):n=o,c){var m=c[v];t._fullData[m[0]]._module.basePlotModule.plot(t,m,n,r)}},F(t,o,l)},k.transitionFromReact=function(t,e,r,n){var o=t._fullLayout,l=o.transition,c={},f=[];return c.prepareFn=function(){var t=o._plots;for(var l in c.redraw=!1,"some"===e.anim&&(c.redraw=!0),"some"===r.anim&&(c.redraw=!0),t){var h=t[l],v=h.xaxis,m=h.yaxis,y=n[v._name].range.slice(),x=n[m._name].range.slice(),_=v.range.slice(),w=m.range.slice();v.setScale(),m.setScale();var M=null,A=null;v.r2l(y[0])===v.r2l(_[0])&&v.r2l(y[1])===v.r2l(_[1])||(M={xr0:y,xr1:_}),m.r2l(x[0])===m.r2l(w[0])&&m.r2l(x[1])===m.r2l(w[1])||(A={yr0:x,yr1:w}),(M||A)&&f.push(d.extendFlat({plotinfo:h},M,A))}return Promise.resolve()},c.runFn=function(r){for(var n,o,c,h=t._fullData,v=t._fullLayout._basePlotModules,m=[],i=0;i<h.length;i++)m.push(i);function y(){for(var e=0;e<v.length;e++)v[e].transitionAxes&&v[e].transitionAxes(t,f,n,r)}function x(){for(var e=0;e<v.length;e++)v[e].plot(t,c,o,r)}f.length&&e.anim?"traces first"===l.ordering?(n=d.extendFlat({},l,{duration:0}),c=m,o=l,setTimeout(y,l.duration),x()):(n=l,c=null,o=d.extendFlat({},l,{duration:0}),setTimeout(x,n.duration),y()):f.length?(n=l,y()):e.anim&&(c=m,o=l,x())},F(t,l,c)},k.doCalcdata=function(t,e){var r,n,i,o,l=y.list(t),h=t._fullData,v=t._fullLayout,x=new Array(h.length),_=(t.calcdata||[]).slice();for(t.calcdata=x,v._numBoxes=0,v._numViolins=0,v._violinScaleGroupStats={},t._hmpixcount=0,t._hmlumcount=0,v._piecolormap={},v._sunburstcolormap={},v._treemapcolormap={},v._funnelareacolormap={},i=0;i<h.length;i++)Array.isArray(e)&&-1===e.indexOf(i)&&(x[i]=_[i]);for(i=0;i<h.length;i++)(r=h[i])._arrayAttrs=f.findArrayAttributes(r),r._extremes={};var w=v._subplots.polar||[];for(i=0;i<w.length;i++)l.push(v[w[i]].radialaxis,v[w[i]].angularaxis);for(var M in v._colorAxes){var A=v[M];!1!==A.cauto&&(delete A.cmin,delete A.cmax)}var T=!1;function k(i){if(r=h[i],n=r._module,!0===r.visible&&r.transforms){if(n&&n.calc){var e=n.calc(t,r);e[0]&&e[0].t&&e[0].t._scene&&delete e[0].t._scene.dirty}for(o=0;o<r.transforms.length;o++){var l=r.transforms[o];(n=E[l.type])&&n.calcTransform&&(r._hasCalcTransform=!0,T=!0,n.calcTransform(t,r,l))}}}function S(i,e){if(r=h[i],!!(n=r._module).isContainer===e){var l=[];if(!0===r.visible&&0!==r._length){delete r._indexToPoints;var c=r.transforms||[];for(o=c.length-1;o>=0;o--)if(c[o].enabled){r._indexToPoints=c[o]._indexToPoints;break}n&&n.calc&&(l=n.calc(t,r))}Array.isArray(l)&&l[0]||(l=[{x:m,y:m}]),l[0].t||(l[0].t={}),l[0].trace=r,x[i]=l}}for(B(l,h,v),i=0;i<h.length;i++)S(i,!0);for(i=0;i<h.length;i++)k(i);for(T&&B(l,h,v),i=0;i<h.length;i++)S(i,!0);for(i=0;i<h.length;i++)S(i,!1);U(t);var L=function(t,e){var i,r,n,o,l,f=[];function h(t,r,n){var o=r._id.charAt(0);if("histogram2dcontour"===t){var l=r._counterAxes[0],c=y.getFromId(e,l),f="x"===o||"x"===l&&"category"===c.type,h="y"===o||"y"===l&&"category"===c.type;return function(t,e){return 0===t||0===e||f&&t===n[e].length-1||h&&e===n.length-1?-1:("y"===o?e:t)-1}}return function(t,e){return"y"===o?e:t}}var v={min:function(t){return d.aggNums(Math.min,null,t)},max:function(t){return d.aggNums(Math.max,null,t)},sum:function(t){return d.aggNums((function(a,b){return a+b}),null,t)},total:function(t){return d.aggNums((function(a,b){return a+b}),null,t)},mean:function(t){return d.mean(t)},median:function(t){return d.median(t)}};for(i=0;i<t.length;i++){var m=t[i];if("category"===m.type){var x=m.categoryorder.match(j);if(x){var _=x[1],w=x[2],M=m._id.charAt(0),A="x"===M,T=[];for(r=0;r<m._categories.length;r++)T.push([m._categories[r],[]]);for(r=0;r<m._traceIndices.length;r++){var k=m._traceIndices[r],E=e._fullData[k];if(!0===E.visible){var S=E.type;c.traceIs(E,"histogram")&&(delete E._xautoBinFinished,delete E._yautoBinFinished);var L="splom"===S,C="scattergl"===S,O=e.calcdata[k];for(n=0;n<O.length;n++){var R,D,P=O[n];if(L){var I=E._axesDim[m._id];if(!A){var N=E._diag[I][0];N&&(m=e._fullLayout[y.id2name(N)])}var z=P.trace.dimensions[I].values;for(o=0;o<z.length;o++)for(R=m._categoriesMap[z[o]],l=0;l<P.trace.dimensions.length;l++)if(l!==I){var F=P.trace.dimensions[l];T[R][1].push(F.values[o])}}else if(C){for(o=0;o<P.t.x.length;o++)A?(R=P.t.x[o],D=P.t.y[o]):(R=P.t.y[o],D=P.t.x[o]),T[R][1].push(D);P.t&&P.t._scene&&delete P.t._scene.dirty}else if(P.hasOwnProperty("z")){D=P.z;var B=h(E.type,m,D);for(o=0;o<D.length;o++)for(l=0;l<D[o].length;l++)(R=B(l,o))+1&&T[R][1].push(D[o][l])}else for(void 0===(R=P.p)&&(R=P[M]),void 0===(D=P.s)&&(D=P.v),void 0===D&&(D=A?P.y:P.x),Array.isArray(D)||(D=void 0===D?[]:[D]),o=0;o<D.length;o++)T[R][1].push(D[o])}}}m._categoriesValue=T;var U=[];for(r=0;r<T.length;r++)U.push([T[r][0],v[_](T[r][1])]);U.sort((function(a,b){return a[1]-b[1]})),m._categoriesAggregatedValue=U,m._initialCategories=U.map((function(t){return t[0]})),"descending"===w&&m._initialCategories.reverse(),f=f.concat(m.sortByInitialCategories())}}}return f}(l,t);if(L.length){for(v._numBoxes=0,v._numViolins=0,i=0;i<L.length;i++)S(L[i],!0);for(i=0;i<L.length;i++)S(L[i],!1);U(t)}c.getComponentMethod("fx","calc")(t),c.getComponentMethod("errorbars","calc")(t)};var j=/(total|sum|min|max|mean|median) (ascending|descending)/;function B(t,e,r){var n={};function o(t){t.clearCalc(),"multicategory"===t.type&&t.setupMultiCategory(e),n[t._id]=1}d.simpleMap(t,o);for(var l=r._axisMatchGroups||[],i=0;i<l.length;i++)for(var c in l[i])n[c]||o(r[y.id2name(c)])}function U(t){var i,e,r,n=t._fullLayout,o=n._visibleModules,l={};for(e=0;e<o.length;e++){var c=o[e],f=c.crossTraceCalc;if(f){var h=c.basePlotModule.name;l[h]?d.pushUnique(l[h],f):l[h]=[f]}}for(r in l){var v=l[r],m=n._subplots[r];if(Array.isArray(m))for(i=0;i<m.length;i++){var y=m[i],x="cartesian"===r?n._plots[y]:n[y];for(e=0;e<v.length;e++)v[e](t,x,y)}else for(e=0;e<v.length;e++)v[e](t)}}k.rehover=function(t){t._fullLayout._rehover&&t._fullLayout._rehover()},k.redrag=function(t){t._fullLayout._redrag&&t._fullLayout._redrag()},k.generalUpdatePerTraceModule=function(t,e,r,n){var i,o=e.traceHash,l={};for(i=0;i<r.length;i++){var c=r[i],f=c[0].trace;f.visible&&(l[f.type]=l[f.type]||[],l[f.type].push(c))}for(var h in o)if(!l[h]){var v=o[h][0];v[0].trace.visible=!1,l[h]=[v]}for(var m in l){var y=l[m];y[0][0].trace._module.plot(t,e,d.filterVisible(y),n)}e.traceHash=l},k.plotBasePlot=function(t,e,r,n,o){var l=c.getModule(t),f=M(e.calcdata,l)[0];l.plot(e,f,n,o)},k.cleanBasePlot=function(t,e,r,n,o){var l=o._has&&o._has(t),c=r._has&&r._has(t);l&&!c&&o["_"+t+"layer"].selectAll("g.trace").remove()}},function(t,e,r){"use strict";var n=r(422),o=r(434);function l(t,e){if(e&&e.length)for(var i=0;i<e.length;i++)if(e[i][t])return!0;return!1}e.id2name=function(t){if("string"==typeof t&&t.match(o.AX_ID_PATTERN)){var e=t.split(" ")[0].substr(1);return"1"===e&&(e=""),t.charAt(0)+"axis"+e}},e.name2id=function(t){if(t.match(o.AX_NAME_PATTERN)){var e=t.substr(5);return"1"===e&&(e=""),t.charAt(0)+e}},e.cleanId=function(t,e,r){var n=/( domain)$/.test(t);if("string"==typeof t&&t.match(o.AX_ID_PATTERN)&&(!e||t.charAt(0)===e)&&(!n||r)){var l=t.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===l&&(l=""),t.charAt(0)+l+(n&&r?" domain":"")}},e.list=function(t,r,n){var o=t._fullLayout;if(!o)return[];var i,l=e.listIds(t,r),c=new Array(l.length);for(i=0;i<l.length;i++){var f=l[i];c[i]=o[f.charAt(0)+"axis"+f.substr(1)]}if(!n){var h=o._subplots.gl3d||[];for(i=0;i<h.length;i++){var d=o[h[i]];r?c.push(d[r+"axis"]):c.push(d.xaxis,d.yaxis,d.zaxis)}}return c},e.listIds=function(t,e){var r=t._fullLayout;if(!r)return[];var n=r._subplots;return e?n[e+"axis"]:n.xaxis.concat(n.yaxis)},e.getFromId=function(t,r,n){var o=t._fullLayout;return r=void 0===r||"string"!=typeof r?r:r.replace(" domain",""),"x"===n?r=r.replace(/y[0-9]*/,""):"y"===n&&(r=r.replace(/x[0-9]*/,"")),o[e.id2name(r)]},e.getFromTrace=function(t,r,o){var l=t._fullLayout,c=null;if(n.traceIs(r,"gl3d")){var f=r.scene;"scene"===f.substr(0,5)&&(c=l[f][o+"axis"])}else c=e.getFromId(t,r[o+"axis"]||o);return c},e.idSort=function(t,e){var r=t.charAt(0),n=e.charAt(0);return r!==n?r>n?1:-1:+(t.substr(1)||1)-+(e.substr(1)||1)},e.ref2id=function(t){return!!/^[xyz]/.test(t)&&t.split(" ")[0]},e.isLinked=function(t,e){return l(e,t._axisMatchGroups)||l(e,t._axisConstraintGroups)}},,function(t,e,r){"use strict";var n=r(491).counter;t.exports={idRegex:{x:n("x","( domain)?"),y:n("y","( domain)?")},attrRegex:n("[xy]axis"),xAxisMatch:n("xaxis"),yAxisMatch:n("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},function(t,e,r){var n=r(436);function o(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function l(t,e,r,n){if(this._calendar=t,this._year=e,this._month=r,this._day=n,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function c(t,e){return"000000".substring(0,e-(t=""+t).length)+t}function f(){this.shortYearCutoff="+10"}function h(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}n(o.prototype,{instance:function(t,e){t=(t||"gregorian").toLowerCase(),e=e||"";var r=this._localCals[t+"-"+e];if(!r&&this.calendars[t]&&(r=new this.calendars[t](e),this._localCals[t+"-"+e]=r),!r)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return r},newDate:function(t,e,r,n,o){return(n=(null!=t&&t.year?t.calendar():"string"==typeof n?this.instance(n,o):n)||this.instance()).newDate(t,e,r)},substituteDigits:function(t){return function(e){return(e+"").replace(/[0-9]/g,(function(e){return t[e]}))}},substituteChineseDigits:function(t,e){return function(r){for(var n="",o=0;r>0;){var l=r%10;n=(0===l?"":t[l]+e[o])+n,o++,r=Math.floor(r/10)}return 0===n.indexOf(t[1]+e[1])&&(n=n.substr(1)),n||t[0]}}}),n(l.prototype,{newDate:function(t,e,r){return this._calendar.newDate(null==t?this:t,e,r)},year:function(t){return 0===arguments.length?this._year:this.set(t,"y")},month:function(t){return 0===arguments.length?this._month:this.set(t,"m")},day:function(t){return 0===arguments.length?this._day:this.set(t,"d")},date:function(t,e,r){if(!this._calendar.isValid(t,e,r))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=e,this._day=r,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,e){return this._calendar.add(this,t,e)},set:function(t,e){return this._calendar.set(this,t,e)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var e=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return 0===e?0:e<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+c(Math.abs(this.year()),4)+"-"+c(this.month(),2)+"-"+c(this.day(),2)}}),n(f.prototype,{_validateLevel:0,newDate:function(t,e,r){return null==t?this.today():(t.year&&(this._validate(t,e,r,d.local.invalidDate||d.regionalOptions[""].invalidDate),r=t.day(),e=t.month(),t=t.year()),new l(this,t,e,r))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){return this._validate(t,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return(e.year()<0?"-":"")+c(Math.abs(e.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),12},monthOfYear:function(t,e){var r=this._validate(t,e,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return(r.month()+this.monthsInYear(r)-this.firstMonth)%this.monthsInYear(r)+this.minMonth},fromMonthOfYear:function(t,e){var r=(e+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,r,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth),r},daysInYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return this.leapYear(e)?366:365},dayOfYear:function(t,e,r){var n=this._validate(t,e,r,d.local.invalidDate||d.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,e,r){var n=this._validate(t,e,r,d.local.invalidDate||d.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(t,e,r){return this._validate(t,e,r,d.local.invalidDate||d.regionalOptions[""].invalidDate),{}},add:function(t,e,r){return this._validate(t,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,e,r),e,r)},_add:function(t,e,r){if(this._validateLevel++,"d"===r||"w"===r){var n=t.toJD()+e*("w"===r?this.daysInWeek():1),o=t.calendar().fromJD(n);return this._validateLevel--,[o.year(),o.month(),o.day()]}try{var l=t.year()+("y"===r?e:0),c=t.monthOfYear()+("m"===r?e:0);o=t.day();"y"===r?(t.month()!==this.fromMonthOfYear(l,c)&&(c=this.newDate(l,t.month(),this.minDay).monthOfYear()),c=Math.min(c,this.monthsInYear(l)),o=Math.min(o,this.daysInMonth(l,this.fromMonthOfYear(l,c)))):"m"===r&&(!function(t){for(;c<t.minMonth;)l--,c+=t.monthsInYear(l);for(var e=t.monthsInYear(l);c>e-1+t.minMonth;)l++,c-=e,e=t.monthsInYear(l)}(this),o=Math.min(o,this.daysInMonth(l,this.fromMonthOfYear(l,c))));var f=[l,this.fromMonthOfYear(l,c),o];return this._validateLevel--,f}catch(t){throw this._validateLevel--,t}},_correctAdd:function(t,e,r,n){if(!(this.hasYearZero||"y"!==n&&"m"!==n||0!==e[0]&&t.year()>0==e[0]>0)){var o={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],l=r<0?-1:1;e=this._add(t,r*o[0]+l*o[1],o[2])}return t.date(e[0],e[1],e[2])},set:function(t,e,r){this._validate(t,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate);var n="y"===r?e:t.year(),o="m"===r?e:t.month(),l="d"===r?e:t.day();return"y"!==r&&"m"!==r||(l=Math.min(l,this.daysInMonth(n,o))),t.date(n,o,l)},isValid:function(t,e,r){this._validateLevel++;var n=this.hasYearZero||0!==t;if(n){var o=this.newDate(t,e,this.minDay);n=e>=this.minMonth&&e-this.minMonth<this.monthsInYear(o)&&r>=this.minDay&&r-this.minDay<this.daysInMonth(o)}return this._validateLevel--,n},toJSDate:function(t,e,r){var n=this._validate(t,e,r,d.local.invalidDate||d.regionalOptions[""].invalidDate);return d.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(t){return this.fromJD(d.instance().fromJSDate(t).toJD())},_validate:function(t,e,r,n){if(t.year){if(0===this._validateLevel&&this.name!==t.calendar().name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(t,e,r))throw n.replace(/\{0\}/,this.local.name);var o=this.newDate(t,e,r);return this._validateLevel--,o}catch(t){throw this._validateLevel--,t}}}),h.prototype=new f,n(h.prototype,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return(t=e.year()+(e.year()<0?1:0))%4==0&&(t%100!=0||t%400==0)},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var r=this._validate(t,e,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return this.daysPerMonth[r.month()-1]+(2===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,r){return(this.dayOfWeek(t,e,r)||7)<6},toJD:function(t,e,r){var n=this._validate(t,e,r,d.local.invalidDate||d.regionalOptions[""].invalidDate);t=n.year(),e=n.month(),r=n.day(),t<0&&t++,e<3&&(e+=12,t--);var a=Math.floor(t/100),b=2-a+Math.floor(a/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(e+1))+r+b-1524.5},fromJD:function(t){var e=Math.floor(t+.5),a=Math.floor((e-1867216.25)/36524.25),b=(a=e+1+a-Math.floor(a/4))+1524,r=Math.floor((b-122.1)/365.25),n=Math.floor(365.25*r),o=Math.floor((b-n)/30.6001),l=b-n-Math.floor(30.6001*o),c=o-(o>13.5?13:1),f=r-(c>2.5?4716:4715);return f<=0&&f--,this.newDate(f,c,l)},toJSDate:function(t,e,r){var n=this._validate(t,e,r,d.local.invalidDate||d.regionalOptions[""].invalidDate),o=new Date(n.year(),n.month()-1,n.day());return o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),o.setHours(o.getHours()>12?o.getHours()+2:0),o},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var d=t.exports=new o;d.cdate=l,d.baseCalendar=f,d.calendars.gregorian=h},function(t,e,r){"use strict";var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;function c(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,source){for(var e,r,f=c(t),s=1;s<arguments.length;s++){for(var h in e=Object(arguments[s]))o.call(e,h)&&(f[h]=e[h]);if(n){r=n(e);for(var i=0;i<r.length;i++)l.call(e,r[i])&&(f[r[i]]=e[r[i]])}}return f}},,function(t,e,r){"use strict";t.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},function(t,e,r){"use strict";(function(t){var n=r(465),o=r(568),l=r(677).Buffer;t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),BIGUINT64:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),BIGINT64:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0]),UINT8C:o([32,0]),BUFFER:o([32,0])});var c="undefined"!=typeof Uint8ClampedArray,f="undefined"!=typeof BigUint64Array,h="undefined"!=typeof BigInt64Array,d=t.__TYPEDARRAY_POOL;d.UINT8C||(d.UINT8C=o([32,0])),d.BIGUINT64||(d.BIGUINT64=o([32,0])),d.BIGINT64||(d.BIGINT64=o([32,0])),d.BUFFER||(d.BUFFER=o([32,0]));var v=d.DATA,m=d.BUFFER;function y(t){if(t){var e=t.length||t.byteLength,r=n.log2(e);v[r].push(t)}}function x(t){t=n.nextPow2(t);var e=n.log2(t),r=v[e];return r.length>0?r.pop():new ArrayBuffer(t)}function _(t){return new Uint8Array(x(t),0,t)}function w(t){return new Uint16Array(x(2*t),0,t)}function M(t){return new Uint32Array(x(4*t),0,t)}function A(t){return new Int8Array(x(t),0,t)}function T(t){return new Int16Array(x(2*t),0,t)}function k(t){return new Int32Array(x(4*t),0,t)}function E(t){return new Float32Array(x(4*t),0,t)}function S(t){return new Float64Array(x(8*t),0,t)}function L(t){return c?new Uint8ClampedArray(x(t),0,t):_(t)}function C(t){return f?new BigUint64Array(x(8*t),0,t):null}function O(t){return h?new BigInt64Array(x(8*t),0,t):null}function R(t){return new DataView(x(t),0,t)}function D(t){t=n.nextPow2(t);var e=n.log2(t),r=m[e];return r.length>0?r.pop():new l(t)}e.free=function(t){if(l.isBuffer(t))m[n.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,r=0|n.log2(e);v[r].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeBigUint64=e.freeInt8=e.freeInt16=e.freeInt32=e.freeBigInt64=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=function(t){y(t.buffer)},e.freeArrayBuffer=y,e.freeBuffer=function(t){m[n.log2(t.length)].push(t)},e.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return x(t);switch(e){case"uint8":return _(t);case"uint16":return w(t);case"uint32":return M(t);case"int8":return A(t);case"int16":return T(t);case"int32":return k(t);case"float":case"float32":return E(t);case"double":case"float64":return S(t);case"uint8_clamped":return L(t);case"bigint64":return O(t);case"biguint64":return C(t);case"buffer":return D(t);case"data":case"dataview":return R(t);default:return null}return null},e.mallocArrayBuffer=x,e.mallocUint8=_,e.mallocUint16=w,e.mallocUint32=M,e.mallocInt8=A,e.mallocInt16=T,e.mallocInt32=k,e.mallocFloat32=e.mallocFloat=E,e.mallocFloat64=e.mallocDouble=S,e.mallocUint8Clamped=L,e.mallocBigUint64=C,e.mallocBigInt64=O,e.mallocDataView=R,e.mallocBuffer=D,e.clearCache=function(){for(var i=0;i<32;++i)d.UINT8[i].length=0,d.UINT16[i].length=0,d.UINT32[i].length=0,d.INT8[i].length=0,d.INT16[i].length=0,d.INT32[i].length=0,d.FLOAT[i].length=0,d.DOUBLE[i].length=0,d.BIGUINT64[i].length=0,d.BIGINT64[i].length=0,d.UINT8C[i].length=0,v[i].length=0,m[i].length=0}}).call(this,r(75))},function(t,e,r){"use strict";var n=r(423),o=r(421),l=o.strTranslate,c=r(463),f=r(438).LINE_SPACING;function h(t,e){return t.node().getBoundingClientRect()[e]}var d=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;e.convertToTspans=function(t,r,D){var P=t.text(),N=!t.attr("data-notex")&&"undefined"!=typeof MathJax&&P.match(d),z=n.select(t.node().parentNode);if(!z.empty()){var F=t.attr("class")?t.attr("class").split(" ")[0]:"text";return F+="-math",z.selectAll("svg."+F).remove(),z.selectAll("g."+F+"-group").remove(),t.style("display",null).attr({"data-unformatted":P,"data-math":"N"}),N?(r&&r._promises||[]).push(new Promise((function(e){t.style("display","none");var r=parseInt(t.node().style.fontSize,10),c={fontSize:r};!function(t,e,r){var l,c,f,h;MathJax.Hub.Queue((function(){return c=o.extendDeepAll({},MathJax.Hub.config),f=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]},displayAlign:"left"})}),(function(){if("SVG"!==(l=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")}),(function(){var r="math-output-"+o.randstr({},64);return h=n.select("body").append("div").attr({id:r}).style({visibility:"hidden",position:"absolute"}).style({"font-size":e.fontSize+"px"}).text(t.replace(v,"\\lt ").replace(m,"\\gt ")),MathJax.Hub.Typeset(h.node())}),(function(){var e=n.select("body").select("#MathJax_SVG_glyphs");if(h.select(".MathJax_SVG").empty()||!h.select("svg").node())o.log("There was an error in the tex syntax.",t),r();else{var c=h.select("svg").node().getBoundingClientRect();r(h.select(".MathJax_SVG"),e,c)}if(h.remove(),"SVG"!==l)return MathJax.Hub.setRenderer(l)}),(function(){return void 0!==f&&(MathJax.Hub.processSectionDelay=f),MathJax.Hub.Config(c)}))}(N[2],c,(function(n,o,c){z.selectAll("svg."+F).remove(),z.selectAll("g."+F+"-group").remove();var f=n&&n.select("svg");if(!f||!f.node())return j(),void e();var d=z.append("g").classed(F+"-group",!0).attr({"pointer-events":"none","data-unformatted":P,"data-math":"Y"});d.node().appendChild(f.node()),o&&o.node()&&f.node().insertBefore(o.node().cloneNode(!0),f.node().firstChild),f.attr({class:F,height:c.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var v=t.node().style.fill||"black",g=f.select("g");g.attr({fill:v,stroke:v});var m=h(g,"width"),y=h(g,"height"),x=+t.attr("x")-m*{start:0,middle:.5,end:1}[t.attr("text-anchor")||"start"],_=-(r||h(t,"height"))/4;"y"===F[0]?(d.attr({transform:"rotate("+[-90,+t.attr("x"),+t.attr("y")]+")"+l(-m/2,_-y/2)}),f.attr({x:+t.attr("x"),y:+t.attr("y")})):"l"===F[0]?f.attr({x:t.attr("x"),y:_-y/2}):"a"===F[0]&&0!==F.indexOf("atitle")?f.attr({x:0,y:_}):f.attr({x:x,y:+t.attr("y")+_-y/2}),D&&D.call(t,d),e(d)}))}))):j(),t}function j(){z.empty()||(F=t.attr("class")+"-math",z.select("svg."+F).remove()),t.text("").style("white-space","pre"),function(t,e){e=e.replace(M," ");var r,l=!1,h=[],d=-1;function v(){d++;var e=document.createElementNS(c.svg,"tspan");n.select(e).attr({class:"line",dy:d*f+"em"}),t.appendChild(e),r=e;var o=h;if(h=[{node:e}],o.length>1)for(var i=1;i<o.length;i++)m(o[i])}function m(t){var e,o=t.type,l={};if("a"===o){e="a";var f=t.target,d=t.href,v=t.popup;d&&(l={"xlink:xlink:show":"_blank"===f||"_"!==f.charAt(0)?"new":"replace",target:f,"xlink:xlink:href":d},v&&(l.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+v+'");return false;'))}else e="tspan";t.style&&(l.style=t.style);var m=document.createElementNS(c.svg,e);if("sup"===o||"sub"===o){D(r,"​"),r.appendChild(m);var y=document.createElementNS(c.svg,"tspan");D(y,"​"),n.select(y).attr("dy",_[o]),l.dy=x[o],r.appendChild(m),r.appendChild(y)}else r.appendChild(m);n.select(m).attr(l),r=t.node=m,h.push(t)}function D(t,text){t.appendChild(document.createTextNode(text))}function P(t){if(1!==h.length){var n=h.pop();t!==n.type&&o.log("Start tag <"+n.type+"> doesnt match end tag <"+t+">. Pretending it did match.",e),r=h[h.length-1].node}else o.log("Ignoring unexpected end tag </"+t+">.",e)}k.test(e)?v():(r=t,h=[{node:t}]);for(var N=e.split(A),i=0;i<N.length;i++){var z=N[i],F=z.match(T),j=F&&F[2].toLowerCase(),B=y[j];if("br"===j)v();else if(void 0===B)D(r,I(z));else if(F[1])P(j);else{var U=F[4],H={type:j},V=O(U,E);if(V?(V=V.replace(R,"$1 fill:"),B&&(V+=";"+B)):B&&(V=B),V&&(H.style=V),"a"===j){l=!0;var Y=O(U,S);if(Y){var G=document.createElement("a");G.href=Y,-1!==w.indexOf(G.protocol)&&(H.href=encodeURI(decodeURI(Y)),H.target=O(U,L)||"_blank",H.popup=O(U,C))}}m(H)}}return l}(t.node(),P)&&t.style("pointer-events","all"),e.positionText(t),D&&D.call(t)}};var v=/(<|&lt;|&#60;)/g,m=/(>|&gt;|&#62;)/g;var y={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},x={sub:"0.3em",sup:"-0.6em"},_={sub:"-0.21em",sup:"0.42em"},w=["http:","https:","mailto:","",void 0,":"],M=e.NEWLINES=/(\r\n?|\n)/g,A=/(<[^<>]*>)/,T=/<(\/?)([^ >]*)(\s+(.*))?>/i,k=/<br(\s+.*)?>/i;e.BR_TAG_ALL=/<br(\s+.*)?>/gi;var E=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,S=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,L=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,C=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function O(t,e){if(!t)return null;var r=t.match(e),n=r&&(r[3]||r[4]);return n&&I(n)}var R=/(^|;)\s*color:/;e.plainText=function(t,e){for(var r=void 0!==(e=e||{}).len&&-1!==e.len?e.len:1/0,n=void 0!==e.allowedTags?e.allowedTags:["br"],o="...".length,l=t.split(A),c=[],f="",h=0,i=0;i<l.length;i++){var p=l[i],d=p.match(T),v=d&&d[2].toLowerCase();if(v)-1!==n.indexOf(v)&&(c.push(p),f=v);else{var m=p.length;if(h+m<r)c.push(p),h+=m;else if(h<r){var y=r-h;f&&("br"!==f||y<=o||m<=o)&&c.pop(),r>o?c.push(p.substr(0,y-o)+"..."):c.push(p.substr(0,y));break}f=""}}return c.join("")};var D={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},P=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function I(t){return t.replace(P,(function(t,e){return("#"===e.charAt(0)?function(code){if(code>1114111)return;var t=String.fromCodePoint;if(t)return t(code);var e=String.fromCharCode;return code<=65535?e(code):e(55232+(code>>10),code%1024+56320)}("x"===e.charAt(1)?parseInt(e.substr(2),16):parseInt(e.substr(1),10)):D[e])||t}))}function N(t,e,r){var n,l,c,f=r.horizontalAlign,h=r.verticalAlign||"top",d=t.node().getBoundingClientRect(),v=e.node().getBoundingClientRect();return l="bottom"===h?function(){return d.bottom-n.height}:"middle"===h?function(){return d.top+(d.height-n.height)/2}:function(){return d.top},c="right"===f?function(){return d.right-n.width}:"center"===f?function(){return d.left+(d.width-n.width)/2}:function(){return d.left},function(){n=this.node().getBoundingClientRect();var t=c()-v.left,e=l()-v.top,f=r.gd||{};if(r.gd){f._fullLayout._calcInverseTransform(f);var h=o.apply3DTransform(f._fullLayout._invTransform)(t,e);t=h[0],e=h[1]}return this.style({top:e+"px",left:t+"px","z-index":1e3}),this}}e.convertEntities=I,e.sanitizeHTML=function(t){t=t.replace(M," ");for(var e=document.createElement("p"),r=e,o=[],l=t.split(A),i=0;i<l.length;i++){var c=l[i],f=c.match(T),h=f&&f[2].toLowerCase();if(h in y)if(f[1])o.length&&(r=o.pop());else{var d=f[4],v=O(d,E),m=v?{style:v}:{};if("a"===h){var x=O(d,S);if(x){var _=document.createElement("a");if(_.href=x,-1!==w.indexOf(_.protocol)){m.href=encodeURI(decodeURI(x));var k=O(d,L);k&&(m.target=k)}}}var C=document.createElement(h);r.appendChild(C),n.select(C).attr(m),r=C,o.push(C)}else r.appendChild(document.createTextNode(I(c)))}return e.innerHTML},e.lineCount=function(s){return s.selectAll("tspan.line").size()||1},e.positionText=function(s,t,e){return s.each((function(){var text=n.select(this);function r(t,e){return void 0===e?null===(e=text.attr(t))&&(text.attr(t,0),e=0):text.attr(t,e),e}var o=r("x",t),l=r("y",e);"text"===this.nodeName&&text.selectAll("tspan.line").attr({x:o,y:l})}))},e.makeEditable=function(t,e){var r=e.gd,o=e.delegate,l=n.dispatch("edit","input","cancel"),c=o||t;if(t.style({"pointer-events":o?"none":"all"}),1!==t.size())throw new Error("boo");function f(){!function(){var o=n.select(r).select(".svg-container"),div=o.append("div"),c=t.node().style,f=parseFloat(c.fontSize||12),d=e.text;void 0===d&&(d=t.attr("data-unformatted"));div.classed("plugin-editable editable",!0).style({position:"absolute","font-family":c.fontFamily||"Arial","font-size":f,color:e.fill||c.fill||"black",opacity:1,"background-color":e.background||"transparent",outline:"#ffffff33 1px solid",margin:[-f/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(d).call(N(t,o,e)).on("blur",(function(){r._editing=!1,t.text(this.textContent).style({opacity:1});var e,o=n.select(this).attr("class");(e=o?"."+o.split(" ")[0]+"-math-group":"[class*=-math-group]")&&n.select(t.node().parentNode).select(e).style({opacity:0});var text=this.textContent;n.select(this).transition().duration(0).remove(),n.select(document).on("mouseup",null),l.edit.call(t,text)})).on("focus",(function(){var t=this;r._editing=!0,n.select(document).on("mouseup",(function(){if(n.event.target===t)return!1;document.activeElement===div.node()&&div.node().blur()}))})).on("keyup",(function(){27===n.event.which?(r._editing=!1,t.style({opacity:1}),n.select(this).style({opacity:0}).on("blur",(function(){return!1})).transition().remove(),l.cancel.call(t,this.textContent)):(l.input.call(t,this.textContent),n.select(this).call(N(t,o,e)))})).on("keydown",(function(){13===n.event.which&&this.blur()})).call(h)}(),t.style({opacity:0});var o,f=c.attr("class");(o=f?"."+f.split(" ")[0]+"-math-group":"[class*=-math-group]")&&n.select(t.node().parentNode).select(o).style({opacity:0})}function h(t){var e=t.node(),r=document.createRange();r.selectNodeContents(e);var n=window.getSelection();n.removeAllRanges(),n.addRange(r),e.focus()}return e.immediate?f():c.on("click",f),n.rebind(t,l,"on")}},function(t,e,r){"use strict";t.exports=function(t){var e=t.editType,r=t.colorEditType;void 0===r&&(r=e);var n={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:r},editType:e};return t.arrayOk&&(n.family.arrayOk=!0,n.size.arrayOk=!0,n.color.arrayOk=!0),n}},function(t,e,r){"use strict";var n=r(421);t.exports={hasLines:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("lines")},hasMarkers:function(t){return t.visible&&(t.mode&&-1!==t.mode.indexOf("markers")||"splom"===t.type)},hasText:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("text")},isBubble:function(t){return n.isPlainObject(t.marker)&&n.isArrayOrTypedArray(t.marker.size)}}},function(t,e,r){var n;!function(o){var l=/^\s+/,c=/\s+$/,f=0,h=o.round,d=o.min,v=o.max,m=o.random;function y(t,e){if(e=e||{},(t=t||"")instanceof y)return t;if(!(this instanceof y))return new y(t,e);var r=function(t){var e={r:0,g:0,b:0},a=1,s=null,r=null,n=null,f=!1,h=!1;"string"==typeof t&&(t=function(t){t=t.replace(l,"").replace(c,"").toLowerCase();var e,r=!1;if(z[t])t=z[t],r=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=Q.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=Q.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=Q.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=Q.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=Q.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=Q.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=Q.hex8.exec(t))return{r:H(e[1]),g:H(e[2]),b:H(e[3]),a:W(e[4]),format:r?"name":"hex8"};if(e=Q.hex6.exec(t))return{r:H(e[1]),g:H(e[2]),b:H(e[3]),format:r?"name":"hex"};if(e=Q.hex4.exec(t))return{r:H(e[1]+""+e[1]),g:H(e[2]+""+e[2]),b:H(e[3]+""+e[3]),a:W(e[4]+""+e[4]),format:r?"name":"hex8"};if(e=Q.hex3.exec(t))return{r:H(e[1]+""+e[1]),g:H(e[2]+""+e[2]),b:H(e[3]+""+e[3]),format:r?"name":"hex"};return!1}(t));"object"==typeof t&&(K(t.r)&&K(t.g)&&K(t.b)?(m=t.r,g=t.g,b=t.b,e={r:255*B(m,255),g:255*B(g,255),b:255*B(b,255)},f=!0,h="%"===String(t.r).substr(-1)?"prgb":"rgb"):K(t.h)&&K(t.s)&&K(t.v)?(s=Y(t.s),r=Y(t.v),e=function(t,s,e){t=6*B(t,360),s=B(s,100),e=B(e,100);var i=o.floor(t),r=t-i,p=e*(1-s),q=e*(1-r*s),n=e*(1-(1-r)*s),l=i%6;return{r:255*[e,q,p,p,n,e][l],g:255*[n,e,e,q,p,p][l],b:255*[p,p,n,e,e,q][l]}}(t.h,s,r),f=!0,h="hsv"):K(t.h)&&K(t.s)&&K(t.l)&&(s=Y(t.s),n=Y(t.l),e=function(t,s,e){var r,g,b;function n(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p}if(t=B(t,360),s=B(s,100),e=B(e,100),0===s)r=g=b=e;else{var q=e<.5?e*(1+s):e+s-e*s,p=2*e-q;r=n(p,q,t+1/3),g=n(p,q,t),b=n(p,q,t-1/3)}return{r:255*r,g:255*g,b:255*b}}(t.h,s,n),f=!0,h="hsl"),t.hasOwnProperty("a")&&(a=t.a));var m,g,b;return a=j(a),{ok:f,format:t.format||h,r:d(255,v(e.r,0)),g:d(255,v(e.g,0)),b:d(255,v(e.b,0)),a:a}}(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=h(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=h(this._r)),this._g<1&&(this._g=h(this._g)),this._b<1&&(this._b=h(this._b)),this._ok=r.ok,this._tc_id=f++}function x(t,g,b){t=B(t,255),g=B(g,255),b=B(b,255);var e,s,r=v(t,g,b),n=d(t,g,b),o=(r+n)/2;if(r==n)e=s=0;else{var l=r-n;switch(s=o>.5?l/(2-r-n):l/(r+n),r){case t:e=(g-b)/l+(g<b?6:0);break;case g:e=(b-t)/l+2;break;case b:e=(t-g)/l+4}e/=6}return{h:e,s:s,l:o}}function _(t,g,b){t=B(t,255),g=B(g,255),b=B(b,255);var e,s,r=v(t,g,b),n=d(t,g,b),o=r,l=r-n;if(s=0===r?0:l/r,r==n)e=0;else{switch(r){case t:e=(g-b)/l+(g<b?6:0);break;case g:e=(b-t)/l+2;break;case b:e=(t-g)/l+4}e/=6}return{h:e,s:s,v:o}}function w(t,g,b,e){var r=[V(h(t).toString(16)),V(h(g).toString(16)),V(h(b).toString(16))];return e&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function M(t,g,b,a){return[V(G(a)),V(h(t).toString(16)),V(h(g).toString(16)),V(h(b).toString(16))].join("")}function A(t,e){e=0===e?0:e||10;var r=y(t).toHsl();return r.s-=e/100,r.s=U(r.s),y(r)}function T(t,e){e=0===e?0:e||10;var r=y(t).toHsl();return r.s+=e/100,r.s=U(r.s),y(r)}function k(t){return y(t).desaturate(100)}function E(t,e){e=0===e?0:e||10;var r=y(t).toHsl();return r.l+=e/100,r.l=U(r.l),y(r)}function S(t,e){e=0===e?0:e||10;var r=y(t).toRgb();return r.r=v(0,d(255,r.r-h(-e/100*255))),r.g=v(0,d(255,r.g-h(-e/100*255))),r.b=v(0,d(255,r.b-h(-e/100*255))),y(r)}function L(t,e){e=0===e?0:e||10;var r=y(t).toHsl();return r.l-=e/100,r.l=U(r.l),y(r)}function C(t,e){var r=y(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,y(r)}function O(t){var e=y(t).toHsl();return e.h=(e.h+180)%360,y(e)}function R(t){var e=y(t).toHsl(),r=e.h;return[y(t),y({h:(r+120)%360,s:e.s,l:e.l}),y({h:(r+240)%360,s:e.s,l:e.l})]}function D(t){var e=y(t).toHsl(),r=e.h;return[y(t),y({h:(r+90)%360,s:e.s,l:e.l}),y({h:(r+180)%360,s:e.s,l:e.l}),y({h:(r+270)%360,s:e.s,l:e.l})]}function P(t){var e=y(t).toHsl(),r=e.h;return[y(t),y({h:(r+72)%360,s:e.s,l:e.l}),y({h:(r+216)%360,s:e.s,l:e.l})]}function I(t,e,r){e=e||6,r=r||30;var n=y(t).toHsl(),o=360/r,l=[y(t)];for(n.h=(n.h-(o*e>>1)+720)%360;--e;)n.h=(n.h+o)%360,l.push(y(n));return l}function N(t,e){e=e||6;for(var r=y(t).toHsv(),n=r.h,s=r.s,o=r.v,l=[],c=1/e;e--;)l.push(y({h:n,s:s,v:o})),o=(o+c)%1;return l}y.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,r,n=this.toRgb();return t=n.r/255,e=n.g/255,r=n.b/255,.2126*(t<=.03928?t/12.92:o.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:o.pow((e+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:o.pow((r+.055)/1.055,2.4))},setAlpha:function(t){return this._a=j(t),this._roundA=h(100*this._a)/100,this},toHsv:function(){var t=_(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=_(this._r,this._g,this._b),e=h(360*t.h),s=h(100*t.s),r=h(100*t.v);return 1==this._a?"hsv("+e+", "+s+"%, "+r+"%)":"hsva("+e+", "+s+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=x(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=x(this._r,this._g,this._b),e=h(360*t.h),s=h(100*t.s),r=h(100*t.l);return 1==this._a?"hsl("+e+", "+s+"%, "+r+"%)":"hsla("+e+", "+s+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return w(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,g,b,a,e){var r=[V(h(t).toString(16)),V(h(g).toString(16)),V(h(b).toString(16)),V(G(a))];if(e&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1))return r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0);return r.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:h(this._r),g:h(this._g),b:h(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+h(this._r)+", "+h(this._g)+", "+h(this._b)+")":"rgba("+h(this._r)+", "+h(this._g)+", "+h(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:h(100*B(this._r,255))+"%",g:h(100*B(this._g,255))+"%",b:h(100*B(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+h(100*B(this._r,255))+"%, "+h(100*B(this._g,255))+"%, "+h(100*B(this._b,255))+"%)":"rgba("+h(100*B(this._r,255))+"%, "+h(100*B(this._g,255))+"%, "+h(100*B(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(F[w(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+M(this._r,this._g,this._b,this._a),r=e,n=this._gradientType?"GradientType = 1, ":"";if(t){var s=y(t);r="#"+M(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,n=this._a<1&&this._a>=0;return e||!n||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(r=this.toRgbString()),"prgb"===t&&(r=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(r=this.toHexString()),"hex3"===t&&(r=this.toHexString(!0)),"hex4"===t&&(r=this.toHex8String(!0)),"hex8"===t&&(r=this.toHex8String()),"name"===t&&(r=this.toName()),"hsl"===t&&(r=this.toHslString()),"hsv"===t&&(r=this.toHsvString()),r||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return y(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(E,arguments)},brighten:function(){return this._applyModification(S,arguments)},darken:function(){return this._applyModification(L,arguments)},desaturate:function(){return this._applyModification(A,arguments)},saturate:function(){return this._applyModification(T,arguments)},greyscale:function(){return this._applyModification(k,arguments)},spin:function(){return this._applyModification(C,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(O,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(P,arguments)},triad:function(){return this._applyCombination(R,arguments)},tetrad:function(){return this._applyCombination(D,arguments)}},y.fromRatio=function(t,e){if("object"==typeof t){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]="a"===i?t[i]:Y(t[i]));t=r}return y(t,e)},y.equals=function(t,e){return!(!t||!e)&&y(t).toRgbString()==y(e).toRgbString()},y.random=function(){return y.fromRatio({r:m(),g:m(),b:m()})},y.mix=function(t,e,r){r=0===r?0:r||50;var n=y(t).toRgb(),o=y(e).toRgb(),p=r/100;return y({r:(o.r-n.r)*p+n.r,g:(o.g-n.g)*p+n.g,b:(o.b-n.b)*p+n.b,a:(o.a-n.a)*p+n.a})},y.readability=function(t,e){var r=y(t),n=y(e);return(o.max(r.getLuminance(),n.getLuminance())+.05)/(o.min(r.getLuminance(),n.getLuminance())+.05)},y.isReadable=function(t,e,r){var n,o,l=y.readability(t,e);switch(o=!1,(n=function(t){var e,r;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==r&&"large"!==r&&(r="small");return{level:e,size:r}}(r)).level+n.size){case"AAsmall":case"AAAlarge":o=l>=4.5;break;case"AAlarge":o=l>=3;break;case"AAAsmall":o=l>=7}return o},y.mostReadable=function(t,e,r){var n,o,l,c,f=null,h=0;o=(r=r||{}).includeFallbackColors,l=r.level,c=r.size;for(var i=0;i<e.length;i++)(n=y.readability(t,e[i]))>h&&(h=n,f=y(e[i]));return y.isReadable(t,f,{level:l,size:c})||!o?f:(r.includeFallbackColors=!1,y.mostReadable(t,["#fff","#000"],r))};var z=y.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},F=y.hexNames=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}(z);function j(a){return a=parseFloat(a),(isNaN(a)||a<0||a>1)&&(a=1),a}function B(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var r=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=d(e,v(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),o.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function U(t){return d(1,v(0,t))}function H(t){return parseInt(t,16)}function V(t){return 1==t.length?"0"+t:""+t}function Y(t){return t<=1&&(t=100*t+"%"),t}function G(t){return o.round(255*parseFloat(t)).toString(16)}function W(t){return H(t)/255}var X,Z,J,Q=(Z="[\\s|\\(]+("+(X="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+X+")[,|\\s]+("+X+")\\s*\\)?",J="[\\s|\\(]+("+X+")[,|\\s]+("+X+")[,|\\s]+("+X+")[,|\\s]+("+X+")\\s*\\)?",{CSS_UNIT:new RegExp(X),rgb:new RegExp("rgb"+Z),rgba:new RegExp("rgba"+J),hsl:new RegExp("hsl"+Z),hsla:new RegExp("hsla"+J),hsv:new RegExp("hsv"+Z),hsva:new RegExp("hsva"+J),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function K(t){return!!Q.CSS_UNIT.exec(t)}t.exports?t.exports=y:void 0===(n=function(){return y}.call(e,r,e,t))||(t.exports=n)}(Math)},function(t,e,r){"use strict";var n=r(421),o=n.extendFlat,l=n.isPlainObject,c={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},f={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},h=c.flags.slice().concat(["fullReplot"]),d=f.flags.slice().concat("layoutReplot");function v(t){for(var e={},i=0;i<t.length;i++)e[t[i]]=!1;return e}function m(t,e,r){var n=o({},t);for(var c in n){var f=n[c];l(f)&&(n[c]=y(f,e,r,c))}return"from-root"===r&&(n.editType=e),n}function y(t,e,r,n){if(t.valType){var l=o({},t);if(l.editType=e,Array.isArray(t.items)){l.items=new Array(t.items.length);for(var i=0;i<t.items.length;i++)l.items[i]=y(t.items[i],e,"from-root")}return l}return m(t,e,"_"===n.charAt(0)?"nested":"from-root")}t.exports={traces:c,layout:f,traceFlags:function(){return v(h)},layoutFlags:function(){return v(d)},update:function(t,e){var r=e.editType;if(r&&"none"!==r)for(var n=r.split("+"),i=0;i<n.length;i++)t[n[i]]=!0},overrideAll:m}},,function(t,e,r){"use strict";var n=r(441),o=r(456),l=r(493).dash,c=r(429).extendFlat,f=r(428).templatedArray,h=(r(482).FORMAT_LINK,r(482).DATE_FORMAT_LINK,r(430).ONEDAY),d=r(434),v=d.HOUR_PATTERN,m=d.WEEKDAY_PATTERN;t.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:o.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:n({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[d.idRegex.x.toString(),d.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[d.idRegex.x.toString(),d.idRegex.y.toString()],editType:"calc"},rangebreaks:f("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[m,v,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:h},editType:"calc"}),tickmode:{valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},nticks:{valType:"integer",min:0,dflt:0,editType:"ticks"},tick0:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},dtick:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},tickvals:{valType:"data_array",editType:"ticks"},ticktext:{valType:"data_array",editType:"ticks"},ticks:{valType:"enumerated",values:["outside","inside",""],editType:"ticks"},tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:{valType:"number",min:0,dflt:5,editType:"ticks"},tickwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},tickcolor:{valType:"color",dflt:o.defaultLine,editType:"ticks"},showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:c({},l,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"data",editType:"none"},tickfont:n({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks"},tickformatstops:f("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:o.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:{valType:"boolean",editType:"ticks"},gridcolor:{valType:"color",dflt:o.lightLine,editType:"ticks"},gridwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:o.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:o.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",d.idRegex.x.toString(),d.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",d.idRegex.x.toString(),d.idRegex.y.toString()],editType:"plot"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:n({editType:"ticks"})}}},function(t,e,r){"use strict";var n=r(479),o=r(457);t.exports={moduleType:"component",name:"colorscale",attributes:r(462),layoutAttributes:r(622),supplyLayoutDefaults:r(784),handleDefaults:r(475),crossTraceDefaults:r(785),calc:r(495),scales:n.scales,defaultScale:n.defaultScale,getScale:n.get,isValidScale:n.isValid,hasColorscale:o.hasColorscale,extractOpts:o.extractOpts,extractScale:o.extractScale,flipScale:o.flipScale,makeColorScaleFunc:o.makeColorScaleFunc,makeColorScaleFuncFromTrace:o.makeColorScaleFuncFromTrace}},function(t,e,r){"use strict";var n=r(484),o=r(466),l=r(517),c=r(682);function f(t,e){for(var r=new Array(t.length-1),i=1;i<t.length;++i)for(var n=r[i-1]=new Array(t.length-1),o=0,l=0;o<t.length;++o)o!==e&&(n[l++]=t[i][o]);return r}function h(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",h(t.slice(0,e)),",",h(t.slice(e)),")"].join("")}function d(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],i=0;i<t.length;++i)e.push(["scale(",h(d(f(t,i))),",",(r=i,1&r?"-":""),t[0][i],")"].join(""));return e;var r}function v(t){for(var e=[],r=[],v=function(t){for(var e=new Array(t),i=0;i<t;++i){e[i]=new Array(t);for(var r=0;r<t;++r)e[i][r]=["m",r,"[",t-i-1,"]"].join("")}return e}(t),m=[],i=0;i<t;++i)0==(1&i)?e.push.apply(e,d(f(v,i))):r.push.apply(r,d(f(v,i))),m.push("m"+i);var y=h(e),x=h(r),_="orientation"+t+"Exact",code=["function ",_,"(",m.join(),"){var p=",y,",n=",x,",d=sub(p,n);return d[d.length-1];};return ",_].join("");return new Function("sum","prod","scale","sub",code)(o,n,l,c)}var m=v(3),y=v(4),x=[function(){return 0},function(){return 0},function(a,b){return b[0]-a[0]},function(a,b,t){var s,e=(a[1]-t[1])*(b[0]-t[0]),r=(a[0]-t[0])*(b[1]-t[1]),n=e-r;if(e>0){if(r<=0)return n;s=e+r}else{if(!(e<0))return n;if(r>=0)return n;s=-(e+r)}var o=33306690738754716e-32*s;return n>=o||n<=-o?n:m(a,b,t)},function(a,b,t,e){var r=a[0]-e[0],n=b[0]-e[0],o=t[0]-e[0],l=a[1]-e[1],c=b[1]-e[1],f=t[1]-e[1],h=a[2]-e[2],d=b[2]-e[2],v=t[2]-e[2],m=n*f,x=o*c,_=o*l,w=r*f,M=r*c,A=n*l,T=h*(m-x)+d*(_-w)+v*(M-A),k=7771561172376103e-31*((Math.abs(m)+Math.abs(x))*Math.abs(h)+(Math.abs(_)+Math.abs(w))*Math.abs(d)+(Math.abs(M)+Math.abs(A))*Math.abs(v));return T>k||-T>k?T:y(a,b,t,e)}];function _(t){var e=x[t.length];return e||(e=x[t.length]=v(t.length)),e.apply(void 0,t)}!function(){for(;x.length<=5;)x.push(v(x.length));for(var e=[],r=["slow"],i=0;i<=5;++i)e.push("a"+i),r.push("o"+i);var code=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(i=2;i<=5;++i)code.push("case ",i,":return o",i,"(",e.slice(0,i).join(),");");code.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),r.push(code.join(""));var n=Function.apply(void 0,r);for(t.exports=n.apply(void 0,[_].concat(x)),i=0;i<=5;++i)t.exports[i]=x[i]}()},function(t,e,r){"use strict";var n=r(525);t.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:n.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},function(t,e,r){"use strict";var n=r(633),o=r(618),l=r(507),c=r(421).removeElement,f=r(434),h=t.exports={};h.align=r(792),h.getCursor=r(793);var d=r(794);function v(){var t=document.createElement("div");t.className="dragcover";var e=t.style;return e.position="fixed",e.left=0,e.right=0,e.top=0,e.bottom=0,e.zIndex=999999999,e.background="none",document.body.appendChild(t),t}function m(t){return n(t.changedTouches?t.changedTouches[0]:t,document.body)}h.unhover=d.wrapped,h.unhoverRaw=d.raw,h.init=function(t){var e,r,n,cursor,d,y,x,_,w=t.gd,M=1,A=w._context.doubleClickDelay,element=t.element;w._mouseDownTime||(w._mouseDownTime=0),element.style.pointerEvents="all",element.onmousedown=k,l?(element._ontouchstart&&element.removeEventListener("touchstart",element._ontouchstart),element._ontouchstart=k,element.addEventListener("touchstart",k,{passive:!1})):element.ontouchstart=k;var T=t.clampFn||function(t,e,r){return Math.abs(t)<r&&(t=0),Math.abs(e)<r&&(e=0),[t,e]};function k(l){w._dragged=!1,w._dragging=!0;var c=m(l);e=c[0],r=c[1],x=l.target,y=l,_=2===l.buttons||l.ctrlKey,void 0===l.clientX&&void 0===l.clientY&&(l.clientX=e,l.clientY=r),(n=(new Date).getTime())-w._mouseDownTime<A?M+=1:(M=1,w._mouseDownTime=n),t.prepFn&&t.prepFn(l,e,r),o&&!_?(d=v()).style.cursor=window.getComputedStyle(element).cursor:o||(d=document,cursor=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(element).cursor),document.addEventListener("mouseup",S),document.addEventListener("touchend",S),!1!==t.dragmode&&(l.preventDefault(),document.addEventListener("mousemove",E),document.addEventListener("touchmove",E,{passive:!1}))}function E(n){n.preventDefault();var o=m(n),l=t.minDrag||f.MINDRAG,c=T(o[0]-e,o[1]-r,l),d=c[0],v=c[1];(d||v)&&(w._dragged=!0,h.unhover(w)),w._dragged&&t.moveFn&&!_&&(w._dragdata={element:element,dx:d,dy:v},t.moveFn(d,v))}function S(e){if(delete w._dragdata,!1!==t.dragmode&&(e.preventDefault(),document.removeEventListener("mousemove",E),document.removeEventListener("touchmove",E)),document.removeEventListener("mouseup",S),document.removeEventListener("touchend",S),o?c(d):cursor&&(d.documentElement.style.cursor=cursor,cursor=null),w._dragging){if(w._dragging=!1,(new Date).getTime()-w._mouseDownTime>A&&(M=Math.max(M-1,1)),w._dragged)t.doneFn&&t.doneFn();else if(t.clickFn&&t.clickFn(M,y),!_){var r;try{r=new MouseEvent("click",e)}catch(t){var n=m(e);(r=document.createEvent("MouseEvents")).initMouseEvent("click",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,n[0],n[1],e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}x.dispatchEvent(r)}w._dragging=!1,w._dragged=!1}else w._dragged=!1}},h.coverSlip=v},function(t,e,r){"use strict";var n=r(439),o=r(569),l=r(452),c=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function f(t,e,r,n,o){this.gl=t,this.type=e,this.handle=r,this.length=n,this.usage=o}var h=f.prototype;function d(t,e,r,n,data,o){var l=data.length*data.BYTES_PER_ELEMENT;if(o<0)return t.bufferData(e,data,n),l;if(l+o>r)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(e,o,data),r}function v(t,e){for(var r=n.malloc(t.length,e),o=t.length,i=0;i<o;++i)r[i]=t[i];return r}h.bind=function(){this.gl.bindBuffer(this.type,this.handle)},h.unbind=function(){this.gl.bindBuffer(this.type,null)},h.dispose=function(){this.gl.deleteBuffer(this.handle)},h.update=function(t,e){if("number"!=typeof e&&(e=-1),this.bind(),"object"==typeof t&&void 0!==t.shape){var r=t.dtype;if(c.indexOf(r)<0&&(r="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER)r=gl.getExtension("OES_element_index_uint")&&"uint16"!==r?"uint32":"uint16";if(r===t.dtype&&function(t,e){for(var r=1,i=e.length-1;i>=0;--i){if(e[i]!==r)return!1;r*=t[i]}return!0}(t.shape,t.stride))0===t.offset&&t.data.length===t.shape[0]?this.length=d(this.gl,this.type,this.length,this.usage,t.data,e):this.length=d(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),e);else{var f=n.malloc(t.size,r),h=l(f,t.shape);o.assign(h,t),this.length=d(this.gl,this.type,this.length,this.usage,e<0?f:f.subarray(0,t.size),e),n.free(f)}}else if(Array.isArray(t)){var m;m=this.type===this.gl.ELEMENT_ARRAY_BUFFER?v(t,"uint16"):v(t,"float32"),this.length=d(this.gl,this.type,this.length,this.usage,e<0?m:m.subarray(0,t.length),e),n.free(m)}else if("object"==typeof t&&"number"==typeof t.length)this.length=d(this.gl,this.type,this.length,this.usage,t,e);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(e>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(t|=0)<=0&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},t.exports=function(t,data,e,r){if(e=e||t.ARRAY_BUFFER,r=r||t.DYNAMIC_DRAW,e!==t.ARRAY_BUFFER&&e!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(r!==t.DYNAMIC_DRAW&&r!==t.STATIC_DRAW&&r!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var n=t.createBuffer(),o=new f(t,e,n,0,r);return o.update(data),o}},function(t,e,r){var n=r(924),o=r(925),l="undefined"!=typeof Float64Array;function c(a,b){return a[0]-b[0]}function f(){var i,t=this.stride,e=new Array(t.length);for(i=0;i<e.length;++i)e[i]=[Math.abs(t[i]),i];e.sort(c);var r=new Array(e.length);for(i=0;i<r.length;++i)r[i]=e[i][1];return r}function h(t,e){var r=["View",e,"d",t].join("");e<0&&(r="View_Nil"+t);var o="generic"===t;if(-1===e){var code="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}";return new Function(code)()}if(0===e){code="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(o?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(o?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}";return new Function("TrivialArray",code)(d[t][0])}code=["'use strict'"];var l=n(e),c=l.map((function(i){return"i"+i})),h="this.offset+"+l.map((function(i){return"this.stride["+i+"]*i"+i})).join("+"),v=l.map((function(i){return"b"+i})).join(","),m=l.map((function(i){return"c"+i})).join(",");code.push("function "+r+"(a,"+v+","+m+",d){this.data=a","this.shape=["+v+"]","this.stride=["+m+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),code.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+l.map((function(i){return"this.shape["+i+"]"})).join("*"),"}})"),1===e?code.push("proto.order=[0]"):(code.push("Object.defineProperty(proto,'order',{get:"),e<4?(code.push("function "+r+"_order(){"),2===e?code.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&code.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):code.push("ORDER})")),code.push("proto.set=function "+r+"_set("+c.join(",")+",v){"),o?code.push("return this.data.set("+h+",v)}"):code.push("return this.data["+h+"]=v}"),code.push("proto.get=function "+r+"_get("+c.join(",")+"){"),o?code.push("return this.data.get("+h+")}"):code.push("return this.data["+h+"]}"),code.push("proto.index=function "+r+"_index(",c.join(),"){return "+h+"}"),code.push("proto.hi=function "+r+"_hi("+c.join(",")+"){return new "+r+"(this.data,"+l.map((function(i){return["(typeof i",i,"!=='number'||i",i,"<0)?this.shape[",i,"]:i",i,"|0"].join("")})).join(",")+","+l.map((function(i){return"this.stride["+i+"]"})).join(",")+",this.offset)}");var y=l.map((function(i){return"a"+i+"=this.shape["+i+"]"})),x=l.map((function(i){return"c"+i+"=this.stride["+i+"]"}));code.push("proto.lo=function "+r+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+y.join(",")+","+x.join(","));for(var i=0;i<e;++i)code.push("if(typeof i"+i+"==='number'&&i"+i+">=0){d=i"+i+"|0;b+=c"+i+"*d;a"+i+"-=d}");code.push("return new "+r+"(this.data,"+l.map((function(i){return"a"+i})).join(",")+","+l.map((function(i){return"c"+i})).join(",")+",b)}"),code.push("proto.step=function "+r+"_step("+c.join(",")+"){var "+l.map((function(i){return"a"+i+"=this.shape["+i+"]"})).join(",")+","+l.map((function(i){return"b"+i+"=this.stride["+i+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(i=0;i<e;++i)code.push("if(typeof i"+i+"==='number'){d=i"+i+"|0;if(d<0){c+=b"+i+"*(a"+i+"-1);a"+i+"=ceil(-a"+i+"/d)}else{a"+i+"=ceil(a"+i+"/d)}b"+i+"*=d}");code.push("return new "+r+"(this.data,"+l.map((function(i){return"a"+i})).join(",")+","+l.map((function(i){return"b"+i})).join(",")+",c)}");var _=new Array(e),w=new Array(e);for(i=0;i<e;++i)_[i]="a[i"+i+"]",w[i]="b[i"+i+"]";code.push("proto.transpose=function "+r+"_transpose("+c+"){"+c.map((function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+_.join(",")+","+w.join(",")+",this.offset)}"),code.push("proto.pick=function "+r+"_pick("+c+"){var a=[],b=[],c=this.offset");for(i=0;i<e;++i)code.push("if(typeof i"+i+"==='number'&&i"+i+">=0){c=(c+this.stride["+i+"]*i"+i+")|0}else{a.push(this.shape["+i+"]);b.push(this.stride["+i+"])}");return code.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),code.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+l.map((function(i){return"shape["+i+"]"})).join(",")+","+l.map((function(i){return"stride["+i+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",code.join("\n"))(d[t],f)}var d={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};t.exports=function(data,t,e,r){if(void 0===data)return(0,d.array[0])([]);"number"==typeof data&&(data=[data]),void 0===t&&(t=[data.length]);var n=t.length;if(void 0===e){e=new Array(n);for(var i=n-1,c=1;i>=0;--i)e[i]=c,c*=t[i]}if(void 0===r){r=0;for(i=0;i<n;++i)e[i]<0&&(r-=(t[i]-1)*e[i])}for(var f=function(data){if(o(data))return"buffer";if(l)switch(Object.prototype.toString.call(data)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(data)?"array":"generic"}(data),v=d[f];v.length<=n+1;)v.push(h(f,v.length-1));return(0,v[n+1])(data,t,e,r)}},function(t,e,r){"use strict";var n=r(926),o=r(927);function l(t){this.bindVertexArrayOES=t.bindVertexArray.bind(t),this.createVertexArrayOES=t.createVertexArray.bind(t),this.deleteVertexArrayOES=t.deleteVertexArray.bind(t)}t.exports=function(t,e,r,c){var f,h=t.createVertexArray?new l(t):t.getExtension("OES_vertex_array_object");return(f=h?n(t,h):o(t)).update(e,r,c),f}},,,function(t,e,r){"use strict";e.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],e.defaultLine="#444",e.lightLine="#eee",e.background="#fff",e.borderLine="#BEC8D9",e.lightFraction=1e3/11},function(t,e,r){"use strict";var n=r(423),o=r(443),l=r(424),c=r(421),f=r(425),h=r(479).isValid;var d=["showscale","autocolorscale","colorscale","reversescale","colorbar"],v=["min","max","mid","auto"];function m(t){var e,i,r,n=t._colorAx,o=n||t,l={};for(i=0;i<d.length;i++)l[r=d[i]]=o[r];if(n)for(e="c",i=0;i<v.length;i++)l[r=v[i]]=o["c"+r];else{var c;for(i=0;i<v.length;i++)((c="c"+(r=v[i]))in o||(c="z"+r)in o)&&(l[r]=o[c]);e=c.charAt(0)}return l._sync=function(t,r){var n=-1!==v.indexOf(t)?e+t:t;o[n]=o["_"+n]=r},l}function y(t){for(var e=m(t),r=e.min,n=e.max,o=e.reversescale?x(e.colorscale):e.colorscale,l=o.length,c=new Array(l),f=new Array(l),i=0;i<l;i++){var h=o[i];c[i]=r+h[0]*(n-r),f[i]=h[1]}return{domain:c,range:f}}function x(t){for(var e=t.length,r=new Array(e),i=e-1,n=0;i>=0;i--,n++){var o=t[i];r[n]=[1-o[0],o[1]]}return r}function _(t,e){e=e||{};for(var r=t.domain,c=t.range,h=c.length,d=new Array(h),i=0;i<h;i++){var v=o(c[i]).toRgb();d[i]=[v.r,v.g,v.b,v.a]}var m,y=n.scale.linear().domain(r).range(d).clamp(!0),x=e.noNumericCheck,_=e.returnArray;return(m=x&&_?y:x?function(t){return w(y(t))}:_?function(t){return l(t)?y(t):o(t).isValid()?t:f.defaultLine}:function(t){return l(t)?w(y(t)):o(t).isValid()?t:f.defaultLine}).domain=y.domain,m.range=function(){return c},m}function w(t){var e={r:t[0],g:t[1],b:t[2],a:t[3]};return o(e).toRgbString()}t.exports={hasColorscale:function(t,e,r){var n=e?c.nestedProperty(t,e).get()||{}:t,o=n[r||"color"],f=!1;if(c.isArrayOrTypedArray(o))for(var i=0;i<o.length;i++)if(l(o[i])){f=!0;break}return c.isPlainObject(n)&&(f||!0===n.showscale||l(n.cmin)&&l(n.cmax)||h(n.colorscale)||c.isPlainObject(n.colorbar))},extractOpts:m,extractScale:y,flipScale:x,makeColorScaleFunc:_,makeColorScaleFuncFromTrace:function(t,e){return _(y(t),e)}}},function(t,e,r){"use strict";var n=r(421),o=r(428);t.exports=function(t,e,r){var i,l,c=r.name,f=r.inclusionAttr||"visible",h=e[c],d=n.isArrayOrTypedArray(t[c])?t[c]:[],v=e[c]=[],m=o.arrayTemplater(e,c,f);for(i=0;i<d.length;i++){var y=d[i];n.isPlainObject(y)?l=m.newItem(y):(l=m.newItem({}))[f]=!1,l._index=i,!1!==l[f]&&r.handleItemDefaults(y,l,e,r),v.push(l)}var x=m.defaultItems();for(i=0;i<x.length;i++)(l=x[i])._index=v.length,r.handleItemDefaults({},l,e,r,{}),v.push(l);if(n.isArrayOrTypedArray(h)){var _=Math.min(h.length,v.length);for(i=0;i<_;i++)n.relinkPrivateKeys(v[i],h[i])}return v}},function(t,e,r){"use strict";var n=r(421);e.getSubplot=function(t){return t.subplot||t.xaxis+t.yaxis||t.geo},e.isTraceInSubplots=function(t,r){if("splom"===t.type){for(var n=t.xaxes||[],o=t.yaxes||[],i=0;i<n.length;i++)for(var l=0;l<o.length;l++)if(-1!==r.indexOf(n[i]+o[l]))return!0;return!1}return-1!==r.indexOf(e.getSubplot(t))},e.flat=function(t,e){for(var r=new Array(t.length),i=0;i<t.length;i++)r[i]=e;return r},e.p2c=function(t,e){for(var r=new Array(t.length),i=0;i<t.length;i++)r[i]=t[i].p2c(e);return r},e.getDistanceFunction=function(t,r,n,o){return"closest"===t?o||e.quadrature(r,n):"x"===t.charAt(0)?r:n},e.getClosest=function(t,e,r){if(!1!==r.index)r.index>=0&&r.index<t.length?r.distance=0:r.index=!1;else for(var i=0;i<t.length;i++){var n=e(t[i]);n<=r.distance&&(r.index=i,r.distance=n)}return r},e.inbox=function(t,e,r){return t*e<0||0===t?r:1/0},e.quadrature=function(t,e){return function(r){var n=t(r),o=e(r);return Math.sqrt(n*n+o*o)}},e.makeEventData=function(t,r,n){var o="index"in t?t.index:t.pointNumber,l={data:r._input,fullData:r,curveNumber:r.index,pointNumber:o};if(r._indexToPoints){var c=r._indexToPoints[o];1===c.length?l.pointIndex=c[0]:l.pointIndices=c}else l.pointIndex=o;return r._module.eventData?l=r._module.eventData(l,t,r,n,o):("xVal"in t?l.x=t.xVal:"x"in t&&(l.x=t.x),"yVal"in t?l.y=t.yVal:"y"in t&&(l.y=t.y),t.xa&&(l.xaxis=t.xa),t.ya&&(l.yaxis=t.ya),void 0!==t.zLabelVal&&(l.z=t.zLabelVal)),e.appendArrayPointValue(l,r,o),l},e.appendArrayPointValue=function(t,e,r){var o=e._arrayAttrs;if(o)for(var i=0;i<o.length;i++){var f=o[i],h=l(f);if(void 0===t[h]){var d=c(n.nestedProperty(e,f).get(),r);void 0!==d&&(t[h]=d)}}},e.appendArrayMultiPointValues=function(t,e,r){var o=e._arrayAttrs;if(o)for(var i=0;i<o.length;i++){var f=o[i],h=l(f);if(void 0===t[h]){for(var d=n.nestedProperty(e,f).get(),v=new Array(r.length),m=0;m<r.length;m++)v[m]=c(d,r[m]);t[h]=v}}};var o={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function l(t){return o[t]||t}function c(t,e){return Array.isArray(e)?Array.isArray(t)&&Array.isArray(t[e[0]])?t[e[0]][e[1]]:void 0:t[e]}var f={x:!0,y:!0},h={"x unified":!0,"y unified":!0};e.isUnifiedHover=function(t){return"string"==typeof t&&!!h[t]},e.isXYhover=function(t){return"string"==typeof t&&!!f[t]}},function(t,e,r){"use strict";var n=r(423),o=r(421),l=r(450),c=r(459),f=r(478),h=r(634);t.exports={moduleType:"component",name:"fx",constants:r(500),schema:{layout:f},attributes:r(525),layoutAttributes:f,supplyLayoutGlobalDefaults:r(799),supplyDefaults:r(800),supplyLayoutDefaults:r(801),calc:r(802),getDistanceFunction:c.getDistanceFunction,getClosest:c.getClosest,inbox:c.inbox,quadrature:c.quadrature,appendArrayPointValue:c.appendArrayPointValue,castHoverOption:function(t,e,r){return o.castOption(t,e,"hoverlabel."+r)},castHoverinfo:function(t,e,r){return o.castOption(t,r,"hoverinfo",(function(r){return o.coerceHoverinfo({hoverinfo:r},{_module:t._module},e)}))},hover:h.hover,unhover:l.unhover,loneHover:h.loneHover,loneUnhover:function(t){var e=o.isD3Selection(t)?t:n.select(t);e.selectAll("g.hovertext").remove(),e.selectAll(".spikeline").remove()},click:r(803)}},,function(t,e,r){"use strict";var n=r(541),o=r(491).counter,l=r(479).scales;Object.keys(l);function code(s){return"`"+s+"`"}t.exports=function(t,e){t=t||"";var r,c=(e=e||{}).cLetter||"c",f=("onlyIfNumerical"in e?e.onlyIfNumerical:Boolean(t),"noScale"in e?e.noScale:"marker.line"===t),h="showScaleDflt"in e?e.showScaleDflt:"z"===c,d="string"==typeof e.colorscaleDflt?l[e.colorscaleDflt]:null,v=e.editTypeOverride||"",m=t?t+".":"";"colorAttr"in e?(r=e.colorAttr,e.colorAttr):code(m+(r={z:"z",c:"color"}[c]));var y=c+"auto",x=c+"min",_=c+"max",w=c+"mid",M=(code(m+y),code(m+x),code(m+_),{});M[x]=M[_]=void 0;var A={};A[y]=!1;var T={};return"color"===r&&(T.color={valType:"color",arrayOk:!0,editType:v||"style"},e.anim&&(T.color.anim=!0)),T[y]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:M},T[x]={valType:"number",dflt:null,editType:v||"plot",impliedEdits:A},T[_]={valType:"number",dflt:null,editType:v||"plot",impliedEdits:A},T[w]={valType:"number",dflt:null,editType:"calc",impliedEdits:M},T.colorscale={valType:"colorscale",editType:"calc",dflt:d,impliedEdits:{autocolorscale:!1}},T.autocolorscale={valType:"boolean",dflt:!1!==e.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},T.reversescale={valType:"boolean",dflt:!1,editType:"plot"},f||(T.showscale={valType:"boolean",dflt:h,editType:"calc"},T.colorbar=n),e.noColorAxis||(T.coloraxis={valType:"subplotid",regex:o("coloraxis"),dflt:null,editType:"calc"}),T}},function(t,e,r){"use strict";e.xmlns="http://www.w3.org/2000/xmlns/",e.svg="http://www.w3.org/2000/svg",e.xlink="http://www.w3.org/1999/xlink",e.svgAttrs={xmlns:e.svg,"xmlns:xlink":e.xlink}},function(t,e,r){"use strict";var n=r(898),o=r(899),l=r(674),c=r(900),f=r(918),h=r(513);function d(t){this.gl=t,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var v=d.prototype;function m(a,b){return a.name<b.name?-1:1}v.bind=function(){var i;this.program||this._relink();var t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),e=this.gl.lastAttribCount;if(t>e)for(i=e;i<t;i++)this.gl.enableVertexAttribArray(i);else if(e>t)for(i=t;i<e;i++)this.gl.disableVertexAttribArray(i);this.gl.lastAttribCount=t,this.gl.useProgram(this.program)},v.dispose=function(){for(var t=this.gl.lastAttribCount,i=0;i<t;i++)this.gl.disableVertexAttribArray(i);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},v.update=function(t,e,r,d){if(!e||1===arguments.length){var v=t;t=v.vertex,e=v.fragment,r=v.uniforms,d=v.attributes}var y=this,x=y.gl,_=y._vref;y._vref=c.shader(x,x.VERTEX_SHADER,t),_&&_.dispose(),y.vertShader=y._vref.shader;var w=this._fref;if(y._fref=c.shader(x,x.FRAGMENT_SHADER,e),w&&w.dispose(),y.fragShader=y._fref.shader,!r||!d){var M=x.createProgram();if(x.attachShader(M,y.fragShader),x.attachShader(M,y.vertShader),x.linkProgram(M),!x.getProgramParameter(M,x.LINK_STATUS)){var A=x.getProgramInfoLog(M);throw new h(A,"Error linking program:"+A)}r=r||f.uniforms(x,M),d=d||f.attributes(x,M),x.deleteProgram(M)}(d=d.slice()).sort(m);var i,T=[],k=[],E=[];for(i=0;i<d.length;++i){var S=d[i];if(S.type.indexOf("mat")>=0){for(var L=0|S.type.charAt(S.type.length-1),C=new Array(L),O=0;O<L;++O)C[O]=E.length,k.push(S.name+"["+O+"]"),"number"==typeof S.location?E.push(S.location+O):Array.isArray(S.location)&&S.location.length===L&&"number"==typeof S.location[O]?E.push(0|S.location[O]):E.push(-1);T.push({name:S.name,type:S.type,locations:C})}else T.push({name:S.name,type:S.type,locations:[E.length]}),k.push(S.name),"number"==typeof S.location?E.push(0|S.location):E.push(-1)}var R=0;for(i=0;i<E.length;++i)if(E[i]<0){for(;E.indexOf(R)>=0;)R+=1;E[i]=R}var D=new Array(r.length);function P(){y.program=c.program(x,y._vref,y._fref,k,E);for(var i=0;i<r.length;++i)D[i]=x.getUniformLocation(y.program,r[i].name)}P(),y._relink=P,y.types={uniforms:l(r),attributes:l(d)},y.attributes=o(x,y,T,E),Object.defineProperty(y,"uniforms",n(x,y,r,D))},t.exports=function(t,e,r,n,o){var l=new d(t);return l.update(e,r,n,o),l}},function(t,e,r){"use strict";function n(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var mask=t>>31;return(t^mask)-mask},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=n,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var o=new Array(256);!function(t){for(var i=0;i<256;++i){var e=i,r=i,s=7;for(e>>>=1;e;e>>>=1)r<<=1,r|=1&e,--s;t[i]=r<<s&255}}(o),e.reverse=function(t){return o[255&t]<<24|o[t>>>8&255]<<16|o[t>>>16&255]<<8|o[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},function(t,e,r){"use strict";t.exports=function(t,e){var r=0|t.length,n=0|e.length;if(1===r&&1===n)return function(a,b){var t=a+b,e=t-a,r=a-(t-e)+(b-e);if(r)return[r,t];return[t]}(t[0],e[0]);var a,b,g=new Array(r+n),o=0,l=0,c=0,f=Math.abs,h=t[l],d=f(h),v=e[c],m=f(v);d<m?(b=h,(l+=1)<r&&(h=t[l],d=f(h))):(b=v,(c+=1)<n&&(v=e[c],m=f(v)));l<r&&d<m||c>=n?(a=h,(l+=1)<r&&(h=t[l],d=f(h))):(a=v,(c+=1)<n&&(v=e[c],m=f(v)));var y,x,_=a+b,w=_-a,M=b-w,A=M,T=_;for(;l<r&&c<n;)d<m?(a=h,(l+=1)<r&&(h=t[l],d=f(h))):(a=v,(c+=1)<n&&(v=e[c],m=f(v))),(M=(b=A)-(w=(_=a+b)-a))&&(g[o++]=M),A=T-((y=T+_)-(x=y-T))+(_-x),T=y;for(;l<r;)(M=(b=A)-(w=(_=(a=h)+b)-a))&&(g[o++]=M),A=T-((y=T+_)-(x=y-T))+(_-x),T=y,(l+=1)<r&&(h=t[l]);for(;c<n;)(M=(b=A)-(w=(_=(a=v)+b)-a))&&(g[o++]=M),A=T-((y=T+_)-(x=y-T))+(_-x),T=y,(c+=1)<n&&(v=e[c]);A&&(g[o++]=A);T&&(g[o++]=T);o||(g[o++]=0);return g.length=o,g}},function(t,e){t.exports=function(t){"string"==typeof t&&(t=[t]);for(var e=[].slice.call(arguments,1),r=[],i=0;i<t.length-1;i++)r.push(t[i],e[i]||"");return r.push(t[i]),r.join("")}},,,,function(t,e){t.exports=function(t,a){var e=a[0],r=a[1],n=a[2],o=a[3],l=a[4],c=a[5],f=a[6],h=a[7],d=a[8],v=a[9],m=a[10],y=a[11],x=a[12],_=a[13],w=a[14],M=a[15],A=e*c-r*l,T=e*f-n*l,k=e*h-o*l,E=r*f-n*c,S=r*h-o*c,L=n*h-o*f,C=d*_-v*x,O=d*w-m*x,R=d*M-y*x,D=v*w-m*_,P=v*M-y*_,I=m*M-y*w,N=A*I-T*P+k*D+E*R-S*O+L*C;if(!N)return null;return N=1/N,t[0]=(c*I-f*P+h*D)*N,t[1]=(n*P-r*I-o*D)*N,t[2]=(_*L-w*S+M*E)*N,t[3]=(m*S-v*L-y*E)*N,t[4]=(f*R-l*I-h*O)*N,t[5]=(e*I-n*R+o*O)*N,t[6]=(w*k-x*L-M*T)*N,t[7]=(d*L-m*k+y*T)*N,t[8]=(l*P-c*R+h*C)*N,t[9]=(r*R-e*P-o*C)*N,t[10]=(x*S-_*k+M*A)*N,t[11]=(v*k-d*S-y*A)*N,t[12]=(c*O-l*D-f*C)*N,t[13]=(e*D-r*O+n*C)*N,t[14]=(_*T-x*E-w*A)*N,t[15]=(d*E-v*T+m*A)*N,t}},function(t,e){t.exports=function(t,a,b){var e=a[0],r=a[1],n=a[2],o=a[3],l=a[4],c=a[5],f=a[6],h=a[7],d=a[8],v=a[9],m=a[10],y=a[11],x=a[12],_=a[13],w=a[14],M=a[15],A=b[0],T=b[1],k=b[2],E=b[3];return t[0]=A*e+T*l+k*d+E*x,t[1]=A*r+T*c+k*v+E*_,t[2]=A*n+T*f+k*m+E*w,t[3]=A*o+T*h+k*y+E*M,A=b[4],T=b[5],k=b[6],E=b[7],t[4]=A*e+T*l+k*d+E*x,t[5]=A*r+T*c+k*v+E*_,t[6]=A*n+T*f+k*m+E*w,t[7]=A*o+T*h+k*y+E*M,A=b[8],T=b[9],k=b[10],E=b[11],t[8]=A*e+T*l+k*d+E*x,t[9]=A*r+T*c+k*v+E*_,t[10]=A*n+T*f+k*m+E*w,t[11]=A*o+T*h+k*y+E*M,A=b[12],T=b[13],k=b[14],E=b[15],t[12]=A*e+T*l+k*d+E*x,t[13]=A*r+T*c+k*v+E*_,t[14]=A*n+T*f+k*m+E*w,t[15]=A*o+T*h+k*y+E*M,t}},function(t,e,r){"use strict";var n=r(474).texttemplateAttrs,o=r(474).hovertemplateAttrs,l=r(462),c=r(441),f=r(493).dash,h=r(427),d=r(542),v=r(429).extendFlat;t.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:n({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:o({},{keys:d.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:v({},f,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},marker:v({symbol:{valType:"enumerated",values:h.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:v({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},l("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},l("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:c({editType:"calc",colorEditType:"style",arrayOk:!0}),r:{valType:"data_array",editType:"calc"},t:{valType:"data_array",editType:"calc"}}},function(t,e,r){"use strict";['Variables are inserted using %{variable}, for example "y: %{y}".','Numbers are formatted using d3-format\'s syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".',r(482).FORMAT_LINK,"for details on the formatting syntax.",'Dates are formatted using d3-time-format\'s syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".',r(482).DATE_FORMAT_LINK,"for details on the date formatting syntax."].join(" ");function n(t){var e=t.description?" "+t.description:"",r=t.keys||[];if(r.length>0){for(var n=[],i=0;i<r.length;i++)n[i]="`"+r[i]+"`";e+="Finally, the template string has access to ",e=1===r.length?"variable "+n[0]:"variables "+n.slice(0,-1).join(", ")+" and "+n.slice(-1)+"."}return e}e.hovertemplateAttrs=function(t,e){t=t||{};n(e=e||{});var r={valType:"string",dflt:"",editType:t.editType||"none"};return!1!==t.arrayOk&&(r.arrayOk=!0),r},e.texttemplateAttrs=function(t,e){t=t||{};n(e=e||{});var r={valType:"string",dflt:"",editType:t.editType||"calc"};return!1!==t.arrayOk&&(r.arrayOk=!0),r}},function(t,e,r){"use strict";var n=r(424),o=r(421),l=r(623),c=r(624),f=r(479).isValid,h=r(422).traceIs;function d(t,e){var r=e.slice(0,e.length-1);return e?o.nestedProperty(t,r).get()||{}:t}t.exports=function t(e,r,v,m,y){var x=y.prefix,_=y.cLetter,w="_module"in r,M=d(e,x),A=d(r,x),template=d(r._template||{},x)||{},T=function(){return delete e.coloraxis,delete r.coloraxis,t(e,r,v,m,y)};if(w){var k=v._colorAxes||{},E=m(x+"coloraxis");if(E){var S=h(r,"contour")&&o.nestedProperty(r,"contours.coloring").get()||"heatmap",L=k[E];return void(L?(L[2].push(T),L[0]!==S&&(L[0]=!1,o.warn(["Ignoring coloraxis:",E,"setting","as it is linked to incompatible colorscales."].join(" ")))):k[E]=[S,r,[T]])}}var C=M[_+"min"],O=M[_+"max"],R=n(C)&&n(O)&&C<O;m(x+_+"auto",!R)?m(x+_+"mid"):(m(x+_+"min"),m(x+_+"max"));var D,P,I=M.colorscale,N=template.colorscale;(void 0!==I&&(D=!f(I)),void 0!==N&&(D=!f(N)),m(x+"autocolorscale",D),m(x+"colorscale"),m(x+"reversescale"),"marker.line."!==x)&&(x&&w&&(P=l(M)),m(x+"showscale",P)&&(x&&template&&(A._template=template),c(M,A,v)))}},function(t,e,r){"use strict";t.exports=function(t,e){(t.attr("class")||"").split(" ").forEach((function(e){0===e.indexOf("cursor-")&&t.classed(e,!1)})),e&&t.classed("cursor-"+e,!0)}},function(t,e,r){"use strict";var n=Array.isArray,o="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer:{isView:function(){return!1}},l="undefined"==typeof DataView?function(){}:DataView;function c(a){return o.isView(a)&&!(a instanceof l)}function f(a){return n(a)||c(a)}function h(t,e,r){if(f(t)){if(f(t[0])){for(var n=r,i=0;i<t.length;i++)n=e(n,t[i].length);return n}return t.length}return 0}e.isTypedArray=c,e.isArrayOrTypedArray=f,e.isArray1D=function(a){return!f(a[0])},e.ensureArray=function(t,e){return n(t)||(t=[]),t.length=e,t},e.concat=function(){var t,e,i,r,o,l,c,f,h=[],d=!0,v=0;for(i=0;i<arguments.length;i++)(l=(r=arguments[i]).length)&&(e?h.push(r):(e=r,o=l),n(r)?t=!1:(d=!1,v?t!==r.constructor&&(t=!1):t=r.constructor),v+=l);if(!v)return[];if(!h.length)return e;if(d)return e.concat.apply(e,h);if(t){for((c=new t(v)).set(e),i=0;i<h.length;i++)r=h[i],c.set(r,o),o+=r.length;return c}for(c=new Array(v),f=0;f<e.length;f++)c[f]=e[f];for(i=0;i<h.length;i++){for(r=h[i],f=0;f<r.length;f++)c[o+f]=r[f];o+=f}return c},e.maxRowLength=function(t){return h(t,Math.max,0)},e.minRowLength=function(t){return h(t,Math.min,1/0)}},function(t,e,r){"use strict";var n=r(500),o=r(441)({editType:"none"});o.family.dflt=n.HOVERFONT,o.size.dflt=n.HOVERFONTSIZE,t.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:20,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:o,align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},function(t,e,r){"use strict";var n=r(443),o={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},l=o.RdBu;function c(t){var e=0;if(!Array.isArray(t)||t.length<2)return!1;if(!t[0]||!t[t.length-1])return!1;if(0!=+t[0][0]||1!=+t[t.length-1][0])return!1;for(var i=0;i<t.length;i++){var r=t[i];if(2!==r.length||+r[0]<e||!n(r[1]).isValid())return!1;e=+r[0]}return!0}t.exports={scales:o,defaultScale:l,get:function(t,e){if(e||(e=l),!t)return e;function r(){try{t=o[t]||JSON.parse(t)}catch(r){t=e}}return"string"==typeof t&&(r(),"string"==typeof t&&r()),c(t)?t:e},isValid:function(t){return void 0!==o[t]||c(t)}}},function(t,e,r){"use strict";var n=r(481).dfltConfig,o=r(603),l=t.exports={};function c(t,e){if(t&&t.apply)try{return void t.apply(console,e)}catch(t){}for(var i=0;i<e.length;i++)try{t(e[i])}catch(t){console.log(e[i])}}l.log=function(){var i;if(n.logging>1){var t=["LOG:"];for(i=0;i<arguments.length;i++)t.push(arguments[i]);c(console.trace||console.log,t)}if(n.notifyOnLogging>1){var e=[];for(i=0;i<arguments.length;i++)e.push(arguments[i]);o(e.join("<br>"),"long")}},l.warn=function(){var i;if(n.logging>0){var t=["WARN:"];for(i=0;i<arguments.length;i++)t.push(arguments[i]);c(console.trace||console.log,t)}if(n.notifyOnLogging>0){var e=[];for(i=0;i<arguments.length;i++)e.push(arguments[i]);o(e.join("<br>"),"stick")}},l.error=function(){var i;if(n.logging>0){var t=["ERROR:"];for(i=0;i<arguments.length;i++)t.push(arguments[i]);c(console.error,t)}if(n.notifyOnLogging>0){var e=[];for(i=0;i<arguments.length;i++)e.push(arguments[i]);o(e.join("<br>"),"stick")}}},function(t,e,r){"use strict";var n={staticPlot:{valType:"boolean",dflt:!1},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},o={};!function t(e,r){for(var n in e){var o=e[n];o.valType?r[n]=o.dflt:(r[n]||(r[n]={}),t(o,r[n]))}}(n,o),t.exports={configAttributes:n,dfltConfig:o}},function(t,e,r){"use strict";t.exports={FORMAT_LINK:"https://github.com/d3/d3-3.x-api-reference/blob/master/Formatting.md#d3_format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format#locale_format"}},function(t,e,r){"use strict";var n=r(422);e.getDelay=function(t){return t._has&&(t._has("gl3d")||t._has("gl2d")||t._has("mapbox"))?500:0},e.getRedrawFunc=function(t){return function(){var e=t._fullLayout||{};!(e._has&&e._has("polar"))&&t.data&&t.data[0]&&t.data[0].r||n.getComponentMethod("colorbar","draw")(t)}},e.encodeSVG=function(svg){return"data:image/svg+xml,"+encodeURIComponent(svg)},e.encodeJSON=function(t){return"data:application/json,"+encodeURIComponent(t)};var o=window.URL||window.webkitURL;e.createObjectURL=function(t){return o.createObjectURL(t)},e.revokeObjectURL=function(t){return o.revokeObjectURL(t)},e.createBlob=function(t,e){if("svg"===e)return new window.Blob([t],{type:"image/svg+xml;charset=utf-8"});if("full-json"===e)return new window.Blob([t],{type:"application/json;charset=utf-8"});var r=function(b){for(var t=b.length,e=new ArrayBuffer(t),r=new Uint8Array(e),i=0;i<t;i++)r[i]=b.charCodeAt(i);return e}(window.atob(t));return new window.Blob([r],{type:"image/"+e})},e.octetStream=function(s){document.location.href="data:application/octet-stream"+s},e.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,e.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},function(t,e,r){"use strict";t.exports=function(a,b,t){var e=a*b,r=n*a,o=r-(r-a),l=a-o,c=n*b,f=c-(c-b),h=b-f,d=l*h-(e-o*f-l*f-o*h);if(t)return t[0]=d,t[1]=e,t;return[d,e]};var n=+(Math.pow(2,27)+1)},function(t,e,r){"use strict";var n=r(688);t.exports=function(t){return t?n(t):[0,0,0,1]}},function(t,e,r){"use strict";function n(t,e,r,n,o){var code=["function ",t,"(a,l,h,",n.join(","),"){",o?"":"var i=",r?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a[m]"];return o?e.indexOf("c")<0?code.push(";if(x===y){return m}else if(x<=y){"):code.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):code.push(";if(",e,"){i=m;"),r?code.push("l=m+1}else{h=m-1}"):code.push("h=m-1}else{l=m+1}"),code.push("}"),o?code.push("return -1};"):code.push("return i};"),code.join("")}function o(t,e,r,o){return new Function([n("A","x"+t+"y",e,["y"],o),n("P","c(x,y)"+t+"0",e,["y","c"],o),"function dispatchBsearch",r,"(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch",r].join(""))()}t.exports={ge:o(">=",!1,"GE"),gt:o(">",!1,"GT"),lt:o("<",!0,"LT"),le:o("<=",!0,"LE"),eq:o("-",!0,"EQ",!0)}},,,function(t,e,r){"use strict";t.exports=function(t){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(t):"[object Object]"===Object.prototype.toString.call(t)&&Object.getPrototypeOf(t)===Object.prototype}},function(t,e,r){"use strict";t.exports={mod:function(t,e){var r=t%e;return r<0?r+e:r},modHalf:function(t,e){return Math.abs(t)>e/2?t-Math.round(t/e)*e:t}}},function(t,e,r){"use strict";e.counter=function(head,t,e,r){var n=(t||"")+(e?"":"$"),o=!1===r?"":"^";return"xy"===head?new RegExp(o+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+n):new RegExp(o+head+"([2-9]|[1-9][0-9]+)?"+n)}},function(t,e,r){"use strict";var n=r(441),o=r(501),l=r(456),c=r(768),f=r(538),h=r(429).extendFlat,d=n({editType:"calc"});d.family.dflt='"Open Sans", verdana, arial, sans-serif',d.size.dflt=12,d.color.dflt=l.defaultLine,t.exports={font:d,title:{text:{valType:"string",editType:"layoutstyle"},font:n({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:h(f({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:l.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:l.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:l.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},modebar:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"modebar"},newshape:c.newshape,activeshape:c.activeshape,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:h({},o.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:n({editType:"layoutstyle"})}}},function(t,e,r){"use strict";e.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"}},function(t,e,r){"use strict";var n=r(422),o=r(421),l=r(449),c=r(492),f=r(621),h=r(501),d=r(481).configAttributes,v=r(783),m=r(787),y=r(444),x=o.extendFlat,_=o.extendDeepAll,w=o.isPlainObject,M=o.isArrayOrTypedArray,A=o.nestedProperty,T=o.valObjectMeta,k=["_isSubplotObj","_isLinkedToArray","_arrayAttrRegexps","_deprecated"];function E(t,e,i){if(!t)return!1;if(t._isLinkedToArray)if(S(e[i]))i++;else if(i<e.length)return!1;for(;i<e.length;i++){var r=t[e[i]];if(!w(r))break;if(t=r,i===e.length-1)break;if(t._isLinkedToArray){if(!S(e[++i]))return!1}else if("info_array"===t.valType){var n=e[++i];if(!S(n))return!1;var o=t.items;if(Array.isArray(o)){if(n>=o.length)return!1;if(2===t.dimensions){if(i++,e.length===i)return t;var l=e[i];if(!S(l))return!1;t=o[n][l]}else t=o[n]}else t=o}}return t}function S(t){return t===Math.round(t)&&t>=0}function L(){var t,e,r={};for(t in _(r,c),n.subplotsRegistry){if((e=n.subplotsRegistry[t]).layoutAttributes)if(Array.isArray(e.attr))for(var i=0;i<e.attr.length;i++)R(r,e,e.attr[i]);else R(r,e,"subplot"===e.attr?e.name:e.attr)}for(t in r=function(t){return x(t,{radialaxis:m.radialaxis,angularaxis:m.angularaxis}),x(t,m.layout),t}(r),n.componentsRegistry){var o=(e=n.componentsRegistry[t]).schema;if(o&&(o.subplots||o.layout)){var l=o.subplots;if(l&&l.xaxis&&!l.yaxis)for(var f in l.xaxis)delete r.yaxis[f]}else"colorscale"===e.name?_(r,e.layoutAttributes):e.layoutAttributes&&D(r,e.layoutAttributes,e.name)}return{layoutAttributes:O(r)}}function C(){var t={frames:_({},f)};return O(t),t.frames}function O(t){return function(t){e.crawl(t,(function(t,r,n){e.isValObject(t)?"data_array"===t.valType?(t.role="data",n[r+"src"]={valType:"string",editType:"none"}):!0===t.arrayOk&&(n[r+"src"]={valType:"string",editType:"none"}):w(t)&&(t.role="object")}))}(t),function(t){e.crawl(t,(function(t,e,r){if(t){var n=t._isLinkedToArray;n&&(delete t._isLinkedToArray,r[e]={items:{}},r[e].items[n]=t,r[e].role="object")}}))}(t),function(t){!function t(e){for(var r in e)if(w(e[r]))t(e[r]);else if(Array.isArray(e[r]))for(var i=0;i<e[r].length;i++)t(e[r][i]);else e[r]instanceof RegExp&&(e[r]=e[r].toString())}(t)}(t),t}function R(t,e,r){var n=A(t,r),o=_({},e.layoutAttributes);o._isSubplotObj=!0,n.set(o)}function D(t,e,r){var n=A(t,r);n.set(_(n.get()||{},e))}e.IS_SUBPLOT_OBJ="_isSubplotObj",e.IS_LINKED_TO_ARRAY="_isLinkedToArray",e.DEPRECATED="_deprecated",e.UNDERSCORE_ATTRS=k,e.get=function(){var t={};n.allTypes.concat("area").forEach((function(r){t[r]=function(t){var r,o;"area"===t?(r={attributes:v},o={}):(r=n.modules[t]._module,o=r.basePlotModule);var c={type:null},f=_({},l),h=_({},r.attributes);e.crawl(h,(function(t,e,r,n,o){A(f,o).set(void 0),void 0===t&&A(h,o).set(void 0)})),_(c,f),n.traceIs(t,"noOpacity")&&delete c.opacity;n.traceIs(t,"showLegend")||(delete c.showlegend,delete c.legendgroup);n.traceIs(t,"noHover")&&(delete c.hoverinfo,delete c.hoverlabel);r.selectPoints||delete c.selectedpoints;_(c,h),o.attributes&&_(c,o.attributes);c.type=t;var d={meta:r.meta||{},categories:r.categories||{},animatable:Boolean(r.animatable),type:t,attributes:O(c)};if(r.layoutAttributes){var m={};_(m,r.layoutAttributes),d.layoutAttributes=O(m)}r.animatable||e.crawl(d,(function(t){e.isValObject(t)&&"anim"in t&&delete t.anim}));return d}(r)}));var r={};return Object.keys(n.transformsRegistry).forEach((function(t){r[t]=function(t){var e=n.transformsRegistry[t],r=_({},e.attributes);return Object.keys(n.componentsRegistry).forEach((function(e){var o=n.componentsRegistry[e];o.schema&&o.schema.transforms&&o.schema.transforms[t]&&Object.keys(o.schema.transforms[t]).forEach((function(e){D(r,o.schema.transforms[t][e],e)}))})),{attributes:O(r)}}(t)})),{defs:{valObjects:T,metaKeys:k.concat(["description","role","editType","impliedEdits"]),editType:{traces:y.traces,layout:y.layout},impliedEdits:{}},traces:t,layout:L(),transforms:r,frames:C(),animation:O(h),config:O(d)}},e.crawl=function(t,r,n,o){var l=n||0;o=o||"",Object.keys(t).forEach((function(n){var c=t[n];if(-1===k.indexOf(n)){var f=(o?o+".":"")+n;r(c,n,t,l,f),e.isValObject(c)||w(c)&&"impliedEdits"!==n&&e.crawl(c,r,l+1,f)}}))},e.isValObject=function(t){return t&&void 0!==t.valType},e.findArrayAttributes=function(t){var r,n,o=[],c=[],f=[];function h(t,e,l,h){c=c.slice(0,h).concat([e]),f=f.slice(0,h).concat([t&&t._isLinkedToArray]),t&&("data_array"===t.valType||!0===t.arrayOk)&&!("colorbar"===c[h-1]&&("ticktext"===e||"tickvals"===e))&&function t(e,i,r){var l=e[c[i]],h=r+c[i];if(i===c.length-1)M(l)&&o.push(n+h);else if(f[i]){if(Array.isArray(l))for(var d=0;d<l.length;d++)w(l[d])&&t(l[d],i+1,h+"["+d+"].")}else w(l)&&t(l,i+1,h+".")}(r,0,"")}r=t,n="",e.crawl(l,h),t._module&&t._module.attributes&&e.crawl(t._module.attributes,h);var d=t.transforms;if(d)for(var i=0;i<d.length;i++){var v=d[i],m=v._module;m&&(n="transforms["+i+"].",r=v,e.crawl(m.attributes,h))}return o},e.getTraceValObject=function(t,e){var r,o,head=e[0],i=1;if("transforms"===head){if(1===e.length)return l.transforms;var c=t.transforms;if(!Array.isArray(c)||!c.length)return!1;var f=e[1];if(!S(f)||f>=c.length)return!1;o=(r=(n.transformsRegistry[c[f].type]||{}).attributes)&&r[e[2]],i=3}else if("area"===t.type)o=v[head];else{var h=t._module;if(h||(h=(n.modules[t.type||l.type.dflt]||{})._module),!h)return!1;if(!(o=(r=h.attributes)&&r[head])){var d=h.basePlotModule;d&&d.attributes&&(o=d.attributes[head])}o||(o=l[head])}return E(o,e,i)},e.getLayoutValObject=function(t,e){return E(function(t,head){var i,e,r,o,l=t._basePlotModules;if(l){var f;for(i=0;i<l.length;i++){if((r=l[i]).attrRegex&&r.attrRegex.test(head)){if(r.layoutAttrOverrides)return r.layoutAttrOverrides;!f&&r.layoutAttributes&&(f=r.layoutAttributes)}var h=r.baseLayoutAttrOverrides;if(h&&head in h)return h[head]}if(f)return f}var d=t._modules;if(d)for(i=0;i<d.length;i++)if((o=d[i].layoutAttributes)&&head in o)return o[head];for(e in n.componentsRegistry){if("colorscale"===(r=n.componentsRegistry[e]).name&&0===head.indexOf("coloraxis"))return r.layoutAttributes[head];if(!r.schema&&head===r.name)return r.layoutAttributes}if(head in c)return c[head];if("radialaxis"===head||"angularaxis"===head)return m[head];return m.layout[head]||!1}(t,e[0]),e,1)}},function(t,e,r){"use strict";var n=r(424),o=r(421),l=r(457).extractOpts;t.exports=function(t,e,r){var c,f=t._fullLayout,h=r.vals,d=r.containerStr,v=d?o.nestedProperty(e,d).get():e,m=l(v),y=!1!==m.auto,x=m.min,_=m.max,w=m.mid,M=function(){return o.aggNums(Math.min,null,h)},A=function(){return o.aggNums(Math.max,null,h)};(void 0===x?x=M():y&&(x=v._colorAx&&n(x)?Math.min(x,M()):M()),void 0===_?_=A():y&&(_=v._colorAx&&n(_)?Math.max(_,A()):A()),y&&void 0!==w&&(_-w>w-x?x=w-(_-w):_-w<w-x&&(_=w+(w-x))),x===_&&(x-=.5,_+=.5),m._sync("min",x),m._sync("max",_),m.autocolorscale)&&(c=x*_<0?f.colorscale.diverging:x>=0?f.colorscale.sequential:f.colorscale.sequentialminus,m._sync("colorscale",c))}},function(t,e,r){"use strict";t.exports={clearOutlineControllers:function(t){var e=t._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()},clearSelect:function(t){var e=t._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),t._fullLayout._drawing=!1}}},function(t,e,r){"use strict";var n=r(699),o=r(576);t.exports=function(t,e){var r=o(t),l=o(e);if(0===r)return[n(0),n(1)];if(0===l)return[n(0),n(0)];l<0&&(t=t.neg(),e=e.neg());var c=t.gcd(e);if(c.cmpn(1))return[t.div(c),e.div(c)];return[t,e]}},function(t,e,r){"use strict";r.r(e),r.d(e,"timeFormatDefaultLocale",(function(){return he})),r.d(e,"timeFormat",(function(){return H})),r.d(e,"timeParse",(function(){return V})),r.d(e,"utcFormat",(function(){return Y})),r.d(e,"utcParse",(function(){return G})),r.d(e,"timeFormatLocale",(function(){return B})),r.d(e,"isoFormat",(function(){return de})),r.d(e,"isoParse",(function(){return pe}));var n=new Date,o=new Date;function l(t,e,r,c){function f(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return f.floor=function(e){return t(e=new Date(+e)),e},f.ceil=function(r){return t(r=new Date(r-1)),e(r,1),t(r),r},f.round=function(t){var e=f(t),r=f.ceil(t);return t-e<r-t?e:r},f.offset=function(t,r){return e(t=new Date(+t),null==r?1:Math.floor(r)),t},f.range=function(r,n,o){var l,c=[];if(r=f.ceil(r),o=null==o?1:Math.floor(o),!(r<n&&o>0))return c;do{c.push(l=new Date(+r)),e(r,o),t(r)}while(l<r&&r<n);return c},f.filter=function(r){return l((function(e){if(e>=e)for(;t(e),!r(e);)e.setTime(e-1)}),(function(t,n){if(t>=t)if(n<0)for(;++n<=0;)for(;e(t,-1),!r(t););else for(;--n>=0;)for(;e(t,1),!r(t););}))},r&&(f.count=function(e,l){return n.setTime(+e),o.setTime(+l),t(n),t(o),Math.floor(r(n,o))},f.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?f.filter(c?function(e){return c(e)%t==0}:function(e){return f.count(0,e)%t==0}):f:null}),f}function c(i){return l((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-i)%7),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var f=c(0),h=c(1),d=c(2),v=c(3),m=c(4),y=c(5),x=c(6),_=(f.range,h.range,d.range,v.range,m.range,y.range,x.range,l((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}))),w=_;_.range;function M(i){return l((function(t){t.setDate(t.getDate()-(t.getDay()+7-i)%7),t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var A=M(0),T=M(1),k=M(2),E=M(3),S=M(4),L=M(5),C=M(6),O=(A.range,T.range,k.range,E.range,S.range,L.range,C.range,l((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),R=O,D=(O.range,l((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));D.every=function(t){return isFinite(t=Math.floor(t))&&t>0?l((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,r){e.setFullYear(e.getFullYear()+r*t)})):null};var P=D,I=(D.range,l((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));I.every=function(t){return isFinite(t=Math.floor(t))&&t>0?l((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,r){e.setUTCFullYear(e.getUTCFullYear()+r*t)})):null};var N=I;I.range;function z(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function F(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function j(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function B(t){var e=t.dateTime,r=t.date,n=t.time,o=t.periods,l=t.days,c=t.shortDays,f=t.months,d=t.shortMonths,v=$(o),m=tt(o),y=$(l),x=tt(l),_=$(c),M=tt(c),A=$(f),k=tt(f),E=$(d),S=tt(d),L={a:function(t){return c[t.getDay()]},A:function(t){return l[t.getDay()]},b:function(t){return d[t.getMonth()]},B:function(t){return f[t.getMonth()]},c:null,d:Mt,e:Mt,f:St,g:jt,G:Ut,H:At,I:Tt,j:kt,L:Et,m:Lt,M:Ct,p:function(t){return o[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:ce,s:fe,S:Ot,u:Rt,U:Dt,V:It,w:Nt,W:zt,x:null,X:null,y:Ft,Y:Bt,Z:Ht,"%":ue},C={a:function(t){return c[t.getUTCDay()]},A:function(t){return l[t.getUTCDay()]},b:function(t){return d[t.getUTCMonth()]},B:function(t){return f[t.getUTCMonth()]},c:null,d:Vt,e:Vt,f:Xt,g:ae,G:se,H:Yt,I:Gt,j:qt,L:Wt,m:Zt,M:Jt,p:function(t){return o[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:ce,s:fe,S:Qt,u:Kt,U:$t,V:ee,w:re,W:ne,x:null,X:null,y:ie,Y:oe,Z:le,"%":ue},O={a:function(t,e,i){var r=_.exec(e.slice(i));return r?(t.w=M[r[0].toLowerCase()],i+r[0].length):-1},A:function(t,e,i){var r=y.exec(e.slice(i));return r?(t.w=x[r[0].toLowerCase()],i+r[0].length):-1},b:function(t,e,i){var r=E.exec(e.slice(i));return r?(t.m=S[r[0].toLowerCase()],i+r[0].length):-1},B:function(t,e,i){var r=A.exec(e.slice(i));return r?(t.m=k[r[0].toLowerCase()],i+r[0].length):-1},c:function(t,r,i){return I(t,e,r,i)},d:ht,e:ht,f:xt,g:lt,G:st,H:gt,I:gt,j:pt,L:yt,m:ft,M:vt,p:function(t,e,i){var r=v.exec(e.slice(i));return r?(t.p=m[r[0].toLowerCase()],i+r[0].length):-1},q:ct,Q:_t,s:wt,S:mt,u:nt,U:it,V:at,w:et,W:ot,x:function(t,e,i){return I(t,r,e,i)},X:function(t,e,i){return I(t,n,e,i)},y:lt,Y:st,Z:ut,"%":bt};function D(t,e){return function(r){var n,o,l,c=[],i=-1,f=0,h=t.length;for(r instanceof Date||(r=new Date(+r));++i<h;)37===t.charCodeAt(i)&&(c.push(t.slice(f,i)),null!=(o=W[n=t.charAt(++i)])?n=t.charAt(++i):o="e"===n?" ":"0",(l=e[n])&&(n=l(r,o)),c.push(n),f=i+1);return c.push(t.slice(f,i)),c.join("")}}function P(t,e){return function(r){var n,o,l=j(1900,void 0,1);if(I(l,t,r+="",0)!=r.length)return null;if("Q"in l)return new Date(l.Q);if("s"in l)return new Date(1e3*l.s+("L"in l?l.L:0));if(e&&!("Z"in l)&&(l.Z=0),"p"in l&&(l.H=l.H%12+12*l.p),void 0===l.m&&(l.m="q"in l?l.q:0),"V"in l){if(l.V<1||l.V>53)return null;"w"in l||(l.w=1),"Z"in l?(o=(n=F(j(l.y,0,1))).getUTCDay(),n=o>4||0===o?h.ceil(n):h(n),n=w.offset(n,7*(l.V-1)),l.y=n.getUTCFullYear(),l.m=n.getUTCMonth(),l.d=n.getUTCDate()+(l.w+6)%7):(o=(n=z(j(l.y,0,1))).getDay(),n=o>4||0===o?T.ceil(n):T(n),n=R.offset(n,7*(l.V-1)),l.y=n.getFullYear(),l.m=n.getMonth(),l.d=n.getDate()+(l.w+6)%7)}else("W"in l||"U"in l)&&("w"in l||(l.w="u"in l?l.u%7:"W"in l?1:0),o="Z"in l?F(j(l.y,0,1)).getUTCDay():z(j(l.y,0,1)).getDay(),l.m=0,l.d="W"in l?(l.w+6)%7+7*l.W-(o+5)%7:l.w+7*l.U-(o+6)%7);return"Z"in l?(l.H+=l.Z/100|0,l.M+=l.Z%100,F(l)):z(l)}}function I(t,e,r,n){for(var o,l,i=0,c=e.length,f=r.length;i<c;){if(n>=f)return-1;if(37===(o=e.charCodeAt(i++))){if(o=e.charAt(i++),!(l=O[o in W?e.charAt(i++):o])||(n=l(t,r,n))<0)return-1}else if(o!=r.charCodeAt(n++))return-1}return n}return L.x=D(r,L),L.X=D(n,L),L.c=D(e,L),C.x=D(r,C),C.X=D(n,C),C.c=D(e,C),{format:function(t){var e=D(t+="",L);return e.toString=function(){return t},e},parse:function(t){var p=P(t+="",!1);return p.toString=function(){return t},p},utcFormat:function(t){var e=D(t+="",C);return e.toString=function(){return t},e},utcParse:function(t){var p=P(t+="",!0);return p.toString=function(){return t},p}}}var U,H,V,Y,G,W={"-":"",_:" ",0:"0"},X=/^\s*\d+/,Z=/^%/,J=/[\\^$*+?|[\]().{}]/g;function Q(t,e,r){var n=t<0?"-":"",o=(n?-t:t)+"",l=o.length;return n+(l<r?new Array(r-l+1).join(e)+o:o)}function K(s){return s.replace(J,"\\$&")}function $(t){return new RegExp("^(?:"+t.map(K).join("|")+")","i")}function tt(t){for(var map={},i=-1,e=t.length;++i<e;)map[t[i].toLowerCase()]=i;return map}function et(t,e,i){var r=X.exec(e.slice(i,i+1));return r?(t.w=+r[0],i+r[0].length):-1}function nt(t,e,i){var r=X.exec(e.slice(i,i+1));return r?(t.u=+r[0],i+r[0].length):-1}function it(t,e,i){var r=X.exec(e.slice(i,i+2));return r?(t.U=+r[0],i+r[0].length):-1}function at(t,e,i){var r=X.exec(e.slice(i,i+2));return r?(t.V=+r[0],i+r[0].length):-1}function ot(t,e,i){var r=X.exec(e.slice(i,i+2));return r?(t.W=+r[0],i+r[0].length):-1}function st(t,e,i){var r=X.exec(e.slice(i,i+4));return r?(t.y=+r[0],i+r[0].length):-1}function lt(t,e,i){var r=X.exec(e.slice(i,i+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),i+r[0].length):-1}function ut(t,e,i){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(i,i+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),i+r[0].length):-1}function ct(t,e,i){var r=X.exec(e.slice(i,i+1));return r?(t.q=3*r[0]-3,i+r[0].length):-1}function ft(t,e,i){var r=X.exec(e.slice(i,i+2));return r?(t.m=r[0]-1,i+r[0].length):-1}function ht(t,e,i){var r=X.exec(e.slice(i,i+2));return r?(t.d=+r[0],i+r[0].length):-1}function pt(t,e,i){var r=X.exec(e.slice(i,i+3));return r?(t.m=0,t.d=+r[0],i+r[0].length):-1}function gt(t,e,i){var r=X.exec(e.slice(i,i+2));return r?(t.H=+r[0],i+r[0].length):-1}function vt(t,e,i){var r=X.exec(e.slice(i,i+2));return r?(t.M=+r[0],i+r[0].length):-1}function mt(t,e,i){var r=X.exec(e.slice(i,i+2));return r?(t.S=+r[0],i+r[0].length):-1}function yt(t,e,i){var r=X.exec(e.slice(i,i+3));return r?(t.L=+r[0],i+r[0].length):-1}function xt(t,e,i){var r=X.exec(e.slice(i,i+6));return r?(t.L=Math.floor(r[0]/1e3),i+r[0].length):-1}function bt(t,e,i){var r=Z.exec(e.slice(i,i+1));return r?i+r[0].length:-1}function _t(t,e,i){var r=X.exec(e.slice(i));return r?(t.Q=+r[0],i+r[0].length):-1}function wt(t,e,i){var r=X.exec(e.slice(i));return r?(t.s=+r[0],i+r[0].length):-1}function Mt(t,p){return Q(t.getDate(),p,2)}function At(t,p){return Q(t.getHours(),p,2)}function Tt(t,p){return Q(t.getHours()%12||12,p,2)}function kt(t,p){return Q(1+R.count(P(t),t),p,3)}function Et(t,p){return Q(t.getMilliseconds(),p,3)}function St(t,p){return Et(t,p)+"000"}function Lt(t,p){return Q(t.getMonth()+1,p,2)}function Ct(t,p){return Q(t.getMinutes(),p,2)}function Ot(t,p){return Q(t.getSeconds(),p,2)}function Rt(t){var e=t.getDay();return 0===e?7:e}function Dt(t,p){return Q(A.count(P(t)-1,t),p,2)}function Pt(t){var e=t.getDay();return e>=4||0===e?S(t):S.ceil(t)}function It(t,p){return t=Pt(t),Q(S.count(P(t),t)+(4===P(t).getDay()),p,2)}function Nt(t){return t.getDay()}function zt(t,p){return Q(T.count(P(t)-1,t),p,2)}function Ft(t,p){return Q(t.getFullYear()%100,p,2)}function jt(t,p){return Q((t=Pt(t)).getFullYear()%100,p,2)}function Bt(t,p){return Q(t.getFullYear()%1e4,p,4)}function Ut(t,p){var e=t.getDay();return Q((t=e>=4||0===e?S(t):S.ceil(t)).getFullYear()%1e4,p,4)}function Ht(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Q(e/60|0,"0",2)+Q(e%60,"0",2)}function Vt(t,p){return Q(t.getUTCDate(),p,2)}function Yt(t,p){return Q(t.getUTCHours(),p,2)}function Gt(t,p){return Q(t.getUTCHours()%12||12,p,2)}function qt(t,p){return Q(1+w.count(N(t),t),p,3)}function Wt(t,p){return Q(t.getUTCMilliseconds(),p,3)}function Xt(t,p){return Wt(t,p)+"000"}function Zt(t,p){return Q(t.getUTCMonth()+1,p,2)}function Jt(t,p){return Q(t.getUTCMinutes(),p,2)}function Qt(t,p){return Q(t.getUTCSeconds(),p,2)}function Kt(t){var e=t.getUTCDay();return 0===e?7:e}function $t(t,p){return Q(f.count(N(t)-1,t),p,2)}function te(t){var e=t.getUTCDay();return e>=4||0===e?m(t):m.ceil(t)}function ee(t,p){return t=te(t),Q(m.count(N(t),t)+(4===N(t).getUTCDay()),p,2)}function re(t){return t.getUTCDay()}function ne(t,p){return Q(h.count(N(t)-1,t),p,2)}function ie(t,p){return Q(t.getUTCFullYear()%100,p,2)}function ae(t,p){return Q((t=te(t)).getUTCFullYear()%100,p,2)}function oe(t,p){return Q(t.getUTCFullYear()%1e4,p,4)}function se(t,p){var e=t.getUTCDay();return Q((t=e>=4||0===e?m(t):m.ceil(t)).getUTCFullYear()%1e4,p,4)}function le(){return"+0000"}function ue(){return"%"}function ce(t){return+t}function fe(t){return Math.floor(+t/1e3)}function he(t){return U=B(t),H=U.format,V=U.parse,Y=U.utcFormat,G=U.utcParse,U}he({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var de=Date.prototype.toISOString?function(t){return t.toISOString()}:Y("%Y-%m-%dT%H:%M:%S.%LZ");var pe=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:G("%Y-%m-%dT%H:%M:%S.%LZ")},,function(t,e,r){"use strict";t.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},function(t,e,r){"use strict";t.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},function(t,e,r){"use strict";var n=r(540).EventEmitter,o={init:function(t){if(t._ev instanceof n)return t;var e=new n,r=new n;return t._ev=e,t._internalEv=r,t.on=e.on.bind(e),t.once=e.once.bind(e),t.removeListener=e.removeListener.bind(e),t.removeAllListeners=e.removeAllListeners.bind(e),t._internalOn=r.on.bind(r),t._internalOnce=r.once.bind(r),t._removeInternalListener=r.removeListener.bind(r),t._removeAllInternalListeners=r.removeAllListeners.bind(r),t.emit=function(n,data){"undefined"!=typeof jQuery&&jQuery(t).trigger(n,data),e.emit(n,data),r.emit(n,data)},t},triggerHandler:function(t,e,data){var r,n;"undefined"!=typeof jQuery&&(r=jQuery(t).triggerHandler(e,data));var o=t._ev;if(!o)return r;var i,l=o._events[e];if(!l)return r;function c(t){return t.listener?(o.removeListener(e,t.listener),t.fired?void 0:(t.fired=!0,t.listener.apply(o,[data]))):t.apply(o,[data])}for(l=Array.isArray(l)?l:[l],i=0;i<l.length-1;i++)c(l[i]);return n=c(l[i]),void 0!==r?r:n},purge:function(t){return delete t._ev,delete t.on,delete t.once,delete t.removeListener,delete t.removeAllListeners,delete t.emit,delete t._ev,delete t._internalEv,delete t._internalOn,delete t._internalOnce,delete t._removeInternalListener,delete t._removeAllInternalListeners,t}};t.exports=o},function(t,e,r){"use strict";var n=r(422),o=r(434).SUBPLOT_PATTERN;e.getSubplotCalcData=function(t,e,r){var o=n.subplotsRegistry[e];if(!o)return[];for(var l=o.attr,c=[],i=0;i<t.length;i++){var f=t[i];f[0].trace[l]===r&&c.push(f)}return c},e.getModuleCalcData=function(t,e){var r,o=[],l=[];if(!(r="string"==typeof e?n.getModule(e).plot:"function"==typeof e?e:e.plot))return[o,t];for(var i=0;i<t.length;i++){var c=t[i],f=c[0].trace;!0===f.visible&&0!==f._length&&(f._module.plot===r?o.push(c):l.push(c))}return[o,l]},e.getSubplotData=function(data,t,e){if(!n.subplotsRegistry[t])return[];var r,l,c,f=n.subplotsRegistry[t].attr,h=[];if("gl2d"===t){var d=e.match(o);l="x"+d[1],c="y"+d[2]}for(var i=0;i<data.length;i++)r=data[i],"gl2d"===t&&n.traceIs(r,"gl2d")?r[f[0]]===l&&r[f[1]]===c&&h.push(r):r[f]===e&&h.push(r);return h}},function(t,e,r){"use strict";var n=r(423),o=r(424),l=r(431),c=r(422),f=r(421),h=f.strTranslate,d=r(427),v=r(425),m=r(440),y=r(526),x=r(438).OPPOSITE_SIDE,_=/ [XY][0-9]* /;t.exports={draw:function(t,e,r){var w,M=r.propContainer,A=r.propName,T=r.placeholder,k=r.traceIndex,E=r.avoid||{},S=r.attributes,L=r.transform,C=r.containerGroup,O=t._fullLayout,R=1,D=!1,title=M.title,P=(title&&title.text?title.text:"").trim(),I=title&&title.font?title.font:{},N=I.family,z=I.size,F=I.color;"title.text"===A?w="titleText":-1!==A.indexOf("axis")?w="axisTitleText":A.indexOf(!0)&&(w="colorbarTitleText");var j=t._context.edits[w];""===P?R=0:P.replace(_," % ")===T.replace(_," % ")&&(R=.2,D=!0,j||(P="")),r._meta?P=f.templateString(P,r._meta):O._meta&&(P=f.templateString(P,O._meta));var B=P||j;C||(C=f.ensureSingle(O._infolayer,"g","g-"+e));var U=C.selectAll("text").data(B?[0]:[]);if(U.enter().append("text"),U.text(P).attr("class",e),U.exit().remove(),!B)return C;function H(t){f.syncOrAsync([V,Y],t)}function V(e){var r;return L?(r="",L.rotate&&(r+="rotate("+[L.rotate,S.x,S.y]+")"),L.offset&&(r+=h(0,L.offset))):r=null,e.attr("transform",r),e.style({"font-family":N,"font-size":n.round(z,2)+"px",fill:v.rgb(F),opacity:R*v.opacity(F),"font-weight":l.fontWeight}).attr(S).call(m.convertToTspans,t),l.previousPromises(t)}function Y(t){var e=n.select(t.node().parentNode);if(E&&E.selection&&E.side&&P){e.attr("transform",null);var r=x[E.side],l="left"===E.side||"top"===E.side?-1:1,c=o(E.pad)?E.pad:2,v=d.bBox(e.node()),m={left:0,top:0,right:O.width,bottom:O.height},y=E.maxShift||l*(m[E.side]-v[E.side]),_=0;if(y<0)_=y;else{var w=E.offsetLeft||0,M=E.offsetTop||0;v.left-=w,v.right-=w,v.top-=M,v.bottom-=M,E.selection.each((function(){var t=d.bBox(this);f.bBoxIntersect(v,t,c)&&(_=Math.max(_,l*(t[E.side]-v[r])+c))})),_=Math.min(y,_)}if(_>0||y<0){var A={left:[-_,0],right:[_,0],top:[0,-_],bottom:[0,_]}[E.side];e.attr("transform",h(A[0],A[1]))}}}return U.call(H),j&&(P?U.on(".opacity",null):(R=0,D=!0,U.text(T).on("mouseover.opacity",(function(){n.select(this).transition().duration(y.SHOW_PLACEHOLDER).style("opacity",1)})).on("mouseout.opacity",(function(){n.select(this).transition().duration(y.HIDE_PLACEHOLDER).style("opacity",0)}))),U.call(m.makeEditable,{gd:t}).on("edit",(function(text){void 0!==k?c.call("_guiRestyle",t,A,text,k):c.call("_guiRelayout",t,A,text)})).on("cancel",(function(){this.text(this.attr("data-unformatted")).call(H)})).on("input",(function(t){this.text(t||" ").call(m.positionText,S.x,S.y)}))),U.classed("js-placeholder",D),C}}},function(t,e,r){"use strict";var n=r(423),o=r(498).utcFormat,l=r(424),c=r(421),f=c.cleanNumber,h=c.ms2DateTime,d=c.dateTime2ms,v=c.ensureNumber,m=c.isArrayOrTypedArray,y=r(430),x=y.FP_SAFE,_=y.BADNUM,w=y.LOG_CLIP,M=y.ONEWEEK,A=y.ONEDAY,T=y.ONEHOUR,k=y.ONEMIN,E=y.ONESEC,S=r(432),L=r(434),C=L.HOUR_PATTERN,O=L.WEEKDAY_PATTERN;function R(t){return Math.pow(10,t)}function D(t){return null!=t}t.exports=function(t,e){e=e||{};var r=t._id||"x",y=r.charAt(0);function P(e,r){if(e>0)return Math.log(e)/Math.LN10;if(e<=0&&r&&t.range&&2===t.range.length){var n=t.range[0],o=t.range[1];return.5*(n+o-2*w*Math.abs(n-o))}return _}function I(e,r,n,o){if((o||{}).msUTC&&l(e))return+e;var f=d(e,n||t.calendar);if(f===_){if(!l(e))return _;e=+e;var h=Math.floor(10*c.mod(e+.05,1)),v=Math.round(e-h/10);f=d(new Date(v))+h/10}return f}function N(e,r,n){return h(e,r,n||t.calendar)}function z(e){return t._categories[Math.round(e)]}function F(e){if(D(e)){if(void 0===t._categoriesMap&&(t._categoriesMap={}),void 0!==t._categoriesMap[e])return t._categoriesMap[e];t._categories.push("number"==typeof e?String(e):e);var r=t._categories.length-1;return t._categoriesMap[e]=r,r}return _}function j(e){if(t._categoriesMap)return t._categoriesMap[e]}function B(t){var e=j(t);return void 0!==e?e:l(t)?+t:void 0}function U(t){return l(t)?+t:j(t)}function H(t,e,b){return n.round(b+e*t,2)}function V(t,e,b){return(t-b)/e}var Y=function(e){return l(e)?H(e,t._m,t._b):_},G=function(e){return V(e,t._m,t._b)};if(t.rangebreaks){var W="y"===y;Y=function(e){if(!l(e))return _;var r=t._rangebreaks.length;if(!r)return H(e,t._m,t._b);var n=W;t.range[0]>t.range[1]&&(n=!n);for(var o=n?-1:1,c=o*e,q=0,i=0;i<r;i++){var f=o*t._rangebreaks[i].min,h=o*t._rangebreaks[i].max;if(c<f)break;if(!(c>h)){q=c<(f+h)/2?i:i+1;break}q=i+1}var d=t._B[q]||0;return isFinite(d)?H(e,t._m2,d):0},G=function(e){var r=t._rangebreaks.length;if(!r)return V(e,t._m,t._b);for(var q=0,i=0;i<r&&!(e<t._rangebreaks[i].pmin);i++)e>t._rangebreaks[i].pmax&&(q=i+1);return V(e,t._m2,t._B[q])}}t.c2l="log"===t.type?P:v,t.l2c="log"===t.type?R:v,t.l2p=Y,t.p2l=G,t.c2p="log"===t.type?function(t,e){return Y(P(t,e))}:Y,t.p2c="log"===t.type?function(t){return R(G(t))}:G,-1!==["linear","-"].indexOf(t.type)?(t.d2r=t.r2d=t.d2c=t.r2c=t.d2l=t.r2l=f,t.c2d=t.c2r=t.l2d=t.l2r=v,t.d2p=t.r2p=function(e){return t.l2p(f(e))},t.p2d=t.p2r=G,t.cleanPos=v):"log"===t.type?(t.d2r=t.d2l=function(t,e){return P(f(t),e)},t.r2d=t.r2c=function(t){return R(f(t))},t.d2c=t.r2l=f,t.c2d=t.l2r=v,t.c2r=P,t.l2d=R,t.d2p=function(e,r){return t.l2p(t.d2r(e,r))},t.p2d=function(t){return R(G(t))},t.r2p=function(e){return t.l2p(f(e))},t.p2r=G,t.cleanPos=v):"date"===t.type?(t.d2r=t.r2d=c.identity,t.d2c=t.r2c=t.d2l=t.r2l=I,t.c2d=t.c2r=t.l2d=t.l2r=N,t.d2p=t.r2p=function(e,r,n){return t.l2p(I(e,0,n))},t.p2d=t.p2r=function(t,e,r){return N(G(t),e,r)},t.cleanPos=function(e){return c.cleanDate(e,_,t.calendar)}):"category"===t.type?(t.d2c=t.d2l=F,t.r2d=t.c2d=t.l2d=z,t.d2r=t.d2l_noadd=B,t.r2c=function(e){var r=U(e);return void 0!==r?r:t.fraction2r(.5)},t.l2r=t.c2r=v,t.r2l=U,t.d2p=function(e){return t.l2p(t.r2c(e))},t.p2d=function(t){return z(G(t))},t.r2p=t.d2p,t.p2r=G,t.cleanPos=function(t){return"string"==typeof t&&""!==t?t:v(t)}):"multicategory"===t.type&&(t.r2d=t.c2d=t.l2d=z,t.d2r=t.d2l_noadd=B,t.r2c=function(e){var r=B(e);return void 0!==r?r:t.fraction2r(.5)},t.r2c_just_indices=j,t.l2r=t.c2r=v,t.r2l=B,t.d2p=function(e){return t.l2p(t.r2c(e))},t.p2d=function(t){return z(G(t))},t.r2p=t.d2p,t.p2r=G,t.cleanPos=function(t){return Array.isArray(t)||"string"==typeof t&&""!==t?t:v(t)},t.setupMultiCategory=function(n){var i,o,l=t._traceIndices,f=t._matchGroup;if(f&&0===t._categories.length)for(var h in f)if(h!==r){var d=e[S.id2name(h)];l=l.concat(d._traceIndices)}var v=[[0,{}],[0,{}]],x=[];for(i=0;i<l.length;i++){var _=n[l[i]];if(y in _){var w=_[y],M=_._length||c.minRowLength(w);if(m(w[0])&&m(w[1]))for(o=0;o<M;o++){var A=w[0][o],T=w[1][o];D(A)&&D(T)&&(x.push([A,T]),A in v[0][1]||(v[0][1][A]=v[0][0]++),T in v[1][1]||(v[1][1][T]=v[1][0]++))}}}for(x.sort((function(a,b){var t=v[0][1],e=t[a[0]]-t[b[0]];if(e)return e;var r=v[1][1];return r[a[1]]-r[b[1]]})),i=0;i<x.length;i++)F(x[i])}),t.fraction2r=function(e){var r=t.r2l(t.range[0]),n=t.r2l(t.range[1]);return t.l2r(r+e*(n-r))},t.r2fraction=function(e){var r=t.r2l(t.range[0]),n=t.r2l(t.range[1]);return(t.r2l(e)-r)/(n-r)},t.cleanRange=function(e,r){r||(r={}),e||(e="range");var i,n,o=c.nestedProperty(t,e).get();if(n=(n="date"===t.type?c.dfltRange(t.calendar):"y"===y?L.DFLTRANGEY:r.dfltRange||L.DFLTRANGEX).slice(),"tozero"!==t.rangemode&&"nonnegative"!==t.rangemode||(n[0]=0),o&&2===o.length)for("date"!==t.type||t.autorange||(o[0]=c.cleanDate(o[0],_,t.calendar),o[1]=c.cleanDate(o[1],_,t.calendar)),i=0;i<2;i++)if("date"===t.type){if(!c.isDateTime(o[i],t.calendar)){t[e]=n;break}if(t.r2l(o[0])===t.r2l(o[1])){var f=c.constrain(t.r2l(o[0]),c.MIN_MS+1e3,c.MAX_MS-1e3);o[0]=t.l2r(f-1e3),o[1]=t.l2r(f+1e3);break}}else{if(!l(o[i])){if(!l(o[1-i])){t[e]=n;break}o[i]=o[1-i]*(i?10:.1)}if(o[i]<-x?o[i]=-x:o[i]>x&&(o[i]=x),o[0]===o[1]){var h=Math.max(1,Math.abs(1e-6*o[0]));o[0]-=h,o[1]+=h}}else c.nestedProperty(t,e).set(n)},t.setScale=function(r){var n=e._size;if(t.overlaying){var o=S.getFromId({_fullLayout:e},t.overlaying);t.domain=o.domain}var l=r&&t._r?"_r":"range",c=t.calendar;t.cleanRange(l);var i,f,h=t.r2l(t[l][0],c),d=t.r2l(t[l][1],c),v="y"===y;if((v?(t._offset=n.t+(1-t.domain[1])*n.h,t._length=n.h*(t.domain[1]-t.domain[0]),t._m=t._length/(h-d),t._b=-t._m*d):(t._offset=n.l+t.domain[0]*n.w,t._length=n.w*(t.domain[1]-t.domain[0]),t._m=t._length/(d-h),t._b=-t._m*h),t._rangebreaks=[],t._lBreaks=0,t._m2=0,t._B=[],t.rangebreaks)&&(t._rangebreaks=t.locateBreaks(Math.min(h,d),Math.max(h,d)),t._rangebreaks.length)){for(i=0;i<t._rangebreaks.length;i++)f=t._rangebreaks[i],t._lBreaks+=Math.abs(f.max-f.min);var m=v;h>d&&(m=!m),m&&t._rangebreaks.reverse();var x=m?-1:1;for(t._m2=x*t._length/(Math.abs(d-h)-t._lBreaks),t._B.push(-t._m2*(v?d:h)),i=0;i<t._rangebreaks.length;i++)f=t._rangebreaks[i],t._B.push(t._B[t._B.length-1]-x*t._m2*(f.max-f.min));for(i=0;i<t._rangebreaks.length;i++)(f=t._rangebreaks[i]).pmin=Y(f.min),f.pmax=Y(f.max)}if(!isFinite(t._m)||!isFinite(t._b)||t._length<0)throw e._replotting=!1,new Error("Something went wrong with axis scaling")},t.maskBreaks=function(e){for(var r,n,o,l,h,d=t.rangebreaks||[],i=0;i<d.length;i++){var v=d[i];if(v.enabled)if(v.bounds){var pattern=v.pattern;switch(n=(r=c.simpleMap(v.bounds,pattern?f:t.d2c))[0],o=r[1],pattern){case O:l=(h=new Date(e)).getUTCDay(),n>o&&(o+=7,l<n&&(l+=7));break;case C:l=(h=new Date(e)).getUTCHours()+(h.getUTCMinutes()/60+h.getUTCSeconds()/3600+h.getUTCMilliseconds()/36e5),n>o&&(o+=24,l<n&&(l+=24));break;case"":l=e}if(l>=n&&l<o)return _}else for(var m=c.simpleMap(v.values,t.d2c).sort(c.sorterAsc),y=0;y<m.length;y++)if(o=(n=m[y])+v.dvalue,e>=n&&e<o)return _}return e},t.locateBreaks=function(e,r){var i,n,o,l,h=[];if(!t.rangebreaks)return h;var d=t.rangebreaks.slice().sort((function(a,b){return a.pattern===O&&b.pattern===C?-1:b.pattern===O&&a.pattern===C?1:0})),v=function(t,n){if((t=c.constrain(t,e,r))!==(n=c.constrain(n,e,r))){for(var o=!0,l=0;l<h.length;l++){var f=h[l];t<f.max&&n>=f.min&&(t<f.min&&(f.min=t),n>f.max&&(f.max=n),o=!1)}o&&h.push({min:t,max:n})}};for(i=0;i<d.length;i++){var m=d[i];if(m.enabled)if(m.bounds){var y=e,x=r;m.pattern&&(y=Math.floor(y)),o=(n=c.simpleMap(m.bounds,m.pattern?f:t.r2l))[0],l=n[1];var _,w,S=new Date(y);switch(m.pattern){case O:w=M,_=(l-o+(l<o?7:0))*A,y+=o*A-(S.getUTCDay()*A+S.getUTCHours()*T+S.getUTCMinutes()*k+S.getUTCSeconds()*E+S.getUTCMilliseconds());break;case C:w=A,_=(l-o+(l<o?24:0))*T,y+=o*T-(S.getUTCHours()*T+S.getUTCMinutes()*k+S.getUTCSeconds()*E+S.getUTCMilliseconds());break;default:y=Math.min(n[0],n[1]),_=w=(x=Math.max(n[0],n[1]))-y}for(var L=y;L<x;L+=w)v(L,L+_)}else for(var R=c.simpleMap(m.values,t.d2c),D=0;D<R.length;D++)v(o=R[D],l=o+m.dvalue)}return h.sort((function(a,b){return a.min-b.min})),h},t.makeCalcdata=function(e,r,n){var o,l,i,f,h=t.type,d="date"===h&&e[r+"calendar"];if(r in e){if(o=e[r],f=e._length||c.minRowLength(o),c.isTypedArray(o)&&("linear"===h||"log"===h)){if(f===o.length)return o;if(o.subarray)return o.subarray(0,f)}if("multicategory"===h)return function(t,e){for(var r=new Array(e),i=0;i<e;i++){var n=(t[0]||[])[i],o=(t[1]||[])[i];r[i]=j([n,o])}return r}(o,f);for(l=new Array(f),i=0;i<f;i++)l[i]=t.d2c(o[i],0,d,n)}else{var v=r+"0"in e?t.d2c(e[r+"0"],0,d):0,m=e["d"+r]?Number(e["d"+r]):1;for(o=e[{x:"y",y:"x"}[r]],f=e._length||o.length,l=new Array(f),i=0;i<f;i++)l[i]=v+i*m}if(t.rangebreaks)for(i=0;i<f;i++)l[i]=t.maskBreaks(l[i]);return l},t.isValidRange=function(e){return Array.isArray(e)&&2===e.length&&l(t.r2l(e[0]))&&l(t.r2l(e[1]))},t.isPtWithinRange=function(e,r){var n=t.c2l(e[y],null,r),o=t.r2l(t.range[0]),l=t.r2l(t.range[1]);return o<l?o<=n&&n<=l:l<=n&&n<=o},t._emptyCategories=function(){t._categories=[],t._categoriesMap={}},t.clearCalc=function(){var r=t._matchGroup;if(r){var n=null,o=null;for(var l in r){var c=e[S.id2name(l)];if(c._categories){n=c._categories,o=c._categoriesMap;break}}n&&o?(t._categories=n,t._categoriesMap=o):t._emptyCategories()}else t._emptyCategories();if(t._initialCategories)for(var f=0;f<t._initialCategories.length;f++)F(t._initialCategories[f])},t.sortByInitialCategories=function(){var n=[];if(t._emptyCategories(),t._initialCategories)for(var o=0;o<t._initialCategories.length;o++)F(t._initialCategories[o]);n=n.concat(t._traceIndices);var l=t._matchGroup;for(var c in l)if(r!==c){var f=e[S.id2name(c)];f._categories=t._categories,f._categoriesMap=t._categoriesMap,n=n.concat(f._traceIndices)}return n};var X=e._d3locale;"date"===t.type&&(t._dateFormat=X?X.timeFormat:o,t._extraFormat=e._extraFormat),t._separators=e.separators,t._numFormat=X?X.numberFormat:n.format,delete t._minDtick,delete t._forceTick0}},function(t,e,r){"use strict";var n=r(424),o=r(421),l=r(430).FP_SAFE,c=r(422),f=r(432),h=f.getFromId,d=f.isLinked;function v(t,e){var i,r,n=[],l=t._fullLayout,c=y(l,e,0),f=y(l,e,1),h=x(t,e),d=h.min,v=h.max;if(0===d.length||0===v.length)return o.simpleMap(e.range,e.r2l);var _=d[0].val,w=v[0].val;for(i=1;i<d.length&&_===w;i++)_=Math.min(_,d[i].val);for(i=1;i<v.length&&_===w;i++)w=Math.max(w,v[i].val);var M=!1;if(e.range){var A=o.simpleMap(e.range,e.r2l);M=A[1]<A[0]}"reversed"===e.autorange&&(M=!0,e.autorange=!0);var T,k,E,S,L,C,O=e.rangemode,R="tozero"===O,D="nonnegative"===O,P=e._length,I=P/10,N=0;for(i=0;i<d.length;i++)for(T=d[i],r=0;r<v.length;r++)(C=(k=v[r]).val-T.val-m(e,T.val,k.val))>0&&((L=P-c(T)-f(k))>I?C/L>N&&(E=T,S=k,N=C/L):C/P>N&&(E={val:T.val,nopad:1},S={val:k.val,nopad:1},N=C/P));if(_===w){var z=_-1,F=_+1;if(R)if(0===_)n=[0,1];else{var j=(_>0?v:d).reduce((function(t,e){return Math.max(t,f(e))}),0),B=_/(1-Math.min(.5,j/P));n=_>0?[0,B]:[B,0]}else n=D?[Math.max(0,z),Math.max(1,F)]:[z,F]}else R?(E.val>=0&&(E={val:0,nopad:1}),S.val<=0&&(S={val:0,nopad:1})):D&&(E.val-N*c(E)<0&&(E={val:0,nopad:1}),S.val<=0&&(S={val:1,nopad:1})),N=(S.val-E.val-m(e,T.val,k.val))/(P-c(E)-f(S)),n=[E.val-N*c(E),S.val+N*f(S)];return M&&n.reverse(),o.simpleMap(n,e.l2r||Number)}function m(t,e,r){var n=0;if(t.rangebreaks)for(var o=t.locateBreaks(e,r),i=0;i<o.length;i++){var l=o[i];n+=l.max-l.min}return n}function y(t,e,r){var n=.05*e._length,l=e._anchorAxis||{};if(-1!==(e.ticklabelposition||"").indexOf("inside")||-1!==(l.ticklabelposition||"").indexOf("inside")){var c="reversed"===e.autorange;if(!c){var f=o.simpleMap(e.range,e.r2l);c=f[1]<f[0]}c&&(r=!r)}var h=0;return d(t,e._id)||(h=function(t,e){var r=0,n=t._anchorAxis||{};if(-1!==(n.ticklabelposition||"").indexOf("inside")&&(!e&&("left"===n.side||"bottom"===n.side)||e&&("top"===n.side||"right"===n.side))){var l="x"===t._id.charAt(0);if(n._vals){var c=o.deg2rad(n._tickAngles[n._id+"tick"]||0),f=Math.abs(Math.cos(c)),h=Math.abs(Math.sin(c));n._vals.forEach((function(t){if(t.bb){var e=6+t.bb.width,n=6+t.bb.height;r=Math.max(r,l?Math.max(e*f,n*h):Math.max(n*f,e*h))}}))}"inside"===n.ticks&&"inside"===n.ticklabelposition&&(r+=n.ticklen||0)}return r}(e,r)),n=Math.max(h,n),"domain"===e.constrain&&e._inputDomain&&(n*=(e._inputDomain[1]-e._inputDomain[0])/(e.domain[1]-e.domain[0])),function(t){return t.nopad?0:t.pad+(t.extrapad?n:h)}}t.exports={getAutoRange:v,makePadFn:y,doAutoRange:function(t,e,r){if(e.setScale(),e.autorange){e.range=r?r.slice():v(t,e),e._r=e.range.slice(),e._rl=o.simpleMap(e._r,e.r2l);var n=e._input,l={};l[e._attr+".range"]=e.range,l[e._attr+".autorange"]=e.autorange,c.call("_storeDirectGUIEdit",t.layout,t._fullLayout._preGUI,l),n.range=e.range.slice(),n.autorange=e.autorange}var f=e._anchorAxis;if(f&&f.rangeslider){var h=f.rangeslider[e._name];h&&"auto"===h.rangemode&&(h.range=v(t,e)),f._input.rangeslider[e._name]=o.extendFlat({},h)}},findExtremes:function(t,data,e){e||(e={});t._m||t.setScale();var i,r,o,c,f,h,d,v,m,y=[],x=[],M=data.length,T=e.padded||!1,k=e.tozero&&("linear"===t.type||"-"===t.type),E="log"===t.type,S=!1,L=e.vpadLinearized||!1;function C(t){if(Array.isArray(t))return S=!0,function(i){return Math.max(Number(t[i]||0),0)};var e=Math.max(Number(t||0),0);return function(){return e}}var O=C((t._m>0?e.ppadplus:e.ppadminus)||e.ppad||0),R=C((t._m>0?e.ppadminus:e.ppadplus)||e.ppad||0),D=C(e.vpadplus||e.vpad),P=C(e.vpadminus||e.vpad);if(!S){if(v=1/0,m=-1/0,E)for(i=0;i<M;i++)(r=data[i])<v&&r>0&&(v=r),r>m&&r<l&&(m=r);else for(i=0;i<M;i++)(r=data[i])<v&&r>-l&&(v=r),r>m&&r<l&&(m=r);data=[v,m],M=2}var I={tozero:k,extrapad:T};function N(i){o=data[i],n(o)&&(h=O(i),d=R(i),L?(c=t.c2l(o)-P(i),f=t.c2l(o)+D(i)):(v=o-P(i),m=o+D(i),E&&v<m/10&&(v=m/10),c=t.c2l(v),f=t.c2l(m)),k&&(c=Math.min(0,c),f=Math.max(0,f)),A(c)&&_(y,c,d,I),A(f)&&w(x,f,h,I))}var z=Math.min(6,M);for(i=0;i<z;i++)N(i);for(i=M-1;i>=z;i--)N(i);return{min:y,max:x,opts:e}},concatExtremes:x};function x(t,e,r){var i,n,o,l=e._id,c=t._fullData,f=t._fullLayout,d=[],v=[];function m(t,e){for(i=0;i<e.length;i++){var r=t[e[i]],c=(r._extremes||{})[l];if(!0===r.visible&&c){for(n=0;n<c.min.length;n++)o=c.min[n],_(d,o.val,o.pad,{extrapad:o.extrapad});for(n=0;n<c.max.length;n++)o=c.max[n],w(v,o.val,o.pad,{extrapad:o.extrapad})}}}if(m(c,e._traceIndices),m(f.annotations||[],e._annIndices||[]),m(f.shapes||[],e._shapeIndices||[]),e._matchGroup&&!r)for(var y in e._matchGroup)if(y!==e._id){var M=h(t,y),A=x(t,M,!0),T=e._length/M._length;for(n=0;n<A.min.length;n++)o=A.min[n],_(d,o.val,o.pad*T,{extrapad:o.extrapad});for(n=0;n<A.max.length;n++)o=A.max[n],w(v,o.val,o.pad*T,{extrapad:o.extrapad})}return{min:d,max:v}}function _(t,e,r,n){M(t,e,r,n,T)}function w(t,e,r,n){M(t,e,r,n,k)}function M(t,e,r,n,o){for(var l=n.tozero,c=n.extrapad,f=!0,h=0;h<t.length&&f;h++){var d=t[h];if(o(d.val,e)&&d.pad>=r&&(d.extrapad||!c)){f=!1;break}o(e,d.val)&&d.pad<=r&&(c||!d.extrapad)&&(t.splice(h,1),h--)}if(f){var v=l&&0===e;t.push({val:e,pad:v?0:r,extrapad:!v&&c})}}function A(t){return n(t)&&Math.abs(t)<l}function T(t,e){return t<=e}function k(t,e){return t>=e}},function(t,e,r){"use strict";var n=r(619);t.exports=n&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){t=!1}return t}()},function(t,e,r){"use strict";e.selectMode=function(t){return"lasso"===t||"select"===t},e.drawMode=function(t){return"drawclosedpath"===t||"drawopenpath"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},e.openMode=function(t){return"drawline"===t||"drawopenpath"===t},e.rectMode=function(t){return"select"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},e.freeMode=function(t){return"lasso"===t||"drawclosedpath"===t||"drawopenpath"===t},e.selectingOrDrawing=function(t){return e.freeMode(t)||e.rectMode(t)}},function(t,e,r){"use strict";var n=r(809),o=r(548),l=o.CIRCLE_SIDES,c=o.SQRT2,f=r(549),h=f.p2r,d=f.r2p,v=[0,3,4,5,6,1,2],m=[0,3,4,1,2];function y(a,b){return Math.abs(a-b)<=1e-6}function x(a,b){var t=b[1]-a[1],e=b[2]-a[2];return Math.sqrt(t*t+e*e)}e.writePaths=function(t){var e=t.length;if(!e)return"M0,0Z";for(var r="",i=0;i<e;i++)for(var n=t[i].length,o=0;o<n;o++){var l=t[i][o][0];if("Z"===l)r+="Z";else for(var c=t[i][o].length,f=0;f<c;f++){var h=f;"Q"===l||"S"===l?h=m[f]:"C"===l&&(h=v[f]),r+=t[i][o][h],f>0&&f<c-1&&(r+=",")}}return r},e.readPaths=function(t,e,r,o){var c,f,v,m=n(t),y=[],x=-1,_=0,w=0,M=function(){f=_,v=w};M();for(var i=0;i<m.length;i++){var A,T,k,E,S=[],L=m[i][0],C=L;switch(L){case"M":x++,y[x]=[],_=+m[i][1],w=+m[i][2],S.push([C,_,w]),M();break;case"Q":case"S":A=+m[i][1],k=+m[i][2],_=+m[i][3],w=+m[i][4],S.push([C,_,w,A,k]);break;case"C":A=+m[i][1],k=+m[i][2],T=+m[i][3],E=+m[i][4],_=+m[i][5],w=+m[i][6],S.push([C,_,w,A,k,T,E]);break;case"T":case"L":_=+m[i][1],w=+m[i][2],S.push([C,_,w]);break;case"H":C="L",_=+m[i][1],S.push([C,_,w]);break;case"V":C="L",w=+m[i][1],S.push([C,_,w]);break;case"A":C="L";var O=+m[i][1],R=+m[i][2];+m[i][4]||(O=-O,R=-R);var D=_-O,P=w;for(c=1;c<=l/2;c++){var I=2*Math.PI*c/l;S.push([C,D+O*Math.cos(I),P+R*Math.sin(I)])}break;case"Z":_===f&&w===v||(_=f,w=v,S.push([C,_,w]))}for(var N=(r||{}).domain,z=e._fullLayout._size,F=r&&"pixel"===r.xsizemode,j=r&&"pixel"===r.ysizemode,B=!1===o,U=0;U<S.length;U++){for(c=0;c+2<7;c+=2){var H=S[U][c+1],V=S[U][c+2];void 0!==H&&void 0!==V&&(_=H,w=V,r&&(r.xaxis&&r.xaxis.p2r?(B&&(H-=r.xaxis._offset),H=F?d(r.xaxis,r.xanchor)+H:h(r.xaxis,H)):(B&&(H-=z.l),N?H=N.x[0]+H/z.w:H/=z.w),r.yaxis&&r.yaxis.p2r?(B&&(V-=r.yaxis._offset),V=j?d(r.yaxis,r.yanchor)-V:h(r.yaxis,V)):(B&&(V-=z.t),V=N?N.y[1]-V/z.h:1-V/z.h)),S[U][c+1]=H,S[U][c+2]=V)}y[x].push(S[U].slice())}}return y},e.pointsShapeRectangle=function(t){if(5!==t.length)return!1;for(var e=1;e<3;e++){if(!y(t[0][e]-t[1][e],t[3][e]-t[2][e]))return!1;if(!y(t[0][e]-t[3][e],t[1][e]-t[2][e]))return!1}return!(!y(t[0][1],t[1][1])&&!y(t[0][1],t[3][1]))&&!!(x(t[0],t[1])*x(t[0],t[3]))},e.pointsShapeEllipse=function(t){var e=t.length;if(e!==l+1)return!1;e=l;for(var i=0;i<e;i++){var r=(2*e-i)%e,n=(e/2+r)%e,o=(e/2+i)%e;if(!y(x(t[i],t[o]),x(t[r],t[n])))return!1}return!0},e.handleEllipse=function(t,r,n){if(!t)return[r,n];var o=e.ellipseOver({x0:r[0],y0:r[1],x1:n[0],y1:n[1]}),f=(o.x1+o.x0)/2,h=(o.y1+o.y0)/2,d=(o.x1-o.x0)/2,v=(o.y1-o.y0)/2;d||(d=v/=c),v||(v=d/=c);for(var m=[],i=0;i<l;i++){var y=2*i*Math.PI/l;m.push([f+d*Math.cos(y),h+v*Math.sin(y)])}return m},e.ellipseOver=function(t){var e=t.x0,r=t.y0,n=t.x1,o=t.y1,l=n-e,f=o-r,h=((e-=l)+n)/2,d=((r-=f)+o)/2;return{x0:h-(l*=c),y0:d-(f*=c),x1:h+l,y1:d+f}}},function(t,e,r){"use strict";var n=r(810),o=r(422),l=r(427).dashStyle,c=r(425),f=r(460),h=r(459).makeEventData,d=r(508),v=d.freeMode,m=d.rectMode,y=d.drawMode,x=d.openMode,_=d.selectMode,w=r(643),M=r(509).handleEllipse,A=r(644),T=r(421),polygon=r(647),k=r(539),E=r(432).getFromId,S=r(545),L=r(546).redrawReglTraces,C=r(434),O=C.MINSELECT,R=polygon.filter,D=polygon.tester,P=r(496).clearSelect,I=r(549),N=I.p2r,z=I.axValue,F=I.getTransform;function j(t,e,r,n,o,l,c){var f,h,d,v,m,y,_,M,i,A=e._hoverdata,T=e._fullLayout.clickmode.indexOf("event")>-1,k=[];if(function(t){return t&&Array.isArray(t)&&!0!==t[0].hoverOnBox}(A)){V(t,e,l);var E=function(t,e){var r,i,n=t[0],o=-1,l=[];for(i=0;i<e.length;i++)if(r=e[i],n.fullData._expandedIndex===r.cd[0].trace._expandedIndex){if(!0===n.hoverOnBox)break;void 0!==n.pointNumber?o=n.pointNumber:void 0!==n.binNumber&&(o=n.binNumber,l=n.pointNumbers);break}return{pointNumber:o,pointNumbers:l,searchInfo:r}}(A,f=G(e,r,n,o));if(E.pointNumbers.length>0?function(t,e){var r,n,i,o=[];for(i=0;i<t.length;i++)(r=t[i]).cd[0].trace.selectedpoints&&r.cd[0].trace.selectedpoints.length>0&&o.push(r);if(1===o.length&&o[0]===e.searchInfo&&(n=e.searchInfo.cd[0].trace).selectedpoints.length===e.pointNumbers.length){for(i=0;i<e.pointNumbers.length;i++)if(n.selectedpoints.indexOf(e.pointNumbers[i])<0)return!1;return!0}return!1}(f,E):function(t){var e,r,i,n=0;for(i=0;i<t.length;i++)if(e=t[i],(r=e.cd[0].trace).selectedpoints){if(r.selectedpoints.length>1)return!1;if((n+=r.selectedpoints.length)>1)return!1}return 1===n}(f)&&(y=W(E))){for(c&&c.remove(),i=0;i<f.length;i++)(h=f[i])._module.selectPoints(h,!1);X(e,f),Y(l),T&&e.emit("plotly_deselect",null)}else{for(_=t.shiftKey&&(void 0!==y?y:W(E)),d=function(t,e,r){return{pointNumber:t,searchInfo:e,subtract:r}}(E.pointNumber,E.searchInfo,_),v=H(l.selectionDefs.concat([d])),i=0;i<f.length;i++)if(m=Z(f[i]._module.selectPoints(f[i],v),f[i]),k.length)for(var S=0;S<m.length;S++)k.push(m[S]);else k=m;if(X(e,f,M={points:k}),d&&l&&l.selectionDefs.push(d),c){var L=l.mergedPolygons,C=x(l.dragmode);w(J(L,C),c,l)}T&&e.emit("plotly_selected",M)}}}function B(t){return"pointNumber"in t&&"searchInfo"in t}function U(t){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(e,r,n,o){var l=t.searchInfo.cd[0].trace._expandedIndex;return o.cd[0].trace._expandedIndex===l&&n===t.pointNumber},isRect:!1,degenerate:!1,subtract:t.subtract}}function H(t){for(var e=[],r=B(t[0])?0:t[0][0][0],n=r,o=B(t[0])?0:t[0][0][1],l=o,i=0;i<t.length;i++)if(B(t[i]))e.push(U(t[i]));else{var c=polygon.tester(t[i]);c.subtract=t[i].subtract,e.push(c),r=Math.min(r,c.xmin),n=Math.max(n,c.xmax),o=Math.min(o,c.ymin),l=Math.max(l,c.ymax)}return{xmin:r,xmax:n,ymin:o,ymax:l,pts:[],contains:function(t,r,n,o){for(var l=!1,i=0;i<e.length;i++)e[i].contains(t,r,n,o)&&(l=!1===e[i].subtract);return l},isRect:!1,degenerate:!1}}function V(t,e,r){e._fullLayout._drawing=!1;var n=e._fullLayout,o=r.plotinfo,l=r.dragmode,c=n._lastSelectedSubplot&&n._lastSelectedSubplot===o.id,f=(t.shiftKey||t.altKey)&&!(y(l)&&x(l));c&&f&&o.selection&&o.selection.selectionDefs&&!r.selectionDefs?(r.selectionDefs=o.selection.selectionDefs,r.mergedPolygons=o.selection.mergedPolygons):f&&o.selection||Y(r),c||(P(e),n._lastSelectedSubplot=o.id)}function Y(t){var e=t.dragmode,r=t.plotinfo,n=t.gd;if(n._fullLayout._activeShapeIndex>=0&&n._fullLayout._deactivateShape(n),y(e)){var l=n._fullLayout._zoomlayer.selectAll(".select-outline-"+r.id);if(l&&n._fullLayout._drawing){var c=A(l,t);c&&o.call("_guiRelayout",n,{shapes:c}),n._fullLayout._drawing=!1}}r.selection={},r.selection.selectionDefs=t.selectionDefs=[],r.selection.mergedPolygons=t.mergedPolygons=[]}function G(t,e,r,n){var o,l,i,c=[],f=e.map((function(t){return t._id})),h=r.map((function(t){return t._id}));for(i=0;i<t.calcdata.length;i++)if(!0===(l=(o=t.calcdata[i])[0].trace).visible&&l._module&&l._module.selectPoints)if(!n||l.subplot!==n&&l.geo!==n)if("splom"===l.type&&l._xaxes[f[0]]&&l._yaxes[h[0]]){var d=m(l._module,o,e[0],r[0]);d.scene=t._fullLayout._splomScenes[l.uid],c.push(d)}else if("sankey"===l.type){var v=m(l._module,o,e[0],r[0]);c.push(v)}else{if(-1===f.indexOf(l.xaxis))continue;if(-1===h.indexOf(l.yaxis))continue;c.push(m(l._module,o,E(t,l.xaxis),E(t,l.yaxis)))}else c.push(m(l._module,o,e[0],r[0]));return c;function m(t,e,r,n){return{_module:t,cd:e,xaxis:r,yaxis:n}}}function W(t){var e=t.searchInfo.cd[0].trace,r=t.pointNumber,n=t.pointNumbers,o=n.length>0?n[0]:r;return!!e.selectedpoints&&e.selectedpoints.indexOf(o)>-1}function X(t,e,r){var i,n,l,c;for(i=0;i<e.length;i++){var f=e[i].cd[0].trace._fullInput,h=t._fullLayout._tracePreGUI[f.uid]||{};void 0===h.selectedpoints&&(h.selectedpoints=f._input.selectedpoints||null)}if(r){var d=r.points||[];for(i=0;i<e.length;i++)(c=e[i].cd[0].trace)._input.selectedpoints=c._fullInput.selectedpoints=[],c._fullInput!==c&&(c.selectedpoints=[]);for(i=0;i<d.length;i++){var v=d[i],data=v.data,m=v.fullData;v.pointIndices?([].push.apply(data.selectedpoints,v.pointIndices),c._fullInput!==c&&[].push.apply(m.selectedpoints,v.pointIndices)):(data.selectedpoints.push(v.pointIndex),c._fullInput!==c&&m.selectedpoints.push(v.pointIndex))}}else for(i=0;i<e.length;i++)delete(c=e[i].cd[0].trace).selectedpoints,delete c._input.selectedpoints,c._fullInput!==c&&delete c._fullInput.selectedpoints;var y=!1;for(i=0;i<e.length;i++){c=(l=(n=e[i]).cd)[0].trace,o.traceIs(c,"regl")&&(y=!0);var x=n._module,_=x.styleOnSelect||x.style;_&&(_(t,l,l[0].node3),l[0].nodeRangePlot3&&_(t,l,l[0].nodeRangePlot3))}y&&(S(t),L(t))}function Z(t,e){if(Array.isArray(t))for(var r=e.cd,n=e.cd[0].trace,i=0;i<t.length;i++)t[i]=h(t[i],n,r);return t}function J(t,e){for(var r=[],i=0;i<t.length;i++){r[i]=[];for(var n=0;n<t[i].length;n++){r[i][n]=[],r[i][n][0]=n?"L":"M";for(var o=0;o<t[i][n].length;o++)r[i][n].push(t[i][n][o])}e||r[i].push(["Z",r[i][0][1],r[i][0][2]])}return r}t.exports={prepSelect:function(t,e,r,o,h){var d=v(h),A=m(h),E=x(h),S=y(h),L=_(h),P="drawcircle"===h,I="drawline"===h||P,B=o.gd,U=B._fullLayout,W=U._zoomlayer,Q=o.element.getBoundingClientRect(),K=o.plotinfo,$=F(K),tt=e-Q.left,et=r-Q.top;U._calcInverseTransform(B);var nt=T.apply3DTransform(U._invTransform)(tt,et);tt=nt[0],et=nt[1];var it,at,ot,st,i,lt,ut,ct=U._invScaleX,ft=U._invScaleY,ht=tt,pt=et,gt="M"+tt+","+et,vt=o.xaxes[0]._length,mt=o.yaxes[0]._length,yt=o.xaxes.concat(o.yaxes),xt=t.altKey&&!(y(h)&&E);V(t,B,o),d&&(it=R([[tt,et]],C.BENDPX));var bt=W.selectAll("path.select-outline-"+K.id).data(S?[0]:[1,2]),_t=U.newshape;bt.enter().append("path").attr("class",(function(t){return"select-outline select-outline-"+t+" select-outline-"+K.id})).style(S?{opacity:_t.opacity/2,fill:E?void 0:_t.fillcolor,stroke:_t.line.color,"stroke-dasharray":l(_t.line.dash,_t.line.width),"stroke-width":_t.line.width+"px"}:{}).attr("fill-rule",_t.fillrule).classed("cursor-move",!!S).attr("transform",$).attr("d",gt+"Z");var wt,Mt=W.append("path").attr("class","zoombox-corners").style({fill:c.background,stroke:c.defaultLine,"stroke-width":1}).attr("transform",$).attr("d","M0,0Z"),At=U._uid+C.SELECTID,Tt=[],kt=G(B,o.xaxes,o.yaxes,o.subplot);function Et(a,b){return a-b}wt=K.fillRangeItems?K.fillRangeItems:A?function(t,e){var r=t.range={};for(i=0;i<yt.length;i++){var n=yt[i],o=n._id.charAt(0);r[n._id]=[N(n,e[o+"min"]),N(n,e[o+"max"])].sort(Et)}}:function(t,e,r){var n=t.lassoPoints={};for(i=0;i<yt.length;i++){var o=yt[i];n[o._id]=r.filtered.map(z(o))}},o.moveFn=function(t,e){ht=Math.max(0,Math.min(vt,ct*t+tt)),pt=Math.max(0,Math.min(mt,ft*e+et));var r=Math.abs(ht-tt),l=Math.abs(pt-et);if(A){var c,f,h;if(L){var q=U.selectdirection;switch(c="any"===q?l<Math.min(.6*r,O)?"h":r<Math.min(.6*l,O)?"v":"d":q){case"h":f=P?mt/2:0,h=mt;break;case"v":f=P?vt/2:0,h=vt}}if(S)switch(U.newshape.drawdirection){case"vertical":c="h",f=P?mt/2:0,h=mt;break;case"horizontal":c="v",f=P?vt/2:0,h=vt;break;case"ortho":r<l?(c="h",f=et,h=pt):(c="v",f=tt,h=ht);break;default:c="d"}"h"===c?((st=I?M(P,[ht,f],[ht,h]):[[tt,f],[tt,h],[ht,h],[ht,f]]).xmin=I?ht:Math.min(tt,ht),st.xmax=I?ht:Math.max(tt,ht),st.ymin=Math.min(f,h),st.ymax=Math.max(f,h),Mt.attr("d","M"+st.xmin+","+(et-O)+"h-4v"+2*O+"h4ZM"+(st.xmax-1)+","+(et-O)+"h4v"+2*O+"h-4Z")):"v"===c?((st=I?M(P,[f,pt],[h,pt]):[[f,et],[f,pt],[h,pt],[h,et]]).xmin=Math.min(f,h),st.xmax=Math.max(f,h),st.ymin=I?pt:Math.min(et,pt),st.ymax=I?pt:Math.max(et,pt),Mt.attr("d","M"+(tt-O)+","+st.ymin+"v-4h"+2*O+"v4ZM"+(tt-O)+","+(st.ymax-1)+"v4h"+2*O+"v-4Z")):"d"===c&&((st=I?M(P,[tt,et],[ht,pt]):[[tt,et],[tt,pt],[ht,pt],[ht,et]]).xmin=Math.min(tt,ht),st.xmax=Math.max(tt,ht),st.ymin=Math.min(et,pt),st.ymax=Math.max(et,pt),Mt.attr("d","M0,0Z"))}else d&&(it.addPt([ht,pt]),st=it.filtered);o.selectionDefs&&o.selectionDefs.length?(ot=function(t,e,r){if(r)return n.difference({regions:t,inverted:!1},{regions:[e],inverted:!1}).regions;return n.union({regions:t,inverted:!1},{regions:[e],inverted:!1}).regions}(o.mergedPolygons,st,xt),st.subtract=xt,at=H(o.selectionDefs.concat([st]))):(ot=[st],at=D(st)),w(J(ot,E),bt,o),L&&k.throttle(At,C.SELECTDELAY,(function(){var t;Tt=[];var e,r=[];for(i=0;i<kt.length;i++)if(e=(lt=kt[i])._module.selectPoints(lt,at),r.push(e),t=Z(e,lt),Tt.length)for(var n=0;n<t.length;n++)Tt.push(t[n]);else Tt=t;X(B,kt,ut={points:Tt}),wt(ut,st,it),o.gd.emit("plotly_selecting",ut)}))},o.clickFn=function(t,e){if(Mt.remove(),B._fullLayout._activeShapeIndex>=0)B._fullLayout._deactivateShape(B);else if(!S){var r=U.clickmode;k.done(At).then((function(){if(k.clear(At),2===t){for(bt.remove(),i=0;i<kt.length;i++)(lt=kt[i])._module.selectPoints(lt,!1);X(B,kt),Y(o),B.emit("plotly_deselect",null)}else r.indexOf("select")>-1&&j(e,B,o.xaxes,o.yaxes,o.subplot,o,bt),"event"===r&&B.emit("plotly_selected",void 0);f.click(B,e)})).catch(T.error)}},o.doneFn=function(){Mt.remove(),k.done(At).then((function(){k.clear(At),o.gd.emit("plotly_selected",ut),st&&o.selectionDefs&&(st.subtract=xt,o.selectionDefs.push(st),o.mergedPolygons.length=0,[].push.apply(o.mergedPolygons,ot)),o.doneFnCompleted&&o.doneFnCompleted(Tt)})).catch(T.error),S&&Y(o)}},clearSelect:P,clearSelectionsCache:Y,selectOnClick:j}},function(t,e,r){"use strict";var n=r(660),o=r(441),l=r(434),c=r(428).templatedArray;r(559);t.exports=c("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:o({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:n.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:n.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",l.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",l.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",l.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",l.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:o({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},function(t,e,r){"use strict";t.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},function(t,e){function r(t,e,r){this.shortMessage=e||"",this.longMessage=r||"",this.rawError=t||"",this.message="gl-shader: "+(e||t||"")+(r?"\n"+r:""),this.stack=(new Error).stack}r.prototype=new Error,r.prototype.name="GLError",r.prototype.constructor=r,t.exports=r},function(t,e,r){"use strict";var n=r(922);function o(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}t.exports=function(t){var e=new o;e.pre=t.pre,e.body=t.body,e.post=t.post;var r=t.args.slice(0);e.argTypes=r;for(var i=0;i<r.length;++i){var l=r[i];if("array"===l||"object"==typeof l&&l.blockIndices){if(e.argTypes[i]="array",e.arrayArgs.push(i),e.arrayBlockIndices.push(l.blockIndices?l.blockIndices:0),e.shimArgs.push("array"+i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===l)e.scalarArgs.push(i),e.shimArgs.push("scalar"+i);else if("index"===l){if(e.indexArgs.push(i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===l){if(e.shapeArgs.push(i),i<e.pre.args.length&&e.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<e.post.args.length&&e.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof l||!l.offset)throw new Error("cwise: Unknown argument type "+r[i]);e.argTypes[i]="offset",e.offsetArgs.push({array:l.array,offset:l.offset}),e.offsetArgIndex.push(i)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,n(e)}},function(t,e,r){"use strict";t.exports=function(t,e,r){return 0===t.length?t:e?(r||t.sort(e),function(t,e){for(var r=1,n=t.length,a=t[0],b=t[0],i=1;i<n;++i)if(b=a,e(a=t[i],b)){if(i===r){r++;continue}t[r++]=a}return t.length=r,t}(t,e)):(r||t.sort(),function(t){for(var e=1,r=t.length,a=t[0],b=t[0],i=1;i<r;++i,b=a)if(b=a,(a=t[i])!==b){if(i===e){e++;continue}t[e++]=a}return t.length=e,t}(t))}},function(t,e,r){"use strict";var n=r(452),o=r(569),l=r(439);t.exports=function(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");c||d(t);if("number"==typeof arguments[1])return A(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return A(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var e=arguments[1],r=v(e)?e:e.raw;if(r)return T(t,r,0|e.width,0|e.height,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(e.shape&&e.data&&e.stride)return k(t,e)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var c=null,f=null,h=null;function d(t){c=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],f=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],h=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}function v(t){return"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&t instanceof ImageData}var m=function(t,e){o.muls(t,e,255)};function y(t,e,r){var n=t.gl,o=n.getParameter(n.MAX_TEXTURE_SIZE);if(e<0||e>o||r<0||r>o)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[e,r],t.bind(),n.texImage2D(n.TEXTURE_2D,0,t.format,e,r,0,t.format,t.type,null),t._mipLevels=[0],t}function x(t,e,r,n,o,l){this.gl=t,this.handle=e,this.format=o,this.type=l,this._shape=[r,n],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var c=this,f=[this._wrapS,this._wrapT];Object.defineProperties(f,[{get:function(){return c._wrapS},set:function(t){return c.wrapS=t}},{get:function(){return c._wrapT},set:function(t){return c.wrapT=t}}]),this._wrapVector=f;var h=[this._shape[0],this._shape[1]];Object.defineProperties(h,[{get:function(){return c._shape[0]},set:function(t){return c.width=t}},{get:function(){return c._shape[1]},set:function(t){return c.height=t}}]),this._shapeVector=h}var _=x.prototype;function w(t,e){return 3===t.length?1===e[2]&&e[1]===t[0]*t[2]&&e[0]===t[2]:1===e[0]&&e[1]===t[0]}function M(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e}function A(t,e,r,n,o){var l=t.getParameter(t.MAX_TEXTURE_SIZE);if(e<0||e>l||r<0||r>l)throw new Error("gl-texture2d: Invalid texture shape");if(o===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var c=M(t);return t.texImage2D(t.TEXTURE_2D,0,n,e,r,0,n,o,null),new x(t,c,e,r,n,o)}function T(t,e,r,n,o,l){var c=M(t);return t.texImage2D(t.TEXTURE_2D,0,o,o,l,e),new x(t,c,r,n,o,l)}function k(t,e){var r=e.dtype,c=e.shape.slice(),f=t.getParameter(t.MAX_TEXTURE_SIZE);if(c[0]<0||c[0]>f||c[1]<0||c[1]>f)throw new Error("gl-texture2d: Invalid texture size");var h=w(c,e.stride.slice()),d=0;"float32"===r?d=t.FLOAT:"float64"===r?(d=t.FLOAT,h=!1,r="float32"):"uint8"===r?d=t.UNSIGNED_BYTE:(d=t.UNSIGNED_BYTE,h=!1,r="uint8");var v,y,_=0;if(2===c.length)_=t.LUMINANCE,c=[c[0],c[1],1],e=n(e.data,c,[e.stride[0],e.stride[1],1],e.offset);else{if(3!==c.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===c[2])_=t.ALPHA;else if(2===c[2])_=t.LUMINANCE_ALPHA;else if(3===c[2])_=t.RGB;else{if(4!==c[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");_=t.RGBA}}d!==t.FLOAT||t.getExtension("OES_texture_float")||(d=t.UNSIGNED_BYTE,h=!1);var A=e.size;if(h)v=0===e.offset&&e.data.length===A?e.data:e.data.subarray(e.offset,e.offset+A);else{var T=[c[2],c[2]*c[0],1];y=l.malloc(A,r);var k=n(y,c,T,0);"float32"!==r&&"float64"!==r||d!==t.UNSIGNED_BYTE?o.assign(k,e):m(k,e),v=y.subarray(0,A)}var E=M(t);return t.texImage2D(t.TEXTURE_2D,0,_,c[0],c[1],0,_,d,v),h||l.free(y),new x(t,E,c[0],c[1],_,d)}Object.defineProperties(_,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&c.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),f.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&c.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),f.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(i){var t=this._anisoSamples;if(this._anisoSamples=0|Math.max(i,1),t!==this._anisoSamples){var e=this.gl.getExtension("EXT_texture_filter_anisotropic");e&&this.gl.texParameterf(this.gl.TEXTURE_2D,e.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),h.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),h.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var i=0;i<2;++i)if(h.indexOf(t[i])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var e=this.gl;return this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,this._wrapS),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return y(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return y(this,t|=0,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t|=0,y(this,this._shape[0],t),t}}}),_.bind=function(t){var e=this.gl;return void 0!==t&&e.activeTexture(e.TEXTURE0+(0|t)),e.bindTexture(e.TEXTURE_2D,this.handle),void 0!==t?0|t:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},_.dispose=function(){this.gl.deleteTexture(this.handle)},_.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),i=0;t>0;++i,t>>>=1)this._mipLevels.indexOf(i)<0&&this._mipLevels.push(i)},_.setPixels=function(data,t,e,r){var c=this.gl;this.bind(),Array.isArray(t)?(r=e,e=0|t[1],t=0|t[0]):(t=t||0,e=e||0),r=r||0;var f=v(data)?data:data.raw;if(f){this._mipLevels.indexOf(r)<0?(c.texImage2D(c.TEXTURE_2D,0,this.format,this.format,this.type,f),this._mipLevels.push(r)):c.texSubImage2D(c.TEXTURE_2D,r,t,e,this.format,this.type,f)}else{if(!(data.shape&&data.stride&&data.data))throw new Error("gl-texture2d: Unsupported data type");if(data.shape.length<2||t+data.shape[1]>this._shape[1]>>>r||e+data.shape[0]>this._shape[0]>>>r||t<0||e<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(t,e,r,c,f,h,d,v){var y=v.dtype,x=v.shape.slice();if(x.length<2||x.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var _=0,M=0,A=w(x,v.stride.slice());"float32"===y?_=t.FLOAT:"float64"===y?(_=t.FLOAT,A=!1,y="float32"):"uint8"===y?_=t.UNSIGNED_BYTE:(_=t.UNSIGNED_BYTE,A=!1,y="uint8");if(2===x.length)M=t.LUMINANCE,x=[x[0],x[1],1],v=n(v.data,x,[v.stride[0],v.stride[1],1],v.offset);else{if(3!==x.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===x[2])M=t.ALPHA;else if(2===x[2])M=t.LUMINANCE_ALPHA;else if(3===x[2])M=t.RGB;else{if(4!==x[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");M=t.RGBA}x[2]}M!==t.LUMINANCE&&M!==t.ALPHA||f!==t.LUMINANCE&&f!==t.ALPHA||(M=f);if(M!==f)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var T=v.size,k=d.indexOf(c)<0;k&&d.push(c);if(_===h&&A)0===v.offset&&v.data.length===T?k?t.texImage2D(t.TEXTURE_2D,c,f,x[0],x[1],0,f,h,v.data):t.texSubImage2D(t.TEXTURE_2D,c,e,r,x[0],x[1],f,h,v.data):k?t.texImage2D(t.TEXTURE_2D,c,f,x[0],x[1],0,f,h,v.data.subarray(v.offset,v.offset+T)):t.texSubImage2D(t.TEXTURE_2D,c,e,r,x[0],x[1],f,h,v.data.subarray(v.offset,v.offset+T));else{var E;E=h===t.FLOAT?l.mallocFloat32(T):l.mallocUint8(T);var S=n(E,x,[x[2],x[2]*x[0],1]);_===t.FLOAT&&h===t.UNSIGNED_BYTE?m(S,v):o.assign(S,v),k?t.texImage2D(t.TEXTURE_2D,c,f,x[0],x[1],0,f,h,E.subarray(0,T)):t.texSubImage2D(t.TEXTURE_2D,c,e,r,x[0],x[1],f,h,E.subarray(0,T)),h===t.FLOAT?l.freeFloat32(E):l.freeUint8(E)}}(c,t,e,r,this.format,this.type,this._mipLevels,data)}}},function(t,e,r){"use strict";var n=r(484),o=r(681);t.exports=function(t,e){var r=t.length;if(1===r){var l=n(t[0],e);return l[0]?l:[l[1]]}var g=new Array(2*r),q=[.1,.1],c=[.1,.1],f=0;n(t[0],e,q),q[0]&&(g[f++]=q[0]);for(var i=1;i<r;++i){n(t[i],e,c);var h=q[1];o(h,c[0],q),q[0]&&(g[f++]=q[0]);var a=c[1],b=q[1],d=a+b,v=b-(d-a);q[1]=d,v&&(g[f++]=v)}q[1]&&(g[f++]=q[1]);0===f&&(g[f++]=0);return g.length=f,g}},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function o(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function l(t,base,e){if(l.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==base&&"be"!==base||(e=base,base=10),this._init(t||0,base||10,e||"be"))}var c;"object"==typeof t?t.exports=l:e.BN=l,l.BN=l,l.wordSize=26;try{c=r(1012).Buffer}catch(t){}function f(t,e,r){for(var n=0,o=Math.min(t.length,r),i=e;i<o;i++){var l=t.charCodeAt(i)-48;n<<=4,n|=l>=49&&l<=54?l-49+10:l>=17&&l<=22?l-17+10:15&l}return n}function h(t,e,r,n){for(var o=0,l=Math.min(t.length,r),i=e;i<l;i++){var c=t.charCodeAt(i)-48;o*=n,o+=c>=49?c-49+10:c>=17?c-17+10:c}return o}l.isBN=function(t){return t instanceof l||null!==t&&"object"==typeof t&&t.constructor.wordSize===l.wordSize&&Array.isArray(t.words)},l.max=function(t,e){return t.cmp(e)>0?t:e},l.min=function(t,e){return t.cmp(e)<0?t:e},l.prototype._init=function(t,base,e){if("number"==typeof t)return this._initNumber(t,base,e);if("object"==typeof t)return this._initArray(t,base,e);"hex"===base&&(base=16),n(base===(0|base)&&base>=2&&base<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&r++,16===base?this._parseHex(t,r):this._parseBase(t,base,r),"-"===t[0]&&(this.negative=1),this.strip(),"le"===e&&this._initArray(this.toArray(),base,e)},l.prototype._initNumber=function(t,base,e){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===e&&this._initArray(this.toArray(),base,e)},l.prototype._initArray=function(t,base,e){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o,l=0;if("be"===e)for(i=t.length-1,r=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[r]|=o<<l&67108863,this.words[r+1]=o>>>26-l&67108863,(l+=24)>=26&&(l-=26,r++);else if("le"===e)for(i=0,r=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[r]|=o<<l&67108863,this.words[r+1]=o>>>26-l&67108863,(l+=24)>=26&&(l-=26,r++);return this.strip()},l.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,n,o=0;for(i=t.length-6,r=0;i>=e;i-=6)n=f(t,i,i+6),this.words[r]|=n<<o&67108863,this.words[r+1]|=n>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);i+6!==e&&(n=f(t,e,i+6),this.words[r]|=n<<o&67108863,this.words[r+1]|=n>>>26-o&4194303),this.strip()},l.prototype._parseBase=function(t,base,e){this.words=[0],this.length=1;for(var r=0,n=1;n<=67108863;n*=base)r++;r--,n=n/base|0;for(var o=t.length-e,l=o%r,c=Math.min(o,o-l)+e,f=0,i=e;i<c;i+=r)f=h(t,i,i+r,base),this.imuln(n),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==l){var d=1;for(f=h(t,i,t.length,base),i=0;i<l;i++)d*=base;this.imuln(d),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}},l.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},l.prototype.clone=function(){var t=new l(null);return this.copy(t),t},l.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},l.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},l.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},l.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var a=0|t.words[0],b=0|e.words[0],o=a*b,l=67108863&o,c=o/67108864|0;r.words[0]=l;for(var f=1;f<n;f++){for(var h=c>>>26,d=67108863&c,v=Math.min(f,e.length-1),m=Math.max(0,f-t.length+1);m<=v;m++){var i=f-m|0;h+=(o=(a=0|t.words[i])*(b=0|e.words[m])+d)/67108864|0,d=67108863&o}r.words[f]=0|d,c=0|h}return 0!==c?r.words[f]=0|c:r.length--,r.strip()}l.prototype.toString=function(base,t){var e;if(t=0|t||1,16===(base=base||10)||"hex"===base){e="";for(var r=0,o=0,i=0;i<this.length;i++){var l=this.words[i],c=(16777215&(l<<r|o)).toString(16);e=0!==(o=l>>>24-r&16777215)||i!==this.length-1?d[6-c.length]+c+e:c+e,(r+=2)>=26&&(r-=26,i--)}for(0!==o&&(e=o.toString(16)+e);e.length%t!=0;)e="0"+e;return 0!==this.negative&&(e="-"+e),e}if(base===(0|base)&&base>=2&&base<=36){var f=v[base],h=m[base];e="";var y=this.clone();for(y.negative=0;!y.isZero();){var x=y.modn(h).toString(base);e=(y=y.idivn(h)).isZero()?x+e:d[f-x.length]+x+e}for(this.isZero()&&(e="0"+e);e.length%t!=0;)e="0"+e;return 0!==this.negative&&(e="-"+e),e}n(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},l.prototype.toJSON=function(){return this.toString(16)},l.prototype.toBuffer=function(t,e){return n(void 0!==c),this.toArrayLike(c,t,e)},l.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},l.prototype.toArrayLike=function(t,e,r){var o=this.byteLength(),l=r||Math.max(1,o);n(o<=l,"byte array longer than desired length"),n(l>0,"Requested array length <= 0"),this.strip();var b,i,c="le"===e,f=new t(l),q=this.clone();if(c){for(i=0;!q.isZero();i++)b=q.andln(255),q.iushrn(8),f[i]=b;for(;i<l;i++)f[i]=0}else{for(i=0;i<l-o;i++)f[i]=0;for(i=0;!q.isZero();i++)b=q.andln(255),q.iushrn(8),f[l-i-1]=b}return f},Math.clz32?l.prototype._countBits=function(t){return 32-Math.clz32(t)}:l.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},l.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},l.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var b=this._zeroBits(this.words[i]);if(t+=b,26!==b)break}return t},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},l.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return 0!==this.negative},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this.strip()},l.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},l.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},l.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},l.prototype.iuand=function(t){var b;b=this.length>t.length?t:this;for(var i=0;i<b.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=b.length,this.strip()},l.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},l.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},l.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},l.prototype.iuxor=function(t){var a,b;this.length>t.length?(a=this,b=t):(a=t,b=this);for(var i=0;i<b.length;i++)this.words[i]=a.words[i]^b.words[i];if(this!==a)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=a.length,this.strip()},l.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},l.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},l.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},l.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},l.prototype.notn=function(t){return this.clone().inotn(t)},l.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,o=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<o:this.words[r]&~(1<<o),this.strip()},l.prototype.iadd=function(t){var e,a,b;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(a=this,b=t):(a=t,b=this);for(var r=0,i=0;i<b.length;i++)e=(0|a.words[i])+(0|b.words[i])+r,this.words[i]=67108863&e,r=e>>>26;for(;0!==r&&i<a.length;i++)e=(0|a.words[i])+r,this.words[i]=67108863&e,r=e>>>26;if(this.length=a.length,0!==r)this.words[this.length]=r,this.length++;else if(a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this},l.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},l.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var a,b,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(a=this,b=t):(a=t,b=this);for(var n=0,i=0;i<b.length;i++)n=(e=(0|a.words[i])-(0|b.words[i])+n)>>26,this.words[i]=67108863&e;for(;0!==n&&i<a.length;i++)n=(e=(0|a.words[i])+n)>>26,this.words[i]=67108863&e;if(0===n&&i<a.length&&a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=Math.max(this.length,i),a!==this&&(this.negative=1),this.strip()},l.prototype.sub=function(t){return this.clone().isub(t)};var x=function(t,e,r){var n,o,l,a=t.words,b=e.words,c=r.words,f=0,h=0|a[0],d=8191&h,v=h>>>13,m=0|a[1],y=8191&m,x=m>>>13,_=0|a[2],w=8191&_,M=_>>>13,A=0|a[3],T=8191&A,k=A>>>13,E=0|a[4],S=8191&E,L=E>>>13,C=0|a[5],O=8191&C,R=C>>>13,D=0|a[6],P=8191&D,I=D>>>13,N=0|a[7],z=8191&N,F=N>>>13,j=0|a[8],B=8191&j,U=j>>>13,H=0|a[9],V=8191&H,Y=H>>>13,G=0|b[0],W=8191&G,X=G>>>13,Z=0|b[1],J=8191&Z,Q=Z>>>13,K=0|b[2],$=8191&K,tt=K>>>13,et=0|b[3],nt=8191&et,it=et>>>13,at=0|b[4],ot=8191&at,st=at>>>13,lt=0|b[5],ut=8191&lt,ct=lt>>>13,ft=0|b[6],ht=8191&ft,pt=ft>>>13,gt=0|b[7],vt=8191&gt,mt=gt>>>13,yt=0|b[8],xt=8191&yt,bt=yt>>>13,_t=0|b[9],wt=8191&_t,Mt=_t>>>13;r.negative=t.negative^e.negative,r.length=19;var At=(f+(n=Math.imul(d,W))|0)+((8191&(o=(o=Math.imul(d,X))+Math.imul(v,W)|0))<<13)|0;f=((l=Math.imul(v,X))+(o>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(y,W),o=(o=Math.imul(y,X))+Math.imul(x,W)|0,l=Math.imul(x,X);var Tt=(f+(n=n+Math.imul(d,J)|0)|0)+((8191&(o=(o=o+Math.imul(d,Q)|0)+Math.imul(v,J)|0))<<13)|0;f=((l=l+Math.imul(v,Q)|0)+(o>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(w,W),o=(o=Math.imul(w,X))+Math.imul(M,W)|0,l=Math.imul(M,X),n=n+Math.imul(y,J)|0,o=(o=o+Math.imul(y,Q)|0)+Math.imul(x,J)|0,l=l+Math.imul(x,Q)|0;var kt=(f+(n=n+Math.imul(d,$)|0)|0)+((8191&(o=(o=o+Math.imul(d,tt)|0)+Math.imul(v,$)|0))<<13)|0;f=((l=l+Math.imul(v,tt)|0)+(o>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(T,W),o=(o=Math.imul(T,X))+Math.imul(k,W)|0,l=Math.imul(k,X),n=n+Math.imul(w,J)|0,o=(o=o+Math.imul(w,Q)|0)+Math.imul(M,J)|0,l=l+Math.imul(M,Q)|0,n=n+Math.imul(y,$)|0,o=(o=o+Math.imul(y,tt)|0)+Math.imul(x,$)|0,l=l+Math.imul(x,tt)|0;var Et=(f+(n=n+Math.imul(d,nt)|0)|0)+((8191&(o=(o=o+Math.imul(d,it)|0)+Math.imul(v,nt)|0))<<13)|0;f=((l=l+Math.imul(v,it)|0)+(o>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(S,W),o=(o=Math.imul(S,X))+Math.imul(L,W)|0,l=Math.imul(L,X),n=n+Math.imul(T,J)|0,o=(o=o+Math.imul(T,Q)|0)+Math.imul(k,J)|0,l=l+Math.imul(k,Q)|0,n=n+Math.imul(w,$)|0,o=(o=o+Math.imul(w,tt)|0)+Math.imul(M,$)|0,l=l+Math.imul(M,tt)|0,n=n+Math.imul(y,nt)|0,o=(o=o+Math.imul(y,it)|0)+Math.imul(x,nt)|0,l=l+Math.imul(x,it)|0;var St=(f+(n=n+Math.imul(d,ot)|0)|0)+((8191&(o=(o=o+Math.imul(d,st)|0)+Math.imul(v,ot)|0))<<13)|0;f=((l=l+Math.imul(v,st)|0)+(o>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(O,W),o=(o=Math.imul(O,X))+Math.imul(R,W)|0,l=Math.imul(R,X),n=n+Math.imul(S,J)|0,o=(o=o+Math.imul(S,Q)|0)+Math.imul(L,J)|0,l=l+Math.imul(L,Q)|0,n=n+Math.imul(T,$)|0,o=(o=o+Math.imul(T,tt)|0)+Math.imul(k,$)|0,l=l+Math.imul(k,tt)|0,n=n+Math.imul(w,nt)|0,o=(o=o+Math.imul(w,it)|0)+Math.imul(M,nt)|0,l=l+Math.imul(M,it)|0,n=n+Math.imul(y,ot)|0,o=(o=o+Math.imul(y,st)|0)+Math.imul(x,ot)|0,l=l+Math.imul(x,st)|0;var Lt=(f+(n=n+Math.imul(d,ut)|0)|0)+((8191&(o=(o=o+Math.imul(d,ct)|0)+Math.imul(v,ut)|0))<<13)|0;f=((l=l+Math.imul(v,ct)|0)+(o>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(P,W),o=(o=Math.imul(P,X))+Math.imul(I,W)|0,l=Math.imul(I,X),n=n+Math.imul(O,J)|0,o=(o=o+Math.imul(O,Q)|0)+Math.imul(R,J)|0,l=l+Math.imul(R,Q)|0,n=n+Math.imul(S,$)|0,o=(o=o+Math.imul(S,tt)|0)+Math.imul(L,$)|0,l=l+Math.imul(L,tt)|0,n=n+Math.imul(T,nt)|0,o=(o=o+Math.imul(T,it)|0)+Math.imul(k,nt)|0,l=l+Math.imul(k,it)|0,n=n+Math.imul(w,ot)|0,o=(o=o+Math.imul(w,st)|0)+Math.imul(M,ot)|0,l=l+Math.imul(M,st)|0,n=n+Math.imul(y,ut)|0,o=(o=o+Math.imul(y,ct)|0)+Math.imul(x,ut)|0,l=l+Math.imul(x,ct)|0;var Ct=(f+(n=n+Math.imul(d,ht)|0)|0)+((8191&(o=(o=o+Math.imul(d,pt)|0)+Math.imul(v,ht)|0))<<13)|0;f=((l=l+Math.imul(v,pt)|0)+(o>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(z,W),o=(o=Math.imul(z,X))+Math.imul(F,W)|0,l=Math.imul(F,X),n=n+Math.imul(P,J)|0,o=(o=o+Math.imul(P,Q)|0)+Math.imul(I,J)|0,l=l+Math.imul(I,Q)|0,n=n+Math.imul(O,$)|0,o=(o=o+Math.imul(O,tt)|0)+Math.imul(R,$)|0,l=l+Math.imul(R,tt)|0,n=n+Math.imul(S,nt)|0,o=(o=o+Math.imul(S,it)|0)+Math.imul(L,nt)|0,l=l+Math.imul(L,it)|0,n=n+Math.imul(T,ot)|0,o=(o=o+Math.imul(T,st)|0)+Math.imul(k,ot)|0,l=l+Math.imul(k,st)|0,n=n+Math.imul(w,ut)|0,o=(o=o+Math.imul(w,ct)|0)+Math.imul(M,ut)|0,l=l+Math.imul(M,ct)|0,n=n+Math.imul(y,ht)|0,o=(o=o+Math.imul(y,pt)|0)+Math.imul(x,ht)|0,l=l+Math.imul(x,pt)|0;var Ot=(f+(n=n+Math.imul(d,vt)|0)|0)+((8191&(o=(o=o+Math.imul(d,mt)|0)+Math.imul(v,vt)|0))<<13)|0;f=((l=l+Math.imul(v,mt)|0)+(o>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(B,W),o=(o=Math.imul(B,X))+Math.imul(U,W)|0,l=Math.imul(U,X),n=n+Math.imul(z,J)|0,o=(o=o+Math.imul(z,Q)|0)+Math.imul(F,J)|0,l=l+Math.imul(F,Q)|0,n=n+Math.imul(P,$)|0,o=(o=o+Math.imul(P,tt)|0)+Math.imul(I,$)|0,l=l+Math.imul(I,tt)|0,n=n+Math.imul(O,nt)|0,o=(o=o+Math.imul(O,it)|0)+Math.imul(R,nt)|0,l=l+Math.imul(R,it)|0,n=n+Math.imul(S,ot)|0,o=(o=o+Math.imul(S,st)|0)+Math.imul(L,ot)|0,l=l+Math.imul(L,st)|0,n=n+Math.imul(T,ut)|0,o=(o=o+Math.imul(T,ct)|0)+Math.imul(k,ut)|0,l=l+Math.imul(k,ct)|0,n=n+Math.imul(w,ht)|0,o=(o=o+Math.imul(w,pt)|0)+Math.imul(M,ht)|0,l=l+Math.imul(M,pt)|0,n=n+Math.imul(y,vt)|0,o=(o=o+Math.imul(y,mt)|0)+Math.imul(x,vt)|0,l=l+Math.imul(x,mt)|0;var Rt=(f+(n=n+Math.imul(d,xt)|0)|0)+((8191&(o=(o=o+Math.imul(d,bt)|0)+Math.imul(v,xt)|0))<<13)|0;f=((l=l+Math.imul(v,bt)|0)+(o>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(V,W),o=(o=Math.imul(V,X))+Math.imul(Y,W)|0,l=Math.imul(Y,X),n=n+Math.imul(B,J)|0,o=(o=o+Math.imul(B,Q)|0)+Math.imul(U,J)|0,l=l+Math.imul(U,Q)|0,n=n+Math.imul(z,$)|0,o=(o=o+Math.imul(z,tt)|0)+Math.imul(F,$)|0,l=l+Math.imul(F,tt)|0,n=n+Math.imul(P,nt)|0,o=(o=o+Math.imul(P,it)|0)+Math.imul(I,nt)|0,l=l+Math.imul(I,it)|0,n=n+Math.imul(O,ot)|0,o=(o=o+Math.imul(O,st)|0)+Math.imul(R,ot)|0,l=l+Math.imul(R,st)|0,n=n+Math.imul(S,ut)|0,o=(o=o+Math.imul(S,ct)|0)+Math.imul(L,ut)|0,l=l+Math.imul(L,ct)|0,n=n+Math.imul(T,ht)|0,o=(o=o+Math.imul(T,pt)|0)+Math.imul(k,ht)|0,l=l+Math.imul(k,pt)|0,n=n+Math.imul(w,vt)|0,o=(o=o+Math.imul(w,mt)|0)+Math.imul(M,vt)|0,l=l+Math.imul(M,mt)|0,n=n+Math.imul(y,xt)|0,o=(o=o+Math.imul(y,bt)|0)+Math.imul(x,xt)|0,l=l+Math.imul(x,bt)|0;var Dt=(f+(n=n+Math.imul(d,wt)|0)|0)+((8191&(o=(o=o+Math.imul(d,Mt)|0)+Math.imul(v,wt)|0))<<13)|0;f=((l=l+Math.imul(v,Mt)|0)+(o>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,n=Math.imul(V,J),o=(o=Math.imul(V,Q))+Math.imul(Y,J)|0,l=Math.imul(Y,Q),n=n+Math.imul(B,$)|0,o=(o=o+Math.imul(B,tt)|0)+Math.imul(U,$)|0,l=l+Math.imul(U,tt)|0,n=n+Math.imul(z,nt)|0,o=(o=o+Math.imul(z,it)|0)+Math.imul(F,nt)|0,l=l+Math.imul(F,it)|0,n=n+Math.imul(P,ot)|0,o=(o=o+Math.imul(P,st)|0)+Math.imul(I,ot)|0,l=l+Math.imul(I,st)|0,n=n+Math.imul(O,ut)|0,o=(o=o+Math.imul(O,ct)|0)+Math.imul(R,ut)|0,l=l+Math.imul(R,ct)|0,n=n+Math.imul(S,ht)|0,o=(o=o+Math.imul(S,pt)|0)+Math.imul(L,ht)|0,l=l+Math.imul(L,pt)|0,n=n+Math.imul(T,vt)|0,o=(o=o+Math.imul(T,mt)|0)+Math.imul(k,vt)|0,l=l+Math.imul(k,mt)|0,n=n+Math.imul(w,xt)|0,o=(o=o+Math.imul(w,bt)|0)+Math.imul(M,xt)|0,l=l+Math.imul(M,bt)|0;var Pt=(f+(n=n+Math.imul(y,wt)|0)|0)+((8191&(o=(o=o+Math.imul(y,Mt)|0)+Math.imul(x,wt)|0))<<13)|0;f=((l=l+Math.imul(x,Mt)|0)+(o>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(V,$),o=(o=Math.imul(V,tt))+Math.imul(Y,$)|0,l=Math.imul(Y,tt),n=n+Math.imul(B,nt)|0,o=(o=o+Math.imul(B,it)|0)+Math.imul(U,nt)|0,l=l+Math.imul(U,it)|0,n=n+Math.imul(z,ot)|0,o=(o=o+Math.imul(z,st)|0)+Math.imul(F,ot)|0,l=l+Math.imul(F,st)|0,n=n+Math.imul(P,ut)|0,o=(o=o+Math.imul(P,ct)|0)+Math.imul(I,ut)|0,l=l+Math.imul(I,ct)|0,n=n+Math.imul(O,ht)|0,o=(o=o+Math.imul(O,pt)|0)+Math.imul(R,ht)|0,l=l+Math.imul(R,pt)|0,n=n+Math.imul(S,vt)|0,o=(o=o+Math.imul(S,mt)|0)+Math.imul(L,vt)|0,l=l+Math.imul(L,mt)|0,n=n+Math.imul(T,xt)|0,o=(o=o+Math.imul(T,bt)|0)+Math.imul(k,xt)|0,l=l+Math.imul(k,bt)|0;var It=(f+(n=n+Math.imul(w,wt)|0)|0)+((8191&(o=(o=o+Math.imul(w,Mt)|0)+Math.imul(M,wt)|0))<<13)|0;f=((l=l+Math.imul(M,Mt)|0)+(o>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(V,nt),o=(o=Math.imul(V,it))+Math.imul(Y,nt)|0,l=Math.imul(Y,it),n=n+Math.imul(B,ot)|0,o=(o=o+Math.imul(B,st)|0)+Math.imul(U,ot)|0,l=l+Math.imul(U,st)|0,n=n+Math.imul(z,ut)|0,o=(o=o+Math.imul(z,ct)|0)+Math.imul(F,ut)|0,l=l+Math.imul(F,ct)|0,n=n+Math.imul(P,ht)|0,o=(o=o+Math.imul(P,pt)|0)+Math.imul(I,ht)|0,l=l+Math.imul(I,pt)|0,n=n+Math.imul(O,vt)|0,o=(o=o+Math.imul(O,mt)|0)+Math.imul(R,vt)|0,l=l+Math.imul(R,mt)|0,n=n+Math.imul(S,xt)|0,o=(o=o+Math.imul(S,bt)|0)+Math.imul(L,xt)|0,l=l+Math.imul(L,bt)|0;var Nt=(f+(n=n+Math.imul(T,wt)|0)|0)+((8191&(o=(o=o+Math.imul(T,Mt)|0)+Math.imul(k,wt)|0))<<13)|0;f=((l=l+Math.imul(k,Mt)|0)+(o>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(V,ot),o=(o=Math.imul(V,st))+Math.imul(Y,ot)|0,l=Math.imul(Y,st),n=n+Math.imul(B,ut)|0,o=(o=o+Math.imul(B,ct)|0)+Math.imul(U,ut)|0,l=l+Math.imul(U,ct)|0,n=n+Math.imul(z,ht)|0,o=(o=o+Math.imul(z,pt)|0)+Math.imul(F,ht)|0,l=l+Math.imul(F,pt)|0,n=n+Math.imul(P,vt)|0,o=(o=o+Math.imul(P,mt)|0)+Math.imul(I,vt)|0,l=l+Math.imul(I,mt)|0,n=n+Math.imul(O,xt)|0,o=(o=o+Math.imul(O,bt)|0)+Math.imul(R,xt)|0,l=l+Math.imul(R,bt)|0;var zt=(f+(n=n+Math.imul(S,wt)|0)|0)+((8191&(o=(o=o+Math.imul(S,Mt)|0)+Math.imul(L,wt)|0))<<13)|0;f=((l=l+Math.imul(L,Mt)|0)+(o>>>13)|0)+(zt>>>26)|0,zt&=67108863,n=Math.imul(V,ut),o=(o=Math.imul(V,ct))+Math.imul(Y,ut)|0,l=Math.imul(Y,ct),n=n+Math.imul(B,ht)|0,o=(o=o+Math.imul(B,pt)|0)+Math.imul(U,ht)|0,l=l+Math.imul(U,pt)|0,n=n+Math.imul(z,vt)|0,o=(o=o+Math.imul(z,mt)|0)+Math.imul(F,vt)|0,l=l+Math.imul(F,mt)|0,n=n+Math.imul(P,xt)|0,o=(o=o+Math.imul(P,bt)|0)+Math.imul(I,xt)|0,l=l+Math.imul(I,bt)|0;var Ft=(f+(n=n+Math.imul(O,wt)|0)|0)+((8191&(o=(o=o+Math.imul(O,Mt)|0)+Math.imul(R,wt)|0))<<13)|0;f=((l=l+Math.imul(R,Mt)|0)+(o>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,n=Math.imul(V,ht),o=(o=Math.imul(V,pt))+Math.imul(Y,ht)|0,l=Math.imul(Y,pt),n=n+Math.imul(B,vt)|0,o=(o=o+Math.imul(B,mt)|0)+Math.imul(U,vt)|0,l=l+Math.imul(U,mt)|0,n=n+Math.imul(z,xt)|0,o=(o=o+Math.imul(z,bt)|0)+Math.imul(F,xt)|0,l=l+Math.imul(F,bt)|0;var jt=(f+(n=n+Math.imul(P,wt)|0)|0)+((8191&(o=(o=o+Math.imul(P,Mt)|0)+Math.imul(I,wt)|0))<<13)|0;f=((l=l+Math.imul(I,Mt)|0)+(o>>>13)|0)+(jt>>>26)|0,jt&=67108863,n=Math.imul(V,vt),o=(o=Math.imul(V,mt))+Math.imul(Y,vt)|0,l=Math.imul(Y,mt),n=n+Math.imul(B,xt)|0,o=(o=o+Math.imul(B,bt)|0)+Math.imul(U,xt)|0,l=l+Math.imul(U,bt)|0;var Bt=(f+(n=n+Math.imul(z,wt)|0)|0)+((8191&(o=(o=o+Math.imul(z,Mt)|0)+Math.imul(F,wt)|0))<<13)|0;f=((l=l+Math.imul(F,Mt)|0)+(o>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(V,xt),o=(o=Math.imul(V,bt))+Math.imul(Y,xt)|0,l=Math.imul(Y,bt);var Ut=(f+(n=n+Math.imul(B,wt)|0)|0)+((8191&(o=(o=o+Math.imul(B,Mt)|0)+Math.imul(U,wt)|0))<<13)|0;f=((l=l+Math.imul(U,Mt)|0)+(o>>>13)|0)+(Ut>>>26)|0,Ut&=67108863;var Ht=(f+(n=Math.imul(V,wt))|0)+((8191&(o=(o=Math.imul(V,Mt))+Math.imul(Y,wt)|0))<<13)|0;return f=((l=Math.imul(Y,Mt))+(o>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,c[0]=At,c[1]=Tt,c[2]=kt,c[3]=Et,c[4]=St,c[5]=Lt,c[6]=Ct,c[7]=Ot,c[8]=Rt,c[9]=Dt,c[10]=Pt,c[11]=It,c[12]=Nt,c[13]=zt,c[14]=Ft,c[15]=jt,c[16]=Bt,c[17]=Ut,c[18]=Ht,0!==f&&(c[19]=f,r.length++),r};function _(t,e,r){return(new w).mulp(t,e,r)}function w(t,e){this.x=t,this.y=e}Math.imul||(x=y),l.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?x(this,t,e):r<63?y(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,o=0,l=0;l<r.length-1;l++){var c=o;o=0;for(var f=67108863&n,h=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=h;d++){var i=l-d,v=(0|t.words[i])*(0|e.words[d]),m=67108863&v;f=67108863&(m=m+f|0),o+=(c=(c=c+(v/67108864|0)|0)+(m>>>26)|0)>>>26,c&=67108863}r.words[l]=f,n=c,c=o}return 0!==n?r.words[l]=n:r.length--,r.strip()}(this,t,e):_(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),r=l.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},w.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},w.prototype.permute=function(t,e,r,n,o,l){for(var i=0;i<l;i++)n[i]=e[t[i]],o[i]=r[t[i]]},w.prototype.transform=function(t,e,r,n,o,l){this.permute(l,t,e,r,n,o);for(var s=1;s<o;s<<=1)for(var c=s<<1,f=Math.cos(2*Math.PI/c),h=Math.sin(2*Math.PI/c),p=0;p<o;p+=c)for(var d=f,v=h,m=0;m<s;m++){var y=r[p+m],x=n[p+m],_=r[p+m+s],w=n[p+m+s],M=d*_-v*w;w=d*w+v*_,_=M,r[p+m]=y+_,n[p+m]=x+w,r[p+m+s]=y-_,n[p+m+s]=x-w,m!==c&&(M=f*d-h*v,v=f*v+h*d,d=M)}},w.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},w.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},w.prototype.convert13b=function(t,e,r,o){for(var l=0,i=0;i<e;i++)l+=0|t[i],r[2*i]=8191&l,l>>>=13,r[2*i+1]=8191&l,l>>>=13;for(i=2*e;i<o;++i)r[i]=0;n(0===l),n(0==(-8192&l))},w.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},w.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),o=this.makeRBT(n),l=this.stub(n),c=new Array(n),f=new Array(n),h=new Array(n),d=new Array(n),v=new Array(n),m=new Array(n),y=r.words;y.length=n,this.convert13b(t.words,t.length,c,n),this.convert13b(e.words,e.length,d,n),this.transform(c,l,f,h,n,o),this.transform(d,l,v,m,n,o);for(var i=0;i<n;i++){var x=f[i]*v[i]-h[i]*m[i];h[i]=f[i]*m[i]+h[i]*v[i],f[i]=x}return this.conjugate(f,h,n),this.transform(f,h,y,l,n,o),this.conjugate(y,l,n),this.normalize13b(y,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},l.prototype.mul=function(t){var e=new l(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},l.prototype.mulf=function(t){var e=new l(null);return e.words=new Array(this.length+t.length),_(this,t,e)},l.prototype.imul=function(t){return this.clone().mulTo(t,this)},l.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,i=0;i<this.length;i++){var r=(0|this.words[i])*t,o=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=o>>>26,this.words[i]=67108863&o}return 0!==e&&(this.words[i]=e,this.length++),this},l.prototype.muln=function(t){return this.clone().imuln(t)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,o=r%26;e[r]=(t.words[n]&1<<o)>>>o}return e}(t);if(0===e.length)return new l(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var q=r.sqr();i<e.length;i++,q=q.sqr())0!==e[i]&&(r=r.mul(q));return r},l.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var i,e=t%26,s=(t-e)/26,r=67108863>>>26-e<<26-e;if(0!==e){var o=0;for(i=0;i<this.length;i++){var l=this.words[i]&r,c=(0|this.words[i])-l<<e;this.words[i]=c|o,o=l>>>26-e}o&&(this.words[i]=o,this.length++)}if(0!==s){for(i=this.length-1;i>=0;i--)this.words[i+s]=this.words[i];for(i=0;i<s;i++)this.words[i]=0;this.length+=s}return this.strip()},l.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},l.prototype.iushrn=function(t,e,r){var o;n("number"==typeof t&&t>=0),o=e?(e-e%26)/26:0;var l=t%26,s=Math.min((t-l)/26,this.length),mask=67108863^67108863>>>l<<l,c=r;if(o-=s,o=Math.max(0,o),c){for(var i=0;i<s;i++)c.words[i]=this.words[i];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,i=0;i<this.length;i++)this.words[i]=this.words[i+s];else this.words[0]=0,this.length=1;var f=0;for(i=this.length-1;i>=0&&(0!==f||i>=o);i--){var h=0|this.words[i];this.words[i]=f<<26-l|h>>>l,f=h&mask}return c&&0!==f&&(c.words[c.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},l.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},l.prototype.shln=function(t){return this.clone().ishln(t)},l.prototype.ushln=function(t){return this.clone().iushln(t)},l.prototype.shrn=function(t){return this.clone().ishrn(t)},l.prototype.ushrn=function(t){return this.clone().iushrn(t)},l.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,s=(t-e)/26,q=1<<e;return!(this.length<=s)&&!!(this.words[s]&q)},l.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,s=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=s)return this;if(0!==e&&s++,this.length=Math.min(s,this.length),0!==e){var mask=67108863^67108863>>>e<<e;this.words[this.length-1]&=mask}return this.strip()},l.prototype.maskn=function(t){return this.clone().imaskn(t)},l.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},l.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},l.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},l.prototype.addn=function(t){return this.clone().iaddn(t)},l.prototype.subn=function(t){return this.clone().isubn(t)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(t,e,r){var i,o,l=t.length+r;this._expand(l);var c=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+c;var f=(0|t.words[i])*e;c=((o-=67108863&f)>>26)-(f/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)c=(o=(0|this.words[i+r])+c)>>26,this.words[i+r]=67108863&o;if(0===c)return this.strip();for(n(-1===c),c=0,i=0;i<this.length;i++)c=(o=-(0|this.words[i])+c)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},l.prototype._wordDiv=function(t,e){var r=(this.length,t.length),a=this.clone(),b=t,n=0|b.words[b.length-1];0!==(r=26-this._countBits(n))&&(b=b.ushln(r),a.iushln(r),n=0|b.words[b.length-1]);var q,o=a.length-b.length;if("mod"!==e){(q=new l(null)).length=o+1,q.words=new Array(q.length);for(var i=0;i<q.length;i++)q.words[i]=0}var c=a.clone()._ishlnsubmul(b,1,o);0===c.negative&&(a=c,q&&(q.words[o]=1));for(var f=o-1;f>=0;f--){var h=67108864*(0|a.words[b.length+f])+(0|a.words[b.length+f-1]);for(h=Math.min(h/n|0,67108863),a._ishlnsubmul(b,h,f);0!==a.negative;)h--,a.negative=0,a._ishlnsubmul(b,1,f),a.isZero()||(a.negative^=1);q&&(q.words[f]=h)}return q&&q.strip(),a.strip(),"div"!==e&&0!==r&&a.iushrn(r),{div:q||null,mod:a}},l.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:0!==this.negative&&0===t.negative?(c=this.neg().divmod(t,e),"mod"!==e&&(div=c.div.neg()),"div"!==e&&(o=c.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:div,mod:o}):0===this.negative&&0!==t.negative?(c=this.divmod(t.neg(),e),"mod"!==e&&(div=c.div.neg()),{div:div,mod:c.mod}):0!=(this.negative&t.negative)?(c=this.neg().divmod(t.neg(),e),"div"!==e&&(o=c.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:c.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new l(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new l(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new l(this.modn(t.words[0]))}:this._wordDiv(t,e);var div,o,c},l.prototype.div=function(t){return this.divmod(t,"div",!1).div},l.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},l.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},l.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),o=t.andln(1),l=r.cmp(n);return l<0||1===o&&0===l?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},l.prototype.modn=function(t){n(t<=67108863);for(var p=(1<<26)%t,e=0,i=this.length-1;i>=0;i--)e=(p*e+(0|this.words[i]))%t;return e},l.prototype.idivn=function(t){n(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var r=(0|this.words[i])+67108864*e;this.words[i]=r/t|0,e=r%t}return this.strip()},l.prototype.divn=function(t){return this.clone().idivn(t)},l.prototype.egcd=function(p){n(0===p.negative),n(!p.isZero());var t=this,e=p.clone();t=0!==t.negative?t.umod(p):t.clone();for(var r=new l(1),o=new l(0),c=new l(0),f=new l(1),g=0;t.isEven()&&e.isEven();)t.iushrn(1),e.iushrn(1),++g;for(var h=e.clone(),d=t.clone();!t.isZero();){for(var i=0,v=1;0==(t.words[0]&v)&&i<26;++i,v<<=1);if(i>0)for(t.iushrn(i);i-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(h),o.isub(d)),r.iushrn(1),o.iushrn(1);for(var m=0,y=1;0==(e.words[0]&y)&&m<26;++m,y<<=1);if(m>0)for(e.iushrn(m);m-- >0;)(c.isOdd()||f.isOdd())&&(c.iadd(h),f.isub(d)),c.iushrn(1),f.iushrn(1);t.cmp(e)>=0?(t.isub(e),r.isub(c),o.isub(f)):(e.isub(t),c.isub(r),f.isub(o))}return{a:c,b:f,gcd:e.iushln(g)}},l.prototype._invmp=function(p){n(0===p.negative),n(!p.isZero());var a=this,b=p.clone();a=0!==a.negative?a.umod(p):a.clone();for(var t,e=new l(1),r=new l(0),o=b.clone();a.cmpn(1)>0&&b.cmpn(1)>0;){for(var i=0,c=1;0==(a.words[0]&c)&&i<26;++i,c<<=1);if(i>0)for(a.iushrn(i);i-- >0;)e.isOdd()&&e.iadd(o),e.iushrn(1);for(var f=0,h=1;0==(b.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(b.iushrn(f);f-- >0;)r.isOdd()&&r.iadd(o),r.iushrn(1);a.cmp(b)>=0?(a.isub(b),e.isub(r)):(b.isub(a),r.isub(e))}return(t=0===a.cmpn(1)?e:r).cmpn(0)<0&&t.iadd(p),t},l.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var a=this.clone(),b=t.clone();a.negative=0,b.negative=0;for(var e=0;a.isEven()&&b.isEven();e++)a.iushrn(1),b.iushrn(1);for(;;){for(;a.isEven();)a.iushrn(1);for(;b.isEven();)b.iushrn(1);var r=a.cmp(b);if(r<0){var n=a;a=b,b=n}else if(0===r||0===b.cmpn(1))break;a.isub(b)}return b.iushln(e)},l.prototype.invm=function(t){return this.egcd(t).a.umod(t)},l.prototype.isEven=function(){return 0==(1&this.words[0])},l.prototype.isOdd=function(){return 1==(1&this.words[0])},l.prototype.andln=function(t){return this.words[0]&t},l.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,s=(t-e)/26,q=1<<e;if(this.length<=s)return this._expand(s+1),this.words[s]|=q,this;for(var r=q,i=s;0!==r&&i<this.length;i++){var o=0|this.words[i];r=(o+=r)>>>26,o&=67108863,this.words[i]=o}return 0!==r&&(this.words[i]=r,this.length++),this},l.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},l.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var o=0|this.words[0];e=o===t?0:o<t?-1:1}return 0!==this.negative?0|-e:e},l.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},l.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var a=0|this.words[i],b=0|t.words[i];if(a!==b){a<b?e=-1:a>b&&(e=1);break}}return e},l.prototype.gtn=function(t){return 1===this.cmpn(t)},l.prototype.gt=function(t){return 1===this.cmp(t)},l.prototype.gten=function(t){return this.cmpn(t)>=0},l.prototype.gte=function(t){return this.cmp(t)>=0},l.prototype.ltn=function(t){return-1===this.cmpn(t)},l.prototype.lt=function(t){return-1===this.cmp(t)},l.prototype.lten=function(t){return this.cmpn(t)<=0},l.prototype.lte=function(t){return this.cmp(t)<=0},l.prototype.eqn=function(t){return 0===this.cmpn(t)},l.prototype.eq=function(t){return 0===this.cmp(t)},l.red=function(t){return new L(t)},l.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},l.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(t){return this.red=t,this},l.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},l.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},l.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},l.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},l.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},l.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},l.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},l.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},l.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var M={k256:null,p224:null,p192:null,p25519:null};function A(t,p){this.name=t,this.p=new l(p,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function T(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function L(t){if("string"==typeof t){var e=l._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function C(t){L.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var t=new l(null);return t.words=new Array(Math.ceil(this.n/13)),t},A.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},A.prototype.split=function(input,t){input.iushrn(this.n,0,t)},A.prototype.imulK=function(t){return t.imul(this.k)},o(T,A),T.prototype.split=function(input,output){for(var t=Math.min(input.length,9),i=0;i<t;i++)output.words[i]=input.words[i];if(output.length=t,input.length<=9)return input.words[0]=0,void(input.length=1);var e=input.words[9];for(output.words[output.length++]=4194303&e,i=10;i<input.length;i++){var r=0|input.words[i];input.words[i-10]=(4194303&r)<<4|e>>>22,e=r}e>>>=22,input.words[i-10]=e,0===e&&input.length>10?input.length-=10:input.length-=9},T.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var r=0|t.words[i];e+=977*r,t.words[i]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},o(k,A),o(E,A),o(S,A),S.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var r=19*(0|t.words[i])+e,n=67108863&r;r>>>=26,t.words[i]=n,e=r}return 0!==e&&(t.words[t.length++]=e),t},l._prime=function(t){if(M[t])return M[t];var e;if("k256"===t)e=new T;else if("p224"===t)e=new k;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new S}return M[t]=e,e},L.prototype._verify1=function(a){n(0===a.negative,"red works only with positives"),n(a.red,"red works only with red numbers")},L.prototype._verify2=function(a,b){n(0==(a.negative|b.negative),"red works only with positives"),n(a.red&&a.red===b.red,"red works only with red numbers")},L.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},L.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},L.prototype.add=function(a,b){this._verify2(a,b);var t=a.add(b);return t.cmp(this.m)>=0&&t.isub(this.m),t._forceRed(this)},L.prototype.iadd=function(a,b){this._verify2(a,b);var t=a.iadd(b);return t.cmp(this.m)>=0&&t.isub(this.m),t},L.prototype.sub=function(a,b){this._verify2(a,b);var t=a.sub(b);return t.cmpn(0)<0&&t.iadd(this.m),t._forceRed(this)},L.prototype.isub=function(a,b){this._verify2(a,b);var t=a.isub(b);return t.cmpn(0)<0&&t.iadd(this.m),t},L.prototype.shl=function(a,t){return this._verify1(a),this.imod(a.ushln(t))},L.prototype.imul=function(a,b){return this._verify2(a,b),this.imod(a.imul(b))},L.prototype.mul=function(a,b){return this._verify2(a,b),this.imod(a.mul(b))},L.prototype.isqr=function(a){return this.imul(a,a.clone())},L.prototype.sqr=function(a){return this.mul(a,a)},L.prototype.sqrt=function(a){if(a.isZero())return a.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var e=this.m.add(new l(1)).iushrn(2);return this.pow(a,e)}for(var q=this.m.subn(1),s=0;!q.isZero()&&0===q.andln(1);)s++,q.iushrn(1);n(!q.isZero());var r=new l(1).toRed(this),o=r.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new l(2*f*f).toRed(this);0!==this.pow(f,c).cmp(o);)f.redIAdd(o);for(var h=this.pow(f,q),d=this.pow(a,q.addn(1).iushrn(1)),v=this.pow(a,q),m=s;0!==v.cmp(r);){for(var y=v,i=0;0!==y.cmp(r);i++)y=y.redSqr();n(i<m);var b=this.pow(h,new l(1).iushln(m-i-1));d=d.redMul(b),h=b.redSqr(),v=v.redMul(h),m=i}return d},L.prototype.invm=function(a){var t=a._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},L.prototype.pow=function(a,t){if(t.isZero())return new l(1).toRed(this);if(0===t.cmpn(1))return a.clone();var e=new Array(16);e[0]=new l(1).toRed(this),e[1]=a;for(var i=2;i<e.length;i++)e[i]=this.mul(e[i-1],a);var r=e[0],n=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var f=t.words[i],h=c-1;h>=0;h--){var d=f>>h&1;r!==e[0]&&(r=this.sqr(r)),0!==d||0!==n?(n<<=1,n|=d,(4===++o||0===i&&0===h)&&(r=this.mul(r,e[n]),o=0,n=0)):o=0}c=26}return r},L.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},L.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},l.mont=function(t){return new C(t)},o(C,L),C.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},C.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},C.prototype.imul=function(a,b){if(a.isZero()||b.isZero())return a.words[0]=0,a.length=1,a;var t=a.imul(b),e=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=t.isub(e).iushrn(this.shift),r=u;return u.cmp(this.m)>=0?r=u.isub(this.m):u.cmpn(0)<0&&(r=u.iadd(this.m)),r._forceRed(this)},C.prototype.mul=function(a,b){if(a.isZero()||b.isZero())return new l(0)._forceRed(this);var t=a.mul(b),e=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=t.isub(e).iushrn(this.shift),r=u;return u.cmp(this.m)>=0?r=u.isub(this.m):u.cmpn(0)<0&&(r=u.iadd(this.m)),r._forceRed(this)},C.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,r(337)(t))},function(t,e,r){"use strict";t.exports=function(t){return t.end+t.size/1e6}},,,function(t,e){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=r=function(t){return typeof t}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(e)}t.exports=r},function(t,e,r){"use strict";var n=r(424),o=r(477).isArrayOrTypedArray;function l(t,e){return function(){var r,n,c,i,f,h=t;for(i=0;i<e.length-1;i++){if(-1===(r=e[i])){for(n=!0,c=[],f=0;f<h.length;f++)c[f]=l(h[f],e.slice(i+1))(),c[f]!==c[0]&&(n=!1);return n?c[0]:c}if("number"==typeof r&&!o(h))return;if("object"!=typeof(h=h[r])||null===h)return}if("object"==typeof h&&null!==h&&null!==(c=h[e[i]]))return c}}t.exports=function(t,e){if(n(e))e=String(e);else if("string"!=typeof e||"[-1]"===e.substr(e.length-4))throw"bad property string";for(var r,o,i,c=0,f=e.split(".");c<f.length;){if(r=String(f[c]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(r[1])f[c]=r[1];else{if(0!==c)throw"bad property string";f.splice(0,1)}for(o=r[2].substr(1,r[2].length-2).split("]["),i=0;i<o.length;i++)c++,f.splice(c,0,Number(o[i]))}c++}return"object"!=typeof t?function(t,e,r){return{set:function(){throw"bad container"},get:function(){},astr:e,parts:r,obj:t}}(t,e,f):{set:h(t,f,e),get:l(t,f),astr:e,parts:f,obj:t}};var c=/(^|\.)args\[/;function f(t,e){return void 0===t||null===t&&!e.match(c)}function h(t,e,r){return function(n){var l,i,c=t,h="",y=[[t,h]],x=f(n,r);for(i=0;i<e.length-1;i++){if("number"==typeof(l=e[i])&&!o(c))throw"array index but container is not an array";if(-1===l){if(x=!v(c,e.slice(i+1),n,r))break;return}if(!m(c,l,e[i+1],x))break;if("object"!=typeof(c=c[l])||null===c)throw"container is not an object";h=d(h,l),y.push([c,h])}if(x){if(i===e.length-1&&(delete c[e[i]],Array.isArray(c)&&+e[i]==c.length-1))for(;c.length&&void 0===c[c.length-1];)c.pop()}else c[e[i]]=n}}function d(t,e){var r=e;return n(e)?r="["+e+"]":t&&(r="."+e),t+r}function v(t,e,r,n){var i,l=o(r),c=!0,d=r,v=n.replace("-1",0),y=!l&&f(r,v),x=e[0];for(i=0;i<t.length;i++)v=n.replace("-1",i),l&&(y=f(d=r[i%r.length],v)),y&&(c=!1),m(t,i,x,y)&&h(t[i],e,n.replace("-1",i))(d);return c}function m(t,e,r,n){if(void 0===t[e]){if(n)return!1;t[e]="number"==typeof r?[]:{}}return!0}},function(t,e,r){"use strict";var n=r(424);t.exports=function(t,e){if(t>0)return Math.log(t)/Math.LN10;var r=Math.log(Math.min(e[0],e[1]))/Math.LN10;return n(r)||(r=Math.log(Math.max(e[0],e[1]))/Math.LN10-6),r}},function(t,e,r){"use strict";var n=r(441),o=r(478).hoverlabel,l=r(429).extendFlat;t.exports={hoverlabel:{bgcolor:l({},o.bgcolor,{arrayOk:!0}),bordercolor:l({},o.bordercolor,{arrayOk:!0}),font:n({arrayOk:!0,editType:"none"}),align:l({},o.align,{arrayOk:!0}),namelength:l({},o.namelength,{arrayOk:!0}),editType:"none"}}},function(t,e,r){"use strict";t.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},function(t,e,r){"use strict";t.exports=function(){}},function(t,e,r){"use strict";var n=r(423),o=r(480),l=r(529),c=r(605);function f(t){var e=t&&t.parentNode;e&&e.removeChild(t)}function h(t,e,r){var n="plotly.js-style-"+t,style=document.getElementById(n);style||((style=document.createElement("style")).setAttribute("id",n),style.appendChild(document.createTextNode("")),document.head.appendChild(style));var l=style.sheet;l.insertRule?l.insertRule(e+"{"+r+"}",0):l.addRule?l.addRule(e,r,0):o.warn("addStyleRule failed")}function d(element){var style=window.getComputedStyle(element,null),t=style.getPropertyValue("-webkit-transform")||style.getPropertyValue("-moz-transform")||style.getPropertyValue("-ms-transform")||style.getPropertyValue("-o-transform")||style.getPropertyValue("transform");return"none"===t?null:t.replace("matrix","").replace("3d","").slice(1,-1).split(",").map((function(t){return+t}))}function v(element){for(var t=[];m(element);)t.push(element),element=element.parentNode;return t}function m(element){return element&&(element instanceof Element||element instanceof HTMLElement)}t.exports={getGraphDiv:function(t){var e;if("string"==typeof t){if(null===(e=document.getElementById(t)))throw new Error("No DOM element with id '"+t+"' exists on the page.");return e}if(null==t)throw new Error("DOM element provided is null or undefined");return t},isPlotDiv:function(t){var e=n.select(t);return e.node()instanceof HTMLElement&&e.size()&&e.classed("js-plotly-plot")},removeElement:f,addStyleRule:function(t,e){h("global",t,e)},addRelatedStyleRule:h,deleteRelatedStyleRule:function(t){var e="plotly.js-style-"+t,style=document.getElementById(e);style&&f(style)},getFullTransformMatrix:function(element){var t=v(element),e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return t.forEach((function(t){var r=d(t);if(r){var n=l.convertCssMatrix(r);e=c.multiply(e,e,n)}})),e},getElementTransformMatrix:d,getElementAndAncestors:v,equalDomRects:function(a,b){return a&&b&&a.x===b.x&&a.y===b.y&&a.top===b.top&&a.left===b.left&&a.right===b.right&&a.bottom===b.bottom}}},function(t,e,r){"use strict";var n=r(605);e.init2dArray=function(t,e){for(var r=new Array(t),i=0;i<t;i++)r[i]=new Array(e);return r},e.transposeRagged=function(t){var i,e,r=0,n=t.length;for(i=0;i<n;i++)r=Math.max(r,t[i].length);var o=new Array(r);for(i=0;i<r;i++)for(o[i]=new Array(n),e=0;e<n;e++)o[i][e]=t[e][i];return o},e.dot=function(t,r){if(!t.length||!r.length||t.length!==r.length)return null;var n,i,o=t.length;if(t[0].length)for(n=new Array(o),i=0;i<o;i++)n[i]=e.dot(t[i],r);else if(r[0].length){var l=e.transposeRagged(r);for(n=new Array(l.length),i=0;i<l.length;i++)n[i]=e.dot(t,l[i])}else for(n=0,i=0;i<o;i++)n+=t[i]*r[i];return n},e.translationMatrix=function(t,e){return[[1,0,t],[0,1,e],[0,0,1]]},e.rotationMatrix=function(t){var a=t*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},e.rotationXYMatrix=function(a,t,r){return e.dot(e.dot(e.translationMatrix(t,r),e.rotationMatrix(a)),e.translationMatrix(-t,-r))},e.apply3DTransform=function(t){return function(){var r=arguments,n=1===arguments.length?r[0]:[r[0],r[1],r[2]||0];return e.dot(t,[n[0],n[1],n[2],1]).slice(0,3)}},e.apply2DTransform=function(t){return function(){var r=arguments;3===r.length&&(r=r[0]);var n=1===arguments.length?r[0]:[r[0],r[1]];return e.dot(t,[n[0],n[1],1]).slice(0,2)}},e.apply2DTransform2=function(t){var r=e.apply2DTransform(t);return function(t){return r(t.slice(0,2)).concat(r(t.slice(2,4)))}},e.convertCssMatrix=function(t){if(t){var e=t.length;if(16===e)return t;if(6===e)return[t[0],t[1],0,0,t[2],t[3],0,0,0,0,1,0,t[4],t[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},e.inverseTransformMatrix=function(t){var e=[];return n.invert(e,t),[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}},function(t,e){t.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,a){if(t===a){var e=a[1],r=a[2],n=a[3],o=a[6],l=a[7],c=a[11];t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=e,t[6]=a[9],t[7]=a[13],t[8]=r,t[9]=o,t[11]=a[14],t[12]=n,t[13]=l,t[14]=c}else t[0]=a[0],t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=a[1],t[5]=a[5],t[6]=a[9],t[7]=a[13],t[8]=a[2],t[9]=a[6],t[10]=a[10],t[11]=a[14],t[12]=a[3],t[13]=a[7],t[14]=a[11],t[15]=a[15];return t}},function(t,e){t.exports=function(a){var t=a[0],e=a[1],r=a[2],n=a[3],o=a[4],l=a[5],c=a[6],f=a[7],h=a[8],d=a[9],v=a[10],m=a[11],y=a[12],x=a[13],_=a[14],w=a[15];return(t*l-e*o)*(v*w-m*_)-(t*c-r*o)*(d*w-m*x)+(t*f-n*o)*(d*_-v*x)+(e*c-r*l)*(h*w-m*y)-(e*f-n*l)*(h*_-v*y)+(r*f-n*c)*(h*x-d*y)}},function(t,e){t.exports=function(t,a,e){var r,n,o,l,c,f,h,d,v,m,y,x,_=e[0],w=e[1],M=e[2];a===t?(t[12]=a[0]*_+a[4]*w+a[8]*M+a[12],t[13]=a[1]*_+a[5]*w+a[9]*M+a[13],t[14]=a[2]*_+a[6]*w+a[10]*M+a[14],t[15]=a[3]*_+a[7]*w+a[11]*M+a[15]):(r=a[0],n=a[1],o=a[2],l=a[3],c=a[4],f=a[5],h=a[6],d=a[7],v=a[8],m=a[9],y=a[10],x=a[11],t[0]=r,t[1]=n,t[2]=o,t[3]=l,t[4]=c,t[5]=f,t[6]=h,t[7]=d,t[8]=v,t[9]=m,t[10]=y,t[11]=x,t[12]=r*_+c*w+v*M+a[12],t[13]=n*_+f*w+m*M+a[13],t[14]=o*_+h*w+y*M+a[14],t[15]=l*_+d*w+x*M+a[15]);return t}},function(t,e){t.exports=function(t,a,e){var r=e[0],n=e[1],o=e[2];return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t[4]=a[4]*n,t[5]=a[5]*n,t[6]=a[6]*n,t[7]=a[7]*n,t[8]=a[8]*o,t[9]=a[9]*o,t[10]=a[10]*o,t[11]=a[11]*o,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}},function(t,e){t.exports=function(t,q){var e=q[0],r=q[1],n=q[2],o=q[3],l=e+e,c=r+r,f=n+n,h=e*l,d=r*l,v=r*c,m=n*l,y=n*c,x=n*f,_=o*l,w=o*c,M=o*f;return t[0]=1-v-x,t[1]=d+M,t[2]=m-w,t[3]=0,t[4]=d-M,t[5]=1-h-x,t[6]=y+_,t[7]=0,t[8]=m+w,t[9]=y-_,t[10]=1-h-v,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e,r){var n=r(531);t.exports=function(t,e,r,o){var l,c,f,h,d,v,m,y,x,_,w=e[0],M=e[1],A=e[2],T=o[0],k=o[1],E=o[2],S=r[0],L=r[1],C=r[2];if(Math.abs(w-S)<1e-6&&Math.abs(M-L)<1e-6&&Math.abs(A-C)<1e-6)return n(t);m=w-S,y=M-L,x=A-C,_=1/Math.sqrt(m*m+y*y+x*x),l=k*(x*=_)-E*(y*=_),c=E*(m*=_)-T*x,f=T*y-k*m,(_=Math.sqrt(l*l+c*c+f*f))?(l*=_=1/_,c*=_,f*=_):(l=0,c=0,f=0);h=y*f-x*c,d=x*l-m*f,v=m*c-y*l,(_=Math.sqrt(h*h+d*d+v*v))?(h*=_=1/_,d*=_,v*=_):(h=0,d=0,v=0);return t[0]=l,t[1]=h,t[2]=m,t[3]=0,t[4]=c,t[5]=d,t[6]=y,t[7]=0,t[8]=f,t[9]=v,t[10]=x,t[11]=0,t[12]=-(l*w+c*M+f*A),t[13]=-(h*w+d*M+v*A),t[14]=-(m*w+y*M+x*A),t[15]=1,t}},function(t,e,r){"use strict";t.exports=function(t){var e=t.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},function(t,e,r){"use strict";var n={};function o(t){t&&null!==t.timer&&(clearTimeout(t.timer),t.timer=null)}e.throttle=function(t,e,r){var l=n[t],c=Date.now();if(!l){for(var f in n)n[f].ts<c-6e4&&delete n[f];l=n[t]={ts:0,timer:null}}function h(){r(),l.ts=Date.now(),l.onDone&&(l.onDone(),l.onDone=null)}o(l),c>l.ts+e?h():l.timer=setTimeout((function(){h(),l.timer=null}),e)},e.done=function(t){var e=n[t];return e&&e.timer?new Promise((function(t){var r=e.onDone;e.onDone=function(){r&&r(),t(),e.onDone=null}})):Promise.resolve()},e.clear=function(t){if(t)o(n[t]),delete n[t];else for(var r in n)e.clear(r)}},function(t,e,r){"use strict";var n,o="object"==typeof Reflect?Reflect:null,l=o&&"function"==typeof o.apply?o.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var c=Number.isNaN||function(t){return t!=t};function f(){f.init.call(this)}t.exports=f,t.exports.once=function(t,e){return new Promise((function(r,n){function o(){void 0!==l&&t.removeListener("error",l),r([].slice.call(arguments))}var l;"error"!==e&&(l=function(r){t.removeListener(e,o),n(r)},t.once("error",l)),t.once(e,o)}))},f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var h=10;function d(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function v(t){return void 0===t._maxListeners?f.defaultMaxListeners:t._maxListeners}function m(t,e,r,n){var o,l,c,f;if(d(r),void 0===(l=t._events)?(l=t._events=Object.create(null),t._eventsCount=0):(void 0!==l.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),l=t._events),c=l[e]),void 0===c)c=l[e]=r,++t._eventsCount;else if("function"==typeof c?c=l[e]=n?[r,c]:[c,r]:n?c.unshift(r):c.push(r),(o=v(t))>0&&c.length>o&&!c.warned){c.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=c.length,f=h,console&&console.warn&&console.warn(f)}return t}function y(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function x(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},o=y.bind(n);return o.listener=r,n.wrapFn=o,o}function _(t,e,r){var n=t._events;if(void 0===n)return[];var o=n[e];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}(o):M(o,o.length)}function w(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function M(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(t){if("number"!=typeof t||t<0||c(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");h=t}}),f.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||c(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},f.prototype.getMaxListeners=function(){return v(this)},f.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var r="error"===t,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var c=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw c.context=o,c}var f=n[t];if(void 0===f)return!1;if("function"==typeof f)l(f,this,e);else{var h=f.length,d=M(f,h);for(i=0;i<h;++i)l(d[i],this,e)}return!0},f.prototype.addListener=function(t,e){return m(this,t,e,!1)},f.prototype.on=f.prototype.addListener,f.prototype.prependListener=function(t,e){return m(this,t,e,!0)},f.prototype.once=function(t,e){return d(e),this.on(t,x(this,t,e)),this},f.prototype.prependOnceListener=function(t,e){return d(e),this.prependListener(t,x(this,t,e)),this},f.prototype.removeListener=function(t,e){var r,n,o,i,l;if(d(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===e||r[i].listener===e){l=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,o),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,l||e)}return this},f.prototype.off=f.prototype.removeListener,f.prototype.removeAllListeners=function(t){var e,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var n,o=Object.keys(r);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},f.prototype.listeners=function(t){return _(this,t,!0)},f.prototype.rawListeners=function(t){return _(this,t,!1)},f.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):w.call(t,e)},f.prototype.listenerCount=w,f.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(t,e,r){"use strict";var n=r(446),o=r(441),l=r(429).extendFlat,c=r(444).overrideAll;t.exports=c({thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",dflt:1.02,min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",dflt:.5,min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{valType:"number",min:0,dflt:10},outlinecolor:n.linecolor,outlinewidth:n.linewidth,bordercolor:n.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:n.tickmode,nticks:n.nticks,tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:l({},n.ticks,{dflt:""}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside bottom","inside bottom"],dflt:"outside"},ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,showticklabels:n.showticklabels,tickfont:o({}),tickangle:n.tickangle,tickformat:n.tickformat,tickformatstops:n.tickformatstops,tickprefix:n.tickprefix,showtickprefix:n.showtickprefix,ticksuffix:n.ticksuffix,showticksuffix:n.showticksuffix,separatethousands:n.separatethousands,exponentformat:n.exponentformat,minexponent:n.minexponent,showexponent:n.showexponent,title:{text:{valType:"string"},font:o({}),side:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}},_deprecated:{title:{valType:"string"},titlefont:o({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},function(t,e,r){"use strict";t.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},function(t,e,r){"use strict";e.isGrouped=function(t){return-1!==(t.traceorder||"").indexOf("grouped")},e.isVertical=function(t){return"h"!==t.orientation},e.isReversed=function(t){return-1!==(t.traceorder||"").indexOf("reversed")}},function(t,e,r){"use strict";var n=r(421),o=r(425),l=r(459).isUnifiedHover;t.exports=function(t,e,r,c){function f(t){c.font[t]||(c.font[t]=e.legend?e.legend.font[t]:e.font[t])}c=c||{},e&&l(e.hovermode)&&(c.font||(c.font={}),f("size"),f("family"),f("color"),e.legend?(c.bgcolor||(c.bgcolor=o.combine(e.legend.bgcolor,e.paper_bgcolor)),c.bordercolor||(c.bordercolor=e.legend.bordercolor)):c.bgcolor||(c.bgcolor=e.paper_bgcolor)),r("hoverlabel.bgcolor",c.bgcolor),r("hoverlabel.bordercolor",c.bordercolor),r("hoverlabel.namelength",c.namelength),n.coerceFont(r,"hoverlabel.font",c.font),r("hoverlabel.align",c.align)}},function(t,e,r){"use strict";t.exports=function(t){var e=t._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each((function(t){t.regl&&t.regl.clear({color:!0,depth:!0})}))}},function(t,e,r){"use strict";var n=r(423),o=r(422),l=r(431),c=r(421),f=r(545),h=r(425),d=r(427),v=r(504),m=r(805),y=r(426),x=r(438),_=r(645),w=_.enforce,M=_.clean,A=r(506).doAutoRange;function T(t,e,r){for(var i=0;i<r.length;i++){var n=r[i][0],o=r[i][1];if(!(n[0]>=t[1]||n[1]<=t[0])&&(o[0]<e[1]&&o[1]>e[0]))return!0}return!1}function k(t){var i,r,o,f,v,_,w=t._fullLayout,M=w._size,A=M.p,k=y.list(t,"",!0);if(w._paperdiv.style({width:t._context.responsive&&w.autosize&&!t._context._hasZeroWidth&&!t.layout.width?"100%":w.width+"px",height:t._context.responsive&&w.autosize&&!t._context._hasZeroHeight&&!t.layout.height?"100%":w.height+"px"}).selectAll(".main-svg").call(d.setSize,w.width,w.height),t._context.setBackground(t,w.paper_bgcolor),e.drawMainTitle(t),m.manage(t),!w._has("cartesian"))return l.previousPromises(t);function S(t,e,r){var n=t._lw/2;return"x"===t._id.charAt(0)?e?"top"===r?e._offset-A-n:e._offset+e._length+A+n:M.t+M.h*(1-(t.position||0))+n%1:e?"right"===r?e._offset+e._length+A+n:e._offset-A-n:M.l+M.w*(t.position||0)+n%1}for(i=0;i<k.length;i++){var C=(f=k[i])._anchorAxis;f._linepositions={},f._lw=d.crispRound(t,f.linewidth,1),f._mainLinePosition=S(f,C,f.side),f._mainMirrorPosition=f.mirror&&C?S(f,C,x.OPPOSITE_SIDE[f.side]):null}var O=[],R=[],D=[],P=1===h.opacity(w.paper_bgcolor)&&1===h.opacity(w.plot_bgcolor)&&w.paper_bgcolor===w.plot_bgcolor;for(r in w._plots)if((o=w._plots[r]).mainplot)o.bg&&o.bg.remove(),o.bg=void 0;else{var I=o.xaxis.domain,N=o.yaxis.domain,z=o.plotgroup;if(T(I,N,D)){var F=z.node(),j=o.bg=c.ensureSingle(z,"rect","bg");F.insertBefore(j.node(),F.childNodes[0]),R.push(r)}else z.select("rect.bg").remove(),D.push([I,N]),P||(O.push(r),R.push(r))}var B,U,H,V,Y,G,W,X,Z,J,Q,K,$,tt=w._bgLayer.selectAll(".bg").data(O);for(tt.enter().append("rect").classed("bg",!0),tt.exit().remove(),tt.each((function(t){w._plots[t].bg=n.select(this)})),i=0;i<R.length;i++)o=w._plots[R[i]],v=o.xaxis,_=o.yaxis,o.bg&&void 0!==v._offset&&void 0!==_._offset&&o.bg.call(d.setRect,v._offset-A,_._offset-A,v._length+2*A,_._length+2*A).call(h.fill,w.plot_bgcolor).style("stroke-width",0);if(!w._hasOnlyLargeSploms)for(r in w._plots){o=w._plots[r],v=o.xaxis,_=o.yaxis;var et,nt,it=o.clipId="clip"+w._uid+r+"plot",at=c.ensureSingleById(w._clips,"clipPath",it,(function(s){s.classed("plotclip",!0).append("rect")}));o.clipRect=at.select("rect").attr({width:v._length,height:_._length}),d.setTranslate(o.plot,v._offset,_._offset),o._hasClipOnAxisFalse?(et=null,nt=it):(et=it,nt=null),d.setClipUrl(o.plot,et,t),o.layerClipId=nt}function ot(t){return"M"+B+","+t+"H"+U}function st(t){return"M"+v._offset+","+t+"h"+v._length}function lt(t){return"M"+t+","+X+"V"+W}function ut(t){return"M"+t+","+_._offset+"v"+_._length}function ct(t,e,n){if(!t.showline||r!==t._mainSubplot)return"";if(!t._anchorAxis)return n(t._mainLinePosition);var o=e(t._mainLinePosition);return t.mirror&&(o+=e(t._mainMirrorPosition)),o}for(r in w._plots){o=w._plots[r],v=o.xaxis,_=o.yaxis;var ft="M0,0";E(v,r)&&(Y=L(v,"left",_,k),B=v._offset-(Y?A+Y:0),G=L(v,"right",_,k),U=v._offset+v._length+(G?A+G:0),H=S(v,_,"bottom"),V=S(v,_,"top"),!($=!v._anchorAxis||r!==v._mainSubplot)||"allticks"!==v.mirror&&"all"!==v.mirror||(v._linepositions[r]=[H,V]),ft=ct(v,ot,st),$&&v.showline&&("all"===v.mirror||"allticks"===v.mirror)&&(ft+=ot(H)+ot(V)),o.xlines.style("stroke-width",v._lw+"px").call(h.stroke,v.showline?v.linecolor:"rgba(0,0,0,0)")),o.xlines.attr("d",ft);var ht="M0,0";E(_,r)&&(Q=L(_,"bottom",v,k),W=_._offset+_._length+(Q?A:0),K=L(_,"top",v,k),X=_._offset-(K?A:0),Z=S(_,v,"left"),J=S(_,v,"right"),!($=!_._anchorAxis||r!==_._mainSubplot)||"allticks"!==_.mirror&&"all"!==_.mirror||(_._linepositions[r]=[Z,J]),ht=ct(_,lt,ut),$&&_.showline&&("all"===_.mirror||"allticks"===_.mirror)&&(ht+=lt(Z)+lt(J)),o.ylines.style("stroke-width",_._lw+"px").call(h.stroke,_.showline?_.linecolor:"rgba(0,0,0,0)")),o.ylines.attr("d",ht)}return y.makeClipPaths(t),l.previousPromises(t)}function E(t,e){return(t.ticks||t.showline)&&(e===t._mainSubplot||"all"===t.mirror||"allticks"===t.mirror)}function S(t,e,r){if(!r.showline||!r._lw)return!1;if("all"===r.mirror||"allticks"===r.mirror)return!0;var n=r._anchorAxis;if(!n)return!1;var o=x.FROM_BL[e];return r.side===e?n.domain[o]===t.domain[o]:r.mirror&&n.domain[1-o]===t.domain[1-o]}function L(t,e,r,n){if(S(t,e,r))return r._lw;for(var i=0;i<n.length;i++){var o=n[i];if(o._mainAxis===r._mainAxis&&S(t,e,o))return o._lw}return 0}function C(t,e){var title=t.title,r=t._size,n=0;switch("start"===e?n=title.pad.l:"end"===e&&(n=-title.pad.r),title.xref){case"paper":return r.l+r.w*title.x+n;case"container":default:return t.width*title.x+n}}function O(t,e){var title=t.title,r=t._size,n=0;if("0em"!==e&&e?e===x.CAP_SHIFT+"em"&&(n=title.pad.t):n=-title.pad.b,"auto"===title.y)return r.t/2;switch(title.yref){case"paper":return r.t+r.h-r.h*title.y+n;case"container":default:return t.height-t.height*title.y+n}}e.layoutStyles=function(t){return c.syncOrAsync([l.doAutoMargin,k],t)},e.drawMainTitle=function(t){var e=t._fullLayout,r=function(t){var title=t.title,e="middle";c.isRightAnchor(title)?e="end":c.isLeftAnchor(title)&&(e="start");return e}(e),n=function(t){var title=t.title,e="0em";c.isTopAnchor(title)?e=x.CAP_SHIFT+"em":c.isMiddleAnchor(title)&&(e=x.MID_SHIFT+"em");return e}(e);v.draw(t,"gtitle",{propContainer:e,propName:"title.text",placeholder:e._dfltTitle.plot,attributes:{x:C(e,r),y:O(e,n),"text-anchor":r,dy:n}})},e.doTraceStyle=function(t){var i,r=t.calcdata,n=[];for(i=0;i<r.length;i++){var c=r[i],h=c[0]||{},d=h.trace||{},v=d._module||{},m=v.arraysToCalcdata;m&&m(c,d);var y=v.editStyle;y&&n.push({fn:y,cd0:h})}if(n.length){for(i=0;i<n.length;i++){var x=n[i];x.fn(t,x.cd0)}f(t),e.redrawReglTraces(t)}return l.style(t),o.getComponentMethod("legend","draw")(t),l.previousPromises(t)},e.doColorBars=function(t){return o.getComponentMethod("colorbar","draw")(t),l.previousPromises(t)},e.layoutReplot=function(t){var e=t.layout;return t.layout=void 0,o.call("plot",t,"",e)},e.doLegend=function(t){return o.getComponentMethod("legend","draw")(t),l.previousPromises(t)},e.doTicksRelayout=function(t){return y.draw(t,"redraw"),t._fullLayout._hasOnlyLargeSploms&&(o.subplotsRegistry.splom.updateGrid(t),f(t),e.redrawReglTraces(t)),e.drawMainTitle(t),l.previousPromises(t)},e.doModeBar=function(t){var e=t._fullLayout;m.manage(t);for(var i=0;i<e._basePlotModules.length;i++){var r=e._basePlotModules[i].updateFx;r&&r(t)}return l.previousPromises(t)},e.doCamera=function(t){for(var e=t._fullLayout,r=e._subplots.gl3d,i=0;i<r.length;i++){var n=e[r[i]];n._scene.setViewport(n)}},e.drawData=function(t){var r=t._fullLayout;f(t);for(var n=r._basePlotModules,i=0;i<n.length;i++)n[i].plot(t);return e.redrawReglTraces(t),l.style(t),o.getComponentMethod("shapes","draw")(t),o.getComponentMethod("annotations","draw")(t),o.getComponentMethod("images","draw")(t),r._replotting=!1,l.previousPromises(t)},e.redrawReglTraces=function(t){var e=t._fullLayout;if(e._has("regl")){var i,r,n=t._fullData,o=[],l=[];for(e._hasOnlyLargeSploms&&e._splomGrid.draw(),i=0;i<n.length;i++){var f=n[i];!0===f.visible&&0!==f._length&&("splom"===f.type?e._splomScenes[f.uid].draw():"scattergl"===f.type?c.pushUnique(o,f.xaxis+f.yaxis):"scatterpolargl"===f.type&&c.pushUnique(l,f.subplot))}for(i=0;i<o.length;i++)(r=e._plots[o[i]])._scene&&r._scene.draw();for(i=0;i<l.length;i++)(r=e[l[i]]._subplot)._scene&&r._scene.draw()}},e.doAutoRangeAndConstraints=function(t){for(var e,r=y.list(t,"",!0),n={},i=0;i<r.length;i++)if(!n[(e=r[i])._id]){n[e._id]=1,M(t,e),A(t,e);var o=e._matchGroup;if(o)for(var l in o){var c=y.getFromId(t,l);A(t,c,e.range),n[l]=1}}w(t)},e.finalDraw=function(t){o.getComponentMethod("rangeslider","draw")(t),o.getComponentMethod("rangeselector","draw")(t)},e.drawMarginPushers=function(t){o.getComponentMethod("legend","draw")(t),o.getComponentMethod("rangeselector","draw")(t),o.getComponentMethod("sliders","draw")(t),o.getComponentMethod("updatemenus","draw")(t),o.getComponentMethod("colorbar","draw")(t)}},function(t,e,r){"use strict";t.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},function(t,e,r){"use strict";t.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},function(t,e,r){"use strict";var n=r(421).strTranslate;function o(t,e){switch(t.type){case"log":return t.p2d(e);case"date":return t.p2r(e,0,t.calendar);default:return t.p2r(e)}}t.exports={p2r:o,r2p:function(t,e){switch(t.type){case"log":return t.d2p(e);case"date":return t.r2p(e,0,t.calendar);default:return t.r2p(e)}},axValue:function(t){var e="y"===t._id.charAt(0)?1:0;return function(r){return o(t,r[e])}},getTransform:function(t){return n(t.xaxis._offset,t.yaxis._offset)}}},function(t,e,r){"use strict";t.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},function(t,e,r){"use strict";var n=r(550),o=r(421);e.rangeToShapePosition=function(t){return"log"===t.type?t.r2d:function(t){return t}},e.shapePositionToRange=function(t){return"log"===t.type?t.d2r:function(t){return t}},e.decodeDate=function(t){return function(e){return e.replace&&(e=e.replace("_"," ")),t(e)}},e.encodeDate=function(t){return function(e){return t(e).replace(" ","_")}},e.extractPathCoords=function(path,t){var e=[];return path.match(n.segmentRE).forEach((function(r){var l=t[r.charAt(0)].drawn;if(void 0!==l){var c=r.substr(1).match(n.paramRE);!c||c.length<l||e.push(o.cleanNumber(c[l]))}})),e},e.getDataToPixel=function(t,r,n,o){var l,c=t._fullLayout._size;if(r)if("domain"===o)l=function(t){return r._length*(n?1-t:t)+r._offset};else{var f=e.shapePositionToRange(r);l=function(t){return r._offset+r.r2p(f(t,!0))},"date"===r.type&&(l=e.decodeDate(l))}else l=n?function(t){return c.t+c.h*(1-t)}:function(t){return c.l+c.w*t};return l},e.getPixelToData=function(t,r,n,o){var l,c=t._fullLayout._size;if(r)if("domain"===o)l=function(p){var q=(p-r._offset)/r._length;return n?1-q:q};else{var f=e.rangeToShapePosition(r);l=function(p){return f(r.p2r(p-r._offset))}}else l=n?function(p){return 1-(p-c.t)/c.h}:function(p){return(p-c.l)/c.w};return l},e.roundPositionForSharpStrokeRendering=function(t,e){var r=1===Math.round(e%2),n=Math.round(t);return r?n+.5:n},e.makeOptionsAndPlotinfo=function(t,e){var r=t._fullLayout.shapes[e]||{},n=t._fullLayout._plots[r.xref+r.yref];return!!n?n._hadPlotinfo=!0:(n={},r.xref&&"paper"!==r.xref&&(n.xaxis=t._fullLayout[r.xref+"axis"]),r.yref&&"paper"!==r.yref&&(n.yaxis=t._fullLayout[r.yref+"axis"])),n.xsizemode=r.xsizemode,n.ysizemode=r.ysizemode,n.xanchor=r.xanchor,n.yanchor=r.yanchor,{options:r,plotinfo:n}}},function(t,e,r){"use strict";var n=r(423),o=r(421),l=r(427),c=r(425),f=r(463),h=/"/g,d=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");t.exports=function(t,e,r){var i,v=t._fullLayout,svg=v._paper,m=v._toppaper,y=v.width,x=v.height;svg.insert("rect",":first-child").call(l.setRect,0,0,y,x).call(c.fill,v.paper_bgcolor);var _=v._basePlotModules||[];for(i=0;i<_.length;i++){var w=_[i];w.toSVG&&w.toSVG(t)}if(m){var M=m.node().childNodes,A=Array.prototype.slice.call(M);for(i=0;i<A.length;i++){var T=A[i];T.childNodes.length&&svg.node().appendChild(T)}}if(v._draggers&&v._draggers.remove(),svg.node().style.background="",svg.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each((function(){var t=n.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){t.style({visibility:null,display:null});var e=this.style.fontFamily;e&&-1!==e.indexOf('"')&&t.style("font-family",e.replace(h,"TOBESTRIPPED"))}else t.remove()})),v._gradientUrlQueryParts){var k=[];for(var E in v._gradientUrlQueryParts)k.push(E);k.length&&svg.selectAll(k.join(",")).each((function(){var t=n.select(this),e=this.style.fill;e&&-1!==e.indexOf("url(")&&t.style("fill",e.replace(h,"TOBESTRIPPED"));var r=this.style.stroke;r&&-1!==r.indexOf("url(")&&t.style("stroke",r.replace(h,"TOBESTRIPPED"))}))}"pdf"!==e&&"eps"!==e||svg.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),svg.node().setAttributeNS(f.xmlns,"xmlns",f.svg),svg.node().setAttributeNS(f.xmlns,"xmlns:xlink",f.xlink),"svg"===e&&r&&(svg.attr("width",r*y),svg.attr("height",r*x),svg.attr("viewBox","0 0 "+y+" "+x));var s=(new window.XMLSerializer).serializeToString(svg.node());return s=function(s){var t=n.select("body").append("div").style({display:"none"}).html(""),e=s.replace(/(&[^;]*;)/gi,(function(e){return"&lt;"===e?"&#60;":"&rt;"===e?"&#62;":-1!==e.indexOf("<")||-1!==e.indexOf(">")?"":t.html(e).text()}));return t.remove(),e}(s),s=(s=s.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(d,"'"),o.isIE()&&(s=(s=(s=s.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),s}},function(t,e,r){"use strict";var n=r(421),o=r(540).EventEmitter,l=r(483);t.exports=function(t){var e=t.emitter||new o,r=new Promise((function(o,c){var f=window.Image,svg=t.svg,h=t.format||"png";if(n.isIE()&&"svg"!==h){var d=new Error(l.MSG_IE_BAD_FORMAT);return c(d),t.promise?r:e.emit("error",d)}var v,m,canvas=t.canvas,y=t.scale||1,x=t.width||300,_=t.height||150,w=y*x,h1=y*_,M=canvas.getContext("2d"),img=new f;"svg"===h||n.isIE9orBelow()||n.isSafari()?m=l.encodeSVG(svg):(v=l.createBlob(svg,"svg"),m=l.createObjectURL(v)),canvas.width=w,canvas.height=h1,img.onload=function(){var r;switch(v=null,l.revokeObjectURL(m),"svg"!==h&&M.drawImage(img,0,0,w,h1),h){case"jpeg":r=canvas.toDataURL("image/jpeg");break;case"png":r=canvas.toDataURL("image/png");break;case"webp":r=canvas.toDataURL("image/webp");break;case"svg":r=m;break;default:var n="Image format is not jpeg, png, svg or webp.";if(c(new Error(n)),!t.promise)return e.emit("error",n)}o(r),t.promise||e.emit("success",r)},img.onerror=function(r){if(v=null,l.revokeObjectURL(m),c(r),!t.promise)return e.emit("error",r)},img.src=m}));return t.promise?r:e}},function(t,e,r){"use strict";var n=r(424),o=r(421),l=o.dateTime2ms,c=o.incrementMonth,f=r(430).ONEAVGMONTH;t.exports=function(t,e,r,o){if("date"!==e.type)return o;var h=t[r+"periodalignment"];if(!h)return o;var d,v=t[r+"period"];if(n(v)){if((v=+v)<=0)return o}else if("string"==typeof v&&"M"===v.charAt(0)){var m=+v.substring(1);if(!(m>0&&Math.round(m)===m))return o;d=m}for(var y=e.calendar,x="start"===h,_="end"===h,w=t[r+"period0"],base=l(w,y)||0,M=[],A=o.length,i=0;i<A;i++){var T,k,E,S=o[i];if(d){for(T=Math.round((S-base)/(d*f)),E=c(base,d*T,y);E>S;)E=c(E,-d,y);for(;E<=S;)E=c(E,d,y);k=c(E,-d,y)}else{for(E=base+(T=Math.round((S-base)/v))*v;E>S;)E-=v;for(;E<=S;)E+=v;k=E-v}M[i]=x?k:_?E:(k+E)/2}return M}},function(t,e,r){"use strict";var n=r(421);t.exports=function(t,e){for(var i=0;i<t.length;i++)t[i].i=i;n.mergeArray(e.text,t,"tx"),n.mergeArray(e.texttemplate,t,"txt"),n.mergeArray(e.hovertext,t,"htx"),n.mergeArray(e.customdata,t,"data"),n.mergeArray(e.textposition,t,"tp"),e.textfont&&(n.mergeArrayCastPositive(e.textfont.size,t,"ts"),n.mergeArray(e.textfont.color,t,"tc"),n.mergeArray(e.textfont.family,t,"tf"));var marker=e.marker;if(marker){n.mergeArrayCastPositive(marker.size,t,"ms"),n.mergeArrayCastPositive(marker.opacity,t,"mo"),n.mergeArray(marker.symbol,t,"mx"),n.mergeArray(marker.color,t,"mc");var r=marker.line;marker.line&&(n.mergeArray(r.color,t,"mlc"),n.mergeArrayCastPositive(r.width,t,"mlw"));var o=marker.gradient;o&&"none"!==o.type&&(n.mergeArray(o.type,t,"mgt"),n.mergeArray(o.color,t,"mgc"))}}},function(t,e,r){"use strict";var n=r(423),o=r(422),l=r(421),c=r(431),f=r(427),h=r(503).getModuleCalcData,d=r(432),v=r(434),m=r(463),y=l.ensureSingle;function x(t,e,r){return l.ensureSingle(t,e,r,(function(s){s.datum(r)}))}function _(t,e,r,l,c){for(var d,m,y,x=v.traceLayerClasses,_=t._fullLayout,w=_._modules,M=[],A=[],i=0;i<w.length;i++){var T=(d=w[i]).name,k=o.modules[T].categories;if(k.svg){var E=d.layerName||T+"layer",S=d.plot;y=(m=h(r,S))[0],r=m[1],y.length&&M.push({i:x.indexOf(E),className:E,plotMethod:S,cdModule:y}),k.zoomScale&&A.push("."+E)}}M.sort((function(a,b){return a.i-b.i}));var L=e.plot.selectAll("g.mlayer").data(M,(function(t){return t.className}));if(L.enter().append("g").attr("class",(function(t){return t.className})).classed("mlayer",!0).classed("rangeplot",e.isRangePlot),L.exit().remove(),L.order(),L.each((function(r){var o=n.select(this),h=r.className;r.plotMethod(t,e,r.cdModule,o,l,c),-1===v.clipOnAxisFalseQuery.indexOf("."+h)&&f.setClipUrl(o,e.layerClipId,t)})),_._has("scattergl")&&(d=o.getModule("scattergl"),y=h(r,d)[0],d.plot(t,e,y)),!t._context.staticPlot&&(e._hasClipOnAxisFalse&&(e.clipOnAxisFalseTraces=e.plot.selectAll(v.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),A.length)){var C=e.plot.selectAll(A.join(",")).selectAll(".trace");e.zoomScalePts=C.selectAll("path.point"),e.zoomScaleTxt=C.selectAll(".textpoint")}}function w(t,e){var r=e.plotgroup,n=e.id,o=v.layerValue2layerClass[e.xaxis.layer],l=v.layerValue2layerClass[e.yaxis.layer],c=t._fullLayout._hasOnlyLargeSploms;if(e.mainplot){var f=e.mainplotinfo,h=f.plotgroup,m=n+"-x",_=n+"-y";e.gridlayer=f.gridlayer,e.zerolinelayer=f.zerolinelayer,y(f.overlinesBelow,"path",m),y(f.overlinesBelow,"path",_),y(f.overaxesBelow,"g",m),y(f.overaxesBelow,"g",_),e.plot=y(f.overplot,"g",n),y(f.overlinesAbove,"path",m),y(f.overlinesAbove,"path",_),y(f.overaxesAbove,"g",m),y(f.overaxesAbove,"g",_),e.xlines=h.select(".overlines-"+o).select("."+m),e.ylines=h.select(".overlines-"+l).select("."+_),e.xaxislayer=h.select(".overaxes-"+o).select("."+m),e.yaxislayer=h.select(".overaxes-"+l).select("."+_)}else if(c)e.xlines=y(r,"path","xlines-above"),e.ylines=y(r,"path","ylines-above"),e.xaxislayer=y(r,"g","xaxislayer-above"),e.yaxislayer=y(r,"g","yaxislayer-above");else{var w=y(r,"g","layer-subplot");e.shapelayer=y(w,"g","shapelayer"),e.imagelayer=y(w,"g","imagelayer"),e.gridlayer=y(r,"g","gridlayer"),e.zerolinelayer=y(r,"g","zerolinelayer"),y(r,"path","xlines-below"),y(r,"path","ylines-below"),e.overlinesBelow=y(r,"g","overlines-below"),y(r,"g","xaxislayer-below"),y(r,"g","yaxislayer-below"),e.overaxesBelow=y(r,"g","overaxes-below"),e.plot=y(r,"g","plot"),e.overplot=y(r,"g","overplot"),e.xlines=y(r,"path","xlines-above"),e.ylines=y(r,"path","ylines-above"),e.overlinesAbove=y(r,"g","overlines-above"),y(r,"g","xaxislayer-above"),y(r,"g","yaxislayer-above"),e.overaxesAbove=y(r,"g","overaxes-above"),e.xlines=r.select(".xlines-"+o),e.ylines=r.select(".ylines-"+l),e.xaxislayer=r.select(".xaxislayer-"+o),e.yaxislayer=r.select(".yaxislayer-"+l)}c||(x(e.gridlayer,"g",e.xaxis._id),x(e.gridlayer,"g",e.yaxis._id),e.gridlayer.selectAll("g").map((function(t){return t[0]})).sort(d.idSort)),e.xlines.style("fill","none").classed("crisp",!0),e.ylines.style("fill","none").classed("crisp",!0)}function M(t,e){if(t){var r={};for(var o in t.each((function(t){var o=t[0];n.select(this).remove(),A(o,e),r[o]=!0})),e._plots)for(var l=e._plots[o].overlays||[],c=0;c<l.length;c++){var f=l[c];r[f.id]&&f.plot.selectAll(".trace").remove()}}}function A(t,e){e._draggers.selectAll("g."+t).remove(),e._defs.select("#clip"+e._uid+t+"plot").remove()}e.name="cartesian",e.attr=["xaxis","yaxis"],e.idRoot=["x","y"],e.idRegex=v.idRegex,e.attrRegex=v.attrRegex,e.attributes=r(840),e.layoutAttributes=r(446),e.supplyLayoutDefaults=r(841),e.transitionAxes=r(844),e.finalizeSubplots=function(t,e){var i,r,n,o=e._subplots,c=o.xaxis,f=o.yaxis,h=o.cartesian,m=h.concat(o.gl2d||[]),y={},x={};for(i=0;i<m.length;i++){var _=m[i].split("y");y[_[0]]=1,x["y"+_[1]]=1}for(i=0;i<c.length;i++)y[r=c[i]]||(n=(t[d.id2name(r)]||{}).anchor,v.idRegex.y.test(n)||(n="y"),h.push(r+n),m.push(r+n),x[n]||(x[n]=1,l.pushUnique(f,n)));for(i=0;i<f.length;i++)x[n=f[i]]||(r=(t[d.id2name(n)]||{}).anchor,v.idRegex.x.test(r)||(r="x"),h.push(r+n),m.push(r+n),y[r]||(y[r]=1,l.pushUnique(c,r)));if(!m.length){for(var w in r="",n="",t){if(v.attrRegex.test(w))"x"===w.charAt(0)?(!r||+w.substr(5)<+r.substr(5))&&(r=w):(!n||+w.substr(5)<+n.substr(5))&&(n=w)}r=r?d.name2id(r):"x",n=n?d.name2id(n):"y",c.push(r),f.push(n),h.push(r+n)}},e.plot=function(t,e,r,n){var i,o=t._fullLayout,l=o._subplots.cartesian,c=t.calcdata;if(!Array.isArray(e))for(e=[],i=0;i<c.length;i++)e.push(i);for(i=0;i<l.length;i++){for(var f,h=l[i],d=o._plots[h],v=[],m=0;m<c.length;m++){var y=c[m],x=y[0].trace;x.xaxis+x.yaxis===h&&((-1!==e.indexOf(x.index)||x.carpet)&&(f&&f[0].trace.xaxis+f[0].trace.yaxis===h&&-1!==["tonextx","tonexty","tonext"].indexOf(x.fill)&&-1===v.indexOf(f)&&v.push(f),v.push(y)),f=y)}_(t,d,v,r,n)}},e.clean=function(t,e,r,n){var o,i,l,c=n._plots||{},f=e._plots||{},h=n._subplots||{};if(n._hasOnlyLargeSploms&&!e._hasOnlyLargeSploms)for(l in c)(o=c[l]).plotgroup&&o.plotgroup.remove();var v=n._has&&n._has("gl"),m=e._has&&e._has("gl");if(v&&!m)for(l in c)(o=c[l])._scene&&o._scene.destroy();if(h.xaxis&&h.yaxis){var y=d.listIds({_fullLayout:n});for(i=0;i<y.length;i++){var x=y[i];e[d.id2name(x)]||n._infolayer.selectAll(".g-"+x+"title").remove()}}var _=n._has&&n._has("cartesian"),w=e._has&&e._has("cartesian");if(_&&!w)M(n._cartesianlayer.selectAll(".subplot"),n),n._defs.selectAll(".axesclip").remove(),delete n._axisConstraintGroups,delete n._axisMatchGroups;else if(h.cartesian)for(i=0;i<h.cartesian.length;i++){var T=h.cartesian[i];if(!f[T]){var k="."+T+",."+T+"-x,."+T+"-y";n._cartesianlayer.selectAll(k).remove(),A(T,n)}}},e.drawFramework=function(t){var e=t._fullLayout,r=function(t){var i,e,r,n,o,l,c=t._fullLayout,f=c._subplots.cartesian,h=f.length,d=[],v=[];for(i=0;i<h;i++){r=f[i],n=c._plots[r],o=n.xaxis,l=n.yaxis;var m=o._mainAxis,y=l._mainAxis,x=m._id+y._id,_=c._plots[x];n.overlays=[],x!==r&&_?(n.mainplot=x,n.mainplotinfo=_,v.push(r)):(n.mainplot=void 0,n.mainplotinfo=void 0,d.push(r))}for(i=0;i<v.length;i++)r=v[i],(n=c._plots[r]).mainplotinfo.overlays.push(n);var w=d.concat(v),M=new Array(h);for(i=0;i<h;i++){r=w[i],n=c._plots[r],o=n.xaxis,l=n.yaxis;var A=[r,o.layer,l.layer,o.overlaying||"",l.overlaying||""];for(e=0;e<n.overlays.length;e++)A.push(n.overlays[e].id);M[i]=A}return M}(t),o=e._cartesianlayer.selectAll(".subplot").data(r,String);o.enter().append("g").attr("class",(function(t){return"subplot "+t[0]})),o.order(),o.exit().call(M,e),o.each((function(r){var o=r[0],l=e._plots[o];l.plotgroup=n.select(this),w(t,l),l.draglayer=y(e._draggers,"g",o)}))},e.rangePlot=function(t,e,r){w(t,e),_(t,e,r),c.style(t)},e.toSVG=function(t){var e=t._fullLayout._glimages,r=n.select(t).selectAll(".svg-container");r.filter((function(t,i){return i===r.size()-1})).selectAll(".gl-canvas-context, .gl-canvas-focus").each((function(){var t=this.toDataURL("image/png");e.append("svg:image").attr({xmlns:m.svg,"xlink:href":t,preserveAspectRatio:"none",x:0,y:0,width:this.width,height:this.height})}))},e.updateFx=r(632).updateFx},function(t,e,r){"use strict";var n=r(424),o=r(422),l=r(421),c=r(458),f=r(446),h=r(625),d=r(627),v=r(628),m=r(842),y=r(843),x=r(505),_=r(434).WEEKDAY_PATTERN,w=r(434).HOUR_PATTERN;function M(t,e,r){function o(r,n){return l.coerce(t,e,f.rangebreaks,r,n)}if(o("enabled")){var c=o("bounds");if(c&&c.length>=2){var i,q,h="";if(2===c.length)for(i=0;i<2;i++)if(q=T(c[i])){h=_;break}var pattern=o("pattern",h);if(pattern===_)for(i=0;i<2;i++)(q=T(c[i]))&&(e.bounds[i]=c[i]=q-1);if(pattern)for(i=0;i<2;i++)switch(q=c[i],pattern){case _:if(!n(q))return void(e.enabled=!1);if((q=+q)!==Math.floor(q)||q<0||q>=7)return void(e.enabled=!1);e.bounds[i]=c[i]=q;break;case w:if(!n(q))return void(e.enabled=!1);if((q=+q)<0||q>24)return void(e.enabled=!1);e.bounds[i]=c[i]=q}if(!1===r.autorange){var d=r.range;if(d[0]<d[1]){if(c[0]<d[0]&&c[1]>d[1])return void(e.enabled=!1)}else if(c[0]>d[0]&&c[1]<d[1])return void(e.enabled=!1)}}else{var v=o("values");if(!v||!v.length)return void(e.enabled=!1);o("dvalue")}}}t.exports=function(t,e,r,n,w){var A,T=n.letter,k=n.font||{},E=n.splomStash||{},S=r("visible",!n.visibleDflt),L=e._template||{},C=e.type||L.type||"-";"date"===C&&(o.getComponentMethod("calendars","handleDefaults")(t,e,"calendar",n.calendar),n.noTicklabelmode||(A=r("ticklabelmode")));n.noTicklabelposition&&"multicategory"!==C||l.coerce(t,e,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===A?["outside","inside"]:"x"===T?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition"),x(e,w);var O=!e.isValidRange(t.range);O&&n.reverseDflt&&(O="reversed"),!r("autorange",O)||"linear"!==C&&"-"!==C||r("rangemode"),r("range"),e.cleanRange(),m(t,e,r,n),"category"===C||n.noHover||r("hoverformat");var R=r("color"),D=R!==f.color.dflt?R:k.color,P=E.label||w._dfltTitle[T];if(v(t,e,r,C,n,{pass:1}),!S)return e;r("title.text",P),l.coerceFont(r,"title.font",{family:k.family,size:Math.round(1.2*k.size),color:D}),h(t,e,r,C),v(t,e,r,C,n,{pass:2}),d(t,e,r,n),y(t,e,r,{dfltColor:R,bgColor:n.bgColor,showGrid:n.showGrid,attributes:f}),(e.showline||e.ticks)&&r("mirror"),n.automargin&&r("automargin");var I,N="multicategory"===C;n.noTickson||"category"!==C&&!N||!e.ticks&&!e.showgrid||(N&&(I="boundaries"),"boundaries"===r("tickson",I)&&delete e.ticklabelposition);N&&(r("showdividers")&&(r("dividercolor"),r("dividerwidth")));if("date"===C)if(c(t,e,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:M}),e.rangebreaks.length){for(var z=0;z<e.rangebreaks.length;z++)if(e.rangebreaks[z].pattern===_){e._hasDayOfWeekBreaks=!0;break}if(x(e,w),w._has("scattergl")||w._has("splom"))for(var i=0;i<n.data.length;i++){var F=n.data[i];"scattergl"!==F.type&&"splom"!==F.type||(F.visible=!1,l.warn(F.type+" traces do not work on axes with rangebreaks. Setting trace "+F.index+" to `visible: false`."))}}else delete e.rangebreaks;return e};var A={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function T(t){if("string"==typeof t)return A[t.substr(0,3).toLowerCase()]}},function(t,e,r){"use strict";var n=r(423),o=r(422),l=r(431),c=r(421),f=c.strTranslate,h=r(426),d=r(425),v=r(427),m=r(460),y=r(440),x=r(476),_=r(450),w=r(428).arrayEditor,M=r(847);function A(t,e){var r=t._fullLayout.annotations[e]||{},n=h.getFromId(t,r.xref),o=h.getFromId(t,r.yref);n&&n.setScale(),o&&o.setScale(),k(t,r,e,!1,n,o)}function T(t,e,r,n,o){var l=o[r],c=o[r+"ref"],f=-1!==r.indexOf("y"),d="domain"===h.getRefType(c),v=f?n.h:n.w;return t?d?l+(f?-e:e)/t._length:t.p2r(t.r2p(l)+e):l+(f?-e:e)/v}function k(t,e,r,l,A,k){var E,S,L=t._fullLayout,C=t._fullLayout._size,O=t._context.edits;l?(E="annotation-"+l,S=l+".annotations"):(E="annotation",S="annotations");var R=w(t.layout,S,e),D=R.modifyBase,P=R.modifyItem,I=R.getUpdateObj;L._infolayer.selectAll("."+E+'[data-index="'+r+'"]').remove();var N="clip"+L._uid+"_ann"+r;if(e._input&&!1!==e.visible){var z={x:{},y:{}},F=+e.textangle||0,j=L._infolayer.append("g").classed(E,!0).attr("data-index",String(r)).style("opacity",e.opacity),B=j.append("g").classed("annotation-text-g",!0),U=O[e.showarrow?"annotationTail":"annotationPosition"],H=e.captureevents||O.annotationText||U,V=B.append("g").style("pointer-events",H?"all":null).call(x,"pointer").on("click",(function(){t._dragging=!1,t.emit("plotly_clickannotation",$(n.event))}));e.hovertext&&V.on("mouseover",(function(){var r=e.hoverlabel,n=r.font,o=this.getBoundingClientRect(),l=t.getBoundingClientRect();m.loneHover({x0:o.left-l.left,x1:o.right-l.left,y:(o.top+o.bottom)/2-l.top,text:e.hovertext,color:r.bgcolor,borderColor:r.bordercolor,fontFamily:n.family,fontSize:n.size,fontColor:n.color},{container:L._hoverlayer.node(),outerContainer:L._paper.node(),gd:t})})).on("mouseout",(function(){m.loneUnhover(L._hoverlayer.node())}));var Y=e.borderwidth,G=e.borderpad,W=Y+G,X=V.append("rect").attr("class","bg").style("stroke-width",Y+"px").call(d.stroke,e.bordercolor).call(d.fill,e.bgcolor),Z=e.width||e.height,J=L._topclips.selectAll("#"+N).data(Z?[0]:[]);J.enter().append("clipPath").classed("annclip",!0).attr("id",N).append("rect"),J.exit().remove();var Q=e.font,text=L._meta?c.templateString(e.text,L._meta):e.text,K=V.append("text").classed("annotation-text",!0).text(text);O.annotationText?K.call(y.makeEditable,{delegate:V,gd:t}).call(tt).on("edit",(function(r){e.text=r,this.call(tt),P("text",r),A&&A.autorange&&D(A._name+".autorange",!0),k&&k.autorange&&D(k._name+".autorange",!0),o.call("_guiRelayout",t,I())})):K.call(tt)}else n.selectAll("#"+N).remove();function $(t){var n={index:r,annotation:e._input,fullAnnotation:e,event:t};return l&&(n.subplotId=l),n}function tt(s){return s.call(v.font,Q).attr({"text-anchor":{left:"start",right:"end"}[e.align]||"middle"}),y.convertToTspans(s,t,et),s}function et(){var r=K.selectAll("a");1===r.size()&&r.text()===K.text()&&V.insert("a",":first-child").attr({"xlink:xlink:href":r.attr("xlink:href"),"xlink:xlink:show":r.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(X.node());var n=V.select(".annotation-text-math-group"),m=!n.empty(),w=v.bBox((m?n:K).node()),E=w.width,S=w.height,R=e.width||E,H=e.height||S,G=Math.round(R+2*W),Q=Math.round(H+2*W);function tt(t,e){return"auto"===e&&(e=t<1/3?"left":t>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[e]}for(var et=!1,nt=["x","y"],i=0;i<nt.length;i++){var it,at,ot,st,lt,ut=nt[i],ct=e[ut+"ref"]||ut,ft=e["a"+ut+"ref"],ht={x:A,y:k}[ut],pt=(F+("x"===ut?0:-90))*Math.PI/180,gt=G*Math.cos(pt),vt=Q*Math.sin(pt),mt=Math.abs(gt)+Math.abs(vt),yt=e[ut+"anchor"],xt=e[ut+"shift"]*("x"===ut?1:-1),bt=z[ut],_t=h.getRefType(ct);if(ht&&"domain"!==_t){var wt=ht.r2fraction(e[ut]);(wt<0||wt>1)&&(ft===ct?((wt=ht.r2fraction(e["a"+ut]))<0||wt>1)&&(et=!0):et=!0),it=ht._offset+ht.r2p(e[ut]),st=.5}else{var Mt="domain"===_t;"x"===ut?(ot=e[ut],it=Mt?ht._offset+ht._length*ot:it=C.l+C.w*ot):(ot=1-e[ut],it=Mt?ht._offset+ht._length*ot:it=C.t+C.h*ot),st=e.showarrow?.5:ot}if(e.showarrow){bt.head=it;var At=e["a"+ut];if(lt=gt*tt(.5,e.xanchor)-vt*tt(.5,e.yanchor),ft===ct){var Tt=h.getRefType(ft);"domain"===Tt?("y"===ut&&(At=1-At),bt.tail=ht._offset+ht._length*At):"paper"===Tt?"y"===ut?(At=1-At,bt.tail=C.t+C.h*At):bt.tail=C.l+C.w*At:bt.tail=ht._offset+ht.r2p(At),at=lt}else bt.tail=it+At,at=lt+At;bt.text=bt.tail+lt;var kt=L["x"===ut?"width":"height"];if("paper"===ct&&(bt.head=c.constrain(bt.head,1,kt-1)),"pixel"===ft){var Et=-Math.max(bt.tail-3,bt.text),St=Math.min(bt.tail+3,bt.text)-kt;Et>0?(bt.tail+=Et,bt.text+=Et):St>0&&(bt.tail-=St,bt.text-=St)}bt.tail+=xt,bt.head+=xt}else at=lt=mt*tt(st,yt),bt.text=it+lt;bt.text+=xt,lt+=xt,at+=xt,e["_"+ut+"padplus"]=mt/2+at,e["_"+ut+"padminus"]=mt/2-at,e["_"+ut+"size"]=mt,e["_"+ut+"shift"]=lt}if(et)V.remove();else{var Lt=0,Ct=0;if("left"!==e.align&&(Lt=(R-E)*("center"===e.align?.5:1)),"top"!==e.valign&&(Ct=(H-S)*("middle"===e.valign?.5:1)),m)n.select("svg").attr({x:W+Lt-1,y:W+Ct}).call(v.setClipUrl,Z?N:null,t);else{var Ot=W+Ct-w.top,Rt=W+Lt-w.left;K.call(y.positionText,Rt,Ot).call(v.setClipUrl,Z?N:null,t)}J.select("rect").call(v.setRect,W,W,R,H),X.call(v.setRect,Y/2,Y/2,G-Y,Q-Y),V.call(v.setTranslate,Math.round(z.x.text-G/2),Math.round(z.y.text-Q/2)),B.attr({transform:"rotate("+F+","+z.x.text+","+z.y.text+")"});var Dt,Pt=function(r,n){j.selectAll(".annotation-arrow-g").remove();var h=z.x.head,m=z.y.head,y=z.x.tail+r,x=z.y.tail+n,w=z.x.text+r,E=z.y.text+n,S=c.rotationXYMatrix(F,w,E),L=c.apply2DTransform(S),R=c.apply2DTransform2(S),N=+X.attr("width"),U=+X.attr("height"),H=w-.5*N,Y=H+N,G=E-.5*U,W=G+U,Z=[[H,G,H,W],[H,W,Y,W],[Y,W,Y,G],[Y,G,H,G]].map(R);if(!Z.reduce((function(a,t){return a^!!c.segmentsIntersect(h,m,h+1e6,m+1e6,t[0],t[1],t[2],t[3])}),!1)){Z.forEach((function(t){var p=c.segmentsIntersect(y,x,h,m,t[0],t[1],t[2],t[3]);p&&(y=p.x,x=p.y)}));var J=e.arrowwidth,Q=e.arrowcolor,K=e.arrowside,$=j.append("g").style({opacity:d.opacity(Q)}).classed("annotation-arrow-g",!0),tt=$.append("path").attr("d","M"+y+","+x+"L"+h+","+m).style("stroke-width",J+"px").call(d.stroke,d.rgb(Q));if(M(tt,K,e),O.annotationPosition&&tt.node().parentNode&&!l){var et=h,nt=m;if(e.standoff){var it=Math.sqrt(Math.pow(h-y,2)+Math.pow(m-x,2));et+=e.standoff*(y-h)/it,nt+=e.standoff*(x-m)/it}var at,ot,st=$.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(y-et)+","+(x-nt),transform:f(et,nt)}).style("stroke-width",J+6+"px").call(d.stroke,"rgba(0,0,0,0)").call(d.fill,"rgba(0,0,0,0)");_.init({element:st.node(),gd:t,prepFn:function(){var t=v.getTranslate(V);at=t.x,ot=t.y,A&&A.autorange&&D(A._name+".autorange",!0),k&&k.autorange&&D(k._name+".autorange",!0)},moveFn:function(t,r){var n=L(at,ot),o=n[0]+t,l=n[1]+r;V.call(v.setTranslate,o,l),P("x",T(A,t,"x",C,e)),P("y",T(k,r,"y",C,e)),e.axref===e.xref&&P("ax",T(A,t,"ax",C,e)),e.ayref===e.yref&&P("ay",T(k,r,"ay",C,e)),$.attr("transform",f(t,r)),B.attr({transform:"rotate("+F+","+o+","+l+")"})},doneFn:function(){o.call("_guiRelayout",t,I());var e=document.querySelector(".js-notes-box-panel");e&&e.redraw(e.selectedObj)}})}}};if(e.showarrow&&Pt(0,0),U)_.init({element:V.node(),gd:t,prepFn:function(){Dt=B.attr("transform")},moveFn:function(t,r){var n="pointer";if(e.showarrow)e.axref===e.xref?P("ax",T(A,t,"ax",C,e)):P("ax",e.ax+t),e.ayref===e.yref?P("ay",T(k,r,"ay",C.w,e)):P("ay",e.ay+r),Pt(t,r);else{if(l)return;var o,c;if(A)o=T(A,t,"x",C,e);else{var h=e._xsize/C.w,d=e.x+(e._xshift-e.xshift)/C.w-h/2;o=_.align(d+t/C.w,h,0,1,e.xanchor)}if(k)c=T(k,r,"y",C,e);else{var v=e._ysize/C.h,m=e.y-(e._yshift+e.yshift)/C.h-v/2;c=_.align(m-r/C.h,v,0,1,e.yanchor)}P("x",o),P("y",c),A&&k||(n=_.getCursor(A?.5:o,k?.5:c,e.xanchor,e.yanchor))}B.attr({transform:f(t,r)+Dt}),x(V,n)},clickFn:function(r,n){e.captureevents&&t.emit("plotly_clickannotation",$(n))},doneFn:function(){x(V),o.call("_guiRelayout",t,I());var e=document.querySelector(".js-notes-box-panel");e&&e.redraw(e.selectedObj)}})}}}t.exports={draw:function(t){var e=t._fullLayout;e._infolayer.selectAll(".annotation").remove();for(var i=0;i<e.annotations.length;i++)e.annotations[i].visible&&A(t,i);return l.previousPromises(t)},drawOne:A,drawRaw:k}},function(t,e,r){"use strict";t.exports={axisRefDescription:function(t,e,r){return["If set to a",t,"axis id (e.g. *"+t+"* or","*"+t+"2*), the `"+t+"` position refers to a",t,"coordinate. If set to *paper*, the `"+t+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+r+"). If set to a",t,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+t+"2 domain* refers to the domain of the second",t," axis and a",t,"position of 0.5 refers to the","point between the",e,"and the",r,"of the domain of the","second",t,"axis."].join(" ")}}},function(t,e,r){"use strict";var n=r(422),o=r(421),l=r(432);t.exports=function(t){return function(e,r){var c=e[t];if(Array.isArray(c))for(var f=n.subplotsRegistry.cartesian,h=f.idRegex,d=r._subplots,v=d.xaxis,m=d.yaxis,y=d.cartesian,x=r._has("cartesian")||r._has("gl2d"),i=0;i<c.length;i++){var _=c[i];if(o.isPlainObject(_)){var w=l.cleanId(_.xref,"x",!1),M=l.cleanId(_.yref,"y",!1),A=h.x.test(w),T=h.y.test(M);if(A||T){x||o.pushUnique(r._basePlotModules,f);var k=!1;A&&-1===v.indexOf(w)&&(v.push(w),k=!0),T&&-1===m.indexOf(M)&&(m.push(M),k=!0),k&&A&&T&&y.push(w+M)}}}}}},function(t,e,r){"use strict";var n=r(511),o=r(444).overrideAll,l=r(428).templatedArray;t.exports=o(l("annotation",{visible:n.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:n.xanchor,xshift:n.xshift,yanchor:n.yanchor,yshift:n.yshift,text:n.text,textangle:n.textangle,font:n.font,width:n.width,height:n.height,opacity:n.opacity,align:n.align,valign:n.valign,bgcolor:n.bgcolor,bordercolor:n.bordercolor,borderpad:n.borderpad,borderwidth:n.borderwidth,showarrow:n.showarrow,arrowcolor:n.arrowcolor,arrowhead:n.arrowhead,startarrowhead:n.startarrowhead,arrowside:n.arrowside,arrowsize:n.arrowsize,startarrowsize:n.startarrowsize,arrowwidth:n.arrowwidth,standoff:n.standoff,startstandoff:n.startstandoff,hovertext:n.hovertext,hoverlabel:n.hoverlabel,captureevents:n.captureevents}),"calc","from-root")},function(t,e,r){"use strict";t.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},function(t,e,r){"use strict";var n=r(456);t.exports={bgcolor:{valType:"color",dflt:n.background,editType:"plot"},bordercolor:{valType:"color",dflt:n.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},function(t,e,r){"use strict";t.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},function(t,e,r){"use strict";var n=r(441),o=r(456),l=(0,r(428).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});t.exports={visible:{valType:"boolean",editType:"plot"},buttons:l,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:n({editType:"plot"}),bgcolor:{valType:"color",dflt:o.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:o.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},function(t,e,r){"use strict";var n=r(429).extendFlat;e.attributes=function(t,e){e=e||{};var base={valType:"info_array",editType:(t=t||{}).editType,items:[{valType:"number",min:0,max:1,editType:t.editType},{valType:"number",min:0,max:1,editType:t.editType}],dflt:[0,1]},r=(t.name&&t.name,t.trace,e.description&&e.description,{x:n({},base,{}),y:n({},base,{}),editType:t.editType});return t.noGridCell||(r.row={valType:"integer",min:0,dflt:0,editType:t.editType},r.column={valType:"integer",min:0,dflt:0,editType:t.editType}),r},e.defaults=function(t,e,r,n){var o=n&&n.x||[0,1],l=n&&n.y||[0,1],c=e.grid;if(c){var f=r("domain.column");void 0!==f&&(f<c.columns?o=c._domains.x[f]:delete t.domain.column);var h=r("domain.row");void 0!==h&&(h<c.rows?l=c._domains.y[h]:delete t.domain.row)}var d=r("domain.x",o),v=r("domain.y",l);d[0]<d[1]||(t.domain.x=o.slice()),v[0]<v[1]||(t.domain.y=l.slice())}},function(t,e,r){"use strict";var n=r(425),o=r(462),l=r(474).hovertemplateAttrs,c=r(449),f=r(429).extendFlat,h=r(444).overrideAll;function d(t){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:n.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:n.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var v=t.exports=h(f({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:l(),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},o("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:d(),y:d(),z:d()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:f({},o.zauto,{}),zmin:f({},o.zmin,{}),zmax:f({},o.zmax,{})},hoverinfo:f({},c.hoverinfo),showlegend:f({},c.showlegend,{dflt:!1})}),"calc","nested");v.x.editType=v.y.editType=v.z.editType="calc+clearAxisTypes",v.transforms=void 0},function(t,e,r){"use strict";t.exports=function(t,e){switch(void 0===e&&(e=0),typeof t){case"number":if(t>0)return function(t,e){var r,i;for(r=new Array(t),i=0;i<t;++i)r[i]=e;return r}(0|t,e);break;case"object":if("number"==typeof t.length)return function t(e,r,i){var n=0|e[i];if(n<=0)return[];var o,l=new Array(n);if(i===e.length-1)for(o=0;o<n;++o)l[o]=r;else for(o=0;o<n;++o)l[o]=t(e,r,i+1);return l}(t,e,0)}return[]}},function(t,e,r){"use strict";var n=r(514),o={body:"",args:[],thisVars:[],localVars:[]};function l(t){if(!t)return o;for(var i=0;i<t.args.length;++i){var a=t.args[i];t.args[i]=0===i?{name:a,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:a,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function c(t){for(var e=[],i=0;i<t.args.length;++i)e.push("a"+i);return new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""))(function(t){return n({args:t.args,pre:l(t.pre),body:l(t.body),post:l(t.proc),funcName:t.funcName})}(t))}var f={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in f){var r=f[t];e[t]=c({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:t}),e[t+"eq"]=c({args:["array","array"],body:{args:["a","b"],body:"a"+r+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=c({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:t+"s"}),e[t+"seq"]=c({args:["array","scalar"],body:{args:["a","s"],body:"a"+r+"=s"},rvalue:!0,funcName:t+"seq"})}}();var h={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in h){var r=h[t];e[t]=c({args:["array","array"],body:{args:["a","b"],body:"a="+r+"b"},funcName:t}),e[t+"eq"]=c({args:["array"],body:{args:["a"],body:"a="+r+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var d={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in d){var r=d[t];e[t]=c({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:t}),e[t+"s"]=c({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:t+"s"}),e[t+"eq"]=c({args:["array","array"],body:{args:["a","b"],body:"a=a"+r+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=c({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+r+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var v=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var i=0;i<v.length;++i){var t=v[i];e[t]=c({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:t}),e[t+"eq"]=c({args:["array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"})}}();var m=["max","min","atan2","pow"];!function(){for(var i=0;i<m.length;++i){var t=m[i];e[t]=c({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t}),e[t+"s"]=c({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t+"s"}),e[t+"eq"]=c({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=c({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"seq"})}}();var y=["atan2","pow"];!function(){for(var i=0;i<y.length;++i){var t=y[i];e[t+"op"]=c({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"op"}),e[t+"ops"]=c({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"ops"}),e[t+"opeq"]=c({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opeq"}),e[t+"opseq"]=c({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opseq"})}}(),e.any=n({args:["array"],pre:o,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=n({args:["array"],pre:o,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=n({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=n({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=n({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=n({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=c({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=c({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=c({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=n({args:["array","array"],pre:o,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(t,e,r){"use strict";var n=r(683),o=r(515);function l(p,i){this.point=p,this.index=i}function c(a,b){for(var t=a.point,e=b.point,r=t.length,i=0;i<r;++i){var s=e[i]-t[i];if(s)return s}return 0}t.exports=function(t,e){var r=t.length;if(0===r)return[];var f=t[0].length;if(f<1)return[];if(1===f)return function(t,e,r){if(1===t)return r?[[-1,0]]:[];var n=e.map((function(p,i){return[p[0],i]}));n.sort((function(a,b){return a[0]-b[0]}));for(var o=new Array(t-1),i=1;i<t;++i){var a=n[i-1],b=n[i];o[i-1]=[a[1],b[1]]}r&&o.push([-1,o[0][1]],[o[t-1][1],-1]);return o}(r,t,e);for(var h=new Array(r),d=1,i=0;i<r;++i){for(var p=t[i],v=new Array(f+1),m=0,y=0;y<f;++y){var x=p[y];v[y]=x,m+=x*x}v[f]=m,h[i]=new l(v,i),d=Math.max(m,d)}o(h,c),r=h.length;var _=new Array(r+f+1),w=new Array(r+f+1),u=(f+1)*(f+1)*d,M=new Array(f+1);for(i=0;i<=f;++i)M[i]=0;M[f]=u,_[0]=M.slice(),w[0]=-1;for(i=0;i<=f;++i){(v=M.slice())[i]=1,_[i+1]=v,w[i+1]=-1}for(i=0;i<r;++i){var A=h[i];_[i+f+1]=A.point,w[i+f+1]=A.index}var T=n(_,!1);T=e?T.filter((function(t){for(var e=0,r=0;r<=f;++r){var n=w[t[r]];if(n<0&&++e>=2)return!1;t[r]=n}return!0})):T.filter((function(t){for(var i=0;i<=f;++i){var e=w[t[i]];if(e<0)return!1;t[i]=e}return!0}));if(1&f)for(i=0;i<T.length;++i){v=(A=T[i])[0];A[0]=A[1],A[1]=v}return T}},function(t,e,r){"use strict";var n=r(424),o=r(443),l=r(688),c=r(447),f=r(456).defaultLine,h=r(477).isArrayOrTypedArray,d=l(f);function v(t,e){var r=t;return r[3]*=e,r}function m(t){if(n(t))return d;var e=l(t);return e.length?e:d}function y(t){return n(t)?t:1}t.exports={formatColor:function(t,e,r){var n,o,f,x,_,w=t.color,M=h(w),A=h(e),T=c.extractOpts(t),k=[];if(n=void 0!==T.colorscale?c.makeColorScaleFuncFromTrace(t):m,o=M?function(t,i){return void 0===t[i]?d:l(n(t[i]))}:m,f=A?function(t,i){return void 0===t[i]?1:y(t[i])}:y,M||A)for(var i=0;i<r;i++)x=o(w,i),_=f(e,i),k[i]=v(x,_);else k=v(l(w),e);return k},parseColorScale:function(t){var e=c.extractOpts(t),r=e.colorscale;return e.reversescale&&(r=c.flipScale(e.colorscale)),r.map((function(t){var e=t[0],r=o(t[1]).toRgb();return{index:e,rgb:[r.r,r.g,r.b,r.a]}}))}}},function(t,e,r){"use strict";var n=r(444).overrideAll,o=r(478),l=r(965),c=r(503).getSubplotData,f=r(421),h=r(463);e.name="gl3d",e.attr="scene",e.idRoot="scene",e.idRegex=e.attrRegex=f.counterRegex("scene"),e.attributes=r(1065),e.layoutAttributes=r(707),e.baseLayoutAttrOverrides=n({hoverlabel:o.hoverlabel},"plot","nested"),e.supplyLayoutDefaults=r(1066),e.plot=function(t){for(var e=t._fullLayout,r=t._fullData,n=e._subplots.gl3d,i=0;i<n.length;i++){var o=n[i],f=c(r,"gl3d",o),h=e[o],d=h.camera,v=h._scene;v||(v=new l({id:o,graphDiv:t,container:t.querySelector(".gl-container"),staticPlot:t._context.staticPlot,plotGlPixelRatio:t._context.plotGlPixelRatio,camera:d},e),h._scene=v),v.viewInitial||(v.viewInitial={up:{x:d.up.x,y:d.up.y,z:d.up.z},eye:{x:d.eye.x,y:d.eye.y,z:d.eye.z},center:{x:d.center.x,y:d.center.y,z:d.center.z}}),v.plot(f,e,t.layout)}},e.clean=function(t,e,r,n){for(var o=n._subplots.gl3d||[],i=0;i<o.length;i++){var l=o[i];!e[l]&&n[l]._scene&&(n[l]._scene.destroy(),n._infolayer&&n._infolayer.selectAll(".annotation-"+l).remove())}},e.toSVG=function(t){for(var e=t._fullLayout,r=e._subplots.gl3d,n=e._size,i=0;i<r.length;i++){var o=e[r[i]],l=o.domain,c=o._scene,f=c.toImage("png");e._glimages.append("svg:image").attr({xmlns:h.svg,"xlink:href":f,x:n.l+n.w*l.x[0],y:n.t+n.h*(1-l.y[1]),width:n.w*(l.x[1]-l.x[0]),height:n.h*(l.y[1]-l.y[0]),preserveAspectRatio:"none"}),c.destroy()}},e.cleanId=function(t){if(t.match(/^scene[0-9]*$/)){var e=t.substr(5);return"1"===e&&(e=""),"scene"+e}},e.updateFx=function(t){for(var e=t._fullLayout,r=e._subplots.gl3d,i=0;i<r.length;i++){e[r[i]]._scene.updateFx(e.dragmode,e.hovermode)}}},function(t,e){t.exports=function(t,a){var e=a[0],r=a[1],n=a[2],o=e*e+r*r+n*n;o>0&&(o=1/Math.sqrt(o),t[0]=a[0]*o,t[1]=a[1]*o,t[2]=a[2]*o);return t}},function(t,e,r){"use strict";var n=r(1011),o=r(698),l=r(699),c=r(1013),f=r(497),div=r(700);t.exports=function t(e,r){if(n(e))return r?div(e,t(r)):[e[0].clone(),e[1].clone()];var a,b,h=0;if(o(e))a=e.clone();else if("string"==typeof e)a=c(e);else{if(0===e)return[l(0),l(1)];if(e===Math.floor(e))a=l(e);else{for(;e!==Math.floor(e);)e*=Math.pow(2,256),h-=256;a=l(e)}}if(n(r))a.mul(r[1]),b=r[0].clone();else if(o(r))b=r.clone();else if("string"==typeof r)b=c(r);else if(r)if(r===Math.floor(r))b=l(r);else{for(;r!==Math.floor(r);)r*=Math.pow(2,256),h+=256;b=l(r)}else b=l(1);h>0?a=a.ushln(h):h<0&&(b=b.ushln(-h));return f(a,b)}},function(t,e,r){(function(e){var r=!1;if("undefined"!=typeof Float64Array){var n=new Float64Array(1),o=new Uint32Array(n.buffer);if(n[0]=1,r=!0,1072693248===o[1]){t.exports=function(t){return n[0]=t,[o[0],o[1]]},t.exports.pack=function(t,e){return o[0]=t,o[1]=e,n[0]},t.exports.lo=function(t){return n[0]=t,o[0]},t.exports.hi=function(t){return n[0]=t,o[1]}}else if(1072693248===o[0]){t.exports=function(t){return n[0]=t,[o[1],o[0]]},t.exports.pack=function(t,e){return o[1]=t,o[0]=e,n[0]},t.exports.lo=function(t){return n[0]=t,o[1]},t.exports.hi=function(t){return n[0]=t,o[0]}}else r=!1}if(!r){var l=new e(8);t.exports=function(t){return l.writeDoubleLE(t,0,!0),[l.readUInt32LE(0,!0),l.readUInt32LE(4,!0)]},t.exports.pack=function(t,e){return l.writeUInt32LE(t,0,!0),l.writeUInt32LE(e,4,!0),l.readDoubleLE(0,!0)},t.exports.lo=function(t){return l.writeDoubleLE(t,0,!0),l.readUInt32LE(0,!0)},t.exports.hi=function(t){return l.writeDoubleLE(t,0,!0),l.readUInt32LE(4,!0)}}t.exports.sign=function(e){return t.exports.hi(e)>>>31},t.exports.exponent=function(e){return(t.exports.hi(e)<<1>>>21)-1023},t.exports.fraction=function(e){var r=t.exports.lo(e),n=t.exports.hi(e),b=1048575&n;return 2146435072&n&&(b+=1<<20),[r,b]},t.exports.denormalized=function(e){return!(2146435072&t.exports.hi(e))}}).call(this,r(677).Buffer)},function(t,e,r){"use strict";var n=r(518);t.exports=function(t){return t.cmp(new n(0))}},function(t,e,r){"use strict";var n=r(467),o=r(464),l=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),c=n(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);e.line=function(t){return o(t,l,c,null,[{name:"position",type:"vec3"}])};var f=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}"]),h=n(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);e.text=function(t){return o(t,f,h,null,[{name:"position",type:"vec3"}])};var d=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}"]),v=n(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);e.bg=function(t){return o(t,d,v,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},function(t,e,r){"use strict";t.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},function(t,e,r){"use strict";t.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},function(t,e,r){"use strict";t.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},,,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";e.version="1.58.4"},function(t,e,r){"use strict";t.exports=function(t){for(var a,e=t.length,i=0;i<e;i++)if(((a=t.charCodeAt(i))<9||a>13)&&32!==a&&133!==a&&160!==a&&5760!==a&&6158!==a&&(a<8192||a>8205)&&8232!==a&&8233!==a&&8239!==a&&8287!==a&&8288!==a&&12288!==a&&65279!==a)return!1;return!0}},function(t,e,r){"use strict";var n=r(423),o=r(424),l=[];t.exports=function(text,t){if(-1===l.indexOf(text)){l.push(text);var e=1e3;o(t)?e=t:"long"===t&&(e=3e3);var r=n.select("body").selectAll(".plotly-notifier").data([0]);r.enter().append("div").classed("plotly-notifier",!0),r.selectAll(".notifier-note").data(l).enter().append("div").classed("notifier-note",!0).style("opacity",0).each((function(r){var o=n.select(this);o.append("button").classed("notifier-close",!0).html("&times;").on("click",(function(){o.transition().call(c)}));for(var p=o.append("p"),l=r.split(/<br\s*\/?>/g),i=0;i<l.length;i++)i&&p.append("br"),p.append("span").text(l[i]);"stick"===t?o.transition().duration(350).style("opacity",1):o.transition().duration(700).style("opacity",1).transition().delay(e).call(c)}))}function c(t){t.duration(700).style("opacity",0).each("end",(function(t){var e=l.indexOf(t);-1!==e&&l.splice(e,1),n.select(this).remove()}))}}},function(t,e,r){"use strict";t.exports=function(t,e){if(e instanceof RegExp){for(var r=e.toString(),i=0;i<t.length;i++)if(t[i]instanceof RegExp&&t[i].toString()===r)return t;t.push(e)}else!e&&0!==e||-1!==t.indexOf(e)||t.push(e);return t}},function(t,e,r){t.exports={create:r(530),clone:r(606),copy:r(757),identity:r(531),transpose:r(532),invert:r(471),adjoint:r(758),determinant:r(533),multiply:r(472),translate:r(534),scale:r(535),rotate:r(607),rotateX:r(608),rotateY:r(609),rotateZ:r(610),fromRotation:r(759),fromRotationTranslation:r(611),fromScaling:r(760),fromTranslation:r(761),fromXRotation:r(762),fromYRotation:r(763),fromZRotation:r(764),fromQuat:r(536),frustum:r(765),perspective:r(612),perspectiveFromFieldOfView:r(766),ortho:r(613),lookAt:r(537),str:r(767)}},function(t,e){t.exports=function(a){var t=new Float32Array(16);return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}},function(t,e){t.exports=function(t,a,e,r){var s,n,o,l,c,f,h,d,v,m,y,x,_,w,M,A,T,k,E,S,L,C,O,R,D=r[0],P=r[1],I=r[2],N=Math.sqrt(D*D+P*P+I*I);if(Math.abs(N)<1e-6)return null;D*=N=1/N,P*=N,I*=N,s=Math.sin(e),n=Math.cos(e),o=1-n,l=a[0],c=a[1],f=a[2],h=a[3],d=a[4],v=a[5],m=a[6],y=a[7],x=a[8],_=a[9],w=a[10],M=a[11],A=D*D*o+n,T=P*D*o+I*s,k=I*D*o-P*s,E=D*P*o-I*s,S=P*P*o+n,L=I*P*o+D*s,C=D*I*o+P*s,O=P*I*o-D*s,R=I*I*o+n,t[0]=l*A+d*T+x*k,t[1]=c*A+v*T+_*k,t[2]=f*A+m*T+w*k,t[3]=h*A+y*T+M*k,t[4]=l*E+d*S+x*L,t[5]=c*E+v*S+_*L,t[6]=f*E+m*S+w*L,t[7]=h*E+y*S+M*L,t[8]=l*C+d*O+x*R,t[9]=c*C+v*O+_*R,t[10]=f*C+m*O+w*R,t[11]=h*C+y*O+M*R,a!==t&&(t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);return t}},function(t,e){t.exports=function(t,a,e){var s=Math.sin(e),r=Math.cos(e),n=a[4],o=a[5],l=a[6],c=a[7],f=a[8],h=a[9],d=a[10],v=a[11];a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);return t[4]=n*r+f*s,t[5]=o*r+h*s,t[6]=l*r+d*s,t[7]=c*r+v*s,t[8]=f*r-n*s,t[9]=h*r-o*s,t[10]=d*r-l*s,t[11]=v*r-c*s,t}},function(t,e){t.exports=function(t,a,e){var s=Math.sin(e),r=Math.cos(e),n=a[0],o=a[1],l=a[2],c=a[3],f=a[8],h=a[9],d=a[10],v=a[11];a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);return t[0]=n*r-f*s,t[1]=o*r-h*s,t[2]=l*r-d*s,t[3]=c*r-v*s,t[8]=n*s+f*r,t[9]=o*s+h*r,t[10]=l*s+d*r,t[11]=c*s+v*r,t}},function(t,e){t.exports=function(t,a,e){var s=Math.sin(e),r=Math.cos(e),n=a[0],o=a[1],l=a[2],c=a[3],f=a[4],h=a[5],d=a[6],v=a[7];a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);return t[0]=n*r+f*s,t[1]=o*r+h*s,t[2]=l*r+d*s,t[3]=c*r+v*s,t[4]=f*r-n*s,t[5]=h*r-o*s,t[6]=d*r-l*s,t[7]=v*r-c*s,t}},function(t,e){t.exports=function(t,q,e){var r=q[0],n=q[1],o=q[2],l=q[3],c=r+r,f=n+n,h=o+o,d=r*c,v=r*f,m=r*h,y=n*f,x=n*h,_=o*h,w=l*c,M=l*f,A=l*h;return t[0]=1-(y+_),t[1]=v+A,t[2]=m-M,t[3]=0,t[4]=v-A,t[5]=1-(d+_),t[6]=x+w,t[7]=0,t[8]=m+M,t[9]=x-w,t[10]=1-(d+y),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}},function(t,e){t.exports=function(t,e,r,n,o){var l=1/Math.tan(e/2),c=1/(n-o);return t[0]=l/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+n)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*n*c,t[15]=0,t}},function(t,e){t.exports=function(t,e,r,n,o,l,c){var f=1/(e-r),h=1/(n-o),d=1/(l-c);return t[0]=-2*f,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*d,t[11]=0,t[12]=(e+r)*f,t[13]=(o+n)*h,t[14]=(c+l)*d,t[15]=1,t}},function(t,e,r){"use strict";var n=r(424),o=r(480),l=r(615),c=r(430).BADNUM;function f(a,b){return a<b}function h(a,b){return a<=b}function d(a,b){return a>b}function v(a,b){return a>=b}e.findBin=function(t,e,r){if(n(e.start))return r?Math.ceil((t-e.start)/e.size-1e-9)-1:Math.floor((t-e.start)/e.size+1e-9);var l,c,m=0,y=e.length,x=0,_=y>1?(e[y-1]-e[0])/(y-1):1;for(c=_>=0?r?f:h:r?v:d,t+=1e-9*_*(r?-1:1)*(_>=0?1:-1);m<y&&x++<100;)c(e[l=Math.floor((m+y)/2)],t)?m=l+1:y=l;return x>90&&o.log("Long binary search..."),m-1},e.sorterAsc=function(a,b){return a-b},e.sorterDes=function(a,b){return b-a},e.distinctVals=function(t,r){var n,o=(r||{}).unitMinDiff,l=t.slice();for(l.sort(e.sorterAsc),n=l.length-1;n>-1&&l[n]===c;n--);var f=1;o||(f=l[n]-l[0]||1);for(var h,d=f/(n||1)/1e4,v=[],i=0;i<=n;i++){var m=l[i],y=m-h;void 0===h?(v.push(m),h=m):y>d&&(f=Math.min(f,y),v.push(m),h=m)}return{vals:v,minDiff:f}},e.roundUp=function(t,e,r){for(var n,o=0,l=e.length-1,c=0,f=r?0:1,h=r?1:0,d=r?Math.ceil:Math.floor;o<l&&c++<100;)e[n=d((o+l)/2)]<=t?o=n+f:l=n-h;return e[o]},e.sort=function(t,e){for(var r=0,n=0,i=1;i<t.length;i++){var o=e(t[i],t[i-1]);if(o<0?r=1:o>0&&(n=1),r&&n)return t.sort(e)}return n?t:t.reverse()},e.findIndexOfMin=function(t,e){e=e||l;for(var r,n=1/0,i=0;i<t.length;i++){var o=e(t[i]);o<n&&(n=o,r=i)}return r}},function(t,e,r){"use strict";t.exports=function(t){return t}},function(t,e,r){"use strict";t.exports=l,t.exports.isMobile=l,t.exports.default=l;var n=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function l(t){t||(t={});var e=t.ua;if(e||"undefined"==typeof navigator||(e=navigator.userAgent),e&&e.headers&&"string"==typeof e.headers["user-agent"]&&(e=e.headers["user-agent"]),"string"!=typeof e)return!1;var r=t.tablet?o.test(e):n.test(e);return!r&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==e.indexOf("Macintosh")&&-1!==e.indexOf("Safari")&&(r=!0),r}},function(t,e,r){"use strict";var n=r(423),o=r(424),l=r(618),c=r(421),f=c.nestedProperty,h=r(502),d=r(620),v=r(422),m=r(494),y=r(431),x=r(789),_=r(426),w=r(427),M=r(425),A=r(632).initInteractions,T=r(463),k=r(440),E=r(510).clearSelect,S=r(481).dfltConfig,L=r(818),C=r(820),O=r(546),R=r(444),D=r(434).AX_NAME_PATTERN,P=0;function I(t){var e=t._fullLayout;e._redrawFromAutoMarginCount?e._redrawFromAutoMarginCount--:t.emit("plotly_afterplot")}function N(t,e){try{t._fullLayout._paper.style("background",e)}catch(t){c.error(t)}}function z(t,e){N(t,M.combine(e,"white"))}function F(t,e){if(!t._context){t._context=c.extendDeep({},S);var base=n.select("base");t._context._baseUrl=base.size()&&base.attr("href")?window.location.href.split("#")[0]:""}var i,r,o,f=t._context;if(e){for(r=Object.keys(e),i=0;i<r.length;i++)"editable"!==(o=r[i])&&"edits"!==o&&o in f&&("setBackground"===o&&"opaque"===e[o]?f[o]=z:f[o]=e[o]);e.plot3dPixelRatio&&!f.plotGlPixelRatio&&(f.plotGlPixelRatio=f.plot3dPixelRatio);var h=e.editable;if(void 0!==h)for(f.editable=h,r=Object.keys(f.edits),i=0;i<r.length;i++)f.edits[r[i]]=h;if(e.edits)for(r=Object.keys(e.edits),i=0;i<r.length;i++)(o=r[i])in f.edits&&(f.edits[o]=e.edits[o]);f._exportedPlot=e._exportedPlot}f.staticPlot&&(f.editable=!1,f.edits={},f.autosizable=!1,f.scrollZoom=!1,f.doubleClick=!1,f.showTips=!1,f.showLink=!1,f.displayModeBar=!1),"hover"!==f.displayModeBar||l||(f.displayModeBar=!0),"transparent"!==f.setBackground&&"function"==typeof f.setBackground||(f.setBackground=N),f._hasZeroHeight=f._hasZeroHeight||0===t.clientHeight,f._hasZeroWidth=f._hasZeroWidth||0===t.clientWidth;var d=f.scrollZoom,v=f._scrollZoom={};if(!0===d)v.cartesian=1,v.gl3d=1,v.geo=1,v.mapbox=1;else if("string"==typeof d){var m=d.split("+");for(i=0;i<m.length;i++)v[m[i]]=1}else!1!==d&&(v.gl3d=1,v.geo=1,v.mapbox=1)}function j(t,e){var i,r,n=e+1,o=[];for(i=0;i<t.length;i++)(r=t[i])<0?o.push(n+r):o.push(r);return o}function B(t,e,r){var i,n;for(i=0;i<e.length;i++){if((n=e[i])!==parseInt(n,10))throw new Error("all values in "+r+" must be integers");if(n>=t.data.length||n<-t.data.length)throw new Error(r+" must be valid indices for gd.data.");if(e.indexOf(n,i+1)>-1||n>=0&&e.indexOf(-t.data.length+n)>-1||n<0&&e.indexOf(t.data.length+n)>-1)throw new Error("each index in "+r+" must be unique.")}}function U(t,e,r){if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(void 0===e)throw new Error("currentIndices is a required argument.");if(Array.isArray(e)||(e=[e]),B(t,e,"currentIndices"),void 0===r||Array.isArray(r)||(r=[r]),void 0!==r&&B(t,r,"newIndices"),void 0!==r&&e.length!==r.length)throw new Error("current and new indices must be of equal length.")}function H(t,e,r,n,l){!function(t,e,r,n){var o=c.isPlainObject(n);if(!Array.isArray(t.data))throw new Error("gd.data must be an array");if(!c.isPlainObject(e))throw new Error("update must be a key:value object");if(void 0===r)throw new Error("indices must be an integer or array of integers");for(var l in B(t,r,"indices"),e){if(!Array.isArray(e[l])||e[l].length!==r.length)throw new Error("attribute "+l+" must be an array of length equal to indices array length");if(o&&(!(l in n)||!Array.isArray(n[l])||n[l].length!==e[l].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(t,e,r,n);for(var h=function(t,e,r,n){var l,h,d,v,m,y=c.isPlainObject(n),x=[];for(var _ in Array.isArray(r)||(r=[r]),r=j(r,t.data.length-1),e)for(var w=0;w<r.length;w++){if(l=t.data[r[w]],h=(d=f(l,_)).get(),v=e[_][w],!c.isArrayOrTypedArray(v))throw new Error("attribute: "+_+" index: "+w+" must be an array");if(!c.isArrayOrTypedArray(h))throw new Error("cannot extend missing or non-array attribute: "+_);if(h.constructor!==v.constructor)throw new Error("cannot extend array with an array of a different type: "+_);m=y?n[_][w]:n,o(m)||(m=-1),x.push({prop:d,target:h,insert:v,maxp:Math.floor(m)})}return x}(t,e,r,n),d={},v={},i=0;i<h.length;i++){var m=h[i].prop,y=h[i].maxp,x=l(h[i].target,h[i].insert,y);m.set(x[0]),Array.isArray(d[m.astr])||(d[m.astr]=[]),d[m.astr].push(x[1]),Array.isArray(v[m.astr])||(v[m.astr]=[]),v[m.astr].push(h[i].target.length)}return{update:d,maxPoints:v}}function V(t,e){var r=new t.constructor(t.length+e.length);return r.set(t),r.set(e,t.length),r}function Y(t,r,n,o){t=c.getGraphDiv(t),C.clearPromiseQueue(t);var l={};if("string"==typeof r)l[r]=n;else{if(!c.isPlainObject(r))return c.warn("Restyle fail.",r,n,o),Promise.reject();l=c.extendFlat({},r),void 0===o&&(o=n)}Object.keys(l).length&&(t.changed=!0);var f=C.coerceTraceIndices(t,o),h=Z(t,l,f),v=h.flags;v.calc&&(t.calcdata=void 0),v.clearAxisTypes&&C.clearAxisTypes(t,f,{});var m=[];v.fullReplot?m.push(e.plot):(m.push(y.previousPromises),y.supplyDefaults(t),v.markerSize&&(y.doCalcdata(t),$(m)),v.style&&m.push(O.doTraceStyle),v.colorbars&&m.push(O.doColorBars),m.push(I)),m.push(y.rehover,y.redrag),d.add(t,Y,[t,h.undoit,h.traces],Y,[t,h.redoit,h.traces]);var x=c.syncOrAsync(m,t);return x&&x.then||(x=Promise.resolve()),x.then((function(){return t.emit("plotly_restyle",h.eventData),t}))}function G(t){return void 0===t?null:t}function W(t,e){return e?function(e,r,n){var o=f(e,r),l=o.set;return o.set=function(e){X((n||"")+r,o.get(),e,t),l(e)},o}:f}function X(t,e,r,n){if(Array.isArray(e)||Array.isArray(r))for(var o=Array.isArray(e)?e:[],l=Array.isArray(r)?r:[],f=Math.max(o.length,l.length),i=0;i<f;i++)X(t+"["+i+"]",o[i],l[i],n);else if(c.isPlainObject(e)||c.isPlainObject(r)){var h=c.isPlainObject(e)?e:{},d=c.isPlainObject(r)?r:{},v=c.extendFlat({},h,d);for(var m in v)X(t+"."+m,h[m],d[m],n)}else void 0===n[t]&&(n[t]=G(e))}function Z(t,e,r){var i,n=t._fullLayout,o=t._fullData,data=t.data,l=n._guiEditing,h=W(n._preGUI,l),d=c.extendDeepAll({},e);J(e);var x,w=R.traceFlags(),M={},A={};function T(){return r.map((function(){}))}function k(t){var e=_.id2name(t);-1===x.indexOf(e)&&x.push(e)}function E(t){return"LAYOUT"+t+".autorange"}function S(t){return"LAYOUT"+t+".range"}function L(t){for(var e=t;e<o.length;e++)if(o[e]._input===data[t])return o[e]}function O(o,c,i){if(Array.isArray(o))o.forEach((function(a){O(a,c,i)}));else if(!(o in e)&&!C.hasParent(e,o)){var f;if("LAYOUT"===o.substr(0,6))f=h(t.layout,o.replace("LAYOUT",""));else{var d=r[i];f=W(n._tracePreGUI[L(d)._fullInput.uid],l)(data[d],o)}o in A||(A[o]=T()),void 0===A[o][i]&&(A[o][i]=G(f.get())),void 0!==c&&f.set(c)}}function D(t){return function(e){return o[e][t]}}function P(t){return function(e,n){return!1===e?o[r[n]][t]:null}}for(var I in e){if(C.hasParent(e,I))throw new Error("cannot set "+I+" and a parent attribute simultaneously");var N,z,param,F,j,B,U=e[I];if("autobinx"!==I&&"autobiny"!==I||(I=I.charAt(I.length-1)+"bins",U=Array.isArray(U)?U.map(P(I)):!1===U?r.map(D(I)):null),M[I]=U,"LAYOUT"!==I.substr(0,6)){for(A[I]=T(),i=0;i<r.length;i++){if(N=data[r[i]],z=L(r[i]),F=(param=W(n._tracePreGUI[z._fullInput.uid],l)(N,I)).get(),void 0!==(j=Array.isArray(U)?U[i%U.length]:U)){var H=param.parts[param.parts.length-1],V=I.substr(0,I.length-H.length-1),Y=V?V+".":"",X=V?f(z,V).get():z;if((B=m.getTraceValObject(z,param.parts))&&B.impliedEdits&&null!==j)for(var Z in B.impliedEdits)O(c.relativeAttr(I,Z),B.impliedEdits[Z],i);else if("thicknessmode"!==H&&"lenmode"!==H||F===j||"fraction"!==j&&"pixels"!==j||!X){if("type"===I&&("pie"===j!=("pie"===F)||"funnelarea"===j!=("funnelarea"===F))){var Q="x",K="y";"bar"!==j&&"bar"!==F||"h"!==N.orientation||(Q="y",K="x"),c.swapAttrs(N,["?","?src"],"labels",Q),c.swapAttrs(N,["d?","?0"],"label",Q),c.swapAttrs(N,["?","?src"],"values",K),"pie"===F||"funnelarea"===F?(f(N,"marker.color").set(f(N,"marker.colors").get()),n._pielayer.selectAll("g.trace").remove()):v.traceIs(N,"cartesian")&&f(N,"marker.colors").set(f(N,"marker.color").get())}}else{var $=n._size,tt=X.orient,et="top"===tt||"bottom"===tt;if("thicknessmode"===H){var nt=et?$.h:$.w;O(Y+"thickness",X.thickness*("fraction"===j?1/nt:nt),i)}else{var it=et?$.w:$.h;O(Y+"len",X.len*("fraction"===j?1/it:it),i)}}A[I][i]=G(F);if(-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(I)){if("orientation"===I){param.set(j);var at=N.x&&!N.y?"h":"v";if((param.get()||at)===z.orientation)continue}else"orientationaxes"===I&&(N.orientation={v:"h",h:"v"}[z.orientation]);C.swapXYData(N),w.calc=w.clearAxisTypes=!0}else-1!==y.dataArrayContainers.indexOf(param.parts[0])?(C.manageArrayContainers(param,j,A),w.calc=!0):(B?B.arrayOk&&!v.traceIs(z,"regl")&&(c.isArrayOrTypedArray(j)||c.isArrayOrTypedArray(F))?w.calc=!0:R.update(w,B):w.calc=!0,param.set(j))}}if(-1!==["swapxyaxes","orientationaxes"].indexOf(I)&&_.swap(t,r),"orientationaxes"===I){var ot=f(t.layout,"hovermode"),st=ot.get();"x"===st?ot.set("y"):"y"===st?ot.set("x"):"x unified"===st?ot.set("y unified"):"y unified"===st&&ot.set("x unified")}if(-1!==["orientation","type"].indexOf(I)){for(x=[],i=0;i<r.length;i++){var lt=data[r[i]];v.traceIs(lt,"cartesian")&&(k(lt.xaxis||"x"),k(lt.yaxis||"y"))}O(x.map(E),!0,0),O(x.map(S),[0,1],0)}}else param=h(t.layout,I.replace("LAYOUT","")),A[I]=[G(param.get())],param.set(Array.isArray(U)?U[0]:U),w.calc=!0}return(w.calc||w.plot)&&(w.fullReplot=!0),{flags:w,undoit:A,redoit:M,traces:r,eventData:c.extendDeepNoArrays([],[d,r])}}function J(t){var i,e,r,n=c.counterRegex("axis",".title",!1,!1),o=/colorbar\.title$/,l=Object.keys(t);for(i=0;i<l.length;i++)e=l[i],r=t[e],"title"!==e&&!n.test(e)&&!o.test(e)||"string"!=typeof r&&"number"!=typeof r?e.indexOf("titlefont")>-1?f(e,e.replace("titlefont","title.font")):e.indexOf("titleposition")>-1?f(e,e.replace("titleposition","title.position")):e.indexOf("titleside")>-1?f(e,e.replace("titleside","title.side")):e.indexOf("titleoffset")>-1&&f(e,e.replace("titleoffset","title.offset")):f(e,e.replace("title","title.text"));function f(e,r){t[r]=t[e],delete t[e]}}function Q(t,e,r){if(t=c.getGraphDiv(t),C.clearPromiseQueue(t),t.framework&&t.framework.isPolar)return Promise.resolve(t);var n={};if("string"==typeof e)n[e]=r;else{if(!c.isPlainObject(e))return c.warn("Relayout fail.",e,r),Promise.reject();n=c.extendFlat({},e)}Object.keys(n).length&&(t.changed=!0);var o=it(t,n),l=o.flags;l.calc&&(t.calcdata=void 0);var f=[y.previousPromises];l.layoutReplot?f.push(O.layoutReplot):Object.keys(n).length&&(K(t,l,o)||y.supplyDefaults(t),l.legend&&f.push(O.doLegend),l.layoutstyle&&f.push(O.layoutStyles),l.axrange&&$(f,o.rangesAltered),l.ticks&&f.push(O.doTicksRelayout),l.modebar&&f.push(O.doModeBar),l.camera&&f.push(O.doCamera),l.colorbars&&f.push(O.doColorBars),f.push(I)),f.push(y.rehover,y.redrag),d.add(t,Q,[t,o.undoit],Q,[t,o.redoit]);var h=c.syncOrAsync(f,t);return h&&h.then||(h=Promise.resolve(t)),h.then((function(){return t.emit("plotly_relayout",o.eventData),t}))}function K(t,e,r){var n=t._fullLayout;if(!e.axrange)return!1;for(var o in e)if("axrange"!==o&&e[o])return!1;for(var l in r.rangesAltered){var c=_.id2name(l),f=t.layout[c],h=n[c];if(h.autorange=f.autorange,f.range&&(h.range=f.range.slice()),h.cleanRange(),h._matchGroup)for(var d in h._matchGroup)if(d!==l){var v=n[_.id2name(d)];v.autorange=h.autorange,v.range=h.range.slice(),v._input.range=h.range.slice()}}return!0}function $(t,e){var r=e?function(t){var r=[],n=!0;for(var o in e){var l=_.getFromId(t,o);if(r.push(o),-1!==(l.ticklabelposition||"").indexOf("inside")&&l._anchorAxis&&r.push(l._anchorAxis._id),l._matchGroup)for(var c in l._matchGroup)e[c]||r.push(c);l.automargin&&(n=!1)}return _.draw(t,r,{skipTitle:n})}:function(t){return _.draw(t,"redraw")};t.push(E,O.doAutoRangeAndConstraints,r,O.drawData,O.finalDraw)}var tt=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,et=/^[xyz]axis[0-9]*\.autorange$/,nt=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function it(t,e){var r,i,n,o=t.layout,l=t._fullLayout,h=l._guiEditing,d=W(l._preGUI,h),y=Object.keys(e),x=_.list(t),w=c.extendDeepAll({},e),M={};for(J(e),y=Object.keys(e),i=0;i<y.length;i++)if(0===y[i].indexOf("allaxes")){for(n=0;n<x.length;n++){var A=x[n]._id.substr(1),T=-1!==A.indexOf("scene")?A+".":"",k=y[i].replace("allaxes",T+x[n]._name);e[k]||(e[k]=e[y[i]])}delete e[y[i]]}var E=R.layoutFlags(),S={},O={};function P(t,r){if(Array.isArray(t))t.forEach((function(a){P(a,r)}));else if(!(t in e)&&!C.hasParent(e,t)){var p=d(o,t);t in O||(O[t]=G(p.get())),void 0!==r&&p.set(r)}}var I,N={};function z(t){var e=_.name2id(t.split(".")[0]);return N[e]=1,e}for(var F in e){if(C.hasParent(e,F))throw new Error("cannot set "+F+" and a parent attribute simultaneously");for(var p=d(o,F),j=e[F],B=p.parts.length-1;B>0&&"string"!=typeof p.parts[B];)B--;var U=p.parts[B],H=p.parts[B-1]+"."+U,V=p.parts.slice(0,B).join("."),Y=f(t.layout,V).get(),X=f(l,V).get(),Z=p.get();if(void 0!==j){S[F]=j,O[F]="reverse"===U?j:G(Z);var Q=m.getLayoutValObject(l,p.parts);if(Q&&Q.impliedEdits&&null!==j)for(var K in Q.impliedEdits)P(c.relativeAttr(F,K),Q.impliedEdits[K]);if(-1!==["width","height"].indexOf(F))if(j){P("autosize",null);var $="height"===F?"width":"height";P($,l[$])}else l[F]=t._initialAutoSize[F];else if("autosize"===F)P("width",j?null:l.width),P("height",j?null:l.height);else if(H.match(tt))z(H),f(l,V+"._inputRange").set(null);else if(H.match(et)){z(H),f(l,V+"._inputRange").set(null);var it=f(l,V).get();it._inputDomain&&(it._input.domain=it._inputDomain.slice())}else H.match(nt)&&f(l,V+"._inputDomain").set(null);if("type"===U){I=Y;var ot="linear"===X.type&&"log"===j,st="log"===X.type&&"linear"===j;if(ot||st){if(I&&I.range)if(X.autorange)ot&&(I.range=I.range[1]>I.range[0]?[1,2]:[2,1]);else{var lt=I.range[0],ut=I.range[1];ot?(lt<=0&&ut<=0&&P(V+".autorange",!0),lt<=0?lt=ut/1e6:ut<=0&&(ut=lt/1e6),P(V+".range[0]",Math.log(lt)/Math.LN10),P(V+".range[1]",Math.log(ut)/Math.LN10)):(P(V+".range[0]",Math.pow(10,lt)),P(V+".range[1]",Math.pow(10,ut)))}else P(V+".autorange",!0);Array.isArray(l._subplots.polar)&&l._subplots.polar.length&&l[p.parts[0]]&&"radialaxis"===p.parts[1]&&delete l[p.parts[0]]._subplot.viewInitial["radialaxis.range"],v.getComponentMethod("annotations","convertCoords")(t,X,j,P),v.getComponentMethod("images","convertCoords")(t,X,j,P)}else P(V+".autorange",!0),P(V+".range",null);f(l,V+"._inputRange").set(null)}else if(U.match(D)){var ct=f(l,F).get(),ft=(j||{}).type;ft&&"-"!==ft||(ft="linear"),v.getComponentMethod("annotations","convertCoords")(t,ct,ft,P),v.getComponentMethod("images","convertCoords")(t,ct,ft,P)}var ht=L.containerArrayMatch(F);if(ht){r=ht.array,i=ht.index;var pt=ht.property,gt=Q||{editType:"calc"};""!==i&&""===pt&&(L.isAddVal(j)?O[F]=null:L.isRemoveVal(j)?O[F]=(f(o,r).get()||[])[i]:c.warn("unrecognized full object value",e)),R.update(E,gt),M[r]||(M[r]={});var vt=M[r][i];vt||(vt=M[r][i]={}),vt[pt]=j,delete e[F]}else"reverse"===U?(Y.range?Y.range.reverse():(P(V+".autorange",!0),Y.range=[1,0]),X.autorange?E.calc=!0:E.plot=!0):(l._has("scatter-like")&&l._has("regl")&&"dragmode"===F&&("lasso"===j||"select"===j)&&"lasso"!==Z&&"select"!==Z||l._has("gl2d")?E.plot=!0:Q?R.update(E,Q):E.calc=!0,p.set(j))}}for(r in M){L.applyContainerArrayChanges(t,d(o,r),M[r],E,d)||(E.plot=!0)}for(var mt in N){var yt=(I=_.getFromId(t,mt))&&I._constraintGroup;if(yt)for(var xt in E.calc=!0,yt)N[xt]||(_.getFromId(t,xt)._constraintShrinkable=!0)}return(at(t)||e.height||e.width)&&(E.plot=!0),(E.plot||E.calc)&&(E.layoutReplot=!0),{flags:E,rangesAltered:N,undoit:O,redoit:S,eventData:w}}function at(t){var e=t._fullLayout,r=e.width,n=e.height;return t.layout.autosize&&y.plotAutoSize(t,t.layout,e),e.width!==r||e.height!==n}function ot(t,r,n,o){if(t=c.getGraphDiv(t),C.clearPromiseQueue(t),t.framework&&t.framework.isPolar)return Promise.resolve(t);c.isPlainObject(r)||(r={}),c.isPlainObject(n)||(n={}),Object.keys(r).length&&(t.changed=!0),Object.keys(n).length&&(t.changed=!0);var l=C.coerceTraceIndices(t,o),f=Z(t,c.extendFlat({},r),l),h=f.flags,v=it(t,c.extendFlat({},n)),m=v.flags;(h.calc||m.calc)&&(t.calcdata=void 0),h.clearAxisTypes&&C.clearAxisTypes(t,l,n);var x=[];m.layoutReplot?x.push(O.layoutReplot):h.fullReplot?x.push(e.plot):(x.push(y.previousPromises),K(t,m,v)||y.supplyDefaults(t),h.style&&x.push(O.doTraceStyle),(h.colorbars||m.colorbars)&&x.push(O.doColorBars),m.legend&&x.push(O.doLegend),m.layoutstyle&&x.push(O.layoutStyles),m.axrange&&$(x,v.rangesAltered),m.ticks&&x.push(O.doTicksRelayout),m.modebar&&x.push(O.doModeBar),m.camera&&x.push(O.doCamera),x.push(I)),x.push(y.rehover,y.redrag),d.add(t,ot,[t,f.undoit,v.undoit,f.traces],ot,[t,f.redoit,v.redoit,f.traces]);var _=c.syncOrAsync(x,t);return _&&_.then||(_=Promise.resolve(t)),_.then((function(){return t.emit("plotly_update",{data:f.eventData,layout:v.eventData}),t}))}function st(t){return function(e){e._fullLayout._guiEditing=!0;var p=t.apply(null,arguments);return e._fullLayout._guiEditing=!1,p}}var lt=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ut=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function ct(t,e){for(var i=0;i<e.length;i++){var r=e[i],n=t.match(r.pattern);if(n)return{head:n[1],attr:r.attr}}}function ft(t,e){var r=f(e,t).get();if(void 0!==r)return r;var n=t.split(".");for(n.pop();n.length>1;)if(n.pop(),void 0!==(r=f(e,n.join(".")+".uirevision").get()))return r;return e.uirevision}function ht(t,e){for(var i=0;i<e.length;i++)if(e[i]._fullInput.uid===t)return i;return-1}function pt(t,data,e){for(var i=0;i<data.length;i++)if(data[i].uid===t)return i;return!data[e]||data[e].uid?-1:e}function gt(t,e){var r=c.isPlainObject(t),n=Array.isArray(t);return r||n?(r&&c.isPlainObject(e)||n&&Array.isArray(e))&&JSON.stringify(t)===JSON.stringify(e):t===e}function vt(t,e,r,n){var o,l,h,d=n.getValObject,v=n.flags,m=n.immutable,y=n.inArray,x=n.arrayIndex;function _(){var t=o.editType;y&&-1!==t.indexOf("arraydraw")?c.pushUnique(v.arrays[y],x):(R.update(v,o),"none"!==t&&v.nChanges++,n.transition&&o.anim&&v.nChangesAnim++,(tt.test(h)||et.test(h))&&(v.rangesAltered[r[0]]=1),nt.test(h)&&f(e,"_inputDomain").set(null),"datarevision"===l&&(v.newDataRevision=1))}function w(t){return"data_array"===t.valType||t.arrayOk}for(l in t){if(v.calc&&!n.transition)return;var M=t[l],A=e[l],T=r.concat(l);if(h=T.join("."),"_"!==l.charAt(0)&&"function"!=typeof M&&M!==A){if(("tick0"===l||"dtick"===l)&&"geo"!==r[0]){var k=e.tickmode;if("auto"===k||"array"===k||!k)continue}if(("range"!==l||!e.autorange)&&("zmin"!==l&&"zmax"!==l||"contourcarpet"!==e.type)&&(o=d(T))&&(!o._compareAsJSON||JSON.stringify(M)!==JSON.stringify(A))){var i,E=o.valType,S=w(o),L=Array.isArray(M),C=Array.isArray(A);if(L&&C){var O="_input_"+l,D=t[O],P=e[O];if(Array.isArray(D)&&D===P)continue}if(void 0===A)S&&L?v.calc=!0:_();else if(o._isLinkedToArray){var I=[],N=!1;y||(v.arrays[l]=I);var z=Math.min(M.length,A.length),F=Math.max(M.length,A.length);if(z!==F){if("arraydraw"!==o.editType){_();continue}N=!0}for(i=0;i<z;i++)vt(M[i],A[i],T.concat(i),c.extendFlat({inArray:l,arrayIndex:i},n));if(N)for(i=z;i<F;i++)I.push(i)}else!E&&c.isPlainObject(M)?vt(M,A,T,n):S?L&&C?(m&&(v.calc=!0),(m||n.newDataRevision)&&_()):L!==C?v.calc=!0:_():L&&C&&M.length===A.length&&String(M)===String(A)||_()}}}for(l in e)if(!(l in t)&&"_"!==l.charAt(0)&&"function"!=typeof e[l]){if(w(o=d(r.concat(l)))&&Array.isArray(e[l]))return void(v.calc=!0);_()}}function mt(t){var e=t._fullLayout,r=t.getBoundingClientRect();if(!c.equalDomRects(r,e._lastBBox)){var n=e._invTransform=c.inverseTransformMatrix(c.getFullTransformMatrix(t));e._invScaleX=Math.sqrt(n[0][0]*n[0][0]+n[0][1]*n[0][1]+n[0][2]*n[0][2]),e._invScaleY=Math.sqrt(n[1][0]*n[1][0]+n[1][1]*n[1][1]+n[1][2]*n[1][2]),e._lastBBox=r}}function yt(t){var e=n.select(t),r=t._fullLayout;if(r._calcInverseTransform=mt,r._calcInverseTransform(t),r._container=e.selectAll(".plot-container").data([0]),r._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),r._paperdiv=r._container.selectAll(".svg-container").data([0]),r._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),r._glcontainer=r._paperdiv.selectAll(".gl-container").data([{}]),r._glcontainer.enter().append("div").classed("gl-container",!0),r._paperdiv.selectAll(".main-svg").remove(),r._paperdiv.select(".modebar-container").remove(),r._paper=r._paperdiv.insert("svg",":first-child").classed("main-svg",!0),r._toppaper=r._paperdiv.append("svg").classed("main-svg",!0),r._modebardiv=r._paperdiv.append("div"),delete r._modeBar,r._hoverpaper=r._paperdiv.append("svg").classed("main-svg",!0),!r._uid){var o={};n.selectAll("defs").each((function(){this.id&&(o[this.id.split("-")[1]]=1)})),r._uid=c.randstr(o)}r._paperdiv.selectAll(".main-svg").attr(T.svgAttrs),r._defs=r._paper.append("defs").attr("id","defs-"+r._uid),r._clips=r._defs.append("g").classed("clips",!0),r._topdefs=r._toppaper.append("defs").attr("id","topdefs-"+r._uid),r._topclips=r._topdefs.append("g").classed("clips",!0),r._bgLayer=r._paper.append("g").classed("bglayer",!0),r._draggers=r._paper.append("g").classed("draglayer",!0);var l=r._paper.append("g").classed("layer-below",!0);r._imageLowerLayer=l.append("g").classed("imagelayer",!0),r._shapeLowerLayer=l.append("g").classed("shapelayer",!0),r._cartesianlayer=r._paper.append("g").classed("cartesianlayer",!0),r._polarlayer=r._paper.append("g").classed("polarlayer",!0),r._ternarylayer=r._paper.append("g").classed("ternarylayer",!0),r._geolayer=r._paper.append("g").classed("geolayer",!0),r._funnelarealayer=r._paper.append("g").classed("funnelarealayer",!0),r._pielayer=r._paper.append("g").classed("pielayer",!0),r._treemaplayer=r._paper.append("g").classed("treemaplayer",!0),r._sunburstlayer=r._paper.append("g").classed("sunburstlayer",!0),r._indicatorlayer=r._toppaper.append("g").classed("indicatorlayer",!0),r._glimages=r._paper.append("g").classed("glimages",!0);var f=r._toppaper.append("g").classed("layer-above",!0);r._imageUpperLayer=f.append("g").classed("imagelayer",!0),r._shapeUpperLayer=f.append("g").classed("shapelayer",!0),r._infolayer=r._toppaper.append("g").classed("infolayer",!0),r._menulayer=r._toppaper.append("g").classed("menulayer",!0),r._zoomlayer=r._toppaper.append("g").classed("zoomlayer",!0),r._hoverlayer=r._hoverpaper.append("g").classed("hoverlayer",!0),r._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),t.emit("plotly_framework")}e.animate=function(t,e,r){if(t=c.getGraphDiv(t),!c.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var n=t._transitionData;n._frameQueue||(n._frameQueue=[]);var o=(r=y.supplyAnimationDefaults(r)).transition,l=r.frame;function f(i){return Array.isArray(o)?i>=o.length?o[0]:o[i]:o}function h(i){return Array.isArray(l)?i>=l.length?l[0]:l[i]:l}function d(t,e){var r=0;return function(){if(t&&++r===e)return t()}}return void 0===n._frameWaitingCnt&&(n._frameWaitingCnt=0),new Promise((function(l,v){function m(){n._currentFrame&&n._currentFrame.onComplete&&n._currentFrame.onComplete();var e=n._currentFrame=n._frameQueue.shift();if(e){var r=e.name?e.name.toString():null;t._fullLayout._currentFrame=r,n._lastFrameAt=Date.now(),n._timeToNext=e.frameOpts.duration,y.transition(t,e.frame.data,e.frame.layout,C.coerceTraceIndices(t,e.frame.traces),e.frameOpts,e.transitionOpts).then((function(){e.onComplete&&e.onComplete()})),t.emit("plotly_animatingframe",{name:r,frame:e.frame,animation:{frame:e.frameOpts,transition:e.transitionOpts}})}else t.emit("plotly_animated"),window.cancelAnimationFrame(n._animationRaf),n._animationRaf=null}function x(){t.emit("plotly_animating"),n._lastFrameAt=-1/0,n._timeToNext=0,n._runningTransitions=0,n._currentFrame=null;var e=function(){n._animationRaf=window.requestAnimationFrame(e),Date.now()-n._lastFrameAt>n._timeToNext&&m()};e()}var i,_,w=0;function M(t){return Array.isArray(o)?w>=o.length?t.transitionOpts=o[w]:t.transitionOpts=o[0]:t.transitionOpts=o,w++,t}var A=[],T=null==e,k=Array.isArray(e);if(!T&&!k&&c.isPlainObject(e))A.push({type:"object",data:M(c.extendFlat({},e))});else if(T||-1!==["string","number"].indexOf(typeof e))for(i=0;i<n._frames.length;i++)(_=n._frames[i])&&(T||String(_.group)===String(e))&&A.push({type:"byname",name:String(_.name),data:M({name:_.name})});else if(k)for(i=0;i<e.length;i++){var E=e[i];-1!==["number","string"].indexOf(typeof E)?(E=String(E),A.push({type:"byname",name:E,data:M({name:E})})):c.isPlainObject(E)&&A.push({type:"object",data:M(c.extendFlat({},E))})}for(i=0;i<A.length;i++)if("byname"===(_=A[i]).type&&!n._frameHash[_.data.name])return c.warn('animate failure: frame not found: "'+_.data.name+'"'),void v();-1!==["next","immediate"].indexOf(r.mode)&&function(){if(0!==n._frameQueue.length){for(;n._frameQueue.length;){var e=n._frameQueue.pop();e.onInterrupt&&e.onInterrupt()}t.emit("plotly_animationinterrupted",[])}}(),"reverse"===r.direction&&A.reverse();var S=t._fullLayout._currentFrame;if(S&&r.fromcurrent){var L=-1;for(i=0;i<A.length;i++)if("byname"===(_=A[i]).type&&_.name===S){L=i;break}if(L>0&&L<A.length-1){var O=[];for(i=0;i<A.length;i++)_=A[i],("byname"!==A[i].type||i>L)&&O.push(_);A=O}}A.length>0?function(e){if(0!==e.length){for(var i=0;i<e.length;i++){var o;o="byname"===e[i].type?y.computeFrame(t,e[i].name):e[i].data;var c=h(i),m=f(i);m.duration=Math.min(m.duration,c.duration);var _={frame:o,name:e[i].name,frameOpts:c,transitionOpts:m};i===e.length-1&&(_.onComplete=d(l,2),_.onInterrupt=v),n._frameQueue.push(_)}"immediate"===r.mode&&(n._lastFrameAt=-1/0),n._animationRaf||x()}}(A):(t.emit("plotly_animated"),l())}))},e.addFrames=function(t,e,r){if(t=c.getGraphDiv(t),null==e)return Promise.resolve();if(!c.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var i,n,o,l,f=t._transitionData._frames,h=t._transitionData._frameHash;if(!Array.isArray(e))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+e);var v=f.length+2*e.length,m=[],x={};for(i=e.length-1;i>=0;i--)if(c.isPlainObject(e[i])){var _=e[i].name,w=(h[_]||x[_]||{}).name,M=e[i].name,A=h[w]||x[w];w&&M&&"number"==typeof M&&A&&P<5&&(P++,c.warn('addFrames: overwriting frame "'+(h[w]||x[w]).name+'" with a frame whose name of type "number" also equates to "'+w+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===P&&c.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),x[_]={name:_},m.push({frame:y.supplyFrameDefaults(e[i]),index:r&&void 0!==r[i]&&null!==r[i]?r[i]:v+i})}m.sort((function(a,b){return a.index>b.index?-1:a.index<b.index?1:0}));var T=[],k=[],E=f.length;for(i=m.length-1;i>=0;i--){if("number"==typeof(n=m[i].frame).name&&c.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!n.name)for(;h[n.name="frame "+t._transitionData._counter++];);if(h[n.name]){for(o=0;o<f.length&&(f[o]||{}).name!==n.name;o++);T.push({type:"replace",index:o,value:n}),k.unshift({type:"replace",index:o,value:f[o]})}else l=Math.max(0,Math.min(m[i].index,E)),T.push({type:"insert",index:l,value:n}),k.unshift({type:"delete",index:l}),E++}var S=y.modifyFrames,L=y.modifyFrames,C=[t,k],O=[t,T];return d&&d.add(t,S,C,L,O),y.modifyFrames(t,T)},e.deleteFrames=function(t,e){if(t=c.getGraphDiv(t),!c.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);var i,r,n=t._transitionData._frames,o=[],l=[];if(!e)for(e=[],i=0;i<n.length;i++)e.push(i);for((e=e.slice()).sort(),i=e.length-1;i>=0;i--)r=e[i],o.push({type:"delete",index:r}),l.unshift({type:"insert",index:r,value:n[r]});var f=y.modifyFrames,h=y.modifyFrames,v=[t,l],m=[t,o];return d&&d.add(t,f,v,h,m),y.modifyFrames(t,o)},e.addTraces=function t(r,n,o){r=c.getGraphDiv(r);var i,l,f=[],h=e.deleteTraces,v=t,m=[r,f],y=[r,n];for(function(t,e,r){var i,n;if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(void 0===e)throw new Error("traces must be defined.");for(Array.isArray(e)||(e=[e]),i=0;i<e.length;i++)if("object"!=typeof(n=e[i])||Array.isArray(n)||null===n)throw new Error("all values in traces array must be non-array objects");if(void 0===r||Array.isArray(r)||(r=[r]),void 0!==r&&r.length!==e.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(r,n,o),Array.isArray(n)||(n=[n]),n=n.map((function(t){return c.extendFlat({},t)})),C.cleanData(n),i=0;i<n.length;i++)r.data.push(n[i]);for(i=0;i<n.length;i++)f.push(-n.length+i);if(void 0===o)return l=e.redraw(r),d.add(r,h,m,v,y),l;Array.isArray(o)||(o=[o]);try{U(r,f,o)}catch(t){throw r.data.splice(r.data.length-n.length,n.length),t}return d.startSequence(r),d.add(r,h,m,v,y),l=e.moveTraces(r,f,o),d.stopSequence(r),l},e.deleteTraces=function t(r,n){r=c.getGraphDiv(r);var i,o,l=[],f=e.addTraces,h=t,v=[r,l,n],m=[r,n];if(void 0===n)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(n)||(n=[n]),B(r,n,"indices"),(n=j(n,r.data.length-1)).sort(c.sorterDes),i=0;i<n.length;i+=1)o=r.data.splice(n[i],1)[0],l.push(o);var y=e.redraw(r);return d.add(r,f,v,h,m),y},e.extendTraces=function t(r,n,o,l){function f(t,e,r){var n,o;if(c.isTypedArray(t))if(r<0){var l=new t.constructor(0),f=V(t,e);r<0?(n=f,o=l):(n=l,o=f)}else if(n=new t.constructor(r),o=new t.constructor(t.length+e.length-r),r===e.length)n.set(e),o.set(t);else if(r<e.length){var h=e.length-r;n.set(e.subarray(h)),o.set(t),o.set(e.subarray(0,h),t.length)}else{var d=r-e.length,v=t.length-d;n.set(t.subarray(v)),n.set(e,d),o.set(t.subarray(0,v))}else n=t.concat(e),o=r>=0&&r<n.length?n.splice(0,n.length-r):[];return[n,o]}var h=H(r=c.getGraphDiv(r),n,o,l,f),v=e.redraw(r),m=[r,h.update,o,h.maxPoints];return d.add(r,e.prependTraces,m,t,arguments),v},e.moveTraces=function t(r,n,o){var i,l=[],f=[],h=t,v=t,m=[r=c.getGraphDiv(r),o,n],y=[r,n,o];if(U(r,n,o),n=Array.isArray(n)?n:[n],void 0===o)for(o=[],i=0;i<n.length;i++)o.push(-n.length+i);for(o=Array.isArray(o)?o:[o],n=j(n,r.data.length-1),o=j(o,r.data.length-1),i=0;i<r.data.length;i++)-1===n.indexOf(i)&&l.push(r.data[i]);for(i=0;i<n.length;i++)f.push({newIndex:o[i],trace:r.data[n[i]]});for(f.sort((function(a,b){return a.newIndex-b.newIndex})),i=0;i<f.length;i+=1)l.splice(f[i].newIndex,0,f[i].trace);r.data=l;var x=e.redraw(r);return d.add(r,h,m,v,y),x},e.prependTraces=function t(r,n,o,l){function f(t,e,r){var n,o;if(c.isTypedArray(t))if(r<=0){var l=new t.constructor(0),f=V(e,t);r<0?(n=f,o=l):(n=l,o=f)}else if(n=new t.constructor(r),o=new t.constructor(t.length+e.length-r),r===e.length)n.set(e),o.set(t);else if(r<e.length){var h=e.length-r;n.set(e.subarray(0,h)),o.set(e.subarray(h)),o.set(t,h)}else{var d=r-e.length;n.set(e),n.set(t.subarray(0,d),e.length),o.set(t.subarray(d))}else n=e.concat(t),o=r>=0&&r<n.length?n.splice(r,n.length):[];return[n,o]}var h=H(r=c.getGraphDiv(r),n,o,l,f),v=e.redraw(r),m=[r,h.update,o,h.maxPoints];return d.add(r,e.extendTraces,m,t,arguments),v},e.newPlot=function(t,data,r,n){return t=c.getGraphDiv(t),y.cleanPlot([],{},t._fullData||[],t._fullLayout||{}),y.purge(t),e.plot(t,data,r,n)},e.plot=function(t,data,r,o){var l;if(t=c.getGraphDiv(t),h.init(t),c.isPlainObject(data)){var f=data;data=f.data,r=f.layout,o=f.config,l=f.frames}if(!1===h.triggerHandler(t,"plotly_beforeplot",[data,r,o]))return Promise.reject();data||r||c.isPlotDiv(t)||c.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",t),F(t,o),r||(r={}),n.select(t).classed("js-plotly-plot",!0),w.makeTester(),Array.isArray(t._promises)||(t._promises=[]);var d=0===(t.data||[]).length&&Array.isArray(data);Array.isArray(data)&&(C.cleanData(data),d?t.data=data:t.data.push.apply(t.data,data),t.empty=!1),t.layout&&!d||(t.layout=C.cleanLayout(r)),y.supplyDefaults(t);var m=t._fullLayout,M=m._has("cartesian");if(!m._has("polar")&&data&&data[0]&&data[0].r)return c.log("Legacy polar charts are deprecated!"),function(t,data,e){var r=n.select(t).selectAll(".plot-container").data([0]);r.enter().insert("div",":first-child").classed("plot-container plotly",!0);var o=r.selectAll(".svg-container").data([0]);o.enter().append("div").classed("svg-container",!0).style("position","relative"),o.html(""),data&&(t.data=data);e&&(t.layout=e);x.manager.fillLayout(t),o.style({width:t._fullLayout.width+"px",height:t._fullLayout.height+"px"}),t.framework=x.manager.framework(t),t.framework({data:t.data,layout:t.layout},o.node()),t.framework.setUndoPoint();var l=t.framework.svg(),f=1,h=t._fullLayout.title?t._fullLayout.title.text:"";""!==h&&h||(f=0);var d=function(){this.call(k.convertToTspans,t)},title=l.select(".title-group text").call(d);if(t._context.edits.titleText){var v=c._(t,"Click to enter Plot title");h&&h!==v||(f=.2,title.attr({"data-unformatted":v}).text(v).style({opacity:f}).on("mouseover.opacity",(function(){n.select(this).transition().duration(100).style("opacity",1)})).on("mouseout.opacity",(function(){n.select(this).transition().duration(1e3).style("opacity",0)})));var m=function(){this.call(k.makeEditable,{gd:t}).on("edit",(function(text){t.framework({layout:{title:{text:text}}}),this.text(text).call(d),this.call(m)})).on("cancel",(function(){var t=this.attr("data-unformatted");this.text(t).call(d)}))};title.call(m)}return t._context.setBackground(t,t._fullLayout.paper_bgcolor),y.addLinks(t),Promise.resolve()}(t,data,r);m._replotting=!0,(d||m._shouldCreateBgLayer)&&(yt(t),m._shouldCreateBgLayer&&delete m._shouldCreateBgLayer),t.framework!==yt&&(t.framework=yt,yt(t)),w.initGradients(t),d&&_.saveShowSpikeInitial(t);var T=!t.calcdata||t.calcdata.length!==(t._fullData||[]).length;T&&y.doCalcdata(t);for(var i=0;i<t.calcdata.length;i++)t.calcdata[i][0].trace=t._fullData[i];t._context.responsive?t._responsiveChartHandler||(t._responsiveChartHandler=function(){c.isHidden(t)||y.resize(t)},window.addEventListener("resize",t._responsiveChartHandler)):c.clearResponsive(t);var E=c.extendFlat({},m._size),S=0;function L(){if(y.clearAutoMarginIds(t),O.drawMarginPushers(t),_.allowAutoMargin(t),m._has("pie"))for(var e=t._fullData,i=0;i<e.length;i++){var r=e[i];"pie"===r.type&&r.automargin&&y.allowAutoMargin(t,"pie."+r.uid+".automargin")}return y.doAutoMargin(t),y.previousPromises(t)}function R(){t._transitioning||(O.doAutoRangeAndConstraints(t),d&&_.saveRangeInitial(t),v.getComponentMethod("rangeslider","calcAutorange")(t))}var D=[y.previousPromises,function(){if(l)return e.addFrames(t,l)},function e(){for(var r=m._basePlotModules,i=0;i<r.length;i++)r[i].drawFramework&&r[i].drawFramework(t);if(!m._glcanvas&&m._has("gl")&&(m._glcanvas=m._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],(function(t){return t.key})),m._glcanvas.enter().append("canvas").attr("class",(function(t){return"gl-canvas gl-canvas-"+t.key.replace("Layer","")})).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"})),m._glcanvas){m._glcanvas.attr("width",m.width).attr("height",m.height);var n=m._glcanvas.data()[0].regl;if(n&&(Math.floor(m.width)!==n._gl.drawingBufferWidth||Math.floor(m.height)!==n._gl.drawingBufferHeight)){var o="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!S)return c.log(o+" Clearing graph and plotting again."),y.cleanPlot([],{},t._fullData,m),y.supplyDefaults(t),m=t._fullLayout,y.doCalcdata(t),S++,e();c.error(o)}}return"h"===m.modebar.orientation?m._modebardiv.style("height",null).style("width","100%"):m._modebardiv.style("width",null).style("height",m.height+"px"),y.previousPromises(t)},L,function(){if(y.didMarginChange(E,m._size))return c.syncOrAsync([L,O.layoutStyles],t)}];M&&D.push((function(){if(T)return c.syncOrAsync([v.getComponentMethod("shapes","calcAutorange"),v.getComponentMethod("annotations","calcAutorange"),R],t);R()})),D.push(O.layoutStyles),M&&D.push((function(){return _.draw(t,d?"":"redraw")}),(function(t){t._fullLayout._insideTickLabelsAutorange&&Q(t,t._fullLayout._insideTickLabelsAutorange).then((function(){t._fullLayout._insideTickLabelsAutorange=void 0}))})),D.push(O.drawData,O.finalDraw,A,y.addLinks,y.rehover,y.redrag,y.doAutoMargin,(function(t){t._fullLayout._insideTickLabelsAutorange&&d&&_.saveRangeInitial(t,!0)}),y.previousPromises);var P=c.syncOrAsync(D,t);return P&&P.then||(P=Promise.resolve()),P.then((function(){return I(t),t}))},e.purge=function(t){var e=(t=c.getGraphDiv(t))._fullLayout||{},r=t._fullData||[];return y.cleanPlot([],{},r,e),y.purge(t),h.purge(t),e._container&&e._container.remove(),delete t._context,t},e.react=function(t,data,r,n){var o,l;t=c.getGraphDiv(t),C.clearPromiseQueue(t);var h=t._fullData,d=t._fullLayout;if(c.isPlotDiv(t)&&h&&d){if(c.isPlainObject(data)){var x=data;data=x.data,r=x.layout,n=x.config,o=x.frames}var _=!1;if(n){var w=c.extendDeep({},t._context);t._context=void 0,F(t,n),_=function t(e,r){var n;for(n in e)if("_"!==n.charAt(0)){var o=e[n],l=r[n];if(o!==l)if(c.isPlainObject(o)&&c.isPlainObject(l)){if(t(o,l))return!0}else{if(!Array.isArray(o)||!Array.isArray(l))return!0;if(o.length!==l.length)return!0;for(var i=0;i<o.length;i++)if(o[i]!==l[i]){if(!c.isPlainObject(o[i])||!c.isPlainObject(l[i]))return!0;if(t(o[i],l[i]))return!0}}}}(w,t._context)}t.data=data||[],C.cleanData(t.data),t.layout=r||{},C.cleanLayout(t.layout),function(data,t,e,r){var n,o,l,h,d,v,m,y,x=r._preGUI,_=[],w={};for(n in x){if(d=ct(n,lt)){if(o=d.attr||d.head+".uirevision",(h=(l=f(r,o).get())&&ft(o,t))&&h===l&&(null===(v=x[n])&&(v=void 0),gt(y=(m=f(t,n)).get(),v))){void 0===y&&"autorange"===n.substr(n.length-9)&&_.push(n.substr(0,n.length-10)),m.set(G(f(r,n).get()));continue}}else c.warn("unrecognized GUI edit: "+n);delete x[n],"range["===n.substr(n.length-8,6)&&(w[n.substr(0,n.length-9)]=1)}for(var i=0;i<_.length;i++){var M=_[i];if(w[M]){var A=f(t,M).get();A&&delete A.autorange}}var T=r._tracePreGUI;for(var k in T){var E,S=T[k],L=null;for(n in S){if(!L){var C=ht(k,e);if(C<0){delete T[k];break}var O=pt(k,data,(E=e[C]._fullInput).index);if(O<0){delete T[k];break}L=data[O]}if(d=ct(n,ut)){if(d.attr?h=(l=f(r,d.attr).get())&&ft(d.attr,t):(l=E.uirevision,void 0===(h=L.uirevision)&&(h=t.uirevision)),h&&h===l&&(null===(v=S[n])&&(v=void 0),gt(y=(m=f(L,n)).get(),v))){m.set(G(f(E,n).get()));continue}}else c.warn("unrecognized GUI edit: "+n+" in trace uid "+k);delete S[n]}}}(t.data,t.layout,h,d),y.supplyDefaults(t,{skipUpdateCalc:!0});var M=t._fullData,A=t._fullLayout,T=void 0===A.datarevision,k=A.transition,E=function(t,e,r,n,o){var l=R.layoutFlags();function c(t){return m.getLayoutValObject(r,t)}l.arrays={},l.rangesAltered={},l.nChanges=0,l.nChangesAnim=0,vt(e,r,[],{getValObject:c,flags:l,immutable:n,transition:o,gd:t}),(l.plot||l.calc)&&(l.layoutReplot=!0);o&&l.nChanges&&l.nChangesAnim&&(l.anim=l.nChanges===l.nChangesAnim?"all":"some");return l}(t,d,A,T,k),S=E.newDataRevision,L=function(t,e,r,n,o,l){var c=e.length===r.length;if(!o&&!c)return{fullReplot:!0,calc:!0};var i,f,h=R.traceFlags();h.arrays={},h.nChanges=0,h.nChangesAnim=0;var d={getValObject:function(t){var e=m.getTraceValObject(f,t);return!f._module.animatable&&e.anim&&(e.anim=!1),e},flags:h,immutable:n,transition:o,newDataRevision:l,gd:t},v={};for(i=0;i<e.length;i++)if(r[i]){if(f=r[i]._fullInput,y.hasMakesDataTransform(f)&&(f=r[i]),v[f.uid])continue;v[f.uid]=1,vt(e[i]._fullInput,f,[],d)}(h.calc||h.plot)&&(h.fullReplot=!0);o&&h.nChanges&&h.nChangesAnim&&(h.anim=h.nChanges===h.nChangesAnim&&c?"all":"some");return h}(t,h,M,T,k,S);if(at(t)&&(E.layoutReplot=!0),L.calc||E.calc){t.calcdata=void 0;for(var D=Object.getOwnPropertyNames(A),q=0;q<D.length;q++){var P=D[q],N=P.substring(0,5);if("xaxis"===N||"yaxis"===N){var z=A[P]._emptyCategories;z&&z()}}}else y.supplyDefaultsUpdateCalc(t.calcdata,M);var j=[];if(o&&(t._transitionData={},y.createTransitionData(t),j.push((function(){return e.addFrames(t,o)}))),A.transition&&!_&&(L.anim||E.anim))E.ticks&&j.push(O.doTicksRelayout),y.doCalcdata(t),O.doAutoRangeAndConstraints(t),j.push((function(){return y.transitionFromReact(t,L,E,d)}));else if(L.fullReplot||E.layoutReplot||_)t._fullLayout._skipDefaults=!0,j.push(e.plot);else{for(var B in E.arrays){var U=E.arrays[B];if(U.length){var H=v.getComponentMethod(B,"drawOne");if(H!==c.noop)for(var i=0;i<U.length;i++)H(t,U[i]);else{var V=v.getComponentMethod(B,"draw");if(V===c.noop)throw new Error("cannot draw components: "+B);V(t)}}}j.push(y.previousPromises),L.style&&j.push(O.doTraceStyle),(L.colorbars||E.colorbars)&&j.push(O.doColorBars),E.legend&&j.push(O.doLegend),E.layoutstyle&&j.push(O.layoutStyles),E.axrange&&$(j),E.ticks&&j.push(O.doTicksRelayout),E.modebar&&j.push(O.doModeBar),E.camera&&j.push(O.doCamera),j.push(I)}j.push(y.rehover,y.redrag),(l=c.syncOrAsync(j,t))&&l.then||(l=Promise.resolve(t))}else l=e.newPlot(t,data,r,n);return l.then((function(){return t.emit("plotly_react",{data:data,layout:r}),t}))},e.redraw=function(t){if(t=c.getGraphDiv(t),!c.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);return C.cleanData(t.data),C.cleanLayout(t.layout),t.calcdata=void 0,e.plot(t).then((function(){return t.emit("plotly_redraw"),t}))},e.relayout=Q,e.restyle=Y,e.setPlotConfig=function(t){return c.extendFlat(S,t)},e.update=ot,e._guiRelayout=st(Q),e._guiRestyle=st(Y),e._guiUpdate=st(ot),e._storeDirectGUIEdit=function(t,e,r){for(var n in r){X(n,f(t,n).get(),r[n],e)}}},function(t,e,r){"use strict";(function(e){var n,o=r(619);n="function"==typeof e.matchMedia?!e.matchMedia("(hover: none)").matches:o,t.exports=n}).call(this,r(75))},function(t,e){t.exports=!0},function(t,e,r){"use strict";var n=r(421),o=r(481).dfltConfig;var l={add:function(t,e,r,n,l){var c,f;t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},f=t.undoQueue.index,t.autoplay?t.undoQueue.inSequence||(t.autoplay=!1):(!t.undoQueue.sequence||t.undoQueue.beginSequence?(c={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},t.undoQueue.queue.splice(f,t.undoQueue.queue.length-f,c),t.undoQueue.index+=1):c=t.undoQueue.queue[f-1],t.undoQueue.beginSequence=!1,c&&(c.undo.calls.unshift(e),c.undo.args.unshift(r),c.redo.calls.push(n),c.redo.args.push(l)),t.undoQueue.queue.length>o.queueLength&&(t.undoQueue.queue.shift(),t.undoQueue.index--))},startSequence:function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!0,t.undoQueue.beginSequence=!0},stopSequence:function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!1,t.undoQueue.beginSequence=!1},undo:function(t){var e,i;if(t.framework&&t.framework.isPolar)t.framework.undo();else if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index<=0)){for(t.undoQueue.index--,e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,i=0;i<e.undo.calls.length;i++)l.plotDo(t,e.undo.calls[i],e.undo.args[i]);t.undoQueue.inSequence=!1,t.autoplay=!1}},redo:function(t){var e,i;if(t.framework&&t.framework.isPolar)t.framework.redo();else if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index>=t.undoQueue.queue.length)){for(e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,i=0;i<e.redo.calls.length;i++)l.plotDo(t,e.redo.calls[i],e.redo.args[i]);t.undoQueue.inSequence=!1,t.autoplay=!1,t.undoQueue.index++}}};l.plotDo=function(t,e,r){t.autoplay=!0,r=function(t,e){for(var r,o=[],i=0;i<e.length;i++)r=e[i],o[i]=r===t?r:"object"==typeof r?Array.isArray(r)?n.extendDeep([],r):n.extendDeepAll({},r):r;return o}(t,r),e.apply(null,r)},t.exports=l},function(t,e,r){"use strict";t.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},function(t,e,r){"use strict";var n=r(429).extendFlat,o=r(462),l=r(479).scales;t.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:l.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:l.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:l.RdBu,editType:"calc"}},coloraxis:n({_isSubplotObj:!0,editType:"calc"},o("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},function(t,e,r){"use strict";var n=r(421);t.exports=function(t){return n.isPlainObject(t.colorbar)}},function(t,e,r){"use strict";var n=r(421),o=r(428),l=r(625),c=r(627),f=r(628),h=r(541);t.exports=function(t,e,r){var d=o.newContainer(e,"colorbar"),v=t.colorbar||{};function m(t,e){return n.coerce(v,d,h,t,e)}var y=m("thicknessmode");m("thickness","fraction"===y?30/(r.width-r.margin.l-r.margin.r):30);var x=m("lenmode");m("len","fraction"===x?1:r.height-r.margin.t-r.margin.b),m("x"),m("xanchor"),m("xpad"),m("y"),m("yanchor"),m("ypad"),n.noneOrAll(v,d,["x","y"]),m("outlinecolor"),m("outlinewidth"),m("bordercolor"),m("borderwidth"),m("bgcolor");var _=m("ticklabelposition");l(v,d,m,"linear");var w={outerTicks:!1,font:r.font};-1!==_.indexOf("inside")&&(w.bgColor="black"),f(v,d,m,"linear",w),c(v,d,m,"linear",w),m("title.text",r._dfltTitle.colorbar),n.coerceFont(m,"title.font",r.font),m("title.side")}},function(t,e,r){"use strict";var n=r(626),o=r(421).isArrayOrTypedArray;t.exports=function(t,e,r,l){function c(r){var n=t[r];return void 0!==n?n:(e._template||{})[r]}var f=c("tick0"),h=c("dtick"),d=c("tickvals"),v=r("tickmode",o(d)?"array":h?"linear":"auto");if("auto"===v)r("nticks");else if("linear"===v){var m=e.dtick=n.dtick(h,l);e.tick0=n.tick0(f,l,e.calendar,m)}else if("multicategory"!==l){void 0===r("tickvals")?e.tickmode="auto":r("ticktext")}}},function(t,e,r){"use strict";var n=r(424),o=r(421),l=r(430),c=l.ONEDAY,f=l.ONEWEEK;e.dtick=function(t,e){var r="log"===e,o="date"===e,l="category"===e,f=o?c:1;if(!t)return f;if(n(t))return(t=Number(t))<=0?f:l?Math.max(1,Math.round(t)):o?Math.max(.1,t):t;if("string"!=typeof t||!o&&!r)return f;var h=t.charAt(0),d=t.substr(1);return(d=n(d)?Number(d):0)<=0||!(o&&"M"===h&&d===Math.round(d)||r&&"L"===h||r&&"D"===h&&(1===d||2===d))?f:t},e.tick0=function(t,e,r,l){return"date"===e?o.cleanDate(t,o.dateTick0(r,l%f==0?1:0)):"D1"!==l&&"D2"!==l?n(t)?Number(t):0:void 0}},function(t,e,r){"use strict";var n=r(421),o=r(446);t.exports=function(t,e,r,l){var c=n.coerce2(t,e,o,"ticklen"),f=n.coerce2(t,e,o,"tickwidth"),h=n.coerce2(t,e,o,"tickcolor",e.color);r("ticks",l.outerTicks||c||f||h?"outside":"")||(delete e.ticklen,delete e.tickwidth,delete e.tickcolor)}},function(t,e,r){"use strict";var n=r(421),o=r(425).contrast,l=r(446),c=r(458);function f(t){var e=["showexponent","showtickprefix","showticksuffix"].filter((function(a){return void 0!==t[a]}));if(e.every((function(a){return t[a]===t[e[0]]}))||1===e.length)return t[e[0]]}function h(t,e){function r(r,o){return n.coerce(t,e,l.tickformatstops,r,o)}r("enabled")&&(r("dtickrange"),r("value"))}t.exports=function(t,e,r,d,v,m){m&&1!==m.pass||function(t,e,r,n,o){var l=f(t);r("tickprefix")&&r("showtickprefix",l);r("ticksuffix",o.tickSuffixDflt)&&r("showticksuffix",l)}(t,0,r,0,v),m&&2!==m.pass||function(t,e,r,d,v){var m=f(t);r("tickprefix")&&r("showtickprefix",m);r("ticksuffix",v.tickSuffixDflt)&&r("showticksuffix",m);if(r("showticklabels")){var y=v.font||{},x=e.color,_=-1!==(e.ticklabelposition||"").indexOf("inside")?o(v.bgColor):x&&x!==l.color.dflt?x:y.color;if(n.coerceFont(r,"tickfont",{family:y.family,size:y.size,color:_}),r("tickangle"),"category"!==d){var w=r("tickformat");c(t,e,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:h}),e.tickformatstops.length||delete e.tickformatstops,w||"date"===d||(r("showexponent",m),r("exponentformat"),r("minexponent"),r("separatethousands"))}}}(t,e,r,d,v)}},function(t,e,r){"use strict";var n=r(424);t.exports=function(t){var marker=t.marker,e=marker.sizeref||1,r=marker.sizemin||0,o="area"===marker.sizemode?function(t){return Math.sqrt(t/e)}:function(t){return t/e};return function(t){var e=o(t/2);return n(e)&&e>0?Math.max(e,r):0}}},function(t,e,r){var n=r(423),o=r(421).extendDeepAll,l=r(438).MID_SHIFT,c=t.exports={version:"0.2.2"};c.Axis=function(){var svg,t,e,r,f={data:[],layout:{}},h={},d={},v=n.dispatch("hover"),m={};return m.render=function(h){return function(h){t=h||t;var data=f.data,v=f.layout;("string"==typeof t||t.nodeName)&&(t=n.select(t)),t.datum(data).each((function(t,f){var h=t.slice();d={data:c.util.cloneJson(h),layout:c.util.cloneJson(v)};var m=0;h.forEach((function(t,i){t.color||(t.color=v.defaultColorRange[m],m=(m+1)%v.defaultColorRange.length),t.strokeColor||(t.strokeColor="LinePlot"===t.geometry?t.color:n.rgb(t.color).darker().toString()),d.data[i].color=t.color,d.data[i].strokeColor=t.strokeColor,d.data[i].strokeDash=t.strokeDash,d.data[i].strokeSize=t.strokeSize}));var data=h.filter((function(t,i){var e=t.visible;return void 0===e||!0===e})),y=!1,x=data.map((function(t,i){return y=y||void 0!==t.groupId,t}));if(y){var _=n.nest().key((function(t,i){return void 0!==t.groupId?t.groupId:"unstacked"})).entries(x),w=[],M=_.map((function(t,i){if("unstacked"===t.key)return t.values;var e=t.values[0].r.map((function(t,i){return 0}));return t.values.forEach((function(t,i,a){t.yStack=[e],w.push(e),e=c.util.sumArrays(t.r,e)})),t.values}));data=n.merge(M)}data.forEach((function(t,i){t.t=Array.isArray(t.t[0])?t.t:[t.t],t.r=Array.isArray(t.r[0])?t.r:[t.r]}));var A=Math.min(v.width-v.margin.left-v.margin.right,v.height-v.margin.top-v.margin.bottom)/2;A=Math.max(10,A);var T,k=[v.margin.left+A,v.margin.top+A];y?T=[0,n.max(c.util.sumArrays(c.util.arrayLast(data).r[0],c.util.arrayLast(w)))]:T=n.extent(c.util.flattenArray(data.map((function(t,i){return t.r}))));v.radialAxis.domain!=c.DATAEXTENT&&(T[0]=0),e=n.scale.linear().domain(v.radialAxis.domain!=c.DATAEXTENT&&v.radialAxis.domain?v.radialAxis.domain:T).range([0,A]),d.layout.radialAxis.domain=e.domain();var E,S=c.util.flattenArray(data.map((function(t,i){return t.t}))),L="string"==typeof S[0];L&&(S=c.util.deduplicate(S),E=S.slice(),S=n.range(S.length),data=data.map((function(t,i){var e=t;return t.t=[S],y&&(e.yStack=t.yStack),e})));var C=data.filter((function(t,i){return"LinePlot"===t.geometry||"DotPlot"===t.geometry})).length===data.length,O=null===v.needsEndSpacing?L||!C:v.needsEndSpacing,R=v.angularAxis.domain&&v.angularAxis.domain!=c.DATAEXTENT&&!L&&v.angularAxis.domain[0]>=0?v.angularAxis.domain:n.extent(S),D=Math.abs(S[1]-S[0]);C&&!L&&(D=0);var P=R.slice();O&&L&&(P[1]+=D);var I=v.angularAxis.ticksCount||4;I>8&&(I=I/(I/8)+I%8),v.angularAxis.ticksStep&&(I=(P[1]-P[0])/I);var N=v.angularAxis.ticksStep||(P[1]-P[0])/(I*(v.minorTicks+1));E&&(N=Math.max(Math.round(N),1)),P[2]||(P[2]=N);var z=n.range.apply(this,P);if(z=z.map((function(t,i){return parseFloat(t.toPrecision(12))})),r=n.scale.linear().domain(P.slice(0,2)).range("clockwise"===v.direction?[0,360]:[360,0]),d.layout.angularAxis.domain=r.domain(),d.layout.angularAxis.endPadding=O?D:0,void 0===(svg=n.select(this).select("svg.chart-root"))||svg.empty()){var F=(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>","application/xml"),j=this.appendChild(this.ownerDocument.importNode(F.documentElement,!0));svg=n.select(j)}svg.select(".guides-group").style({"pointer-events":"none"}),svg.select(".angular.axis-group").style({"pointer-events":"none"}),svg.select(".radial.axis-group").style({"pointer-events":"none"});var B,U=svg.select(".chart-group"),H={fill:"none",stroke:v.tickColor},V={"font-size":v.font.size,"font-family":v.font.family,fill:v.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map((function(t,i){return" "+t+" 0 "+v.font.outlineColor})).join(",")};if(v.showLegend){B=svg.select(".legend-group").attr({transform:"translate("+[A,v.margin.top]+")"}).style({display:"block"});var Y=data.map((function(t,i){var e=c.util.cloneJson(t);return e.symbol="DotPlot"===t.geometry?t.dotType||"circle":"LinePlot"!=t.geometry?"square":"line",e.visibleInLegend=void 0===t.visibleInLegend||t.visibleInLegend,e.color="LinePlot"===t.geometry?t.strokeColor:t.color,e}));c.Legend().config({data:data.map((function(t,i){return t.name||"Element"+i})),legendConfig:o({},c.Legend.defaultConfig().legendConfig,{container:B,elements:Y,reverseOrder:v.legend.reverseOrder})})();var G=B.node().getBBox();A=Math.min(v.width-G.width-v.margin.left-v.margin.right,v.height-v.margin.top-v.margin.bottom)/2,A=Math.max(10,A),k=[v.margin.left+A,v.margin.top+A],e.range([0,A]),d.layout.radialAxis.domain=e.domain(),B.attr("transform","translate("+[k[0]+A,k[1]-A]+")")}else B=svg.select(".legend-group").style({display:"none"});svg.attr({width:v.width,height:v.height}).style({opacity:v.opacity}),U.attr("transform","translate("+k+")").style({cursor:"crosshair"});var W=[(v.width-(v.margin.left+v.margin.right+2*A+(G?G.width:0)))/2,(v.height-(v.margin.top+v.margin.bottom+2*A))/2];if(W[0]=Math.max(0,W[0]),W[1]=Math.max(0,W[1]),svg.select(".outer-group").attr("transform","translate("+W+")"),v.title&&v.title.text){var title=svg.select("g.title-group text").style(V).text(v.title.text),X=title.node().getBBox();title.attr({x:k[0]-X.width/2,y:k[1]-A-20})}var Z=svg.select(".radial.axis-group");if(v.radialAxis.gridLinesVisible){var J=Z.selectAll("circle.grid-circle").data(e.ticks(5));J.enter().append("circle").attr({class:"grid-circle"}).style(H),J.attr("r",e),J.exit().remove()}Z.select("circle.outside-circle").attr({r:A}).style(H);var Q=svg.select("circle.background-circle").attr({r:A}).style({fill:v.backgroundColor,stroke:v.stroke});function K(t,i){return r(t)%360+v.orientation}if(v.radialAxis.visible){var $=n.svg.axis().scale(e).ticks(5).tickSize(5);Z.call($).attr({transform:"rotate("+v.radialAxis.orientation+")"}),Z.selectAll(".domain").style(H),Z.selectAll("g>text").text((function(t,i){return this.textContent+v.radialAxis.ticksSuffix})).style(V).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(t,i){return"horizontal"===v.radialAxis.tickOrientation?"rotate("+-v.radialAxis.orientation+") translate("+[0,V["font-size"]]+")":"translate("+[0,V["font-size"]]+")"}}),Z.selectAll("g>line").style({stroke:"black"})}var tt=svg.select(".angular.axis-group").selectAll("g.angular-tick").data(z),et=tt.enter().append("g").classed("angular-tick",!0);tt.attr({transform:function(t,i){return"rotate("+K(t)+")"}}).style({display:v.angularAxis.visible?"block":"none"}),tt.exit().remove(),et.append("line").classed("grid-line",!0).classed("major",(function(t,i){return i%(v.minorTicks+1)==0})).classed("minor",(function(t,i){return!(i%(v.minorTicks+1)==0)})).style(H),et.selectAll(".minor").style({stroke:v.minorTickColor}),tt.select("line.grid-line").attr({x1:v.tickLength?A-v.tickLength:0,x2:A}).style({display:v.angularAxis.gridLinesVisible?"block":"none"}),et.append("text").classed("axis-text",!0).style(V);var nt=tt.select("text.axis-text").attr({x:A+v.labelOffset,dy:l+"em",transform:function(t,i){var e=K(t),r=A+v.labelOffset,n=v.angularAxis.tickOrientation;return"horizontal"==n?"rotate("+-e+" "+r+" 0)":"radial"==n?e<270&&e>90?"rotate(180 "+r+" 0)":null:"rotate("+(e<=180&&e>0?-90:90)+" "+r+" 0)"}}).style({"text-anchor":"middle",display:v.angularAxis.labelsVisible?"block":"none"}).text((function(t,i){return i%(v.minorTicks+1)!=0?"":E?E[t]+v.angularAxis.ticksSuffix:t+v.angularAxis.ticksSuffix})).style(V);v.angularAxis.rewriteTicks&&nt.text((function(t,i){return i%(v.minorTicks+1)!=0?"":v.angularAxis.rewriteTicks(this.textContent,i)}));var it=n.max(U.selectAll(".angular-tick text")[0].map((function(t,i){return t.getCTM().e+t.getBBox().width})));B.attr({transform:"translate("+[A+it,v.margin.top]+")"});var at=svg.select("g.geometry-group").selectAll("g").size()>0,ot=svg.select("g.geometry-group").selectAll("g.geometry").data(data);if(ot.enter().append("g").attr({class:function(t,i){return"geometry geometry"+i}}),ot.exit().remove(),data[0]||at){var st=[];data.forEach((function(t,i){var n={};n.radialScale=e,n.angularScale=r,n.container=ot.filter((function(t,e){return e==i})),n.geometry=t.geometry,n.orientation=v.orientation,n.direction=v.direction,n.index=i,st.push({data:t,geometryConfig:n})}));var lt=n.nest().key((function(t,i){return void 0!==t.data.groupId||"unstacked"})).entries(st),ut=[];lt.forEach((function(t,i){"unstacked"===t.key?ut=ut.concat(t.values.map((function(t,i){return[t]}))):ut.push(t.values)})),ut.forEach((function(t,i){var e;e=Array.isArray(t)?t[0].geometryConfig.geometry:t.geometryConfig.geometry;var r=t.map((function(t,r){return o(c[e].defaultConfig(),t)}));c[e]().config(r)()}))}var ct,ft,ht=svg.select(".guides-group"),pt=svg.select(".tooltips-group"),gt=c.tooltipPanel().config({container:pt,fontSize:8})(),vt=c.tooltipPanel().config({container:pt,fontSize:8})(),mt=c.tooltipPanel().config({container:pt,hasTick:!0})();if(!L){var yt=ht.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});U.on("mousemove.angular-guide",(function(t,i){var e=c.util.getMousePos(Q).angle;yt.attr({x2:-A,transform:"rotate("+e+")"}).style({opacity:.5});var n=(e+180+360-v.orientation)%360;ct=r.invert(n);var o=c.util.convertToCartesian(A+12,e+180);gt.text(c.util.round(ct)).move([o[0]+k[0],o[1]+k[1]])})).on("mouseout.angular-guide",(function(t,i){ht.select("line").style({opacity:0})}))}var xt=ht.select("circle").style({stroke:"grey",fill:"none"});U.on("mousemove.radial-guide",(function(t,i){var r=c.util.getMousePos(Q).radius;xt.attr({r:r}).style({opacity:.5}),ft=e.invert(c.util.getMousePos(Q).radius);var n=c.util.convertToCartesian(r,v.radialAxis.orientation);vt.text(c.util.round(ft)).move([n[0]+k[0],n[1]+k[1]])})).on("mouseout.radial-guide",(function(t,i){xt.style({opacity:0}),mt.hide(),gt.hide(),vt.hide()})),svg.selectAll(".geometry-group .mark").on("mouseover.tooltip",(function(t,i){var e=n.select(this),r=this.style.fill,o="black",l=this.style.opacity||1;if(e.attr({"data-opacity":l}),r&&"none"!==r){e.attr({"data-fill":r}),o=n.hsl(r).darker().toString(),e.style({fill:o,opacity:1});var f={t:c.util.round(t[0]),r:c.util.round(t[1])};L&&(f.t=E[t[0]]);var text="t: "+f.t+", r: "+f.r,h=this.getBoundingClientRect(),d=svg.node().getBoundingClientRect(),v=[h.left+h.width/2-W[0]-d.left,h.top+h.height/2-W[1]-d.top];mt.config({color:o}).text(text),mt.move(v)}else r=this.style.stroke||"black",e.attr({"data-stroke":r}),o=n.hsl(r).darker().toString(),e.style({stroke:o,opacity:1})})).on("mousemove.tooltip",(function(t,i){if(0!=n.event.which)return!1;n.select(this).attr("data-fill")&&mt.show()})).on("mouseout.tooltip",(function(t,i){mt.hide();var e=n.select(this),r=e.attr("data-fill");r?e.style({fill:r,opacity:e.attr("data-opacity")}):e.style({stroke:e.attr("data-stroke"),opacity:e.attr("data-opacity")})}))}))}(h),this},m.config=function(t){if(!arguments.length)return f;var e=c.util.cloneJson(t);return e.data.forEach((function(t,i){f.data[i]||(f.data[i]={}),o(f.data[i],c.Axis.defaultConfig().data[0]),o(f.data[i],t)})),o(f.layout,c.Axis.defaultConfig().layout),o(f.layout,e.layout),this},m.getLiveConfig=function(){return d},m.getinputConfig=function(){return h},m.radialScale=function(t){return e},m.angularScale=function(t){return r},m.svg=function(){return svg},n.rebind(m,v,"on"),m},c.Axis.defaultConfig=function(t,i){return{data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:n.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}}},c.util={},c.DATAEXTENT="dataExtent",c.AREA="AreaChart",c.LINE="LinePlot",c.DOT="DotPlot",c.BAR="BarChart",c.util._override=function(t,e){for(var r in t)r in e&&(e[r]=t[r])},c.util._extend=function(t,e){for(var r in t)e[r]=t[r]},c.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},c.util.dataFromEquation2=function(t,e){var r=e||6;return n.range(0,360+r,r).map((function(e,r){var n=e*Math.PI/180;return[e,t(n)]}))},c.util.dataFromEquation=function(t,e,r){var o=e||6,l=[],c=[];n.range(0,360+o,o).forEach((function(e,r){var n=e*Math.PI/180,o=t(n);l.push(e),c.push(o)}));var f={t:l,r:c};return r&&(f.name=r),f},c.util.ensureArray=function(t,e){if(void 0===t)return null;var r=[].concat(t);return n.range(e).map((function(t,i){return r[i]||r[0]}))},c.util.fillArrays=function(t,e,r){return e.forEach((function(e,i){t[e]=c.util.ensureArray(t[e],r)})),t},c.util.cloneJson=function(t){return JSON.parse(JSON.stringify(t))},c.util.validateKeys=function(t,e){"string"==typeof e&&(e=e.split("."));var r=e.shift();return t[r]&&(!e.length||objHasKeys(t[r],e))},c.util.sumArrays=function(a,b){return n.zip(a,b).map((function(t,i){return n.sum(t)}))},c.util.arrayLast=function(a){return a[a.length-1]},c.util.arrayEqual=function(a,b){for(var i=Math.max(a.length,b.length,1);i-- >=0&&a[i]===b[i];);return-2===i},c.util.flattenArray=function(t){for(var e=[];!c.util.arrayEqual(e,t);)e=t,t=[].concat.apply([],t);return t},c.util.deduplicate=function(t){return t.filter((function(t,i,a){return a.indexOf(t)==i}))},c.util.convertToCartesian=function(t,e){var r=e*Math.PI/180;return[t*Math.cos(r),t*Math.sin(r)]},c.util.round=function(t,e){var r=e||2,n=Math.pow(10,r);return Math.round(t*n)/n},c.util.getMousePos=function(t){var e=n.mouse(t.node()),r=e[0],o=e[1],l={};return l.x=r,l.y=o,l.pos=e,l.angle=180*(Math.atan2(o,r)+Math.PI)/Math.PI,l.radius=Math.sqrt(r*r+o*o),l},c.util.duplicatesCount=function(t){for(var e,r={},n={},i=0,o=t.length;i<o;i++)(e=t[i])in r?(r[e]++,n[e]=r[e]):r[e]=1;return n},c.util.duplicates=function(t){return Object.keys(c.util.duplicatesCount(t))},c.util.translator=function(t,e,r,n){if(n){var o=r.slice();r=e,e=o}var l=e.reduce((function(t,e){if(void 0!==t)return t[e]}),t);void 0!==l&&(e.reduce((function(t,r,n){if(void 0!==t)return n===e.length-1&&delete t[r],t[r]}),t),r.reduce((function(t,e,n){return void 0===t[e]&&(t[e]={}),n===r.length-1&&(t[e]=l),t[e]}),t))},c.PolyChart=function(){var t=[c.PolyChart.defaultConfig()],e=n.dispatch("hover"),r={solid:"none",dash:[5,2],dot:[2,5]};function l(){var e=t[0].geometryConfig,o=e.container;"string"==typeof o&&(o=n.select(o)),o.datum(t).each((function(t,o){var l=!!t[0].data.yStack,data=t.map((function(t,i){return l?n.zip(t.data.t[0],t.data.r[0],t.data.yStack[0]):n.zip(t.data.t[0],t.data.r[0])})),c=e.angularScale,f=e.radialScale.domain()[0],h={bar:function(r,i,o){var l=t[o].data,f=e.radialScale(r[1])-e.radialScale(0),h=e.radialScale(r[2]||0),d=l.barWidth;n.select(this).attr({class:"mark bar",d:"M"+[[f+h,-d/2],[f+h,d/2],[h,d/2],[h,-d/2]].join("L")+"Z",transform:function(t,i){return"rotate("+(e.orientation+c(t[0]))+")"}})}};h.dot=function(r,i,o){var l=r[2]?[r[0],r[1]+r[2]]:r,symbol=n.svg.symbol().size(t[o].data.dotSize).type(t[o].data.dotType)(r,i);n.select(this).attr({class:"mark dot",d:symbol,transform:function(t,i){var r,n,o,c=(r=function(t,i){var r=e.radialScale(t[1]),n=(e.angularScale(t[0])+e.orientation)*Math.PI/180;return{r:r,t:n}}(l),n=r.r*Math.cos(r.t),o=r.r*Math.sin(r.t),{x:n,y:o});return"translate("+[c.x,c.y]+")"}})};var line=n.svg.line.radial().interpolate(t[0].data.lineInterpolation).radius((function(t){return e.radialScale(t[1])})).angle((function(t){return e.angularScale(t[0])*Math.PI/180}));h.line=function(r,i,o){var l=r[2]?data[o].map((function(t,i){return[t[0],t[1]+t[2]]})):data[o];if(n.select(this).each(h.dot).style({opacity:function(e,r){return+t[o].data.dotVisible},fill:y.stroke(r,i,o)}).attr({class:"mark dot"}),!(i>0)){var c=n.select(this.parentNode).selectAll("path.line").data([0]);c.enter().insert("path"),c.attr({class:"line",d:line(l),transform:function(t,r){return"rotate("+(e.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(t,e){return y.fill(r,i,o)},"fill-opacity":0,stroke:function(t,e){return y.stroke(r,i,o)},"stroke-width":function(t,e){return y["stroke-width"](r,i,o)},"stroke-dasharray":function(t,e){return y["stroke-dasharray"](r,i,o)},opacity:function(t,e){return y.opacity(r,i,o)},display:function(t,e){return y.display(r,i,o)}})}};var d=e.angularScale.range(),v=Math.abs(d[1]-d[0])/data[0].length*Math.PI/180,m=n.svg.arc().startAngle((function(t){return-v/2})).endAngle((function(t){return v/2})).innerRadius((function(t){return e.radialScale(f+(t[2]||0))})).outerRadius((function(t){return e.radialScale(f+(t[2]||0))+e.radialScale(t[1])}));h.arc=function(t,i,r){n.select(this).attr({class:"mark arc",d:m,transform:function(t,i){return"rotate("+(e.orientation+c(t[0])+90)+")"}})};var y={fill:function(e,i,r){return t[r].data.color},stroke:function(e,i,r){return t[r].data.strokeColor},"stroke-width":function(e,i,r){return t[r].data.strokeSize+"px"},"stroke-dasharray":function(e,i,n){return r[t[n].data.strokeDash]},opacity:function(e,i,r){return t[r].data.opacity},display:function(e,i,r){return void 0===t[r].data.visible||t[r].data.visible?"block":"none"}},x=n.select(this).selectAll("g.layer").data(data);x.enter().append("g").attr({class:"layer"});var _=x.selectAll("path.mark").data((function(t,i){return t}));_.enter().append("path").attr({class:"mark"}),_.style(y).each(h[e.geometryType]),_.exit().remove(),x.exit().remove()}))}return l.config=function(e){return arguments.length?(e.forEach((function(e,i){t[i]||(t[i]={}),o(t[i],c.PolyChart.defaultConfig()),o(t[i],e)})),this):t},l.getColorScale=function(){},n.rebind(l,e,"on"),l},c.PolyChart.defaultConfig=function(){return{data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:n.scale.category20()}}},c.BarChart=function(){return c.PolyChart()},c.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}},c.AreaChart=function(){return c.PolyChart()},c.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}},c.DotPlot=function(){return c.PolyChart()},c.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}},c.LinePlot=function(){return c.PolyChart()},c.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}},c.Legend=function(){var t=c.Legend.defaultConfig(),e=n.dispatch("hover");function r(){var e=t.legendConfig,l=t.data.map((function(t,i){return[].concat(t).map((function(t,r){var element=o({},e.elements[i]);return element.name=t,element.color=[].concat(e.elements[i].color)[r],element}))})),data=n.merge(l);data=data.filter((function(t,i){return e.elements[i]&&(e.elements[i].visibleInLegend||void 0===e.elements[i].visibleInLegend)})),e.reverseOrder&&(data=data.reverse());var c=e.container;("string"==typeof c||c.nodeName)&&(c=n.select(c));var f=data.map((function(t,i){return t.color})),h=e.fontSize,d=null==e.isContinuous?"number"==typeof data[0]:e.isContinuous,v=d?e.height:h*data.length,svg=c.classed("legend-group",!0).selectAll("svg").data([0]),m=svg.enter().append("svg").attr({width:300,height:v+h,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});m.append("g").classed("legend-axis",!0),m.append("g").classed("legend-marks",!0);var y=n.range(data.length),x=n.scale[d?"linear":"ordinal"]().domain(y).range(f),_=n.scale[d?"linear":"ordinal"]().domain(y)[d?"range":"rangePoints"]([0,v]);if(d){var w=svg.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(f);w.enter().append("stop"),w.attr({offset:function(t,i){return i/(f.length-1)*100+"%"}}).style({"stop-color":function(t,i){return t}}),svg.append("rect").classed("legend-mark",!0).attr({height:e.height,width:e.colorBandWidth,fill:"url(#grad1)"})}else{var M=svg.select(".legend-marks").selectAll("path.legend-mark").data(data);M.enter().append("path").classed("legend-mark",!0),M.attr({transform:function(t,i){return"translate("+[h/2,_(i)+h/2]+")"},d:function(t,i){var e,r,o,l=t.symbol;return o=3*(r=h),"line"===(e=l)?"M"+[[-r/2,-r/12],[r/2,-r/12],[r/2,r/12],[-r/2,r/12]]+"Z":-1!=n.svg.symbolTypes.indexOf(e)?n.svg.symbol().type(e).size(o)():n.svg.symbol().type("square").size(o)()},fill:function(t,i){return x(i)}}),M.exit().remove()}var A=n.svg.axis().scale(_).orient("right"),T=svg.select("g.legend-axis").attr({transform:"translate("+[d?e.colorBandWidth:h,h/2]+")"}).call(A);return T.selectAll(".domain").style({fill:"none",stroke:"none"}),T.selectAll("line").style({fill:"none",stroke:d?e.textColor:"none"}),T.selectAll("text").style({fill:e.textColor,"font-size":e.fontSize}).text((function(t,i){return data[i].name})),r}return r.config=function(e){return arguments.length?(o(t,e),this):t},n.rebind(r,e,"on"),r},c.Legend.defaultConfig=function(t,i){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}},c.tooltipPanel=function(){var t,e,r,l={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},f="tooltip-"+c.tooltipPanel.uid++,h=10,d=function(){var n=(t=l.container.selectAll("g."+f).data([0])).enter().append("g").classed(f,!0).style({"pointer-events":"none",display:"none"});return r=n.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),e=n.append("text").attr({dx:l.padding+h,dy:.3*+l.fontSize}),d};return d.text=function(o){var c=n.hsl(l.color).l,f=c>=.5?"#aaa":"white",v=c>=.5?"black":"white",text=o||"";e.style({fill:v,"font-size":l.fontSize+"px"}).text(text);var m=l.padding,y=e.node().getBBox(),x={fill:l.color,stroke:f,"stroke-width":"2px"},_=y.width+2*m+h,w=y.height+2*m;return r.attr({d:"M"+[[h,-w/2],[h,-w/4],[l.hasTick?0:h,0],[h,w/4],[h,w/2],[_,w/2],[_,-w/2]].join("L")+"Z"}).style(x),t.attr({transform:"translate("+[h,-w/2+2*m]+")"}),t.style({display:"block"}),d},d.move=function(e){if(t)return t.attr({transform:"translate("+[e[0],e[1]]+")"}).style({display:"block"}),d},d.hide=function(){if(t)return t.style({display:"none"}),d},d.show=function(){if(t)return t.style({display:"block"}),d},d.config=function(t){return o(l,t),d},d},c.tooltipPanel.uid=1,c.adapter={},c.adapter.plotly=function(){var t={convert:function(t,e){var r={};if(t.data&&(r.data=t.data.map((function(t,i){var r=o({},t);return[[r,["marker","color"],["color"]],[r,["marker","opacity"],["opacity"]],[r,["marker","line","color"],["strokeColor"]],[r,["marker","line","dash"],["strokeDash"]],[r,["marker","line","width"],["strokeSize"]],[r,["marker","symbol"],["dotType"]],[r,["marker","size"],["dotSize"]],[r,["marker","barWidth"],["barWidth"]],[r,["line","interpolation"],["lineInterpolation"]],[r,["showlegend"],["visibleInLegend"]]].forEach((function(t,i){c.util.translator.apply(null,t.concat(e))})),e||delete r.marker,e&&delete r.groupId,e?("LinePlot"===r.geometry?(r.type="scatter",!0===r.dotVisible?(delete r.dotVisible,r.mode="lines+markers"):r.mode="lines"):"DotPlot"===r.geometry?(r.type="scatter",r.mode="markers"):"AreaChart"===r.geometry?r.type="area":"BarChart"===r.geometry&&(r.type="bar"),delete r.geometry):("scatter"===r.type?"lines"===r.mode?r.geometry="LinePlot":"markers"===r.mode?r.geometry="DotPlot":"lines+markers"===r.mode&&(r.geometry="LinePlot",r.dotVisible=!0):"area"===r.type?r.geometry="AreaChart":"bar"===r.type&&(r.geometry="BarChart"),delete r.mode,delete r.type),r})),!e&&t.layout&&"stack"===t.layout.barmode)){var l=c.util.duplicates(r.data.map((function(t,i){return t.geometry})));r.data.forEach((function(t,i){var e=l.indexOf(t.geometry);-1!=e&&(r.data[i].groupId=e)}))}if(t.layout){var f=o({},t.layout);if([[f,["plot_bgcolor"],["backgroundColor"]],[f,["showlegend"],["showLegend"]],[f,["radialaxis"],["radialAxis"]],[f,["angularaxis"],["angularAxis"]],[f.angularaxis,["showline"],["gridLinesVisible"]],[f.angularaxis,["showticklabels"],["labelsVisible"]],[f.angularaxis,["nticks"],["ticksCount"]],[f.angularaxis,["tickorientation"],["tickOrientation"]],[f.angularaxis,["ticksuffix"],["ticksSuffix"]],[f.angularaxis,["range"],["domain"]],[f.angularaxis,["endpadding"],["endPadding"]],[f.radialaxis,["showline"],["gridLinesVisible"]],[f.radialaxis,["tickorientation"],["tickOrientation"]],[f.radialaxis,["ticksuffix"],["ticksSuffix"]],[f.radialaxis,["range"],["domain"]],[f.angularAxis,["showline"],["gridLinesVisible"]],[f.angularAxis,["showticklabels"],["labelsVisible"]],[f.angularAxis,["nticks"],["ticksCount"]],[f.angularAxis,["tickorientation"],["tickOrientation"]],[f.angularAxis,["ticksuffix"],["ticksSuffix"]],[f.angularAxis,["range"],["domain"]],[f.angularAxis,["endpadding"],["endPadding"]],[f.radialAxis,["showline"],["gridLinesVisible"]],[f.radialAxis,["tickorientation"],["tickOrientation"]],[f.radialAxis,["ticksuffix"],["ticksSuffix"]],[f.radialAxis,["range"],["domain"]],[f.font,["outlinecolor"],["outlineColor"]],[f.legend,["traceorder"],["reverseOrder"]],[f,["labeloffset"],["labelOffset"]],[f,["defaultcolorrange"],["defaultColorRange"]]].forEach((function(t,i){c.util.translator.apply(null,t.concat(e))})),e?(void 0!==f.tickLength&&(f.angularaxis.ticklen=f.tickLength,delete f.tickLength),f.tickColor&&(f.angularaxis.tickcolor=f.tickColor,delete f.tickColor)):(f.angularAxis&&void 0!==f.angularAxis.ticklen&&(f.tickLength=f.angularAxis.ticklen),f.angularAxis&&void 0!==f.angularAxis.tickcolor&&(f.tickColor=f.angularAxis.tickcolor)),f.legend&&"boolean"!=typeof f.legend.reverseOrder&&(f.legend.reverseOrder="normal"!=f.legend.reverseOrder),f.legend&&"boolean"==typeof f.legend.traceorder&&(f.legend.traceorder=f.legend.traceorder?"reversed":"normal",delete f.legend.reverseOrder),f.margin&&void 0!==f.margin.t){var source=["t","r","b","l","pad"],h=["top","right","bottom","left","pad"],d={};n.entries(f.margin).forEach((function(t,e){d[h[source.indexOf(t.key)]]=t.value})),f.margin=d}e&&(delete f.needsEndSpacing,delete f.minorTickColor,delete f.minorTicks,delete f.angularaxis.ticksCount,delete f.angularaxis.ticksCount,delete f.angularaxis.ticksStep,delete f.angularaxis.rewriteTicks,delete f.angularaxis.nticks,delete f.radialaxis.ticksCount,delete f.radialaxis.ticksCount,delete f.radialaxis.ticksStep,delete f.radialaxis.rewriteTicks,delete f.radialaxis.nticks),r.layout=f}return r}};return t}},function(t,e,r){"use strict";var n=r(424),o=r(421),l=r(430).BADNUM,c=o.isArrayOrTypedArray,f=o.isDateTime,h=o.cleanNumber,d=Math.round;function v(t,e){return e?n(t):"number"==typeof t}function m(t){return Math.max(1,(t-1)/1e3)}t.exports=function(t,e,r){var a=t,o=r.noMultiCategory;if(c(a)&&!a.length)return"-";if(!o&&function(a){return c(a[0])&&c(a[1])}(a))return"multicategory";if(o&&Array.isArray(a[0])){for(var b=[],i=0;i<a.length;i++)if(c(a[i]))for(var y=0;y<a[i].length;y++)b.push(a[i][y]);a=b}if(function(a,t){for(var e=a.length,r=m(e),o=0,l=0,c={},h=0;h<e;h+=r){var i=d(h),v=a[i],y=String(v);c[y]||(c[y]=1,f(v,t)&&o++,n(v)&&l++)}return o>2*l}(a,e))return"date";var x="strict"!==r.autotypenumbers;return function(a,t){for(var e=a.length,r=m(e),n=0,o=0,c={},f=0;f<e;f+=r){var i=d(f),v=a[i],y=String(v);if(!c[y]){c[y]=1;var x=typeof v;"boolean"===x?o++:(t?h(v)!==l:"number"===x)?n++:"string"===x&&o++}}return o>2*n}(a,x)?"category":function(a,t){for(var e=a.length,i=0;i<e;i++)if(v(a[i],t))return!0;return!1}(a,x)?"linear":"-"}},function(t,e,r){"use strict";var n=r(423),o=r(460),l=r(450),c=r(476),f=r(804).makeDragBox,h=r(434).DRAGGERSIZE;e.initInteractions=function(t){var r=t._fullLayout;if(t._context.staticPlot)n.select(t).selectAll(".drag").remove();else if(r._has("cartesian")||r._has("splom")){Object.keys(r._plots||{}).sort((function(a,b){if((r._plots[a].mainplot&&!0)===(r._plots[b].mainplot&&!0)){var t=a.split("y"),e=b.split("y");return t[0]===e[0]?Number(t[1]||1)-Number(e[1]||1):Number(t[0]||1)-Number(e[0]||1)}return r._plots[a].mainplot?1:-1})).forEach((function(e){var n=r._plots[e],c=n.xaxis,d=n.yaxis;if(!n.mainplot){var v=f(t,n,c._offset,d._offset,c._length,d._length,"ns","ew");v.onmousemove=function(r){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===e&&t._fullLayout._plots[e]&&o.hover(t,r,e)},o.hover(t,r,e),t._fullLayout._lasthover=v,t._fullLayout._hoversubplot=e},v.onmouseout=function(e){t._dragging||(t._fullLayout._hoversubplot=null,l.unhover(t,e))},t._context.showAxisDragHandles&&(f(t,n,c._offset-h,d._offset-h,h,h,"n","w"),f(t,n,c._offset+c._length,d._offset-h,h,h,"n","e"),f(t,n,c._offset-h,d._offset+d._length,h,h,"s","w"),f(t,n,c._offset+c._length,d._offset+d._length,h,h,"s","e"))}if(t._context.showAxisDragHandles){if(e===c._mainSubplot){var m=c._mainLinePosition;"top"===c.side&&(m-=h),f(t,n,c._offset+.1*c._length,m,.8*c._length,h,"","ew"),f(t,n,c._offset,m,.1*c._length,h,"","w"),f(t,n,c._offset+.9*c._length,m,.1*c._length,h,"","e")}if(e===d._mainSubplot){var y=d._mainLinePosition;"right"!==d.side&&(y-=h),f(t,n,y,d._offset+.1*d._length,h,.8*d._length,"ns",""),f(t,n,y,d._offset+.9*d._length,h,.1*d._length,"s",""),f(t,n,y,d._offset,h,.1*d._length,"n","")}}}));var c=r._hoverlayer.node();c.onmousemove=function(e){e.target=t._fullLayout._lasthover,o.hover(t,e,r._hoversubplot)},c.onclick=function(e){e.target=t._fullLayout._lasthover,o.click(t,e)},c.onmousedown=function(e){t._fullLayout._lasthover.onmousedown(e)},e.updateFx(t)}},e.updateFx=function(t){var e=t._fullLayout,cursor="pan"===e.dragmode?"move":"crosshair";c(e._draggers,cursor)}},function(t,e){var r={left:0,top:0};t.exports=function(t,e,n){e=e||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var o=t.clientX||0,l=t.clientY||0,rect=(element=e,element===window||element===document||element===document.body?r:element.getBoundingClientRect());var element;return n[0]=o-rect.left,n[1]=l-rect.top,n}},function(t,e,r){"use strict";var n=r(423),o=r(424),l=r(443),c=r(421),f=c.strTranslate,h=c.strRotate,d=r(502),v=r(440),m=r(795),y=r(427),x=r(425),_=r(450),w=r(426),M=r(422),A=r(459),T=r(500),k=r(635),E=r(637),S=T.YANGLE,L=Math.PI*S/180,C=1/Math.sin(L),O=Math.cos(L),R=Math.sin(L),D=T.HOVERARROWSIZE,P=T.HOVERTEXTPAD;function I(t){return[t.trace.index,t.index,t.x0,t.y0,t.name,t.attr,t.xa,t.ya||""].join(",")}e.hover=function(t,e,r,l){t=c.getGraphDiv(t),c.throttle(t._fullLayout._uid+T.HOVERID,T.HOVERMINTIME,(function(){!function(t,e,r,l){r||(r="xy");var f=Array.isArray(r)?r:[r],h=t._fullLayout,v=h._plots||[],y=v[r],w=h._has("cartesian");if(y){var T=y.overlays.map((function(t){return t.id}));f=f.concat(T)}for(var k=f.length,E=new Array(k),S=new Array(k),L=!1,i=0;i<k;i++){var O=f[i];if(v[O])L=!0,E[i]=v[O].xaxis,S[i]=v[O].yaxis;else{if(!h[O]||!h[O]._subplot)return void c.warn("Unrecognized subplot: "+O);var R=h[O]._subplot;E[i]=R.xaxis,S[i]=R.yaxis}}var D=e.hovermode||h.hovermode;D&&!L&&(D="closest");if(-1===["x","y","closest","x unified","y unified"].indexOf(D)||!t.calcdata||t.querySelector(".zoombox")||t._dragging)return _.unhoverRaw(t,e);var P,N,F,V,Y,G,W,X,Z,J,Q,K,$,tt=-1===h.hoverdistance?1/0:h.hoverdistance,et=-1===h.spikedistance?1/0:h.spikedistance,nt=[],it=[],at={hLinePoint:null,vLinePoint:null},ot=!1;if(Array.isArray(e))for(D="array",F=0;F<e.length;F++)(Y=t.calcdata[e[F].curveNumber||0])&&(G=Y[0].trace,"skip"!==Y[0].trace.hoverinfo&&(it.push(Y),"h"===G.orientation&&(ot=!0)));else{for(V=0;V<t.calcdata.length;V++)Y=t.calcdata[V],"skip"!==(G=Y[0].trace).hoverinfo&&A.isTraceInSubplots(G,f)&&(it.push(Y),"h"===G.orientation&&(ot=!0));var st,lt;if(!e.target)st="xpx"in e?e.xpx:E[0]._length/2,lt="ypx"in e?e.ypx:S[0]._length/2;else{if(!1===d.triggerHandler(t,"plotly_beforehover",e))return;var ut=e.target.getBoundingClientRect();st=e.clientX-ut.left,lt=e.clientY-ut.top,h._calcInverseTransform(t);var ct=c.apply3DTransform(h._invTransform)(st,lt);if(st=ct[0],lt=ct[1],st<0||st>E[0]._length||lt<0||lt>S[0]._length)return _.unhoverRaw(t,e)}if(e.pointerX=st+E[0]._offset,e.pointerY=lt+S[0]._offset,P="xval"in e?A.flat(f,e.xval):A.p2c(E,st),N="yval"in e?A.flat(f,e.yval):A.p2c(S,lt),!o(P[0])||!o(N[0]))return c.warn("Fx.hover failed",e,t),_.unhoverRaw(t,e)}var ft=1/0;function ht(t,r){for(V=0;V<it.length;V++)if((Y=it[V])&&Y[0]&&Y[0].trace&&!0===(G=Y[0].trace).visible&&0!==G._length&&-1===["carpet","contourcarpet"].indexOf(G._module.name)){if("splom"===G.type?W=f[X=0]:(W=A.getSubplot(G),X=f.indexOf(W)),Z=D,A.isUnifiedHover(Z)&&(Z=Z.charAt(0)),K={cd:Y,trace:G,xa:E[X],ya:S[X],maxHoverDistance:tt,maxSpikeDistance:et,index:!1,distance:Math.min(ft,tt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:x.defaultLine,name:G.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},h[W]&&(K.subplot=h[W]._subplot),h._splomScenes&&h._splomScenes[G.uid]&&(K.scene=h._splomScenes[G.uid]),$=nt.length,"array"===Z){var n=e[V];"pointNumber"in n?(K.index=n.pointNumber,Z="closest"):(Z="","xval"in n&&(J=n.xval,Z="x"),"yval"in n&&(Q=n.yval,Z=Z?"closest":"y"))}else void 0!==t&&void 0!==r?(J=t,Q=r):(J=P[X],Q=N[X]);if(0!==tt)if(G._module&&G._module.hoverPoints){var l=G._module.hoverPoints(K,J,Q,Z,h._hoverlayer);if(l)for(var d,v=0;v<l.length;v++)d=l[v],o(d.x0)&&o(d.y0)&&nt.push(B(d,D))}else c.log("Unrecognized trace type in hover:",G);if("closest"===D&&nt.length>$&&(nt.splice(0,$),ft=nt[0].distance),w&&0!==et&&0===nt.length){K.distance=et,K.index=!1;var m=G._module.hoverPoints(K,J,Q,"closest",h._hoverlayer);if(m&&(m=m.filter((function(t){return t.spikeDistance<=et}))),m&&m.length){var y,_=m.filter((function(t){return t.xa.showspikes&&"hovered data"!==t.xa.spikesnap}));if(_.length){var M=_[0];o(M.x0)&&o(M.y0)&&(y=gt(M),(!at.vLinePoint||at.vLinePoint.spikeDistance>y.spikeDistance)&&(at.vLinePoint=y))}var T=m.filter((function(t){return t.ya.showspikes&&"hovered data"!==t.ya.spikesnap}));if(T.length){var k=T[0];o(k.x0)&&o(k.y0)&&(y=gt(k),(!at.hLinePoint||at.hLinePoint.spikeDistance>y.spikeDistance)&&(at.hLinePoint=y))}}}}}function pt(t,e){for(var r,n=null,o=1/0,i=0;i<t.length;i++)(r=t[i].spikeDistance)<=o&&r<=e&&(n=t[i],o=r);return n}function gt(t){return t?{xa:t.xa,ya:t.ya,x:void 0!==t.xSpike?t.xSpike:(t.x0+t.x1)/2,y:void 0!==t.ySpike?t.ySpike:(t.y0+t.y1)/2,distance:t.distance,spikeDistance:t.spikeDistance,curveNumber:t.trace.index,color:t.color,pointNumber:t.index}:null}ht();var vt={fullLayout:h,container:h._hoverlayer,outerContainer:h._paperdiv,event:e},mt=t._spikepoints,yt={vLinePoint:at.vLinePoint,hLinePoint:at.hLinePoint};if(t._spikepoints=yt,w&&0!==et&&0!==nt.length){var xt=pt(nt.filter((function(t){return t.ya.showspikes})),et);at.hLinePoint=gt(xt);var bt=pt(nt.filter((function(t){return t.xa.showspikes})),et);at.vLinePoint=gt(bt)}if(0===nt.length){var _t=_.unhoverRaw(t,e);return!w||null===at.hLinePoint&&null===at.vLinePoint||H(mt)&&U(t,at,vt),_t}w&&H(mt)&&U(t,at,vt);if(nt.sort((function(t,e){return t.distance-e.distance})),A.isXYhover(Z)&&0!==nt[0].length&&"splom"!==nt[0].trace.type){var wt=nt[0],Mt=wt.cd[wt.index],At="group"===h.boxmode||"group"===h.violinmode,Tt=wt.xVal,kt=wt.xa;"category"===kt.type&&(Tt=kt._categoriesMap[Tt]),"date"===kt.type&&(Tt=kt.d2c(Tt)),Mt&&Mt.t&&Mt.t.posLetter===kt._id&&At&&(Tt+=Mt.t.dPos);var Et=wt.yVal;"category"===(kt=wt.ya).type&&(Et=kt._categoriesMap[Et]),"date"===kt.type&&(Et=kt.d2c(Et)),Mt&&Mt.t&&Mt.t.posLetter===kt._id&&At&&(Et+=Mt.t.dPos),ht(Tt,Et);var St={};nt=nt.filter((function(t){var e=I(t);if(!St[e])return St[e]=!0,St[e]}))}var Lt=t._hoverdata,Ct=[];for(F=0;F<nt.length;F++){var Ot=nt[F],Rt=A.makeEventData(Ot,Ot.trace,Ot.cd);if(!1!==Ot.hovertemplate){var Dt=!1;Ot.cd[Ot.index]&&Ot.cd[Ot.index].ht&&(Dt=Ot.cd[Ot.index].ht),Ot.hovertemplate=Dt||Ot.trace.hovertemplate||!1}Ot.eventData=[Rt],Ct.push(Rt)}t._hoverdata=Ct;var Pt="y"===D&&(it.length>1||nt.length>1)||"closest"===D&&ot&&nt.length>1,It=x.combine(h.plot_bgcolor||x.background,h.paper_bgcolor),Nt={hovermode:D,rotateLabels:Pt,bgColor:It,container:h._hoverlayer,outerContainer:h._paperdiv,commonLabelOpts:h.hoverlabel,hoverdistance:h.hoverdistance},zt=z(nt,Nt,t);A.isUnifiedHover(D)||(!function(t,e,r){var n,o,l,i,c,f,h,d=0,v=1,m=t.size(),y=new Array(m),x=0;function _(t){var e=t[0],r=t[t.length-1];if(o=e.pmin-e.pos-e.dp+e.size,l=r.pos+r.dp+r.size-e.pmax,o>.01){for(c=t.length-1;c>=0;c--)t[c].dp+=o;n=!1}if(!(l<.01)){if(o<-.01){for(c=t.length-1;c>=0;c--)t[c].dp-=l;n=!1}if(n){var h=0;for(i=0;i<t.length;i++)(f=t[i]).pos+f.dp+f.size>e.pmax&&h++;for(i=t.length-1;i>=0&&!(h<=0);i--)(f=t[i]).pos>e.pmax-1&&(f.del=!0,h--);for(i=0;i<t.length&&!(h<=0);i++)if((f=t[i]).pos<e.pmin+1)for(f.del=!0,h--,l=2*f.size,c=t.length-1;c>=0;c--)t[c].dp-=l;for(i=t.length-1;i>=0&&!(h<=0);i--)(f=t[i]).pos+f.dp+f.size>e.pmax&&(f.del=!0,h--)}}}t.each((function(t){var n=t[e],o="x"===n._id.charAt(0),l=n.range;0===x&&l&&l[0]>l[1]!==o&&(v=-1),y[x++]=[{datum:t,traceIndex:t.trace.index,dp:0,pos:t.pos,posref:t.posref,size:t.by*(o?C:1)/2,pmin:0,pmax:o?r.width:r.height}]})),y.sort((function(a,b){return a[0].posref-b[0].posref||v*(b[0].traceIndex-a[0].traceIndex)}));for(;!n&&d<=m;){for(d++,n=!0,i=0;i<y.length-1;){var w=y[i],M=y[i+1],A=w[w.length-1],T=M[0];if((o=A.pos+A.dp+A.size-T.pos-T.dp+T.size)>.01&&A.pmin===T.pmin&&A.pmax===T.pmax){for(c=M.length-1;c>=0;c--)M[c].dp+=o;for(w.push.apply(w,M),y.splice(i+1,1),h=0,c=w.length-1;c>=0;c--)h+=w[c].dp;for(l=h/w.length,c=w.length-1;c>=0;c--)w[c].dp-=l;n=!1}else i++}y.forEach(_)}for(i=y.length-1;i>=0;i--){var k=y[i];for(c=k.length-1;c>=0;c--){var E=k[c],S=E.datum;S.offset=E.dp,S.del=E.del}}}(zt,Pt?"xa":"ya",h),j(zt,Pt,h._invScaleX,h._invScaleY));if(e.target&&e.target.tagName){var Ft=M.getComponentMethod("annotations","hasClickToShow")(t,Ct);m(n.select(e.target),Ft?"pointer":"")}if(!e.target||l||!function(t,e,r){if(!r||r.length!==t._hoverdata.length)return!0;for(var i=r.length-1;i>=0;i--){var n=r[i],o=t._hoverdata[i];if(n.curveNumber!==o.curveNumber||String(n.pointNumber)!==String(o.pointNumber)||String(n.pointNumbers)!==String(o.pointNumbers))return!0}return!1}(t,0,Lt))return;Lt&&t.emit("plotly_unhover",{event:e,points:Lt});t.emit("plotly_hover",{event:e,points:t._hoverdata,xaxes:E,yaxes:S,xvals:P,yvals:N})}(t,e,r,l)}))},e.loneHover=function(t,e){var r=!0;Array.isArray(t)||(r=!1,t=[t]);var o=t.map((function(t){return{color:t.color||x.defaultLine,x0:t.x0||t.x||0,x1:t.x1||t.x||0,y0:t.y0||t.y||0,y1:t.y1||t.y||0,xLabel:t.xLabel,yLabel:t.yLabel,zLabel:t.zLabel,text:t.text,name:t.name,idealAlign:t.idealAlign,borderColor:t.borderColor,fontFamily:t.fontFamily,fontSize:t.fontSize,fontColor:t.fontColor,nameLength:t.nameLength,textAlign:t.textAlign,trace:t.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:t.hovertemplate||!1,eventData:t.eventData||!1,hovertemplateLabels:t.hovertemplateLabels||!1}})),l=n.select(e.container),c=e.outerContainer?n.select(e.outerContainer):l,f={hovermode:"closest",rotateLabels:!1,bgColor:e.bgColor||x.background,container:l,outerContainer:c},h=z(o,f,e.gd),d=0,v=0;h.sort((function(a,b){return a.y0-b.y0})).each((function(t,i){var r=t.y0-t.by/2;t.offset=r-5<d?d-r+5:0,d=r+t.by+t.offset,i===e.anchorIndex&&(v=t.offset)})).each((function(t){t.offset-=v}));var m=e.gd._fullLayout._invScaleX,y=e.gd._fullLayout._invScaleY;return j(h,f.rotateLabels,m,y),r?h:h.node()};var N=/<extra>([\s\S]*)<\/extra>/;function z(t,e,r){var o=r._fullLayout,l=e.hovermode,d=e.rotateLabels,m=e.bgColor,_=e.container,w=e.outerContainer,M=e.commonLabelOpts||{},L=e.fontFamily||T.HOVERFONT,C=e.fontSize||T.HOVERFONTSIZE,O=t[0],R=O.xa,N=O.ya,z="y"===l.charAt(0)?"yLabel":"xLabel",j=O[z],B=(String(j)||"").split(" ")[0],U=w.node().getBoundingClientRect(),H=U.top,V=U.width,Y=U.height,G=void 0!==j&&O.distance<=e.hoverdistance&&("x"===l||"y"===l);if(G){var i,W,X=!0;for(i=0;i<t.length;i++)if(X&&void 0===t[i].zLabel&&(X=!1),W=t[i].hoverinfo||t[i].trace.hoverinfo){var Z=Array.isArray(W)?W:W.split("+");if(-1===Z.indexOf("all")&&-1===Z.indexOf(l)){G=!1;break}}X&&(G=!1)}var J=_.selectAll("g.axistext").data(G?[0]:[]);function Q(t){return t.filter((function(t){return void 0!==t.zLabelVal||(t[z]||"").split(" ")[0]===B}))}if(J.enter().append("g").classed("axistext",!0),J.exit().remove(),J.each((function(){var label=n.select(this),e=c.ensureSingle(label,"path","",(function(s){s.style({"stroke-width":"1px"})})),h=c.ensureSingle(label,"text","",(function(s){s.attr("data-notex",1)})),d=M.bgcolor||x.defaultLine,m=M.bordercolor||x.contrast(d),_=x.contrast(d),w={family:M.font.family||L,size:M.font.size||C,color:M.font.color||_};e.style({fill:d,stroke:m}),h.text(j).call(y.font,w).call(v.positionText,0,0).call(v.convertToTspans,r),label.attr("transform","");var A,T,k=h.node().getBoundingClientRect();if("x"===l){var E="top"===R.side?"-":"";h.attr("text-anchor","middle").call(v.positionText,0,"top"===R.side?H-k.bottom-D-P:H-k.top+D+P),A=R._offset+(O.x0+O.x1)/2,T=N._offset+("top"===R.side?0:N._length);var S=k.width/2+P;A<S?(A=S,e.attr("d","M-"+(S-D)+",0L-"+(S-2*D)+","+E+D+"H"+(P+k.width/2)+"v"+E+(2*P+k.height)+"H-"+S+"V"+E+D+"Z")):A>o.width-S?(A=o.width-S,e.attr("d","M"+(S-D)+",0L"+S+","+E+D+"v"+E+(2*P+k.height)+"H-"+S+"V"+E+D+"H"+(S-2*D)+"Z")):e.attr("d","M0,0L"+D+","+E+D+"H"+(P+k.width/2)+"v"+E+(2*P+k.height)+"H-"+(P+k.width/2)+"V"+E+D+"H-"+D+"Z")}else{var I,z,F;"right"===N.side?(I="start",z=1,F="",A=R._offset+R._length):(I="end",z=-1,F="-",A=R._offset),T=N._offset+(O.y0+O.y1)/2,h.attr("text-anchor",I),e.attr("d","M0,0L"+F+D+","+D+"V"+(P+k.height/2)+"h"+F+(2*P+k.width)+"V-"+(P+k.height/2)+"H"+F+D+"V-"+D+"Z");var B,U=k.height/2,V=H-k.top-U,Y="clip"+o._uid+"commonlabel"+N._id;if(A<k.width+2*P+D){B="M-"+(D+P)+"-"+U+"h-"+(k.width-P)+"V"+U+"h"+(k.width-P)+"Z";var G=k.width-A+P;v.positionText(h,G,V),"end"===I&&h.selectAll("tspan").each((function(){var s=n.select(this),t=y.tester.append("text").text(s.text()).call(y.font,w),e=t.node().getBoundingClientRect();Math.round(e.width)<Math.round(k.width)&&s.attr("x",G-e.width),t.remove()}))}else v.positionText(h,z*(P+D),V),B=null;var W=o._topclips.selectAll("#"+Y).data(B?[0]:[]);W.enter().append("clipPath").attr("id",Y).append("path"),W.exit().remove(),W.select("path").attr("d",B),y.setClipUrl(h,B?Y:null,r)}label.attr("transform",f(A,T)),t=Q(t)})),A.isUnifiedHover(l)){if(_.selectAll("g.hovertext").remove(),void 0!==j&&O.distance<=e.hoverdistance&&(t=Q(t)),0===t.length)return;var K={showlegend:!0,legend:{title:{text:j,font:o.hoverlabel.font},font:o.hoverlabel.font,bgcolor:o.hoverlabel.bgcolor,bordercolor:o.hoverlabel.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:o.legend?o.legend.traceorder:void 0,orientation:"v"}},$={};k(K,$,r._fullData);var tt=$.legend;tt.entries=[];for(var et=0;et<t.length;et++){var nt=F(t[et],!0,l,o,j),text=nt[0],it=nt[1],at=t[et];at.name=it,at.text=""!==it?it+" : "+text:text;var ot=at.cd[at.index];ot&&(ot.mc&&(at.mc=ot.mc),ot.mcc&&(at.mc=ot.mcc),ot.mlc&&(at.mlc=ot.mlc),ot.mlcc&&(at.mlc=ot.mlcc),ot.mlw&&(at.mlw=ot.mlw),ot.mrc&&(at.mrc=ot.mrc),ot.dir&&(at.dir=ot.dir)),at._distinct=!0,tt.entries.push([at])}tt.entries.sort((function(a,b){return a[0].trace.index-b[0].trace.index})),tt.layer=_,E(r,tt);var st=c.mean(t.map((function(t){return(t.y0+t.y1)/2}))),lt=c.mean(t.map((function(t){return(t.x0+t.x1)/2}))),ut=_.select("g.legend"),ct=ut.node().getBoundingClientRect();lt+=R._offset,st+=N._offset-ct.height/2;var ft=ct.width+2*P;!(lt+ft<=V)&&lt-ft>=0?lt-=ft:lt+=2*P;var ht=ct.height+2*P,pt=st+ht>=Y;return ht<=Y&&(st<=H?st=N._offset+2*P:pt&&(st=Y-ht)),ut.attr("transform",f(lt,st)),ut}var gt=_.selectAll("g.hovertext").data(t,(function(t){return I(t)}));return gt.enter().append("g").classed("hovertext",!0).each((function(){var g=n.select(this);g.append("rect").call(x.fill,x.addOpacity(m,.8)),g.append("text").classed("name",!0),g.append("path").style("stroke-width","1px"),g.append("text").classed("nums",!0).call(y.font,L,C)})),gt.exit().remove(),gt.each((function(t){var g=n.select(this).attr("transform",""),e=t.color;Array.isArray(e)&&(e=e[t.eventData[0].pointNumber]);var c=t.bgcolor||e,_=x.combine(x.opacity(c)?c:x.defaultLine,m),w=x.combine(x.opacity(e)?e:x.defaultLine,m),M=t.borderColor||x.contrast(_),A=F(t,G,l,o,j,g),text=A[0],T=A[1],k=g.select("text.nums").call(y.font,t.fontFamily||L,t.fontSize||C,t.fontColor||M).text(text).attr("data-notex",1).call(v.positionText,0,0).call(v.convertToTspans,r),E=g.select("text.name"),O=0,R=0;if(T&&T!==text){E.call(y.font,t.fontFamily||L,t.fontSize||C,w).text(T).attr("data-notex",1).call(v.positionText,0,0).call(v.convertToTspans,r);var I=E.node().getBoundingClientRect();O=I.width+2*P,R=I.height+2*P}else E.remove(),g.select("rect").remove();g.select("path").style({fill:_,stroke:M});var N,z,B=k.node().getBoundingClientRect(),U=t.xa._offset+(t.x0+t.x1)/2,W=t.ya._offset+(t.y0+t.y1)/2,X=Math.abs(t.x1-t.x0),Z=Math.abs(t.y1-t.y0),J=B.width+D+P+O;if(t.ty0=H-B.top,t.bx=B.width+2*P,t.by=Math.max(B.height+2*P,R),t.anchor="start",t.txwidth=B.width,t.tx2width=O,t.offset=0,d)t.pos=U,N=W+Z/2+J<=Y,z=W-Z/2-J>=0,"top"!==t.idealAlign&&N||!z?N?(W+=Z/2,t.anchor="start"):t.anchor="middle":(W-=Z/2,t.anchor="end");else if(t.pos=W,N=U+X/2+J<=V,z=U-X/2-J>=0,"left"!==t.idealAlign&&N||!z)if(N)U+=X/2,t.anchor="start";else{t.anchor="middle";var Q=J/2,K=U+Q-V,$=U-Q;K>0&&(U-=K),$<0&&(U+=-$)}else U-=X/2,t.anchor="end";k.attr("text-anchor",t.anchor),O&&E.attr("text-anchor",t.anchor),g.attr("transform",f(U,W)+(d?h(S):""))})),gt}function F(t,e,r,n,o,g){var l="",text="";void 0!==t.nameOverride&&(t.name=t.nameOverride),t.name&&(t.trace._meta&&(t.name=c.templateString(t.name,t.trace._meta)),l=V(t.name,t.nameLength)),void 0!==t.zLabel?(void 0!==t.xLabel&&(text+="x: "+t.xLabel+"<br>"),void 0!==t.yLabel&&(text+="y: "+t.yLabel+"<br>"),"choropleth"!==t.trace.type&&"choroplethmapbox"!==t.trace.type&&(text+=(text?"z: ":"")+t.zLabel)):e&&t[r.charAt(0)+"Label"]===o?text=t[("x"===r.charAt(0)?"y":"x")+"Label"]||"":void 0===t.xLabel?void 0!==t.yLabel&&"scattercarpet"!==t.trace.type&&(text=t.yLabel):text=void 0===t.yLabel?t.xLabel:"("+t.xLabel+", "+t.yLabel+")",!t.text&&0!==t.text||Array.isArray(t.text)||(text+=(text?"<br>":"")+t.text),void 0!==t.extraText&&(text+=(text?"<br>":"")+t.extraText),g&&""===text&&!t.hovertemplate&&(""===l&&g.remove(),text=l);var f=n._d3locale,h=t.hovertemplate||!1,d=t.hovertemplateLabels||t,v=t.eventData[0]||{};return h&&(text=(text=c.hovertemplateString(h,d,f,v,t.trace._meta)).replace(N,(function(e,r){return l=V(r,t.nameLength),""}))),[text,l]}function j(t,e,r,o){var l=function(t){return t*r},c=function(t){return t*o};t.each((function(t){var g=n.select(this);if(t.del)return g.remove();var r=g.select("text.nums"),o=t.anchor,f="end"===o?-1:1,h={start:1,end:-1,middle:0}[o],d=h*(D+P),m=d+h*(t.txwidth+P),x=0,_=t.offset,w="middle"===o;w&&(d-=t.tx2width/2,m+=t.txwidth/2+P),e&&(_*=-R,x=t.offset*O),g.select("path").attr("d",w?"M-"+l(t.bx/2+t.tx2width/2)+","+c(_-t.by/2)+"h"+l(t.bx)+"v"+c(t.by)+"h-"+l(t.bx)+"Z":"M0,0L"+l(f*D+x)+","+c(D+_)+"v"+c(t.by/2-D)+"h"+l(f*t.bx)+"v-"+c(t.by)+"H"+l(f*D+x)+"V"+c(_-D)+"Z");var M=x+d,A=_+t.ty0-t.by/2+P,T=t.textAlign||"auto";"auto"!==T&&("left"===T&&"start"!==o?(r.attr("text-anchor","start"),M=w?-t.bx/2-t.tx2width/2+P:-t.bx-P):"right"===T&&"end"!==o&&(r.attr("text-anchor","end"),M=w?t.bx/2-t.tx2width/2-P:t.bx+P)),r.call(v.positionText,l(M),c(A)),t.tx2width&&(g.select("text.name").call(v.positionText,l(m+h*P+x),c(_+t.ty0-t.by/2+P)),g.select("rect").call(y.setRect,l(m+(h-1)*t.tx2width/2+x),c(_-t.by/2-1),l(t.tx2width),c(t.by+2)))}))}function B(t,e){var r=t.index,n=t.trace||{},l=t.cd[0],f=t.cd[r]||{};function h(t){return t||o(t)&&0===t}var d=Array.isArray(r)?function(t,e){var o=c.castOption(l,r,t);return h(o)?o:c.extractOption({},n,"",e)}:function(t,e){return c.extractOption(f,n,t,e)};function v(e,r,n){var o=d(r,n);h(o)&&(t[e]=o)}if(v("hoverinfo","hi","hoverinfo"),v("bgcolor","hbg","hoverlabel.bgcolor"),v("borderColor","hbc","hoverlabel.bordercolor"),v("fontFamily","htf","hoverlabel.font.family"),v("fontSize","hts","hoverlabel.font.size"),v("fontColor","htc","hoverlabel.font.color"),v("nameLength","hnl","hoverlabel.namelength"),v("textAlign","hta","hoverlabel.align"),t.posref="y"===e||"closest"===e&&"h"===n.orientation?t.xa._offset+(t.x0+t.x1)/2:t.ya._offset+(t.y0+t.y1)/2,t.x0=c.constrain(t.x0,0,t.xa._length),t.x1=c.constrain(t.x1,0,t.xa._length),t.y0=c.constrain(t.y0,0,t.ya._length),t.y1=c.constrain(t.y1,0,t.ya._length),void 0!==t.xLabelVal&&(t.xLabel="xLabel"in t?t.xLabel:w.hoverLabelText(t.xa,t.xLabelVal),t.xVal=t.xa.c2d(t.xLabelVal)),void 0!==t.yLabelVal&&(t.yLabel="yLabel"in t?t.yLabel:w.hoverLabelText(t.ya,t.yLabelVal),t.yVal=t.ya.c2d(t.yLabelVal)),void 0!==t.zLabelVal&&void 0===t.zLabel&&(t.zLabel=String(t.zLabelVal)),!(isNaN(t.xerr)||"log"===t.xa.type&&t.xerr<=0)){var m=w.tickText(t.xa,t.xa.c2l(t.xerr),"hover").text;void 0!==t.xerrneg?t.xLabel+=" +"+m+" / -"+w.tickText(t.xa,t.xa.c2l(t.xerrneg),"hover").text:t.xLabel+=" ± "+m,"x"===e&&(t.distance+=1)}if(!(isNaN(t.yerr)||"log"===t.ya.type&&t.yerr<=0)){var y=w.tickText(t.ya,t.ya.c2l(t.yerr),"hover").text;void 0!==t.yerrneg?t.yLabel+=" +"+y+" / -"+w.tickText(t.ya,t.ya.c2l(t.yerrneg),"hover").text:t.yLabel+=" ± "+y,"y"===e&&(t.distance+=1)}var x=t.hoverinfo||t.trace.hoverinfo;return x&&"all"!==x&&(-1===(x=Array.isArray(x)?x:x.split("+")).indexOf("x")&&(t.xLabel=void 0),-1===x.indexOf("y")&&(t.yLabel=void 0),-1===x.indexOf("z")&&(t.zLabel=void 0),-1===x.indexOf("text")&&(t.text=void 0),-1===x.indexOf("name")&&(t.name=void 0)),t}function U(t,e,r){var n,o,c=r.container,f=r.fullLayout,h=f._size,d=r.event,v=!!e.hLinePoint,m=!!e.vLinePoint;if(c.selectAll(".spikeline").remove(),m||v){var _=x.combine(f.plot_bgcolor,f.paper_bgcolor);if(v){var M,A,T=e.hLinePoint;n=T&&T.xa,"cursor"===(o=T&&T.ya).spikesnap?(M=d.pointerX,A=d.pointerY):(M=n._offset+T.x,A=o._offset+T.y);var k,E,S=l.readability(T.color,_)<1.5?x.contrast(_):T.color,L=o.spikemode,C=o.spikethickness,O=o.spikecolor||S,R=w.getPxPosition(t,o);if(-1!==L.indexOf("toaxis")||-1!==L.indexOf("across")){if(-1!==L.indexOf("toaxis")&&(k=R,E=M),-1!==L.indexOf("across")){var D=o._counterDomainMin,P=o._counterDomainMax;"free"===o.anchor&&(D=Math.min(D,o.position),P=Math.max(P,o.position)),k=h.l+D*h.w,E=h.l+P*h.w}c.insert("line",":first-child").attr({x1:k,x2:E,y1:A,y2:A,"stroke-width":C,stroke:O,"stroke-dasharray":y.dashStyle(o.spikedash,C)}).classed("spikeline",!0).classed("crisp",!0),c.insert("line",":first-child").attr({x1:k,x2:E,y1:A,y2:A,"stroke-width":C+2,stroke:_}).classed("spikeline",!0).classed("crisp",!0)}-1!==L.indexOf("marker")&&c.insert("circle",":first-child").attr({cx:R+("right"!==o.side?C:-C),cy:A,r:C,fill:O}).classed("spikeline",!0)}if(m){var I,N,z=e.vLinePoint;n=z&&z.xa,o=z&&z.ya,"cursor"===n.spikesnap?(I=d.pointerX,N=d.pointerY):(I=n._offset+z.x,N=o._offset+z.y);var F,j,B=l.readability(z.color,_)<1.5?x.contrast(_):z.color,U=n.spikemode,H=n.spikethickness,V=n.spikecolor||B,Y=w.getPxPosition(t,n);if(-1!==U.indexOf("toaxis")||-1!==U.indexOf("across")){if(-1!==U.indexOf("toaxis")&&(F=Y,j=N),-1!==U.indexOf("across")){var G=n._counterDomainMin,W=n._counterDomainMax;"free"===n.anchor&&(G=Math.min(G,n.position),W=Math.max(W,n.position)),F=h.t+(1-W)*h.h,j=h.t+(1-G)*h.h}c.insert("line",":first-child").attr({x1:I,x2:I,y1:F,y2:j,"stroke-width":H,stroke:V,"stroke-dasharray":y.dashStyle(n.spikedash,H)}).classed("spikeline",!0).classed("crisp",!0),c.insert("line",":first-child").attr({x1:I,x2:I,y1:F,y2:j,"stroke-width":H+2,stroke:_}).classed("spikeline",!0).classed("crisp",!0)}-1!==U.indexOf("marker")&&c.insert("circle",":first-child").attr({cx:I,cy:Y-("top"!==n.side?H:-H),r:H,fill:V}).classed("spikeline",!0)}}}function H(t,e){return!e||(e.vLinePoint!==t._spikepoints.vLinePoint||e.hLinePoint!==t._spikepoints.hLinePoint)}function V(s,t){return v.plainText(s||"",{len:t,allowedTags:["br","sub","sup","b","i","em"]})}},function(t,e,r){"use strict";var n=r(422),o=r(421),l=r(428),c=r(636),f=r(492),h=r(543);t.exports=function(t,e,r){for(var d=t.legend||{},v=0,m=!1,y="normal",i=0;i<r.length;i++){var x=r[i];x.visible&&((x.showlegend||x._dfltShowLegend&&!(x._module&&x._module.attributes&&x._module.attributes.showlegend&&!1===x._module.attributes.showlegend.dflt))&&(v++,x.showlegend&&(m=!0,(n.traceIs(x,"pie-like")||!0===x._input.showlegend)&&v++)),(n.traceIs(x,"bar")&&"stack"===e.barmode||-1!==["tonextx","tonexty"].indexOf(x.fill))&&(y=h.isGrouped({traceorder:y})?"grouped+reversed":"reversed"),void 0!==x.legendgroup&&""!==x.legendgroup&&(y=h.isReversed({traceorder:y})?"reversed+grouped":"grouped"))}var _=o.coerce(t,e,f,"showlegend",m&&v>1);if(!1!==_||d.uirevision){var w=l.newContainer(e,"legend");if(E("uirevision",e.uirevision),!1!==_){E("bgcolor",e.paper_bgcolor),E("bordercolor"),E("borderwidth"),o.coerceFont(E,"font",e.font);var M,A,T,k=E("orientation");"h"===k?(M=0,n.getComponentMethod("rangeslider","isVisible")(t.xaxis)?(A=1.1,T="bottom"):(A=-.1,T="top")):(M=1.02,A=1,T="auto"),E("traceorder",y),h.isGrouped(e.legend)&&E("tracegroupgap"),E("itemsizing"),E("itemwidth"),E("itemclick"),E("itemdoubleclick"),E("x",M),E("xanchor"),E("y",A),E("yanchor",T),E("valign"),o.noneOrAll(d,w,["x","y"]),E("title.text")&&(E("title.side","h"===k?"left":"top"),o.coerceFont(E,"title.font",e.font))}}function E(t,e){return o.coerce(d,w,c,t,e)}}},function(t,e,r){"use strict";var n=r(441),o=r(456);t.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:o.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:n({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:n({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},function(t,e,r){"use strict";var n=r(423),o=r(421),l=r(431),c=r(422),f=r(502),h=r(450),d=r(427),v=r(425),m=r(440),y=r(796),x=r(638),_=r(438),w=_.LINE_SPACING,M=_.FROM_TL,A=_.FROM_BR,T=r(797),style=r(639),k=r(543);function E(t,legend,e,r,n){var o=e.data()[0][0].trace,l={event:n,node:e.node(),curveNumber:o.index,expandedIndex:o._expandedIndex,data:t.data,layout:t.layout,frames:t._transitionData._frames,config:t._context,fullData:t._fullData,fullLayout:t._fullLayout};if(o._group&&(l.group=o._group),c.traceIs(o,"pie-like")&&(l.label=e.datum()[0].label),!1!==f.triggerHandler(t,"plotly_legendclick",l))if(1===r)legend._clickTimeout=setTimeout((function(){y(e,t,r)}),t._context.doubleClickDelay);else if(2===r){legend._clickTimeout&&clearTimeout(legend._clickTimeout),t._legendMouseDownTime=0,!1!==f.triggerHandler(t,"plotly_legenddoubleclick",l)&&y(e,t,r)}}function S(g,t,e){var r,n=g.data()[0][0],l=n.trace,f=c.traceIs(l,"pie-like"),h=l.index,v=e._main&&t._context.edits.legendText&&!f,y=e._maxNameLength;e.entries?r=n.text:(r=f?n.label:l.name,l._meta&&(r=o.templateString(r,l._meta)));var _=o.ensureSingle(g,"text","legendtext");_.attr("text-anchor","start").call(d.font,e.font).text(v?L(r,y):r);var w=e.itemwidth+2*x.itemGap;m.positionText(_,w,0),v?_.call(m.makeEditable,{gd:t,text:r}).call(O,g,t,e).on("edit",(function(r){this.text(L(r,y)).call(O,g,t,e);var l=n.trace._fullInput||{},f={};if(c.hasTransform(l,"groupby")){var d=c.getTransformIndices(l,"groupby"),v=d[d.length-1],m=o.keyedContainer(l,"transforms["+v+"].styles","target","value.name");m.set(n.trace._group,r),f=m.constructUpdate()}else f.name=r;return c.call("_guiRestyle",t,f,h)})):O(_,g,t,e)}function L(t,e){var r=Math.max(4,e);if(t&&t.trim().length>=r/2)return t;for(var i=r-(t=t||"").length;i>0;i--)t+=" ";return t}function C(g,t){var e,r=t._context.doubleClickDelay,l=1,c=o.ensureSingle(g,"rect","legendtoggle",(function(s){t._context.staticPlot||s.style("cursor","pointer").attr("pointer-events","all"),s.call(v.fill,"rgba(0,0,0,0)")}));t._context.staticPlot||(c.on("mousedown",(function(){(e=(new Date).getTime())-t._legendMouseDownTime<r?l+=1:(l=1,t._legendMouseDownTime=e)})),c.on("mouseup",(function(){if(!t._dragged&&!t._editing){var legend=t._fullLayout.legend;(new Date).getTime()-t._legendMouseDownTime>r&&(l=Math.max(l-1,1)),E(t,legend,g,l,n.event)}})))}function O(s,g,t,e){e._main||s.attr("data-notex",!0),m.convertToTspans(s,t,(function(){!function(g,t,e){var r=g.data()[0][0];if(e._main&&r&&!r.trace.showlegend)return void g.remove();var n=g.select("g[class*=math-group]"),o=n.node();e||(e=t._fullLayout.legend);var l,c,f=e.borderwidth,h=(r?e:e.title).font.size*w;if(o){var v=d.bBox(o);l=v.height,c=v.width,r?d.setTranslate(n,0,.25*l):d.setTranslate(n,f,.75*l+f)}else{var y=g.select(r?".legendtext":".legendtitletext"),_=m.lineCount(y),M=y.node();l=h*_,c=M?d.bBox(M).width:0;var A=h*((_-1)/2-.3);if(r){var T=e.itemwidth+2*x.itemGap;m.positionText(y,T,-A)}else m.positionText(y,x.titlePad+f,h+f)}r?(r.lineHeight=h,r.height=Math.max(l,16)+3,r.width=c):(e._titleWidth=c,e._titleHeight=l)}(g,t,e)}))}function R(t){return o.isRightAnchor(t)?"right":o.isCenterAnchor(t)?"center":"left"}function D(t){return o.isBottomAnchor(t)?"bottom":o.isMiddleAnchor(t)?"middle":"top"}t.exports=function(t,e){var r,f=t._fullLayout,m="legend"+f._uid;if(e?(r=e.layer,m+="-hover"):((e=f.legend||{})._main=!0,r=f._infolayer),r){var y;if(t._legendMouseDownTime||(t._legendMouseDownTime=0),e._main){if(!t.calcdata)return;y=f.showlegend&&T(t.calcdata,e)}else{if(!e.entries)return;y=T(e.entries,e)}var _=f.hiddenlabels||[];if(e._main&&(!f.showlegend||!y.length))return r.selectAll(".legend").remove(),f._topdefs.select("#"+m).remove(),l.autoMargin(t,"legend");var legend=o.ensureSingle(r,"g","legend",(function(s){e._main&&s.attr("pointer-events","all")})),w=o.ensureSingleById(f._topdefs,"clipPath",m,(function(s){s.append("rect")})),L=o.ensureSingle(legend,"rect","bg",(function(s){s.attr("shape-rendering","crispEdges")}));L.call(v.stroke,e.bordercolor).call(v.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px");var P=o.ensureSingle(legend,"g","scrollbox"),title=e.title;if(e._titleWidth=0,e._titleHeight=0,title.text){var I=o.ensureSingle(P,"text","legendtitletext");I.attr("text-anchor","start").call(d.font,title.font).text(title.text),O(I,P,t,e)}else P.selectAll(".legendtitletext").remove();var N=o.ensureSingle(legend,"rect","scrollbar",(function(s){s.attr(x.scrollBarEnterAttrs).call(v.fill,x.scrollBarColor)})),z=P.selectAll("g.groups").data(y);z.enter().append("g").attr("class","groups"),z.exit().remove();var F=z.selectAll("g.traces").data(o.identity);F.enter().append("g").attr("class","traces"),F.exit().remove(),F.style("opacity",(function(t){var e=t[0].trace;return c.traceIs(e,"pie-like")?-1!==_.indexOf(t[0].label)?.5:1:"legendonly"===e.visible?.5:1})).each((function(){n.select(this).call(S,t,e)})).call(style,t,e).each((function(){e._main&&n.select(this).call(C,t)})),o.syncOrAsync([l.previousPromises,function(){return function(t,e,r,o){var l=t._fullLayout;o||(o=l.legend);var c=l._size,f=k.isVertical(o),h=k.isGrouped(o),v=o.borderwidth,m=2*v,y=x.itemGap,_=o.itemwidth+2*y,w=2*(v+y),M=D(o),A=o.y<0||0===o.y&&"top"===M,T=o.y>1||1===o.y&&"bottom"===M;o._maxHeight=Math.max(A||T?l.height/2:c.h,30);var E=0;o._width=0,o._height=0;var S=function(t){var e=0,r=0,n=t.title.side;n&&(-1!==n.indexOf("left")&&(e=t._titleWidth),-1!==n.indexOf("top")&&(r=t._titleHeight));return[e,r]}(o);if(f)r.each((function(t){var e=t[0].height;d.setTranslate(this,v+S[0],v+S[1]+o._height+e/2+y),o._height+=e,o._width=Math.max(o._width,t[0].width)})),E=_+o._width,o._width+=y+_+m,o._height+=w,h&&(e.each((function(t,i){d.setTranslate(this,0,i*o.tracegroupgap)})),o._height+=(o._lgroupsLength-1)*o.tracegroupgap);else{var L=R(o),C=o.x<0||0===o.x&&"right"===L,O=o.x>1||1===o.x&&"left"===L,P=T||A,I=l.width/2;o._maxWidth=Math.max(C?P&&"left"===L?c.l+c.w:I:O?P&&"right"===L?c.r+c.w:I:c.w,2*_);var N=0,z=0;r.each((function(t){var e=t[0].width+_;N=Math.max(N,e),z+=e})),E=null;var F=0;if(h){var j=0,B=0,U=0;e.each((function(){var t=0,e=0;n.select(this).selectAll("g.traces").each((function(r){var n=r[0].height;d.setTranslate(this,S[0],S[1]+v+y+n/2+e),e+=n,t=Math.max(t,_+r[0].width)})),j=Math.max(j,e);var r=t+y;r+v+B>o._maxWidth&&(F=Math.max(F,B),B=0,U+=j+o.tracegroupgap,j=e),d.setTranslate(this,B,U),B+=r})),o._width=Math.max(F,B)+v,o._height=U+j+w}else{var H=r.size(),V=z+m+(H-1)*y<o._maxWidth,Y=0,G=0,W=0,X=0;r.each((function(t){var e=t[0].height,r=_+t[0].width,n=(V?r:N)+y;n+v+G-y>=o._maxWidth&&(F=Math.max(F,X),G=0,W+=Y,o._height+=Y,Y=0),d.setTranslate(this,S[0]+v+G,S[1]+v+W+e/2+y),X=G+r+y,G+=n,Y=Math.max(Y,e)})),V?(o._width=G+m,o._height=Y+w):(o._width=Math.max(F,X)+m,o._height+=Y+w)}}o._width=Math.ceil(Math.max(o._width+S[0],o._titleWidth+2*(v+x.titlePad))),o._height=Math.ceil(Math.max(o._height+S[1],o._titleHeight+2*(v+x.itemGap))),o._effHeight=Math.min(o._height,o._maxHeight);var Z=t._context.edits,J=Z.legendText||Z.legendPosition;r.each((function(t){var e=n.select(this).select(".legendtoggle"),r=t[0].height,o=J?_:E||_+t[0].width;f||(o+=y/2),d.setRect(e,0,-r/2,o,r)}))}(t,z,F,e)},function(){if(!e._main||!function(t){var e=t._fullLayout.legend,r=R(e),n=D(e);return l.autoMargin(t,"legend",{x:e.x,y:e.y,l:e._width*M[r],r:e._width*A[r],b:e._effHeight*A[n],t:e._effHeight*M[n]})}(t)){var v,y,_,T,k=f._size,S=e.borderwidth,C=k.l+k.w*e.x-M[R(e)]*e._width,O=k.t+k.h*(1-e.y)-M[D(e)]*e._effHeight;if(e._main&&f.margin.autoexpand){var I=C,z=O;C=o.constrain(C,0,f.width-e._width),O=o.constrain(O,0,f.height-e._effHeight),C!==I&&o.log("Constrain legend.x to make legend fit inside graph"),O!==z&&o.log("Constrain legend.y to make legend fit inside graph")}if(e._main&&d.setTranslate(legend,C,O),N.on(".drag",null),legend.on("wheel",null),!e._main||e._height<=e._maxHeight||t._context.staticPlot){var F=e._effHeight;e._main||(F=e._height),L.attr({width:e._width-S,height:F-S,x:S/2,y:S/2}),d.setTranslate(P,0,0),w.select("rect").attr({width:e._width-2*S,height:F-2*S,x:S,y:S}),d.setClipUrl(P,m,t),d.setRect(N,0,0,0,0),delete e._scrollY}else{var j,B,U,H=Math.max(x.scrollBarMinHeight,e._effHeight*e._effHeight/e._height),V=e._effHeight-H-2*x.scrollBarMargin,Y=e._height-e._effHeight,G=V/Y,W=Math.min(e._scrollY||0,Y);L.attr({width:e._width-2*S+x.scrollBarWidth+x.scrollBarMargin,height:e._effHeight-S,x:S/2,y:S/2}),w.select("rect").attr({width:e._width-2*S+x.scrollBarWidth+x.scrollBarMargin,height:e._effHeight-2*S,x:S,y:S+W}),d.setClipUrl(P,m,t),J(W,H,G),legend.on("wheel",(function(){J(W=o.constrain(e._scrollY+n.event.deltaY/V*Y,0,Y),H,G),0!==W&&W!==Y&&n.event.preventDefault()}));var X=n.behavior.drag().on("dragstart",(function(){var t=n.event.sourceEvent;j="touchstart"===t.type?t.changedTouches[0].clientY:t.clientY,U=W})).on("drag",(function(){var t=n.event.sourceEvent;2===t.buttons||t.ctrlKey||(B="touchmove"===t.type?t.changedTouches[0].clientY:t.clientY,J(W=function(t,e,r){var n=(r-e)/G+t;return o.constrain(n,0,Y)}(U,j,B),H,G))}));N.call(X);var Z=n.behavior.drag().on("dragstart",(function(){var t=n.event.sourceEvent;"touchstart"===t.type&&(j=t.changedTouches[0].clientY,U=W)})).on("drag",(function(){var t=n.event.sourceEvent;"touchmove"===t.type&&(B=t.changedTouches[0].clientY,J(W=function(t,e,r){var n=(e-r)/G+t;return o.constrain(n,0,Y)}(U,j,B),H,G))}));P.call(Z)}if(t._context.edits.legendPosition)legend.classed("cursor-move",!0),h.init({element:legend.node(),gd:t,prepFn:function(){var t=d.getTranslate(legend);_=t.x,T=t.y},moveFn:function(t,r){var n=_+t,o=T+r;d.setTranslate(legend,n,o),v=h.align(n,0,k.l,k.l+k.w,e.xanchor),y=h.align(o,0,k.t+k.h,k.t,e.yanchor)},doneFn:function(){void 0!==v&&void 0!==y&&c.call("_guiRelayout",t,{"legend.x":v,"legend.y":y})},clickFn:function(e,n){var o=r.selectAll("g.traces").filter((function(){var t=this.getBoundingClientRect();return n.clientX>=t.left&&n.clientX<=t.right&&n.clientY>=t.top&&n.clientY<=t.bottom}));o.size()>0&&E(t,legend,o,e,n)}})}function J(r,n,o){e._scrollY=t._fullLayout.legend._scrollY=r,d.setTranslate(P,0,-r),d.setRect(N,e._width,x.scrollBarMargin+r*o,x.scrollBarWidth,n),w.select("rect").attr("y",S+r)}}],t)}}},function(t,e,r){"use strict";t.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},function(t,e,r){"use strict";var n=r(423),o=r(422),l=r(421),c=l.strTranslate,f=r(427),h=r(425),d=r(457).extractOpts,v=r(442),m=r(798),y=r(640).castOption,x=r(638);function _(t,e){return(e?"radial":"horizontal")+(t?"":"reversed")}t.exports=function(s,t,legend){var e=t._fullLayout;legend||(legend=e.legend);var r="constant"===legend.itemsizing,w=legend.itemwidth,M=(w+2*x.itemGap)/2,A=c(M,0),T=function(t,e,n,o){var l;if(t+1)l=t;else{if(!(e&&e.width>0))return 0;l=e.width}return r?o:Math.min(l,n)};function k(t,e,r){var l=t[0].trace,marker=l.marker||{},c=marker.line||{},f=r?l.visible&&l.type===r:o.traceIs(l,"bar"),d=n.select(e).select("g.legendpoints").selectAll("path.legend"+r).data(f?[t]:[]);d.enter().append("path").classed("legend"+r,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",A),d.exit().remove(),d.each((function(t){var p=n.select(this),e=t[0],r=T(e.mlw,marker.line,5,2);p.style("stroke-width",r+"px").call(h.fill,e.mc||marker.color),r&&h.stroke(p,e.mlc||c.color)}))}function E(t,e,r){var c=t[0],f=c.trace,h=r?f.visible&&f.type===r:o.traceIs(f,r),d=n.select(e).select("g.legendpoints").selectAll("path.legend"+r).data(h?[t]:[]);if(d.enter().append("path").classed("legend"+r,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",A),d.exit().remove(),d.size()){var v=(f.marker||{}).line,x=T(y(v.width,c.pts),v,5,2),_=l.minExtend(f,{marker:{line:{width:x}}});_.marker.line.color=v.color;var w=l.minExtend(c,{trace:_});m(d,w,_)}}s.each((function(t){var e=n.select(this),r=l.ensureSingle(e,"g","layers");r.style("opacity",t[0].trace.opacity);var o=legend.valign,f=t[0].lineHeight,h=t[0].height;if("middle"!==o&&f&&h){var d={top:1,bottom:-1}[o]*(.5*(f-h+3));r.attr("transform",c(0,d))}else r.attr("transform",null);r.selectAll("g.legendfill").data([t]).enter().append("g").classed("legendfill",!0),r.selectAll("g.legendlines").data([t]).enter().append("g").classed("legendlines",!0);var symbol=r.selectAll("g.legendsymbols").data([t]);symbol.enter().append("g").classed("legendsymbols",!0),symbol.selectAll("g.legendpoints").data([t]).enter().append("g").classed("legendpoints",!0)})).each((function(e){var r,o=e[0].trace,c=[];if(o.visible)switch(o.type){case"histogram2d":case"heatmap":c=[["M-15,-2V4H15V-2Z"]],r=!0;break;case"choropleth":case"choroplethmapbox":c=[["M-6,-6V6H6V-6Z"]],r=!0;break;case"densitymapbox":c=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],r="radial";break;case"cone":c=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],r=!1;break;case"streamtube":c=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],r=!1;break;case"surface":c=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],r=!0;break;case"mesh3d":c=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],r=!1;break;case"volume":c=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],r=!0;break;case"isosurface":c=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],r=!1}var v=n.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(c);v.enter().append("path").classed("legend3dandfriends",!0).attr("transform",A).style("stroke-miterlimit",1),v.exit().remove(),v.each((function(dd,i){var e,c=n.select(this),v=d(o),m=v.colorscale,y=v.reversescale;if(m){if(!r){var x=m.length;e=0===i?m[y?x-1:0][1]:1===i?m[y?0:x-1][1]:m[Math.floor((x-1)/2)][1]}}else{var w=o.vertexcolor||o.facecolor||o.color;e=l.isArrayOrTypedArray(w)?w[i]||w[0]:w}c.attr("d",dd[0]),e?c.call(h.fill,e):c.call((function(s){if(s.size()){var e="legendfill-"+o.uid;f.gradient(s,t,e,_(y,"radial"===r),m,"fill")}}))}))})).each((function(t){var e=t[0].trace,r="waterfall"===e.type;if(t[0]._distinct&&r){var o=t[0].trace[t[0].dir].marker;return t[0].mc=o.color,t[0].mlw=o.line.width,t[0].mlc=o.line.color,k(t,this,"waterfall")}var l=[];e.visible&&r&&(l=t[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var c=n.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(l);c.enter().append("path").classed("legendwaterfall",!0).attr("transform",A).style("stroke-miterlimit",1),c.exit().remove(),c.each((function(dd){var t=n.select(this),r=e[dd[0]].marker,o=T(void 0,r.line,5,2);t.attr("d",dd[1]).style("stroke-width",o+"px").call(h.fill,r.color),o&&t.call(h.stroke,r.line.color)}))})).each((function(t){k(t,this,"funnel")})).each((function(t){k(t,this)})).each((function(e){var c=e[0].trace,d=n.select(this).select("g.legendpoints").selectAll("path.legendbox").data(c.visible&&o.traceIs(c,"box-violin")?[e]:[]);d.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",A),d.exit().remove(),d.each((function(){var p=n.select(this);if("all"!==c.boxpoints&&"all"!==c.points||0!==h.opacity(c.fillcolor)||0!==h.opacity((c.line||{}).color)){var e=T(void 0,c.line,5,2);p.style("stroke-width",e+"px").call(h.fill,c.fillcolor),e&&h.stroke(p,c.line.color)}else{var o=l.minExtend(c,{marker:{size:r?12:l.constrain(c.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});d.call(f.pointStyle,o,t)}}))})).each((function(t){E(t,this,"funnelarea")})).each((function(t){E(t,this,"pie")})).each((function(e){var r,o,c=e[0],h=c.trace,m=h.visible&&h.fill&&"none"!==h.fill,y=v.hasLines(h),x=h.contours,M=!1,A=!1,k=d(h),E=k.colorscale,S=k.reversescale;if(x){var L=x.coloring;"lines"===L?M=!0:y="none"===L||"heatmap"===L||x.showlines,"constraint"===x.type?m="="!==x._operation:"fill"!==L&&"heatmap"!==L||(A=!0)}var C=v.hasMarkers(h)||v.hasText(h),O=m||A,R=y||M,D=C||!O?"M5,0":R?"M5,-2":"M5,-3",P=n.select(this),I=P.select(".legendfill").selectAll("path").data(m||A?[e]:[]);if(I.enter().append("path").classed("js-fill",!0),I.exit().remove(),I.attr("d",D+"h"+w+"v6h-"+w+"z").call(m?f.fillGroupStyle:function(s){if(s.size()){var e="legendfill-"+h.uid;f.gradient(s,t,e,_(S),E,"fill")}}),y||M){var N=T(void 0,h.line,10,5);o=l.minExtend(h,{line:{width:N}}),r=[l.minExtend(c,{trace:o})]}var line=P.select(".legendlines").selectAll("path").data(y||M?[r]:[]);line.enter().append("path").classed("js-line",!0),line.exit().remove(),line.attr("d",D+(M?"l"+w+",0.0001":"h"+w)).call(y?f.lineGroupStyle:function(s){if(s.size()){var e="legendline-"+h.uid;f.lineGroupStyle(s),f.gradient(s,t,e,_(S),E,"stroke")}})})).each((function(e){var o,c,h=e[0],d=h.trace,m=v.hasMarkers(d),y=v.hasText(d),x=v.hasLines(d);function _(t,e,n,o){var c=l.nestedProperty(d,t).get(),f=l.isArrayOrTypedArray(c)&&e?e(c):c;if(r&&f&&void 0!==o&&(f=o),n){if(f<n[0])return n[0];if(f>n[1])return n[1]}return f}function w(t){return h._distinct&&h.index&&t[h.index]?t[h.index]:t[0]}if(m||y||x){var M={},T={};if(m){M.mc=_("marker.color",w),M.mx=_("marker.symbol",w),M.mo=_("marker.opacity",l.mean,[.2,1]),M.mlc=_("marker.line.color",w),M.mlw=_("marker.line.width",l.mean,[0,5],2),T.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var k=_("marker.size",l.mean,[2,16],12);M.ms=k,T.marker.size=k}x&&(T.line={width:_("line.width",w,[0,10],5)}),y&&(M.tx="Aa",M.tp=_("textposition",w),M.ts=10,M.tc=_("textfont.color",w),M.tf=_("textfont.family",w)),o=[l.minExtend(h,M)],(c=l.minExtend(d,T)).selectedpoints=null,c.texttemplate=null}var E=n.select(this).select("g.legendpoints"),S=E.selectAll("path.scatterpts").data(m?o:[]);S.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",A),S.exit().remove(),S.call(f.pointStyle,c,t),m&&(o[0].mrc=3);var L=E.selectAll("g.pointtext").data(y?o:[]);L.enter().append("g").classed("pointtext",!0).append("text").attr("transform",A),L.exit().remove(),L.selectAll("text").call(f.textPointStyle,c,t)})).each((function(t){var e=t[0].trace,r=n.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(e.visible&&"candlestick"===e.type?[t,t]:[]);r.enter().append("path").classed("legendcandle",!0).attr("d",(function(t,i){return i?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"})).attr("transform",A).style("stroke-miterlimit",1),r.exit().remove(),r.each((function(t,i){var p=n.select(this),r=e[i?"increasing":"decreasing"],o=T(void 0,r.line,5,2);p.style("stroke-width",o+"px").call(h.fill,r.fillcolor),o&&h.stroke(p,r.line.color)}))})).each((function(t){var e=t[0].trace,r=n.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(e.visible&&"ohlc"===e.type?[t,t]:[]);r.enter().append("path").classed("legendohlc",!0).attr("d",(function(t,i){return i?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"})).attr("transform",A).style("stroke-miterlimit",1),r.exit().remove(),r.each((function(t,i){var p=n.select(this),r=e[i?"increasing":"decreasing"],o=T(void 0,r.line,5,2);p.style("fill","none").call(f.dashLine,r.line.dash,o),o&&h.stroke(p,r.line.color)}))}))}},function(t,e,r){"use strict";var n=r(421);function o(t){return-1!==t.indexOf("e")?t.replace(/[.]?0+e/,"e"):-1!==t.indexOf(".")?t.replace(/[.]?0+$/,""):t}e.formatPiePercent=function(t,e){var r=o((100*t).toPrecision(3));return n.numSeparate(r,e)+"%"},e.formatPieValue=function(t,e){var r=o(t.toPrecision(10));return n.numSeparate(r,e)},e.getFirstFilled=function(t,e){if(Array.isArray(t))for(var i=0;i<e.length;i++){var r=t[e[i]];if(r||0===r||""===r)return r}},e.castOption=function(t,r){return Array.isArray(t)?e.getFirstFilled(t,r):t||void 0},e.getRotationAngle=function(t){return("auto"===t?0:t)*Math.PI/180}},function(t,e,r){"use strict";var n=r(421),o=r(478);t.exports=function(t,e,r){function l(r,l){return void 0!==e[r]?e[r]:n.coerce(t,e,o,r,l)}var c,f=l("clickmode");return e._has("cartesian")?f.indexOf("select")>-1?c="closest":(e._isHoriz=function(t,e){for(var r=e._scatterStackOpts||{},i=0;i<t.length;i++){var n=t[i],o=n.xaxis+n.yaxis,l=(r[o]||{})[n.stackgroup]||{};if("h"!==n.orientation&&"h"!==l.orientation)return!1}return!0}(r,e),c=e._isHoriz?"y":"x"):c="closest",l("hovermode",c)}},function(t,e,r){"use strict";var n=r(422),o=r(421),l=r(426),c=r(509).readPaths,f=r(643),h=r(496).clearOutlineControllers,d=r(425),v=r(427),m=r(428).arrayEditor,y=r(450),x=r(476),_=r(550),w=r(551);function M(t){var e=t._fullLayout;for(var r in e._shapeUpperLayer.selectAll("path").remove(),e._shapeLowerLayer.selectAll("path").remove(),e._plots){var n=e._plots[r].shapelayer;n&&n.selectAll("path").remove()}for(var i=0;i<e.shapes.length;i++)e.shapes[i].visible&&k(t,i)}function A(t){return!!t._fullLayout._drawing}function T(t){return!t._context.edits.shapePosition}function k(t,e){t._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+e+'"]').remove();var r=w.makeOptionsAndPlotinfo(t,e),h=r.options,k=r.plotinfo;if(h._input&&!1!==h.visible)if("below"!==h.layer)O(t._fullLayout._shapeUpperLayer);else if("paper"===h.xref||"paper"===h.yref)O(t._fullLayout._shapeLowerLayer);else{if(k._hadPlotinfo)O((k.mainplotinfo||k).shapelayer);else O(t._fullLayout._shapeLowerLayer)}function O(r){var O=S(t,h),R={"data-index":e,"fill-rule":h.fillrule,d:O},D=h.opacity,P=h.fillcolor,I=h.line.width?h.line.color:"rgba(0,0,0,0)",N=h.line.width,z=h.line.dash;N||!0!==h.editable||(N=5,z="solid");var F="Z"!==O[O.length-1],j=T(t)&&h.editable&&t._fullLayout._activeShapeIndex===e;j&&(P=F?"rgba(0,0,0,0)":t._fullLayout.activeshape.fillcolor,D=t._fullLayout.activeshape.opacity);var B,path=r.append("path").attr(R).style("opacity",D).call(d.stroke,I).call(d.fill,P).call(v.dashLine,z,N);if(E(path,t,h),(j||t._context.edits.shapePosition)&&(B=m(t.layout,"shapes",h)),j){path.style({cursor:"move"});var U={element:path.node(),plotinfo:k,gd:t,editHelpers:B,isActiveShape:!0},H=c(O,t);f(H,path,U)}else t._context.edits.shapePosition?function(t,e,r,c,f,h){var d,m,M,T,k,C,O,R,D,P,I,N,z,F,j,B,U="pixel"===r.xsizemode,H="pixel"===r.ysizemode,V="line"===r.type,Y="path"===r.type,G=h.modifyItem,W=l.getFromId(t,r.xref),X=l.getRefType(r.xref),Z=l.getFromId(t,r.yref),J=l.getRefType(r.yref),Q=w.getDataToPixel(t,W,!1,X),K=w.getDataToPixel(t,Z,!0,J),$=w.getPixelToData(t,W,!1,X),tt=w.getPixelToData(t,Z,!0,J),et=V?function(){var t=Math.max(r.line.width,10),g=f.append("g").attr("data-index",c);g.append("path").attr("d",e.attr("d")).style({cursor:"move","stroke-width":t,"stroke-opacity":"0"});var n={"fill-opacity":"0"},o=Math.max(t/2,10);return g.append("circle").attr({"data-line-point":"start-point",cx:U?Q(r.xanchor)+r.x0:Q(r.x0),cy:H?K(r.yanchor)-r.y0:K(r.y0),r:o}).style(n).classed("cursor-grab",!0),g.append("circle").attr({"data-line-point":"end-point",cx:U?Q(r.xanchor)+r.x1:Q(r.x1),cy:H?K(r.yanchor)-r.y1:K(r.y1),r:o}).style(n).classed("cursor-grab",!0),g}():e,nt={element:et.node(),gd:t,prepFn:function(n){if(A(t))return;U&&(k=Q(r.xanchor));H&&(C=K(r.yanchor));"path"===r.type?j=r.path:(d=U?r.x0:Q(r.x0),m=H?r.y0:K(r.y0),M=U?r.x1:Q(r.x1),T=H?r.y1:K(r.y1));d<M?(D=d,z="x0",P=M,F="x1"):(D=M,z="x1",P=d,F="x0");!H&&m<T||H&&m>T?(O=m,I="y0",R=T,N="y1"):(O=T,I="y1",R=m,N="y0");it(n),st(f,r),function(t,e,r){var n=e.xref,o=e.yref,c=l.getFromId(r,n),f=l.getFromId(r,o),h="";"paper"===n||c.autorange||(h+=n);"paper"===o||f.autorange||(h+=o);v.setClipUrl(t,h?"clip"+r._fullLayout._uid+h:null,r)}(e,r,t),nt.moveFn="move"===B?at:ot,nt.altKey=n.altKey},doneFn:function(){if(A(t))return;x(e),lt(f),E(e,t,r),n.call("_guiRelayout",t,h.getUpdateObj())},clickFn:function(){if(A(t))return;lt(f)}};function it(r){if(A(t))B=null;else if(V)B="path"===r.target.tagName?"move":"start-point"===r.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var n=nt.element.getBoundingClientRect(),o=n.right-n.left,l=n.bottom-n.top,c=r.clientX-n.left,f=r.clientY-n.top,cursor=!Y&&o>10&&l>10&&!r.shiftKey?y.getCursor(c/o,1-f/l):"move";x(e,cursor),B=cursor.split("-")[0]}}function at(n,o){if("path"===r.type){var l=function(t){return t},c=l,h=l;U?G("xanchor",r.xanchor=$(k+n)):(c=function(t){return $(Q(t)+n)},W&&"date"===W.type&&(c=w.encodeDate(c))),H?G("yanchor",r.yanchor=tt(C+o)):(h=function(t){return tt(K(t)+o)},Z&&"date"===Z.type&&(h=w.encodeDate(h))),G("path",r.path=L(j,c,h))}else U?G("xanchor",r.xanchor=$(k+n)):(G("x0",r.x0=$(d+n)),G("x1",r.x1=$(M+n))),H?G("yanchor",r.yanchor=tt(C+o)):(G("y0",r.y0=tt(m+o)),G("y1",r.y1=tt(T+o)));e.attr("d",S(t,r)),st(f,r)}function ot(n,o){if(Y){var l=function(t){return t},c=l,h=l;U?G("xanchor",r.xanchor=$(k+n)):(c=function(t){return $(Q(t)+n)},W&&"date"===W.type&&(c=w.encodeDate(c))),H?G("yanchor",r.yanchor=tt(C+o)):(h=function(t){return tt(K(t)+o)},Z&&"date"===Z.type&&(h=w.encodeDate(h))),G("path",r.path=L(j,c,h))}else if(V){if("resize-over-start-point"===B){var v=d+n,y=H?m-o:m+o;G("x0",r.x0=U?v:$(v)),G("y0",r.y0=H?y:tt(y))}else if("resize-over-end-point"===B){var x=M+n,_=H?T-o:T+o;G("x1",r.x1=U?x:$(x)),G("y1",r.y1=H?_:tt(_))}}else{var A=function(t){return-1!==B.indexOf(t)},E=A("n"),X=A("s"),J=A("w"),et=A("e"),nt=E?O+o:O,it=X?R+o:R,at=J?D+n:D,ot=et?P+n:P;H&&(E&&(nt=O-o),X&&(it=R-o)),(!H&&it-nt>10||H&&nt-it>10)&&(G(I,r[I]=H?nt:tt(nt)),G(N,r[N]=H?it:tt(it))),ot-at>10&&(G(z,r[z]=U?at:$(at)),G(F,r[F]=U?ot:$(ot)))}e.attr("d",S(t,r)),st(f,r)}function st(t,e){(U||H)&&function(){var r="path"!==e.type,n=t.selectAll(".visual-cue").data([0]);n.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var l=Q(U?e.xanchor:o.midRange(r?[e.x0,e.x1]:w.extractPathCoords(e.path,_.paramIsX))),c=K(H?e.yanchor:o.midRange(r?[e.y0,e.y1]:w.extractPathCoords(e.path,_.paramIsY)));if(l=w.roundPositionForSharpStrokeRendering(l,1),c=w.roundPositionForSharpStrokeRendering(c,1),U&&H){var f="M"+(l-1-1)+","+(c-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";n.attr("d",f)}else if(U){var h="M"+(l-1-1)+","+(c-9-1)+"v18 h2 v-18 Z";n.attr("d",h)}else{var d="M"+(l-9-1)+","+(c-1-1)+"h18 v2 h-18 Z";n.attr("d",d)}}()}function lt(t){t.selectAll(".visual-cue").remove()}y.init(nt),et.node().onmousemove=it}(t,path,h,e,r,B):!0===h.editable&&path.style("pointer-events",F||d.opacity(P)*D<=.5?"stroke":"all");path.node().addEventListener("click",(function(){return function(t,path){if(!T(t))return;var e=+path.node().getAttribute("data-index");if(e>=0){if(e===t._fullLayout._activeShapeIndex)return void C(t);t._fullLayout._activeShapeIndex=e,t._fullLayout._deactivateShape=C,M(t)}}(t,path)}))}}function E(t,e,r){var n=(r.xref+r.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");v.setClipUrl(t,n?"clip"+e._fullLayout._uid+n:null,e)}function S(t,e){var r,n,c,f,h,d,v,m,y=e.type,x=l.getRefType(e.xref),M=l.getRefType(e.yref),A=l.getFromId(t,e.xref),T=l.getFromId(t,e.yref),k=t._fullLayout._size;if(A?"domain"===x?n=function(t){return A._offset+A._length*t}:(r=w.shapePositionToRange(A),n=function(t){return A._offset+A.r2p(r(t,!0))}):n=function(t){return k.l+k.w*t},T?"domain"===M?f=function(t){return T._offset+T._length*(1-t)}:(c=w.shapePositionToRange(T),f=function(t){return T._offset+T.r2p(c(t,!0))}):f=function(t){return k.t+k.h*(1-t)},"path"===y)return A&&"date"===A.type&&(n=w.decodeDate(n)),T&&"date"===T.type&&(f=w.decodeDate(f)),function(t,e,r){var n=t.path,l=t.xsizemode,c=t.ysizemode,f=t.xanchor,h=t.yanchor;return n.replace(_.segmentRE,(function(t){var n=0,d=t.charAt(0),v=_.paramIsX[d],m=_.paramIsY[d],y=_.numParams[d],x=t.substr(1).replace(_.paramRE,(function(param){return v[n]?param="pixel"===l?e(f)+Number(param):e(param):m[n]&&(param="pixel"===c?r(h)-Number(param):r(param)),++n>y&&(param="X"),param}));return n>y&&(x=x.replace(/[\s,]*X.*/,""),o.log("Ignoring extra params in segment "+t)),d+x}))}(e,n,f);if("pixel"===e.xsizemode){var E=n(e.xanchor);h=E+e.x0,d=E+e.x1}else h=n(e.x0),d=n(e.x1);if("pixel"===e.ysizemode){var S=f(e.yanchor);v=S-e.y0,m=S-e.y1}else v=f(e.y0),m=f(e.y1);if("line"===y)return"M"+h+","+v+"L"+d+","+m;if("rect"===y)return"M"+h+","+v+"H"+d+"V"+m+"H"+h+"Z";var L=(h+d)/2,C=(v+m)/2,O=Math.abs(L-h),R=Math.abs(C-v),D="A"+O+","+R,P=L+O+","+C;return"M"+P+D+" 0 1,1 "+(L+","+(C-R))+D+" 0 0,1 "+P+"Z"}function L(t,e,r){return t.replace(_.segmentRE,(function(t){var n=0,o=t.charAt(0),l=_.paramIsX[o],c=_.paramIsY[o],f=_.numParams[o];return o+t.substr(1).replace(_.paramRE,(function(param){return n>=f||(l[n]?param=e(param):c[n]&&(param=r(param)),n++),param}))}))}function C(t){T(t)&&(t._fullLayout._activeShapeIndex>=0&&(h(t),delete t._fullLayout._activeShapeIndex,M(t)))}t.exports={draw:M,drawOne:k,eraseActiveShape:function(t){if(!T(t))return;h(t);var e=t._fullLayout._activeShapeIndex,r=(t.layout||{}).shapes||[];if(e<r.length){for(var o=[],q=0;q<r.length;q++)q!==e&&o.push(r[q]);delete t._fullLayout._activeShapeIndex,n.call("_guiRelayout",t,{shapes:o})}}}},function(t,e,r){"use strict";var n=r(450),o=r(508).drawMode,l=r(422),c=r(548),f=c.i000,h=c.i090,d=c.i180,v=c.i270,m=r(496).clearOutlineControllers,y=r(509),x=y.pointsShapeRectangle,_=y.pointsShapeEllipse,w=y.writePaths,M=r(644);t.exports=function t(e,r,c,y){y||(y=0);var A=c.gd;function T(){t(e,r,c,y++),_(e[0])&&k({redrawing:!0})}function k(t){c.isActiveShape=!1;var e=M(r,c);Object.keys(e).length&&l.call((t||{}).redrawing?"relayout":"_guiRelayout",A,e)}var E,S,L,C,O,R=c.isActiveShape,D=A._fullLayout._zoomlayer,P=c.dragmode;(o(P)?A._fullLayout._drawing=!0:A._fullLayout._activeShapeIndex>=0&&m(A),r.attr("d",w(e)),R&&!y)&&(O=function(t,e){for(var i=0;i<e.length;i++){var r=e[i];t[i]=[];for(var n=0;n<r.length;n++){t[i][n]=[];for(var o=0;o<r[n].length;o++)t[i][n][o]=r[n][o]}}return t}([],e),function(g){E=[];for(var i=0;i<e.length;i++){var t=e[i],r=!x(t)&&_(t);E[i]=[];for(var o=0;o<t.length;o++)if("Z"!==t[o][0]&&(!r||o===f||o===h||o===d||o===v)){var l=t[o][1],c=t[o][2],m=g.append("circle").classed("cursor-grab",!0).attr("data-i",i).attr("data-j",o).attr("cx",l).attr("cy",c).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});E[i][o]={element:m.node(),gd:A,prepFn:I,doneFn:z,clickFn:F},n.init(E[i][o])}}}(D.append("g").attr("class","outline-controllers")),function(){if(S=[],!e.length)return;S[0]={element:r[0][0],gd:A,prepFn:B,doneFn:U},n.init(S[0])}());function I(t){L=+t.srcElement.getAttribute("data-i"),C=+t.srcElement.getAttribute("data-j"),E[L][C].moveFn=N}function N(t,r){if(e.length){var n=O[L][C][1],o=O[L][C][2],l=e[L],c=l.length;if(x(l)){for(var q=0;q<c;q++)if(q!==C){var f=l[q];f[1]===l[C][1]&&(f[1]=n+t),f[2]===l[C][2]&&(f[2]=o+r)}if(l[C][1]=n+t,l[C][2]=o+r,!x(l))for(var h=0;h<c;h++)for(var d=0;d<l[h].length;d++)l[h][d]=O[L][h][d]}else l[C][1]=n+t,l[C][2]=o+r;T()}}function z(){k()}function F(t,r){if(2===t){L=+r.srcElement.getAttribute("data-i"),C=+r.srcElement.getAttribute("data-j");var n=e[L];x(n)||_(n)||function(){if(e.length&&e[L]&&e[L].length){for(var t=[],r=0;r<e[L].length;r++)r!==C&&t.push(e[L][r]);t.length>1&&(2!==t.length||"Z"!==t[1][0])&&(0===C&&(t[0][0]="M"),e[L]=t,T(),k())}}()}}function j(t,r){!function(t,r){if(e.length)for(var i=0;i<e.length;i++)for(var n=0;n<e[i].length;n++)for(var o=0;o+2<e[i][n].length;o+=2)e[i][n][o+1]=O[i][n][o+1]+t,e[i][n][o+2]=O[i][n][o+2]+r}(t,r),T()}function B(t){(L=+t.srcElement.getAttribute("data-i"))||(L=0),S[L].moveFn=j}function U(){k()}}},function(t,e,r){"use strict";var n=r(508),o=n.drawMode,l=n.openMode,c=r(548),f=c.i000,h=c.i090,d=c.i180,v=c.i270,m=c.cos45,y=c.sin45,x=r(549),_=x.p2r,w=x.r2p,M=r(496).clearSelect,A=r(509),T=A.readPaths,k=A.writePaths,E=A.ellipseOver;t.exports=function(t,e){if(t.length){var r=t[0][0];if(r){var n=r.getAttribute("d"),c=e.gd,x=c._fullLayout.newshape,A=e.plotinfo,S=A.xaxis,L=A.yaxis,C=!!A.domain||!A.xaxis,O=!!A.domain||!A.yaxis,R=e.isActiveShape,D=e.dragmode,P=(c.layout||{}).shapes||[];if(!o(D)&&void 0!==R){var I=c._fullLayout._activeShapeIndex;if(I<P.length)switch(c._fullLayout.shapes[I].type){case"rect":D="drawrect";break;case"circle":D="drawcircle";break;case"line":D="drawline";break;case"path":var path=P[I].path||"";D="Z"===path[path.length-1]?"drawclosedpath":"drawopenpath"}}var N,z=l(D),F=T(n,c,A,R),j={editable:!0,xref:C?"paper":S._id,yref:O?"paper":L._id,layer:x.layer,opacity:x.opacity,line:{color:x.line.color,width:x.line.width,dash:x.line.dash}};if(z||(j.fillcolor=x.fillcolor,j.fillrule=x.fillrule),1===F.length&&(N=F[0]),N&&"drawrect"===D)j.type="rect",j.x0=N[0][1],j.y0=N[0][2],j.x1=N[2][1],j.y1=N[2][2];else if(N&&"drawline"===D)j.type="line",j.x0=N[0][1],j.y0=N[0][2],j.x1=N[1][1],j.y1=N[1][2];else if(N&&"drawcircle"===D){j.type="circle";var B=N[f][1],U=N[h][1],H=N[d][1],V=N[v][1],Y=N[f][2],G=N[h][2],W=N[d][2],X=N[v][2],Z=A.xaxis&&("date"===A.xaxis.type||"log"===A.xaxis.type),J=A.yaxis&&("date"===A.yaxis.type||"log"===A.yaxis.type);Z&&(B=w(A.xaxis,B),U=w(A.xaxis,U),H=w(A.xaxis,H),V=w(A.xaxis,V)),J&&(Y=w(A.yaxis,Y),G=w(A.yaxis,G),W=w(A.yaxis,W),X=w(A.yaxis,X));var Q=(U+V)/2,K=(Y+W)/2,$=E({x0:Q,y0:K,x1:Q+(V-U+H-B)/2*m,y1:K+(X-G+W-Y)/2*y});Z&&($.x0=_(A.xaxis,$.x0),$.x1=_(A.xaxis,$.x1)),J&&($.y0=_(A.yaxis,$.y0),$.y1=_(A.yaxis,$.y1)),j.x0=$.x0,j.y0=$.y0,j.x1=$.x1,j.y1=$.y1}else j.type="path",S&&L&&function(t,e,r){var n="date"===e.type,o="date"===r.type;if(!n&&!o)return t;for(var i=0;i<t.length;i++)for(var l=0;l<t[i].length;l++)for(var c=0;c+2<t[i][l].length;c+=2)n&&(t[i][l][c+1]=t[i][l][c+1].replace(" ","_")),o&&(t[i][l][c+2]=t[i][l][c+2].replace(" ","_"))}(F,S,L),j.path=k(F),N=null;M(c);for(var tt=e.editHelpers,et=(tt||{}).modifyItem,nt=[],q=0;q<P.length;q++){var it=c._fullLayout.shapes[q];if(nt[q]=it._input,void 0!==R&&q===c._fullLayout._activeShapeIndex){var at=j;switch(it.type){case"line":case"rect":case"circle":et("x0",at.x0),et("x1",at.x1),et("y0",at.y0),et("y1",at.y1);break;case"path":et("path",at.path)}}}return void 0===R?(nt.push(j),nt):tt?tt.getUpdateObj():{}}}}},function(t,e,r){"use strict";var n=r(421),o=r(506),l=r(432).id2name,c=r(446),f=r(646),h=r(505),d=r(430).ALMOST_EQUAL,v=r(438).FROM_BL;function m(t,e,r){var o=r.axIds,f=r.layoutOut,h=r.hasImage,d=f._axisConstraintGroups,v=f._axisMatchGroups,m=e._id,w=m.charAt(0),M=((f._splomAxes||{})[w]||{})[m]||{},A=e._id,T="x"===A.charAt(0);function k(r,o){return n.coerce(t,e,c,r,o)}e._matchGroup=null,e._constraintGroup=null,k("constrain",h?"domain":"range"),n.coerce(t,e,{constraintoward:{valType:"enumerated",values:T?["left","center","right"]:["bottom","middle","top"],dflt:T?"center":"middle"}},"constraintoward");var i,E,S=e.type,L=[];for(i=0;i<o.length;i++){if((E=o[i])!==A)f[l(E)].type===S&&L.push(E)}var C=x(d,A);if(C){var O=[];for(i=0;i<L.length;i++)C[E=L[i]]||O.push(E);L=O}var R,D,P=L.length;P&&(t.matches||M.matches)&&(R=n.coerce(t,e,{matches:{valType:"enumerated",values:L,dflt:-1!==L.indexOf(M.matches)?M.matches:void 0}},"matches"));var I=h&&!T?e.anchor:void 0;if(P&&!R&&(t.scaleanchor||I)&&(D=n.coerce(t,e,{scaleanchor:{valType:"enumerated",values:L}},"scaleanchor",I)),R){e._matchGroup=_(v,A,R,1);var N=f[l(R)],z=y(f,e)/y(f,N);T!==("x"===R.charAt(0))&&(z=(T?"x":"y")+z),_(d,A,R,z)}else t.matches&&-1!==o.indexOf(t.matches)&&n.warn("ignored "+e._name+'.matches: "'+t.matches+'" to avoid an infinite loop');if(D){var F=k("scaleratio");F||(F=e.scaleratio=1),_(d,A,D,F)}else t.scaleanchor&&-1!==o.indexOf(t.scaleanchor)&&n.warn("ignored "+e._name+'.scaleanchor: "'+t.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function y(t,e){var r=e.domain;return r||(r=t[l(e.overlaying)].domain),r[1]-r[0]}function x(t,e){for(var i=0;i<t.length;i++)if(t[i][e])return t[i];return null}function _(t,e,r,n){var i,o,l,c,f,h=x(t,e);null===h?((h={})[e]=1,f=t.length,t.push(h)):f=t.indexOf(h);var d=Object.keys(h);for(i=0;i<t.length;i++)if(l=t[i],i!==f&&l[r]){var v=l[r];for(o=0;o<d.length;o++)l[c=d[o]]=w(v,w(n,h[c]));return void t.splice(f,1)}if(1!==n)for(o=0;o<d.length;o++){var m=d[o];h[m]=w(n,h[m])}h[r]=1}function w(a,b){var t,e,r="",n="";"string"==typeof a&&(t=(r=a.match(/^[xy]*/)[0]).length,a=+a.substr(t)),"string"==typeof b&&(e=(n=b.match(/^[xy]*/)[0]).length,b=+b.substr(e));var o=a*b;return t||e?t&&e&&r.charAt(0)!==n.charAt(0)?t===e?o:(t>e?r.substr(e):n.substr(t))+o:r+n+a*b:o}function M(t,e){for(var r=e._size,n=r.h/r.w,o={},l=Object.keys(t),i=0;i<l.length;i++){var c=l[i],f=t[c];if("string"==typeof f){var h=f.match(/^[xy]*/)[0],d=h.length;f=+f.substr(d);for(var v="y"===h.charAt(0)?n:1/n,m=0;m<d;m++)f*=v}o[c]=f}return o}function A(t,e){var r=t._inputDomain,n=v[t.constraintoward],o=r[0]+(r[1]-r[0])*n;t.domain=t._input.domain=[o+(r[0]-o)/e,o+(r[1]-o)/e],t.setScale()}e.handleDefaults=function(t,e,r){var i,o,c,f,d,v,y,x,_=r.axIds,w=r.axHasImage,M=e._axisConstraintGroups=[],A=e._axisMatchGroups=[];for(i=0;i<_.length;i++)m(d=t[f=l(_[i])],v=e[f],{axIds:_,layoutOut:e,hasImage:w[f]});function T(t,r){for(i=0;i<t.length;i++)for(c in o=t[i])e[l(c)][r]=o}for(T(A,"_matchGroup"),i=0;i<M.length;i++)for(c in o=M[i])if((v=e[l(c)]).fixedrange){for(var k in o){var E=l(k);!1===(t[E]||{}).fixedrange&&n.warn("fixedrange was specified as false for axis "+E+" but was overridden because another axis in its constraint group has fixedrange true"),e[E].fixedrange=!0}break}for(i=0;i<M.length;){for(c in o=M[i]){(v=e[l(c)])._matchGroup&&Object.keys(v._matchGroup).length===Object.keys(o).length&&(M.splice(i,1),i--);break}i++}T(M,"_constraintGroup");var S=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],L=!1,C=!1;function O(){x=v[y],"rangebreaks"===y&&(C=v._hasDayOfWeekBreaks)}for(i=0;i<A.length;i++){o=A[i];for(var R=0;R<S.length;R++){var D;for(c in y=S[R],x=null,o)if(d=t[f=l(c)],v=e[f],y in v){if(!v.matches&&(D=v,y in d)){O();break}null===x&&y in d&&O()}if("range"===y&&x&&(L=!0),"autorange"===y&&null===x&&L&&(x=!1),null===x&&y in D&&(x=D[y]),null!==x)for(c in o)(v=e[l(c)])[y]="range"===y?x.slice():x,"rangebreaks"===y&&(v._hasDayOfWeekBreaks=C,h(v,e))}}},e.enforce=function(t){var i,e,r,n,c,h,v,m,y=t._fullLayout,x=y._axisConstraintGroups||[];for(i=0;i<x.length;i++){r=M(x[i],y);var _=Object.keys(r),w=1/0,T=0,k=1/0,E={},S={},L=!1;for(e=0;e<_.length;e++)S[n=_[e]]=c=y[l(n)],c._inputDomain?c.domain=c._inputDomain.slice():c._inputDomain=c.domain.slice(),c._inputRange||(c._inputRange=c.range.slice()),c.setScale(),E[n]=h=Math.abs(c._m)/r[n],w=Math.min(w,h),"domain"!==c.constrain&&c._constraintShrinkable||(k=Math.min(k,h)),delete c._constraintShrinkable,T=Math.max(T,h),"domain"===c.constrain&&(L=!0);if(!(w>d*T)||L)for(e=0;e<_.length;e++)if(h=E[n=_[e]],v=(c=S[n]).constrain,h!==k||"domain"===v)if(m=h/k,"range"===v)f(c,m);else{var C=c._inputDomain,O=(c.domain[1]-c.domain[0])/(C[1]-C[0]),R=(c.r2l(c.range[1])-c.r2l(c.range[0]))/(c.r2l(c._inputRange[1])-c.r2l(c._inputRange[0]));if((m/=O)*R<1){c.domain=c._input.domain=C.slice(),f(c,m);continue}if(R<1&&(c.range=c._input.range=c._inputRange.slice(),m*=R),c.autorange){var D=c.r2l(c.range[0]),P=c.r2l(c.range[1]),I=(D+P)/2,N=I,z=I,F=Math.abs(P-I),j=I-F*m*1.0001,B=I+F*m*1.0001,U=o.makePadFn(y,c,0),H=o.makePadFn(y,c,1);A(c,m);var V,Y,G=Math.abs(c._m),W=o.concatExtremes(t,c),X=W.min,Z=W.max;for(Y=0;Y<X.length;Y++)(V=X[Y].val-U(X[Y])/G)>j&&V<N&&(N=V);for(Y=0;Y<Z.length;Y++)(V=Z[Y].val+H(Z[Y])/G)<B&&V>z&&(z=V);m/=(z-N)/(2*F),N=c.l2r(N),z=c.l2r(z),c.range=c._input.range=D<P?[N,z]:[z,N]}A(c,m)}}},e.getAxisGroup=function(t,e){for(var r=t._axisMatchGroups,i=0;i<r.length;i++){if(r[i][e])return"g"+i}return e},e.clean=function(t,e){if(e._inputDomain){for(var r=!1,n=e._id,o=t._fullLayout._axisConstraintGroups,l=0;l<o.length;l++)if(o[l][n]){r=!0;break}r&&"domain"===e.constrain||(e._input.domain=e.domain=e._inputDomain,delete e._inputDomain)}}},function(t,e,r){"use strict";var n=r(438).FROM_BL;t.exports=function(t,e,r){void 0===r&&(r=n[t.constraintoward||"center"]);var o=[t.r2l(t.range[0]),t.r2l(t.range[1])],l=o[0]+(o[1]-o[0])*r;t.range=t._input.range=[t.l2r(l+(o[0]-l)*e),t.l2r(l+(o[1]-l)*e)],t.setScale()}},function(t,e,r){"use strict";var n=r(529).dot,o=r(430).BADNUM,polygon=t.exports={};polygon.tester=function(t){var i,e=t.slice(),r=e[0][0],n=r,l=e[0][1],c=l;for(e.push(e[0]),i=1;i<e.length;i++)r=Math.min(r,e[i][0]),n=Math.max(n,e[i][0]),l=Math.min(l,e[i][1]),c=Math.max(c,e[i][1]);var f,h=!1;5===e.length&&(e[0][0]===e[1][0]?e[2][0]===e[3][0]&&e[0][1]===e[3][1]&&e[1][1]===e[2][1]&&(h=!0,f=function(t){return t[0]===e[0][0]}):e[0][1]===e[1][1]&&e[2][1]===e[3][1]&&e[0][0]===e[3][0]&&e[1][0]===e[2][0]&&(h=!0,f=function(t){return t[1]===e[0][1]}));var d=!0,v=e[0];for(i=1;i<e.length;i++)if(v[0]!==e[i][0]||v[1]!==e[i][1]){d=!1;break}return{xmin:r,xmax:n,ymin:l,ymax:c,pts:e,contains:h?function(t,e){var h=t[0],d=t[1];return!(h===o||h<r||h>n||d===o||d<l||d>c)&&(!e||!f(t))}:function(t,f){var h=t[0],d=t[1];if(h===o||h<r||h>n||d===o||d<l||d>c)return!1;var i,v,m,y,x,_=e.length,w=e[0][0],M=e[0][1],A=0;for(i=1;i<_;i++)if(v=w,m=M,w=e[i][0],M=e[i][1],!(h<(y=Math.min(v,w))||h>Math.max(v,w)||d>Math.max(m,M)))if(d<Math.min(m,M))h!==y&&A++;else{if(d===(x=w===v?d:m+(h-v)*(M-m)/(w-v)))return 1!==i||!f;d<=x&&h!==y&&A++}return A%2==1},isRect:h,degenerate:d}},polygon.isSegmentBent=function(t,e,r,o){var i,l,c,f=t[e],h=[t[r][0]-f[0],t[r][1]-f[1]],d=n(h,h),v=Math.sqrt(d),m=[-h[1]/v,h[0]/v];for(i=e+1;i<r;i++)if(l=[t[i][0]-f[0],t[i][1]-f[1]],(c=n(l,h))<0||c>d||Math.abs(n(l,m))>o)return!0;return!1},polygon.filter=function(t,e){var r=[t[0]],n=0,o=0;function l(l){t.push(l);var c=r.length,f=n;r.splice(o+1);for(var i=f+1;i<t.length;i++)(i===t.length-1||polygon.isSegmentBent(t,f,i+1,e))&&(r.push(t[i]),r.length<c-2&&(n=i,o=r.length-1),f=i)}t.length>1&&l(t.pop());return{addPt:l,raw:t,filtered:r}}},function(t,e,r){"use strict";var n=r(424),o=r(617),l=r(431),c=r(421),f=r(483),h=r(552),d=r(553),v=r(601).version,m={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};t.exports=function(t,e){var data,r,y,x;function _(t){return!(t in e)||c.validate(e[t],m[t])}if(e=e||{},c.isPlainObject(t)?(data=t.data||[],r=t.layout||{},y=t.config||{},x={}):(t=c.getGraphDiv(t),data=c.extendDeep([],t.data),r=c.extendDeep({},t.layout),y=t._context,x=t._fullLayout||{}),!_("width")&&null!==e.width||!_("height")&&null!==e.height)throw new Error("Height and width should be pixel values.");if(!_("format"))throw new Error("Export format is not "+c.join2(m.format.values,", "," or ")+".");var w={};function M(t,r){return c.coerce(e,w,m,t,r)}var A=M("format"),T=M("width"),k=M("height"),E=M("scale"),S=M("setBackground"),L=M("imageDataOnly"),C=document.createElement("div");C.style.position="absolute",C.style.left="-5000px",document.body.appendChild(C);var O=c.extendFlat({},r);T?O.width=T:null===e.width&&n(x.width)&&(O.width=x.width),k?O.height=k:null===e.height&&n(x.height)&&(O.height=x.height);var R=c.extendFlat({},y,{_exportedPlot:!0,staticPlot:!0,setBackground:S}),D=f.getRedrawFunc(C);function P(){return new Promise((function(t){setTimeout(t,f.getDelay(C._fullLayout))}))}function I(){return new Promise((function(t,e){var svg=h(C,A,E),r=C._fullLayout.width,n=C._fullLayout.height;function m(){o.purge(C),document.body.removeChild(C)}if("full-json"===A){var y=l.graphJson(C,!1,"keepdata","object",!0,!0);return y.version=v,y=JSON.stringify(y),m(),t(L?y:f.encodeJSON(y))}if(m(),"svg"===A)return t(L?svg:f.encodeSVG(svg));var canvas=document.createElement("canvas");canvas.id=c.randstr(),d({format:A,width:r,height:n,scale:E,canvas:canvas,svg:svg,promise:!0}).then(t).catch(e)}))}return new Promise((function(t,e){o.plot(C,data,O,R).then(D).then(P).then(I).then((function(e){t(function(t){return L?t.replace(f.IMAGE_URL_PREFIX,""):t}(e))})).catch((function(t){e(t)}))}))}},function(t,e,r){"use strict";var n=r(421),o=r(648),l=r(822),c=r(483);t.exports=function(t,e){var r;return n.isPlainObject(t)||(r=n.getGraphDiv(t)),(e=e||{}).format=e.format||"png",e.width=e.width||null,e.height=e.height||null,e.imageDataOnly=!0,new Promise((function(f,h){r&&r._snapshotInProgress&&h(new Error("Snapshotting already in progress.")),n.isIE()&&"svg"!==e.format&&h(new Error(c.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var d=o(t,e),v=e.filename||t.fn||"newplot";v+="."+e.format.replace("-","."),d.then((function(t){return r&&(r._snapshotInProgress=!1),l(t,v,e.format)})).then((function(t){f(t)})).catch((function(t){r&&(r._snapshotInProgress=!1),h(t)}))}))}},function(t,e,r){"use strict";var n=r(442);t.exports={hasLines:n.hasLines,hasMarkers:n.hasMarkers,hasText:n.hasText,isBubble:n.isBubble,attributes:r(473),supplyDefaults:r(824),crossTraceDefaults:r(829),calc:r(655).calc,crossTraceCalc:r(831),arraysToCalcdata:r(555),plot:r(832),colorbar:r(835),formatLabels:r(836),style:r(657).style,styleOnSelect:r(657).styleOnSelect,hoverPoints:r(837),selectPoints:r(839),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:r(556),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},function(t,e,r){"use strict";var n=r(421).dateTick0,o=r(430).ONEWEEK;function l(t,e){return n(e,t%o==0?1:0)}t.exports=function(t,e,r,n,o){if(o||(o={x:!0,y:!0}),o.x){var c=n("xperiod");c&&(n("xperiod0",l(c,e.xcalendar)),n("xperiodalignment"))}if(o.y){var f=n("yperiod");f&&(n("yperiod0",l(f,e.ycalendar)),n("yperiodalignment"))}}},function(t,e,r){"use strict";var n=r(425),o=r(457).hasColorscale,l=r(475),c=r(442);t.exports=function(t,e,r,f,h,d){var v=c.isBubble(t),m=(t.line||{}).color;(d=d||{},m&&(r=m),h("marker.symbol"),h("marker.opacity",v?.7:1),h("marker.size"),h("marker.color",r),o(t,"marker")&&l(t,e,f,h,{prefix:"marker.",cLetter:"c"}),d.noSelect||(h("selected.marker.color"),h("unselected.marker.color"),h("selected.marker.size"),h("unselected.marker.size")),d.noLine||(h("marker.line.color",m&&!Array.isArray(m)&&e.marker.color!==m?m:v?n.background:n.defaultLine),o(t,"marker.line")&&l(t,e,f,h,{prefix:"marker.line.",cLetter:"c"}),h("marker.line.width",v?1:0)),v&&(h("marker.sizeref"),h("marker.sizemin"),h("marker.sizemode")),d.gradient)&&("none"!==h("marker.gradient.type")&&h("marker.gradient.color"))}},function(t,e,r){"use strict";var n=r(421).isArrayOrTypedArray,o=r(457).hasColorscale,l=r(475);t.exports=function(t,e,r,c,f,h){var d=(t.marker||{}).color;(f("line.color",r),o(t,"line"))?l(t,e,c,f,{prefix:"line.",cLetter:"c"}):f("line.color",!n(d)&&d||r);f("line.width"),(h||{}).noDash||f("line.dash")}},function(t,e,r){"use strict";var n=r(421);t.exports=function(t,e,r,o,l){l=l||{},o("textposition"),n.coerceFont(o,"textfont",r.font),l.noSelect||(o("selected.textfont.color"),o("unselected.textfont.color"))}},function(t,e,r){"use strict";var n=r(424),o=r(421),l=r(426),c=r(554),f=r(430).BADNUM,h=r(442),d=r(656),v=r(555),m=r(830);function y(t,e,r,n,o,c,f){var d=e._length,v=t._fullLayout,m=r._id,y=n._id,x=v._firstScatter[w(e)]===e.uid,_=(M(e,v,r,n)||{}).orientation,A=e.fill;r._minDtick=0,n._minDtick=0;var T={padded:!0},k={padded:!0};f&&(T.ppad=k.ppad=f);var E=d<2||o[0]!==o[d-1]||c[0]!==c[d-1];E&&("tozerox"===A||"tonextx"===A&&(x||"h"===_))?T.tozero=!0:(e.error_y||{}).visible||"tonexty"!==A&&"tozeroy"!==A&&(h.hasMarkers(e)||h.hasText(e))||(T.padded=!1,T.ppad=0),E&&("tozeroy"===A||"tonexty"===A&&(x||"v"===_))?k.tozero=!0:"tonextx"!==A&&"tozerox"!==A||(k.padded=!1),m&&(e._extremes[m]=l.findExtremes(r,o,T)),y&&(e._extremes[y]=l.findExtremes(n,c,k))}function x(t,e){if(h.hasMarkers(t)){var r,marker=t.marker,n=1.6*(t.marker.sizeref||1);if(r="area"===t.marker.sizemode?function(t){return Math.max(Math.sqrt((t||0)/n),3)}:function(t){return Math.max((t||0)/n,3)},o.isArrayOrTypedArray(marker.size)){var c={type:"linear"};l.setConvert(c);for(var s=c.makeCalcdata(t.marker,"size"),f=new Array(e),i=0;i<e;i++)f[i]=r(s[i]);return f}return r(marker.size)}}function _(t,e){var r=w(e),n=t._firstScatter;n[r]||(n[r]=e.uid)}function w(t){var e=t.stackgroup;return t.xaxis+t.yaxis+t.type+(e?"-"+e:"")}function M(t,e,r,n){var o=t.stackgroup;if(o){var l=e._scatterStackOpts[r._id+n._id][o],c="v"===l.orientation?n:r;return"linear"===c.type||"log"===c.type?l:void 0}}t.exports={calc:function(t,e){var r,i,h,w,A,T,k=t._fullLayout,E=l.getFromId(t,e.xaxis||"x"),S=l.getFromId(t,e.yaxis||"y"),L=E.makeCalcdata(e,"x"),C=S.makeCalcdata(e,"y"),O=c(e,E,"x",L),R=c(e,S,"y",C),D=e._length,P=new Array(D),I=e.ids,N=M(e,k,E,S),z=!1;_(k,e);var F,j="x",B="y";N?(o.pushUnique(N.traceIndices,e._expandedIndex),(r="v"===N.orientation)?(B="s",F="x"):(j="s",F="y"),A="interpolate"===N.stackgaps):y(t,e,E,S,O,R,x(e,D));var U=!!e.xperiodalignment,H=!!e.yperiodalignment;for(i=0;i<D;i++){var V=P[i]={},Y=n(O[i]),G=n(R[i]);Y&&G?(V[j]=O[i],V[B]=R[i],U&&(V.orig_x=L[i]),H&&(V.orig_y=C[i])):N&&(r?Y:G)?(V[F]=r?O[i]:R[i],V.gap=!0,A?(V.s=f,z=!0):V.s=0):V[j]=V[B]=f,I&&(V.id=String(I[i]))}if(v(P,e),d(t,e),m(P,e),N){for(i=0;i<P.length;)P[i][F]===f?P.splice(i,1):i++;if(o.sort(P,(function(a,b){return a[F]-b[F]||a.i-b.i})),z){for(i=0;i<P.length-1&&P[i].gap;)i++;for((T=P[i].s)||(T=P[i].s=0),h=0;h<i;h++)P[h].s=T;for(w=P.length-1;w>i&&P[w].gap;)w--;for(T=P[w].s,h=P.length-1;h>w;h--)P[h].s=T;for(;i<w;)if(P[++i].gap){for(h=i+1;P[h].gap;)h++;for(var W=P[i-1][F],X=P[i-1].s,Z=(P[h].s-X)/(P[h][F]-W);i<h;)P[i].s=X+(P[i][F]-W)*Z,i++}}}return P},calcMarkerSize:x,calcAxisExpansion:y,setFirstScatter:_,getStackOpts:M}},function(t,e,r){"use strict";var n=r(457).hasColorscale,o=r(495),l=r(442);t.exports=function(t,e){l.hasLines(e)&&n(e,"line")&&o(t,e,{vals:e.line.color,containerStr:"line",cLetter:"c"}),l.hasMarkers(e)&&(n(e,"marker")&&o(t,e,{vals:e.marker.color,containerStr:"marker",cLetter:"c"}),n(e,"marker.line")&&o(t,e,{vals:e.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},function(t,e,r){"use strict";var n=r(423),o=r(427),l=r(422);function c(t,e,r){o.pointStyle(t.selectAll("path.point"),e,r)}function f(t,e,r){o.textPointStyle(t.selectAll("text"),e,r)}t.exports={style:function(t){var s=n.select(t).selectAll("g.trace.scatter");s.style("opacity",(function(t){return t[0].trace.opacity})),s.selectAll("g.points").each((function(e){c(n.select(this),e.trace||e[0].trace,t)})),s.selectAll("g.text").each((function(e){f(n.select(this),e.trace||e[0].trace,t)})),s.selectAll("g.trace path.js-line").call(o.lineGroupStyle),s.selectAll("g.trace path.js-fill").call(o.fillGroupStyle),l.getComponentMethod("errorbars","style")(s)},stylePoints:c,styleText:f,styleOnSelect:function(t,e,r){var n=e[0].trace;n.selectedpoints?(o.selectedPointStyle(r.selectAll("path.point"),n),o.selectedTextStyle(r.selectAll("text"),n)):(c(r,n,t),f(r,n,t))}}},function(t,e,r){"use strict";var n=r(422).traceIs,o=r(631);function l(t){return{v:"x",h:"y"}[t.orientation||"v"]}function c(t,e){var r=l(t),o=n(t,"box-violin"),c=n(t._fullInput||{},"candlestick");return o&&!c&&e===r&&void 0===t[r]&&void 0===t[r+"0"]}t.exports=function(t,e,r,f){r("autotypenumbers",f.autotypenumbersDflt),"-"===r("type",(f.splomStash||{}).type)&&(!function(t,data){if("-"!==t.type)return;var i,e=t._id,r=e.charAt(0);-1!==e.indexOf("scene")&&(e=r);var f=function(data,t,e){for(var i=0;i<data.length;i++){var r=data[i];if("splom"===r.type&&r._length>0&&(r["_"+e+"axes"]||{})[t])return r;if((r[e+"axis"]||e)===t){if(c(r,e))return r;if((r[e]||[]).length||r[e+"0"])return r}}}(data,e,r);if(!f)return;if("histogram"===f.type&&r==={v:"y",h:"x"}[f.orientation||"v"])return void(t.type="linear");var h=r+"calendar",d=f[h],v={noMultiCategory:!n(f,"cartesian")||n(f,"noMultiCategory")};"box"===f.type&&f._hasPreCompStats&&r==={h:"x",v:"y"}[f.orientation||"v"]&&(v.noMultiCategory=!0);if(v.autotypenumbers=t.autotypenumbers,c(f,r)){var m=l(f),y=[];for(i=0;i<data.length;i++){var x=data[i];n(x,"box-violin")&&(x[r+"axis"]||r)===e&&(void 0!==x[m]?y.push(x[m][0]):void 0!==x.name?y.push(x.name):y.push("text"),x[h]!==d&&(d=void 0))}t.type=o(y,d,v)}else if("splom"===f.type){var _=f.dimensions[f._axesDim[e]];_.visible&&(t.type=o(_.values,d,v))}else t.type=o(f[r]||[f[r+"0"]],d,v)}(e,f.data),"-"===e.type?e.type="linear":t.type=e.type)}},function(t,e,r){"use strict";var n=r(424),o=r(421);t.exports=function(t,e,r,l){var c,f,h,d,v=l.counterAxes||[],m=l.overlayableAxes||[],y=l.letter,x=l.grid;x&&(f=x._domains[y][x._axisMap[e._id]],c=x._anchors[e._id],f&&(h=x[y+"side"].split(" ")[0],d=x.domain[y]["right"===h||"top"===h?1:0])),f=f||[0,1],c=c||(n(t.position)?"free":v[0]||"free"),h=h||("x"===y?"bottom":"left"),d=d||0,"free"===o.coerce(t,e,{anchor:{valType:"enumerated",values:["free"].concat(v),dflt:c}},"anchor")&&r("position",d),o.coerce(t,e,{side:{valType:"enumerated",values:"x"===y?["bottom","top"]:["left","right"],dflt:h}},"side");var _=!1;if(m.length&&(_=o.coerce(t,e,{overlaying:{valType:"enumerated",values:[!1].concat(m),dflt:!1}},"overlaying")),!_){var w=r("domain",f);w[0]>w[1]-1/4096&&(e.domain=f),o.noneOrAll(t.domain,e.domain,f)}return r("layer"),e}},function(t,e,r){"use strict";t.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},function(t,e,r){"use strict";var n=r(421),o=r(425);t.exports=function(t,e,r,l){l("opacity");var c=l("bgcolor"),f=l("bordercolor"),h=o.opacity(f);l("borderpad");var d=l("borderwidth"),v=l("showarrow");if(l("text",v?" ":r._dfltTitle.annotation),l("textangle"),n.coerceFont(l,"font",r.font),l("width"),l("align"),l("height")&&l("valign"),v){var m,y,x=l("arrowside");-1!==x.indexOf("end")&&(m=l("arrowhead"),y=l("arrowsize")),-1!==x.indexOf("start")&&(l("startarrowhead",m),l("startarrowsize",y)),l("arrowcolor",h?e.bordercolor:o.defaultLine),l("arrowwidth",2*(h&&d||1)),l("standoff"),l("startstandoff")}var _=l("hovertext"),w=r.hoverlabel||{};if(_){var M=l("hoverlabel.bgcolor",w.bgcolor||(o.opacity(c)?o.rgb(c):o.defaultLine)),A=l("hoverlabel.bordercolor",w.bordercolor||o.contrast(M));n.coerceFont(l,"hoverlabel.font",{family:w.font.family,size:w.font.size,color:w.font.color||A})}l("captureevents",!!_)}},function(t,e,r){"use strict";function n(t,e){var i,r,n=[0,0,0,0];for(i=0;i<4;++i)for(r=0;r<4;++r)n[r]+=t[4*i+r]*e[i];return n}t.exports=function(t,e){return n(t.projection,n(t.view,n(t.model,[e[0],e[1],e[2],1])))}},function(t,e,r){"use strict";var n=r(511),o=r(473).line,l=r(493).dash,c=r(429).extendFlat,f=r(428).templatedArray;r(559);t.exports=f("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:c({},n.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:c({},n.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:c({},o.color,{editType:"arraydraw"}),width:c({},o.width,{editType:"calc+arraydraw"}),dash:c({},l,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},function(t,e,r){"use strict";var n=r(434),o=r(428).templatedArray;r(559);t.exports=o("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",n.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",n.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},function(t,e,r){"use strict";var n=r(441),o=r(456),l=r(429).extendFlat,c=r(444).overrideAll,f=r(538),h=r(428).templatedArray,d=h("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});t.exports=c(h("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:d,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:l(f({editType:"arraydraw"}),{}),font:n({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:o.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},function(t,e,r){"use strict";var n=r(441),o=r(538),l=r(429).extendDeepAll,c=r(444).overrideAll,f=r(501),h=r(428).templatedArray,d=r(512),v=h("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});t.exports=c(h("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:v,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:l(o({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:f.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:n({})},font:n({}),activebgcolor:{valType:"color",dflt:d.gripBgActiveColor},bgcolor:{valType:"color",dflt:d.railBgColor},bordercolor:{valType:"color",dflt:d.railBorderColor},borderwidth:{valType:"number",min:0,dflt:d.railBorderWidth},ticklen:{valType:"number",min:0,dflt:d.tickLength},tickcolor:{valType:"color",dflt:d.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:d.minorTickLength}}),"arraydraw","from-root")},function(t,e,r){"use strict";t.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},function(t,e,r){"use strict";t.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},function(t,e,r){"use strict";t.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},function(t,e,r){"use strict";function n(t,e){return"percent"===t?function(t){return Math.abs(t*e/100)}:"constant"===t?function(){return Math.abs(e)}:"sqrt"===t?function(t){return Math.sqrt(Math.abs(t))}:void 0}t.exports=function(t){var e=t.type,r=t.symmetric;if("data"===e){var o=t.array||[];if(r)return function(t,e){var r=+o[e];return[r,r]};var l=t.arrayminus||[];return function(t,e){var r=+o[e],n=+l[e];return isNaN(r)&&isNaN(n)?[NaN,NaN]:[n||0,r||0]}}var c=n(e,t.value),f=n(e,t.valueminus);return r||void 0===t.valueminus?function(t){var e=c(t);return[e,e]}:function(t){return[f(t),c(t)]}}},function(t,e,r){"use strict";var n=r(422),o=r(421),l=o.extendFlat,c=o.extendDeep;function f(t){var e;switch(t){case"themes__thumb":e={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":e={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:e={}}return e}t.exports=function(t,e){var i;t.framework&&t.framework.isPolar&&(t=t.framework.getConfig());var r,o=t.data,h=t.layout,d=c([],o),v=c({},h,f(e.tileClass)),m=t._context||{};if(e.width&&(v.width=e.width),e.height&&(v.height=e.height),"thumbnail"===e.tileClass||"themes__thumb"===e.tileClass){v.annotations=[];var y=Object.keys(v);for(i=0;i<y.length;i++)r=y[i],["xaxis","yaxis","zaxis"].indexOf(r.slice(0,5))>-1&&(v[y[i]].title={text:""});for(i=0;i<d.length;i++){var x=d[i];x.showscale=!1,x.marker&&(x.marker.showscale=!1),n.traceIs(x,"pie-like")&&(x.textposition="none")}}if(Array.isArray(e.annotations))for(i=0;i<e.annotations.length;i++)v.annotations.push(e.annotations[i]);var _=Object.keys(v).filter((function(t){return t.match(/^scene\d*$/)}));if(_.length){var w={};for("thumbnail"===e.tileClass&&(w={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),i=0;i<_.length;i++){var M=v[_[i]];M.xaxis||(M.xaxis={}),M.yaxis||(M.yaxis={}),M.zaxis||(M.zaxis={}),l(M.xaxis,w),l(M.yaxis,w),l(M.zaxis,w),M._scene=null}}var A=document.createElement("div");e.tileClass&&(A.className=e.tileClass);var T={gd:A,td:A,layout:v,data:d,config:{staticPlot:void 0===e.staticPlot||e.staticPlot,plotGlPixelRatio:void 0===e.plotGlPixelRatio?2:e.plotGlPixelRatio,displaylogo:e.displaylogo||!1,showLink:e.showLink||!1,showTips:e.showTips||!1,mapboxAccessToken:m.mapboxAccessToken}};return"transparent"!==e.setBackground&&(T.config.setBackground=e.setBackground||"opaque"),T.gd.defaultLayout=f(e.tileClass),T}},function(t,e,r){"use strict";var n=r(462),o=r(474).hovertemplateAttrs,l=r(567),c=r(449),f=r(429).extendFlat;t.exports=f({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:o({editType:"calc"}),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},n("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:l.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:f({},l.contours.x.show,{}),color:l.contours.x.color,width:l.contours.x.width,editType:"calc"},lightposition:{x:f({},l.lightposition.x,{dflt:1e5}),y:f({},l.lightposition.y,{dflt:1e5}),z:f({},l.lightposition.z,{dflt:0}),editType:"calc"},lighting:f({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},l.lighting),hoverinfo:f({},c.hoverinfo,{editType:"calc"}),showlegend:f({},c.showlegend,{dflt:!1})})},function(t,e,r){"use strict";var n=r(464),o=r(451),l=r(453),c=r(516),f=r(928),h=r(472),d=r(471),v=r(452),m=r(679),y=r(931),x=r(439),_=r(942),w=r(943),M=_.meshShader,A=_.wireShader,T=_.pointShader,k=_.pickShader,E=_.pointPickShader,S=_.contourShader,L=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function C(t,e,r,n,o,l,c,f,h,d,v,m,y,x,_,w,M,A,T,k,E,S,C,O,R,D,P){this.gl=t,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=e,this.dirty=!0,this.triShader=r,this.lineShader=n,this.pointShader=o,this.pickShader=l,this.pointPickShader=c,this.contourShader=f,this.trianglePositions=h,this.triangleColors=v,this.triangleNormals=y,this.triangleUVs=m,this.triangleIds=d,this.triangleVAO=x,this.triangleCount=0,this.lineWidth=1,this.edgePositions=_,this.edgeColors=M,this.edgeUVs=A,this.edgeIds=w,this.edgeVAO=T,this.edgeCount=0,this.pointPositions=k,this.pointColors=S,this.pointUVs=C,this.pointSizes=O,this.pointIds=E,this.pointVAO=R,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=D,this.contourVAO=P,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=L,this._view=L,this._projection=L,this._resolution=[1,1]}var O=C.prototype;function R(t,e){if(!e)return 1;if(!e.length)return 1;for(var i=0;i<e.length;++i){if(e.length<2)return 1;if(e[i][0]===t)return e[i][1];if(e[i][0]>t&&i>0){var r=(e[i][0]-t)/(e[i][0]-e[i-1][0]);return e[i][1]*(1-r)+r*e[i-1][1]}}return 1}function D(t){var e=n(t,M.vertex,M.fragment);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e.attributes.normal.location=4,e}function P(t){var e=n(t,A.vertex,A.fragment);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e}function I(t){var e=n(t,T.vertex,T.fragment);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e.attributes.pointSize.location=4,e}function N(t){var e=n(t,k.vertex,k.fragment);return e.attributes.position.location=0,e.attributes.id.location=1,e}function z(t){var e=n(t,E.vertex,E.fragment);return e.attributes.position.location=0,e.attributes.id.location=1,e.attributes.pointSize.location=4,e}function F(t){var e=n(t,S.vertex,S.fragment);return e.attributes.position.location=0,e}O.isOpaque=function(){return!this.hasAlpha},O.isTransparent=function(){return this.hasAlpha},O.pickSlots=1,O.setPickBase=function(t){this.pickId=t},O.highlight=function(t){if(t&&this.contourEnable){for(var e=y(this.cells,this.intensity,t.intensity),r=e.cells,n=e.vertexIds,o=e.vertexWeights,l=r.length,c=x.mallocFloat32(6*l),f=0,i=0;i<l;++i)for(var h=r[i],d=0;d<2;++d){var v=h[0];2===h.length&&(v=h[d]);for(var a=n[v][0],b=n[v][1],m=o[v],_=1-m,w=this.positions[a],M=this.positions[b],A=0;A<3;++A)c[f++]=m*w[A]+_*M[A]}this.contourCount=f/3|0,this.contourPositions.update(c.subarray(0,f)),x.free(c)}else this.contourCount=0},O.update=function(t){t=t||{};var e=this.gl;this.dirty=!0,"contourEnable"in t&&(this.contourEnable=t.contourEnable),"contourColor"in t&&(this.contourColor=t.contourColor),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"lightPosition"in t&&(this.lightPosition=t.lightPosition),this.hasAlpha=!1,"opacity"in t&&(this.opacity=t.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in t&&(this.opacityscale=t.opacityscale,this.hasAlpha=!0),"ambient"in t&&(this.ambientLight=t.ambient),"diffuse"in t&&(this.diffuseLight=t.diffuse),"specular"in t&&(this.specularLight=t.specular),"roughness"in t&&(this.roughness=t.roughness),"fresnel"in t&&(this.fresnel=t.fresnel),t.texture?(this.texture.dispose(),this.texture=c(e,t.texture)):t.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=e.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=e.LINEAR,this.texture.setPixels(function(param,t){for(var e=m({colormap:param,nshades:256,format:"rgba"}),r=new Uint8Array(1024),i=0;i<256;++i){for(var n=e[i],o=0;o<3;++o)r[4*i+o]=n[o];r[4*i+3]=t?255*R(i/255,t):255*n[3]}return v(r,[256,256,4],[4,0,1])}(t.colormap,this.opacityscale)),this.texture.generateMipmap());var r=t.cells,n=t.positions;if(n&&r){var o=[],l=[],h=[],d=[],y=[],x=[],_=[],w=[],M=[],A=[],T=[],k=[],E=[],S=[];this.cells=r,this.positions=n;var L=t.vertexNormals,C=t.cellNormals,O=void 0===t.vertexNormalsEpsilon?1e-6:t.vertexNormalsEpsilon,D=void 0===t.faceNormalsEpsilon?1e-6:t.faceNormalsEpsilon;t.useFacetNormals&&!C&&(C=f.faceNormals(r,n,D)),C||L||(L=f.vertexNormals(r,n,O));var P=t.vertexColors,I=t.cellColors,N=t.meshColor||[1,1,1,1],z=t.vertexUVs,F=t.vertexIntensity,j=t.cellUVs,B=t.cellIntensity,U=1/0,H=-1/0;if(!z&&!j)if(F)if(t.vertexIntensityBounds)U=+t.vertexIntensityBounds[0],H=+t.vertexIntensityBounds[1];else for(var i=0;i<F.length;++i){var V=F[i];U=Math.min(U,V),H=Math.max(H,V)}else if(B)if(t.cellIntensityBounds)U=+t.cellIntensityBounds[0],H=+t.cellIntensityBounds[1];else for(i=0;i<B.length;++i){V=B[i];U=Math.min(U,V),H=Math.max(H,V)}else for(i=0;i<n.length;++i){V=n[i][2];U=Math.min(U,V),H=Math.max(H,V)}this.intensity=F||(B||function(t){for(var e=t.length,r=new Array(e),i=0;i<e;++i)r[i]=t[i][2];return r}(n)),this.pickVertex=!(B||I);var Y=t.pointSizes,G=t.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(i=0;i<n.length;++i)for(var p=n[i],W=0;W<3;++W)!isNaN(p[W])&&isFinite(p[W])&&(this.bounds[0][W]=Math.min(this.bounds[0][W],p[W]),this.bounds[1][W]=Math.max(this.bounds[1][W],p[W]));var X=0,Z=0,J=0;t:for(i=0;i<r.length;++i){var Q=r[i];switch(Q.length){case 1:for(p=n[$=Q[0]],W=0;W<3;++W)if(isNaN(p[W])||!isFinite(p[W]))continue t;A.push(p[0],p[1],p[2]),tt=P?P[$]:I?I[i]:N,this.opacityscale&&F?l.push(tt[0],tt[1],tt[2],this.opacity*R((F[$]-U)/(H-U),this.opacityscale)):3===tt.length?T.push(tt[0],tt[1],tt[2],this.opacity):(T.push(tt[0],tt[1],tt[2],tt[3]*this.opacity),tt[3]<1&&(this.hasAlpha=!0)),et=z?z[$]:F?[(F[$]-U)/(H-U),0]:j?j[i]:B?[(B[i]-U)/(H-U),0]:[(p[2]-U)/(H-U),0],k.push(et[0],et[1]),Y?E.push(Y[$]):E.push(G),S.push(i),J+=1;break;case 2:for(W=0;W<2;++W){p=n[$=Q[W]];for(var K=0;K<3;++K)if(isNaN(p[K])||!isFinite(p[K]))continue t}for(W=0;W<2;++W){p=n[$=Q[W]];x.push(p[0],p[1],p[2]),tt=P?P[$]:I?I[i]:N,this.opacityscale&&F?l.push(tt[0],tt[1],tt[2],this.opacity*R((F[$]-U)/(H-U),this.opacityscale)):3===tt.length?_.push(tt[0],tt[1],tt[2],this.opacity):(_.push(tt[0],tt[1],tt[2],tt[3]*this.opacity),tt[3]<1&&(this.hasAlpha=!0)),et=z?z[$]:F?[(F[$]-U)/(H-U),0]:j?j[i]:B?[(B[i]-U)/(H-U),0]:[(p[2]-U)/(H-U),0],w.push(et[0],et[1]),M.push(i)}Z+=1;break;case 3:for(W=0;W<3;++W)for(p=n[$=Q[W]],K=0;K<3;++K)if(isNaN(p[K])||!isFinite(p[K]))continue t;for(W=0;W<3;++W){var $,tt,et,q;p=n[$=Q[2-W]];o.push(p[0],p[1],p[2]),(tt=P?P[$]:I?I[i]:N)?this.opacityscale&&F?l.push(tt[0],tt[1],tt[2],this.opacity*R((F[$]-U)/(H-U),this.opacityscale)):3===tt.length?l.push(tt[0],tt[1],tt[2],this.opacity):(l.push(tt[0],tt[1],tt[2],tt[3]*this.opacity),tt[3]<1&&(this.hasAlpha=!0)):l.push(.5,.5,.5,1),et=z?z[$]:F?[(F[$]-U)/(H-U),0]:j?j[i]:B?[(B[i]-U)/(H-U),0]:[(p[2]-U)/(H-U),0],d.push(et[0],et[1]),q=L?L[$]:C[i],h.push(q[0],q[1],q[2]),y.push(i)}X+=1}}this.pointCount=J,this.edgeCount=Z,this.triangleCount=X,this.pointPositions.update(A),this.pointColors.update(T),this.pointUVs.update(k),this.pointSizes.update(E),this.pointIds.update(new Uint32Array(S)),this.edgePositions.update(x),this.edgeColors.update(_),this.edgeUVs.update(w),this.edgeIds.update(new Uint32Array(M)),this.trianglePositions.update(o),this.triangleColors.update(l),this.triangleUVs.update(d),this.triangleNormals.update(h),this.triangleIds.update(new Uint32Array(y))}},O.drawTransparent=O.draw=function(t){t=t||{};for(var e=this.gl,r=t.model||L,view=t.view||L,n=t.projection||L,o=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],i=0;i<3;++i)o[0][i]=Math.max(o[0][i],this.clipBounds[0][i]),o[1][i]=Math.min(o[1][i],this.clipBounds[1][i]);var l={model:r,view:view,projection:n,inverseModel:L.slice(),clipBounds:o,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};l.inverseModel=d(l.inverseModel,l.model),e.disable(e.CULL_FACE),this.texture.bind(0);var c=new Array(16);h(c,l.view,l.model),h(c,l.projection,c),d(c,c);for(i=0;i<3;++i)l.eyePosition[i]=c[12+i]/c[15];var f,v=c[15];for(i=0;i<3;++i)v+=this.lightPosition[i]*c[4*i+3];for(i=0;i<3;++i){for(var s=c[12+i],m=0;m<3;++m)s+=c[4*m+i]*this.lightPosition[m];l.lightPosition[i]=s/v}this.triangleCount>0&&((f=this.triShader).bind(),f.uniforms=l,this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind());this.edgeCount>0&&this.lineWidth>0&&((f=this.lineShader).bind(),f.uniforms=l,this.edgeVAO.bind(),e.lineWidth(this.lineWidth*this.pixelRatio),e.drawArrays(e.LINES,0,2*this.edgeCount),this.edgeVAO.unbind());this.pointCount>0&&((f=this.pointShader).bind(),f.uniforms=l,this.pointVAO.bind(),e.drawArrays(e.POINTS,0,this.pointCount),this.pointVAO.unbind());this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((f=this.contourShader).bind(),f.uniforms=l,this.contourVAO.bind(),e.drawArrays(e.LINES,0,this.contourCount),this.contourVAO.unbind())},O.drawPick=function(t){t=t||{};for(var e=this.gl,r=t.model||L,view=t.view||L,n=t.projection||L,o=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],i=0;i<3;++i)o[0][i]=Math.max(o[0][i],this.clipBounds[0][i]),o[1][i]=Math.min(o[1][i],this.clipBounds[1][i]);this._model=[].slice.call(r),this._view=[].slice.call(view),this._projection=[].slice.call(n),this._resolution=[e.drawingBufferWidth,e.drawingBufferHeight];var l,c={model:r,view:view,projection:n,clipBounds:o,pickId:this.pickId/255};((l=this.pickShader).bind(),l.uniforms=c,this.triangleCount>0&&(this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),e.lineWidth(this.lineWidth*this.pixelRatio),e.drawArrays(e.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0)&&((l=this.pointPickShader).bind(),l.uniforms=c,this.pointVAO.bind(),e.drawArrays(e.POINTS,0,this.pointCount),this.pointVAO.unbind())},O.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;for(var e=t.value[0]+256*t.value[1]+65536*t.value[2],r=this.cells[e],n=this.positions,o=new Array(r.length),i=0;i<r.length;++i)o[i]=n[r[i]];var l=t.coord[0],c=t.coord[1];if(!this.pickVertex){var f=this.positions[r[0]],h=this.positions[r[1]],d=this.positions[r[2]],v=[(f[0]+h[0]+d[0])/3,(f[1]+h[1]+d[1])/3,(f[2]+h[2]+d[2])/3];return{_cellCenter:!0,position:[l,c],index:e,cell:r,cellId:e,intensity:this.intensity[e],dataCoordinate:v}}var data=w(o,[l*this.pixelRatio,this._resolution[1]-c*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!data)return null;var m=data[2],y=0;for(i=0;i<r.length;++i)y+=m[i]*this.intensity[r[i]];return{position:data[1],index:r[data[0]],cell:r,cellId:e,intensity:y,dataCoordinate:this.positions[r[data[0]]]}},O.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},t.exports=function(t,e){1===arguments.length&&(t=(e=t).gl);var r=t.getExtension("OES_standard_derivatives")||t.getExtension("MOZ_OES_standard_derivatives")||t.getExtension("WEBKIT_OES_standard_derivatives");if(!r)throw new Error("derivatives not supported");var n=D(t),f=P(t),h=I(t),d=N(t),m=z(t),y=F(t),x=c(t,v(new Uint8Array([255,255,255,255]),[1,1,4]));x.generateMipmap(),x.minFilter=t.LINEAR_MIPMAP_LINEAR,x.magFilter=t.LINEAR;var _=o(t),w=o(t),M=o(t),A=o(t),T=o(t),k=l(t,[{buffer:_,type:t.FLOAT,size:3},{buffer:T,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:w,type:t.FLOAT,size:4},{buffer:M,type:t.FLOAT,size:2},{buffer:A,type:t.FLOAT,size:3}]),E=o(t),S=o(t),L=o(t),O=o(t),R=l(t,[{buffer:E,type:t.FLOAT,size:3},{buffer:O,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:S,type:t.FLOAT,size:4},{buffer:L,type:t.FLOAT,size:2}]),j=o(t),B=o(t),U=o(t),H=o(t),V=o(t),Y=l(t,[{buffer:j,type:t.FLOAT,size:3},{buffer:V,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:B,type:t.FLOAT,size:4},{buffer:U,type:t.FLOAT,size:2},{buffer:H,type:t.FLOAT,size:1}]),G=o(t),W=l(t,[{buffer:G,type:t.FLOAT,size:3}]),X=new C(t,x,n,f,h,d,m,y,_,T,w,M,A,k,E,O,S,L,R,j,V,B,U,H,Y,G,W);return X.update(e),X}},function(t,e,r){"use strict";t.exports=function(t,e){for(var r={},i=0;i<t.length;++i)for(var n=t[i].name.split("."),o=r,l=0;l<n.length;++l){var c=n[l].split("[");if(c.length>1){c[0]in o||(o[c[0]]=[]),o=o[c[0]];for(var f=1;f<c.length;++f){var h=parseInt(c[f]);f<c.length-1||l<n.length-1?(h in o||(f<c.length-1?o[h]=[]:o[h]={}),o=o[h]):o[h]=e?i:t[i].type}}else l<n.length-1?(c[0]in o||(o[c[0]]={}),o=o[c[0]]):o[c[0]]=e?i:t[i].type}return r}},function(t,e){t.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},function(t,e){t.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},function(t,e,r){"use strict";(function(t){var n=r(919),o=r(920),l=r(921);function c(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(t,e){if(c()<e)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=h.prototype:(null===t&&(t=new h(e)),t.length=e),t}function h(t,e,r){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return m(this,t)}return d(this,t,e,r)}function d(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);h.TYPED_ARRAY_SUPPORT?(t=e).__proto__=h.prototype:t=y(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!h.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|_(e,r),o=(t=f(t,n)).write(e,r);o!==n&&(t=t.slice(0,o));return t}(t,e,r):function(t,e){if(h.isBuffer(e)){var r=0|x(e.length);return 0===(t=f(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?f(t,0):y(t,e);if("Buffer"===e.type&&l(e.data))return y(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function v(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function m(t,e){if(v(e),t=f(t,e<0?0:0|x(e)),!h.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function y(t,e){var r=e.length<0?0:0|x(e.length);t=f(t,r);for(var i=0;i<r;i+=1)t[i]=255&e[i];return t}function x(t){if(t>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return 0|t}function _(t,e){if(h.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return X(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(t).length;default:if(n)return X(t).length;e=(""+e).toLowerCase(),n=!0}}function w(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return N(this,e,r);case"utf8":case"utf-8":return D(this,e,r);case"ascii":return P(this,e,r);case"latin1":case"binary":return I(this,e,r);case"base64":return R(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function M(b,t,e){var i=b[t];b[t]=b[e],b[e]=i}function A(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=h.from(e,n)),h.isBuffer(e))return 0===e.length?-1:T(t,e,r,n,o);if("number"==typeof e)return e&=255,h.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):T(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function T(t,e,r,n,o){var i,l=1,c=t.length,f=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;l=2,c/=2,f/=2,r/=2}function h(t,i){return 1===l?t[i]:t.readUInt16BE(i*l)}if(o){var d=-1;for(i=r;i<c;i++)if(h(t,i)===h(e,-1===d?0:i-d)){if(-1===d&&(d=i),i-d+1===f)return d*l}else-1!==d&&(i-=i-d),d=-1}else for(r+f>c&&(r=c-f),i=r;i>=0;i--){for(var v=!0,m=0;m<f;m++)if(h(t,i+m)!==h(e,m)){v=!1;break}if(v)return i}return-1}function k(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var l=e.length;if(l%2!=0)throw new TypeError("Invalid hex string");n>l/2&&(n=l/2);for(var i=0;i<n;++i){var c=parseInt(e.substr(2*i,2),16);if(isNaN(c))return i;t[r+i]=c}return i}function E(t,e,r,n){return J(X(e,t.length-r),t,r,n)}function S(t,e,r,n){return J(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,r,n)}function L(t,e,r,n){return S(t,e,r,n)}function C(t,e,r,n){return J(Z(e),t,r,n)}function O(t,e,r,n){return J(function(t,e){for(var r,n,o,l=[],i=0;i<t.length&&!((e-=2)<0);++i)r=t.charCodeAt(i),n=r>>8,o=r%256,l.push(o),l.push(n);return l}(e,t.length-r),t,r,n)}function R(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function D(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,l,c,f,h=t[i],d=null,v=h>239?4:h>223?3:h>191?2:1;if(i+v<=r)switch(v){case 1:h<128&&(d=h);break;case 2:128==(192&(o=t[i+1]))&&(f=(31&h)<<6|63&o)>127&&(d=f);break;case 3:o=t[i+1],l=t[i+2],128==(192&o)&&128==(192&l)&&(f=(15&h)<<12|(63&o)<<6|63&l)>2047&&(f<55296||f>57343)&&(d=f);break;case 4:o=t[i+1],l=t[i+2],c=t[i+3],128==(192&o)&&128==(192&l)&&128==(192&c)&&(f=(15&h)<<18|(63&o)<<12|(63&l)<<6|63&c)>65535&&f<1114112&&(d=f)}null===d?(d=65533,v=1):d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|1023&d),n.push(d),i+=v}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=4096));return r}(n)}e.Buffer=h,e.SlowBuffer=function(t){+t!=t&&(t=0);return h.alloc(+t)},e.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=c(),h.poolSize=8192,h._augment=function(t){return t.__proto__=h.prototype,t},h.from=function(t,e,r){return d(null,t,e,r)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(t,e,r){return function(t,e,r,n){return v(e),e<=0?f(t,e):void 0!==r?"string"==typeof n?f(t,e).fill(r,n):f(t,e).fill(r):f(t,e)}(null,t,e,r)},h.allocUnsafe=function(t){return m(null,t)},h.allocUnsafeSlow=function(t){return m(null,t)},h.isBuffer=function(b){return!(null==b||!b._isBuffer)},h.compare=function(a,b){if(!h.isBuffer(a)||!h.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var t=a.length,e=b.length,i=0,r=Math.min(t,e);i<r;++i)if(a[i]!==b[i]){t=a[i],e=b[i];break}return t<e?-1:e<t?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!l(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var r=h.allocUnsafe(e),n=0;for(i=0;i<t.length;++i){var o=t[i];if(!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,n),n+=o.length}return r},h.byteLength=_,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<t;i+=2)M(this,i,i+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<t;i+=4)M(this,i,i+3),M(this,i+1,i+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<t;i+=8)M(this,i,i+7),M(this,i+1,i+6),M(this,i+2,i+5),M(this,i+3,i+4);return this},h.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?D(this,0,t):w.apply(this,arguments)},h.prototype.equals=function(b){if(!h.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===h.compare(this,b)},h.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},h.prototype.compare=function(t,e,r,n,o){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var l=(o>>>=0)-(n>>>=0),c=(r>>>=0)-(e>>>=0),f=Math.min(l,c),d=this.slice(n,o),v=t.slice(e,r),i=0;i<f;++i)if(d[i]!==v[i]){l=d[i],c=v[i];break}return l<c?-1:c<l?1:0},h.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},h.prototype.indexOf=function(t,e,r){return A(this,t,e,r,!0)},h.prototype.lastIndexOf=function(t,e,r){return A(this,t,e,r,!1)},h.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var l=!1;;)switch(n){case"hex":return k(this,t,e,r);case"utf8":case"utf-8":return E(this,t,e,r);case"ascii":return S(this,t,e,r);case"latin1":case"binary":return L(this,t,e,r);case"base64":return C(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,e,r);default:if(l)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),l=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function I(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function N(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=W(t[i]);return o}function z(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function F(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,r,n,o,l){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<l)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function B(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function U(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function H(t,e,r,n,o,l){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function V(t,e,r,n,l){return l||H(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function Y(t,e,r,n,l){return l||H(t,0,r,8),o.write(t,e,r,n,52,8),r+8}h.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),h.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=h.prototype;else{var o=e-t;r=new h(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},h.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||F(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},h.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||F(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},h.prototype.readUInt8=function(t,e){return e||F(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return e||F(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return e||F(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUInt32BE=function(t,e){return e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||F(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},h.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||F(t,e,this.length);for(var i=e,n=1,o=this[t+--i];i>0&&(n*=256);)o+=this[t+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*e)),o},h.prototype.readInt8=function(t,e){return e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){e||F(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt16BE=function(t,e){e||F(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt32LE=function(t,e){return e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return e||F(t,4,this.length),o.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return e||F(t,4,this.length),o.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return e||F(t,8,this.length),o.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return e||F(t,8,this.length),o.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||j(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},h.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||j(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},h.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,1,255,0),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},h.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},h.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):U(this,t,e,!0),e+4},h.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},h.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);j(this,t,e,r,o-1,-o)}var i=0,l=1,sub=0;for(this[e]=255&t;++i<r&&(l*=256);)t<0&&0===sub&&0!==this[e+i-1]&&(sub=1),this[e+i]=(t/l>>0)-sub&255;return e+r},h.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);j(this,t,e,r,o-1,-o)}var i=r-1,l=1,sub=0;for(this[e+i]=255&t;--i>=0&&(l*=256);)t<0&&0===sub&&0!==this[e+i+1]&&(sub=1),this[e+i]=(t/l>>0)-sub&255;return e+r},h.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,1,127,-128),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},h.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},h.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):U(this,t,e,!0),e+4},h.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},h.prototype.writeFloatLE=function(t,e,r){return V(this,t,e,!0,r)},h.prototype.writeFloatBE=function(t,e,r){return V(this,t,e,!1,r)},h.prototype.writeDoubleLE=function(t,e,r){return Y(this,t,e,!0,r)},h.prototype.writeDoubleBE=function(t,e,r){return Y(this,t,e,!1,r)},h.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!h.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},h.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var code=t.charCodeAt(0);code<256&&(t=code)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var o=h.isBuffer(t)?t:X(new h(t,n).toString()),l=o.length;for(i=0;i<r-e;++i)this[i+e]=o[i%l]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function W(t){return t<16?"0"+t.toString(16):t.toString(16)}function X(t,e){var r;e=e||1/0;for(var n=t.length,o=null,l=[],i=0;i<n;++i){if((r=t.charCodeAt(i))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&l.push(239,191,189);continue}if(i+1===n){(e-=3)>-1&&l.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&l.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&l.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;l.push(r)}else if(r<2048){if((e-=2)<0)break;l.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;l.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;l.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return l}function Z(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(G,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function J(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(75))},function(t,e,r){"use strict";t.exports=function(t,e,r){e?e.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var n=0|t.getParameter(t.MAX_VERTEX_ATTRIBS);if(r){if(r.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<r.length;++i){var o=r[i];if(o.buffer){var l=o.buffer,c=o.size||4,f=o.type||t.FLOAT,h=!!o.normalized,d=o.stride||0,v=o.offset||0;l.bind(),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,c,f,h,d,v)}else{if("number"==typeof o)t.vertexAttrib1f(i,o);else if(1===o.length)t.vertexAttrib1f(i,o[0]);else if(2===o.length)t.vertexAttrib2f(i,o[0],o[1]);else if(3===o.length)t.vertexAttrib3f(i,o[0],o[1],o[2]);else{if(4!==o.length)throw new Error("gl-vao: Invalid vertex attribute");t.vertexAttrib4f(i,o[0],o[1],o[2],o[3])}t.disableVertexAttribArray(i)}}for(;i<n;++i)t.disableVertexAttribArray(i)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(i=0;i<n;++i)t.disableVertexAttribArray(i)}}},function(t,e,r){"use strict";var n=r(929),o=r(930);function l(t){return[t[0]/255,t[1]/255,t[2]/255,t[3]]}function c(t){for(var e,r="#",i=0;i<3;++i)r+=("00"+(e=(e=t[i]).toString(16))).substr(e.length);return r}function f(t){return"rgba("+t.join(",")+")"}t.exports=function(t){var e,r,h,d,v,m,y,x,_,i;t||(t={});x=(t.nshades||72)-1,y=t.format||"hex",(m=t.colormap)||(m="jet");if("string"==typeof m){if(m=m.toLowerCase(),!n[m])throw Error(m+" not a supported colorscale");v=n[m]}else{if(!Array.isArray(m))throw Error("unsupported colormap option",m);v=m.slice()}if(v.length>x+1)throw new Error(m+" map requires nshades to be at least size "+v.length);_=Array.isArray(t.alpha)?2!==t.alpha.length?[1,1]:t.alpha.slice():"number"==typeof t.alpha?[t.alpha,t.alpha]:[1,1];e=v.map((function(t){return Math.round(t.index*x)})),_[0]=Math.min(Math.max(_[0],0),1),_[1]=Math.min(Math.max(_[1],0),1);var w=v.map((function(t,i){var e=v[i].index,r=v[i].rgb.slice();return 4===r.length&&r[3]>=0&&r[3]<=1||(r[3]=_[0]+(_[1]-_[0])*e),r})),M=[];for(i=0;i<e.length-1;++i){d=e[i+1]-e[i],r=w[i],h=w[i+1];for(var A=0;A<d;A++){var T=A/d;M.push([Math.round(o(r[0],h[0],T)),Math.round(o(r[1],h[1],T)),Math.round(o(r[2],h[2],T)),o(r[3],h[3],T)])}}M.push(v[v.length-1].rgb.concat(_[1])),"hex"===y?M=M.map(c):"rgbaString"===y?M=M.map(f):"float"===y&&(M=M.map(l));return M}},function(t,e,r){"use strict";var n=r(936),o=r(937),l=r(939);t.exports=function(t){var e=t.length;if(0===e)return[];if(1===e)return[[0]];var r=t[0].length;if(0===r)return[];if(1===r)return n(t);if(2===r)return o(t);return l(t,r)}},function(t,e,r){"use strict";t.exports=function(a,b,t){var e=a+b,r=e-a,br=b-r,n=a-(e-r);if(t)return t[0]=n+br,t[1]=e,t;return[n+br,e]}},function(t,e,r){"use strict";t.exports=function(t,e){var r=0|t.length,n=0|e.length;if(1===r&&1===n)return function(a,b){var t=a+b,e=t-a,r=a-(t-e)+(b-e);if(r)return[r,t];return[t]}(t[0],-e[0]);var a,b,g=new Array(r+n),o=0,l=0,c=0,f=Math.abs,h=t[l],d=f(h),v=-e[c],m=f(v);d<m?(b=h,(l+=1)<r&&(h=t[l],d=f(h))):(b=v,(c+=1)<n&&(v=-e[c],m=f(v)));l<r&&d<m||c>=n?(a=h,(l+=1)<r&&(h=t[l],d=f(h))):(a=v,(c+=1)<n&&(v=-e[c],m=f(v)));var y,x,_=a+b,w=_-a,M=b-w,A=M,T=_;for(;l<r&&c<n;)d<m?(a=h,(l+=1)<r&&(h=t[l],d=f(h))):(a=v,(c+=1)<n&&(v=-e[c],m=f(v))),(M=(b=A)-(w=(_=a+b)-a))&&(g[o++]=M),A=T-((y=T+_)-(x=y-T))+(_-x),T=y;for(;l<r;)(M=(b=A)-(w=(_=(a=h)+b)-a))&&(g[o++]=M),A=T-((y=T+_)-(x=y-T))+(_-x),T=y,(l+=1)<r&&(h=t[l]);for(;c<n;)(M=(b=A)-(w=(_=(a=v)+b)-a))&&(g[o++]=M),A=T-((y=T+_)-(x=y-T))+(_-x),T=y,(c+=1)<n&&(v=-e[c]);A&&(g[o++]=A);T&&(g[o++]=T);o||(g[o++]=0);return g.length=o,g}},function(t,e,r){"use strict";t.exports=function(t,e){var r=t.length;if(0===r)throw new Error("Must have at least d+1 points");var o=t[0].length;if(r<=o)throw new Error("Must input at least d+1 points");var c=t.slice(0,o+1),f=n.apply(void 0,c);if(0===f)throw new Error("Input not in general position");for(var h=new Array(o+1),i=0;i<=o;++i)h[i]=i;f<0&&(h[0]=1,h[1]=0);var v=new l(h,new Array(o+1),!1),m=v.adjacent,y=new Array(o+2);for(i=0;i<=o;++i){for(var x=h.slice(),_=0;_<=o;++_)_===i&&(x[_]=-1);var w=x[0];x[0]=x[1],x[1]=w;var M=new l(x,new Array(o+1),!0);m[i]=M,y[i]=M}y[o+1]=v;for(i=0;i<=o;++i){x=m[i].vertices;var A=m[i].adjacent;for(_=0;_<=o;++_){var T=x[_];if(T<0)A[_]=v;else for(var k=0;k<=o;++k)m[k].vertices.indexOf(T)<0&&(A[_]=m[k])}}var E=new d(o,c,y),S=!!e;for(i=o+1;i<r;++i)E.insert(t[i],S);return E.boundary()};var n=r(448),o=r(940).compareCells;function l(t,e,r){this.vertices=t,this.adjacent=e,this.boundary=r,this.lastVisited=-1}function c(t,e,r){this.vertices=t,this.cell=e,this.index=r}function f(a,b){return o(a.vertices,b.vertices)}l.prototype.flip=function(){var t=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=t;var u=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=u};var h=[];function d(t,e,r){this.dimension=t,this.vertices=e,this.simplices=r,this.interior=r.filter((function(t){return!t.boundary})),this.tuple=new Array(t+1);for(var i=0;i<=t;++i)this.tuple[i]=this.vertices[i];var o=h[t];o||(o=h[t]=function(t){for(var code=["function orient(){var tuple=this.tuple;return test("],i=0;i<=t;++i)i>0&&code.push(","),code.push("tuple[",i,"]");code.push(")}return orient");var e=new Function("test",code.join("")),r=n[t+1];return r||(r=n),e(r)}(t)),this.orient=o}var v=d.prototype;v.handleBoundaryDegeneracy=function(t,e){var r=this.dimension,n=this.vertices.length-1,o=this.tuple,l=this.vertices,c=[t];for(t.lastVisited=-n;c.length>0;){(t=c.pop()).vertices;for(var f=t.adjacent,i=0;i<=r;++i){var h=f[i];if(h.boundary&&!(h.lastVisited<=-n)){for(var d=h.vertices,v=0;v<=r;++v){var m=d[v];o[v]=m<0?e:l[m]}var y=this.orient();if(y>0)return h;h.lastVisited=-n,0===y&&c.push(h)}}}return null},v.walk=function(t,e){var r=this.vertices.length-1,n=this.dimension,o=this.vertices,l=this.tuple,c=e?this.interior.length*Math.random()|0:this.interior.length-1,f=this.interior[c];t:for(;!f.boundary;){for(var h=f.vertices,d=f.adjacent,i=0;i<=n;++i)l[i]=o[h[i]];f.lastVisited=r;for(i=0;i<=n;++i){var v=d[i];if(!(v.lastVisited>=r)){var m=l[i];l[i]=t;var y=this.orient();if(l[i]=m,y<0){f=v;continue t}v.boundary?v.lastVisited=-r:v.lastVisited=r}}return}return f},v.addPeaks=function(t,e){var r=this.vertices.length-1,n=this.dimension,o=this.vertices,h=this.tuple,d=this.interior,v=this.simplices,m=[e];e.lastVisited=r,e.vertices[e.vertices.indexOf(-1)]=r,e.boundary=!1,d.push(e);for(var y=[];m.length>0;){var x=(e=m.pop()).vertices,_=e.adjacent,w=x.indexOf(r);if(!(w<0))for(var i=0;i<=n;++i)if(i!==w){var M=_[i];if(M.boundary&&!(M.lastVisited>=r)){var A=M.vertices;if(M.lastVisited!==-r){for(var T=0,k=0;k<=n;++k)A[k]<0?(T=k,h[k]=t):h[k]=o[A[k]];if(this.orient()>0){A[T]=r,M.boundary=!1,d.push(M),m.push(M),M.lastVisited=r;continue}M.lastVisited=-r}var E=M.adjacent,S=x.slice(),L=_.slice(),C=new l(S,L,!0);v.push(C);var O=E.indexOf(e);if(!(O<0)){E[O]=C,L[w]=M,S[i]=-1,L[i]=e,_[i]=C,C.flip();for(k=0;k<=n;++k){var R=S[k];if(!(R<0||R===r)){for(var D=new Array(n-1),P=0,I=0;I<=n;++I){var N=S[I];N<0||I===k||(D[P++]=N)}y.push(new c(D,C,k))}}}}}}y.sort(f);for(i=0;i+1<y.length;i+=2){var a=y[i],b=y[i+1],z=a.index,F=b.index;z<0||F<0||(a.cell.adjacent[a.index]=b.cell,b.cell.adjacent[b.index]=a.cell)}},v.insert=function(t,e){var r=this.vertices;r.push(t);var n=this.walk(t,e);if(n){for(var o=this.dimension,l=this.tuple,i=0;i<=o;++i){var c=n.vertices[i];l[i]=c<0?t:r[c]}var f=this.orient(l);f<0||(0!==f||(n=this.handleBoundaryDegeneracy(n,t)))&&this.addPeaks(t,n)}},v.boundary=function(){for(var t=this.dimension,e=[],r=this.simplices,n=r.length,i=0;i<n;++i){var o=r[i];if(o.boundary){for(var l=new Array(t),c=o.vertices,f=0,h=0,d=0;d<=t;++d)c[d]>=0?l[f++]=c[d]:h=1&d;if(h===(1&t)){var v=l[0];l[0]=l[1],l[1]=v}e.push(l)}}return e}},function(t,e,r){"use strict";function n(t){this.roots=new Array(t),this.ranks=new Array(t);for(var i=0;i<t;++i)this.roots[i]=i,this.ranks[i]=0}t.exports=n;var o=n.prototype;Object.defineProperty(o,"length",{get:function(){return this.roots.length}}),o.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},o.find=function(t){for(var e=t,r=this.roots;r[t]!==t;)t=r[t];for(;r[e]!==t;){var n=r[e];r[e]=t,e=n}return t},o.link=function(t,e){var r=this.find(t),n=this.find(e);if(r!==n){var o=this.ranks,l=this.roots,c=o[r],f=o[n];c<f?l[r]=n:f<c?l[n]=r:(l[n]=r,++o[r])}}},function(t,e,r){"use strict";var n=r(945);function o(t){for(var e="robustLinearSolve"+t+"d",code=["function ",e,"(A,b){return ["],i=0;i<t;++i){code.push("det([");for(var r=0;r<t;++r){r>0&&code.push(","),code.push("[");for(var o=0;o<t;++o)o>0&&code.push(","),o===i?code.push("+b[",r,"]"):code.push("+A[",r,"][",o,"]");code.push("]")}code.push("]),")}code.push("det(A)]}return ",e);var l=new Function("det",code.join(""));return l(t<6?n[t]:n)}var l=[function(){return[0]},function(t,b){return[[b[0]],[t[0][0]]]}];!function(){for(;l.length<6;)l.push(o(l.length));for(var e=[],code=["function dispatchLinearSolve(A,b){switch(A.length){"],i=0;i<6;++i)e.push("s"+i),code.push("case ",i,":return s",i,"(A,b);");code.push("}var s=CACHE[A.length];if(!s)s=CACHE[A.length]=g(A.length);return s(A,b)}return dispatchLinearSolve"),e.push("CACHE","g",code.join(""));var r=Function.apply(void 0,e);for(t.exports=r.apply(void 0,l.concat([l,o])),i=0;i<6;++i)t.exports[i]=l[i]}()},function(t,e){t.exports=function(a,b){var t=a.length,e=a.length-b.length;if(e)return e;switch(t){case 0:return 0;case 1:return a[0]-b[0];case 2:return a[0]+a[1]-b[0]-b[1]||r(a[0],a[1])-r(b[0],b[1]);case 3:var o=a[0]+a[1],l=b[0]+b[1];if(e=o+a[2]-(l+b[2]))return e;var c=r(a[0],a[1]),f=r(b[0],b[1]);return r(c,a[2])-r(f,b[2])||r(c+a[2],o)-r(f+b[2],l);case 4:var h=a[0],d=a[1],v=a[2],m=a[3],y=b[0],x=b[1],_=b[2],w=b[3];return h+d+v+m-(y+x+_+w)||r(h,d,v,m)-r(y,x,_,w,y)||r(h+d,h+v,h+m,d+v,d+m,v+m)-r(y+x,y+_,y+w,x+_,x+w,_+w)||r(h+d+v,h+d+m,h+v+m,d+v+m)-r(y+x+_,y+x+w,y+_+w,x+_+w);default:for(var M=a.slice().sort(n),A=b.slice().sort(n),i=0;i<t;++i)if(e=M[i]-A[i])return e;return 0}};var r=Math.min;function n(a,b){return a-b}},function(t,e,r){"use strict";t.exports=function(s){for(var p=1,i=1;i<s.length;++i)for(var t=0;t<i;++t)if(s[i]<s[t])p=-p;else if(s[t]===s[i])return 0;return p}},function(t,e,r){"use strict";var n=r(956),o=r(689),l=r(963);t.exports=function(t,e){"float"!==e&&e||(e="array"),"uint"===e&&(e="uint8"),"uint_clamped"===e&&(e="uint8_clamped");var output=new(l(e))(4),r="uint8"!==e&&"uint8_clamped"!==e;return t.length&&"string"!=typeof t||((t=n(t))[0]/=255,t[1]/=255,t[2]/=255),function(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||!!(Array.isArray(t)&&(t[0]>1||0===t[0])&&(t[1]>1||0===t[1])&&(t[2]>1||0===t[2])&&(!t[3]||t[3]>1))}(t)?(output[0]=t[0],output[1]=t[1],output[2]=t[2],output[3]=null!=t[3]?t[3]:255,r&&(output[0]/=255,output[1]/=255,output[2]/=255,output[3]/=255),output):(r?(output[0]=t[0],output[1]=t[1],output[2]=t[2],output[3]=null!=t[3]?t[3]:1):(output[0]=o(Math.floor(255*t[0]),0,255),output[1]=o(Math.floor(255*t[1]),0,255),output[2]=o(Math.floor(255*t[2]),0,255),output[3]=null==t[3]?255:o(Math.floor(255*t[3]),0,255)),output)}},function(t,e){t.exports=function(t,e,r){return e<r?t<e?e:t>r?r:t:t<r?r:t>e?e:t}},function(t,e,r){"use strict";t.exports=function(t,e,r){switch(arguments.length){case 0:return new c([0],[0],0);case 1:return"number"==typeof t?new c(n=h(t),n,0):new c(t,h(t.length),0);case 2:if("number"==typeof e){var n=h(t.length);return new c(t,n,+e)}r=0;case 3:if(t.length!==e.length)throw new Error("state and velocity lengths must match");return new c(t,e,r)}};var n=r(971),o=r(972);function l(t,e,r){return Math.min(e,Math.max(t,r))}function c(t,e,r){this.dimension=t.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var i=0;i<this.dimension;++i)this.bounds[0][i]=-1/0,this.bounds[1][i]=1/0;this._state=t.slice().reverse(),this._velocity=e.slice().reverse(),this._time=[r],this._scratch=[t.slice(),t.slice(),t.slice(),t.slice(),t.slice()]}var f=c.prototype;function h(t){for(var e=new Array(t),i=0;i<t;++i)e[i]=0;return e}f.flush=function(t){var e=o.gt(this._time,t)-1;e<=0||(this._time.splice(0,e),this._state.splice(0,e*this.dimension),this._velocity.splice(0,e*this.dimension))},f.curve=function(t){var time=this._time,e=time.length,r=o.le(time,t),c=this._scratch[0],f=this._state,h=this._velocity,d=this.dimension,v=this.bounds;if(r<0)for(var m=d-1,i=0;i<d;++i,--m)c[i]=f[m];else if(r>=e-1){m=f.length-1;var y=t-time[e-1];for(i=0;i<d;++i,--m)c[i]=f[m]+y*h[m]}else{m=d*(r+1)-1;var x=time[r],dt=time[r+1]-x||1,_=this._scratch[1],w=this._scratch[2],M=this._scratch[3],A=this._scratch[4],T=!0;for(i=0;i<d;++i,--m)_[i]=f[m],M[i]=h[m]*dt,w[i]=f[m+d],A[i]=h[m+d]*dt,T=T&&_[i]===w[i]&&M[i]===A[i]&&0===M[i];if(T)for(i=0;i<d;++i)c[i]=_[i];else n(_,M,w,A,(t-x)/dt,c)}var k=v[0],E=v[1];for(i=0;i<d;++i)c[i]=l(k[i],E[i],c[i]);return c},f.dcurve=function(t){var time=this._time,e=time.length,r=o.le(time,t),l=this._scratch[0],c=this._state,f=this._velocity,h=this.dimension;if(r>=e-1)for(var d=c.length-1,i=(time[e-1],0);i<h;++i,--d)l[i]=f[d];else{d=h*(r+1)-1;var v=time[r],dt=time[r+1]-v||1,m=this._scratch[1],y=this._scratch[2],x=this._scratch[3],_=this._scratch[4],w=!0;for(i=0;i<h;++i,--d)m[i]=c[d],x[i]=f[d]*dt,y[i]=c[d+h],_[i]=f[d+h]*dt,w=w&&m[i]===y[i]&&x[i]===_[i]&&0===x[i];if(w)for(i=0;i<h;++i)l[i]=0;else{n.derivative(m,x,y,_,(t-v)/dt,l);for(i=0;i<h;++i)l[i]/=dt}}return l},f.lastT=function(){var time=this._time;return time[time.length-1]},f.stable=function(){for(var t=this._velocity,e=t.length,i=this.dimension-1;i>=0;--i)if(t[--e])return!1;return!0},f.jump=function(t){var e=this.lastT(),r=this.dimension;if(!(t<e||arguments.length!==r+1)){var n=this._state,o=this._velocity,c=n.length-this.dimension,f=this.bounds,h=f[0],d=f[1];this._time.push(e,t);for(var v=0;v<2;++v)for(var i=0;i<r;++i)n.push(n[c++]),o.push(0);this._time.push(t);for(i=r;i>0;--i)n.push(l(h[i-1],d[i-1],arguments[i])),o.push(0)}},f.push=function(t){var e=this.lastT(),r=this.dimension;if(!(t<e||arguments.length!==r+1)){var n=this._state,o=this._velocity,c=n.length-this.dimension,dt=t-e,f=this.bounds,h=f[0],d=f[1],v=dt>1e-6?1/dt:0;this._time.push(t);for(var i=r;i>0;--i){var m=l(h[i-1],d[i-1],arguments[i]);n.push(m),o.push((m-n[c++])*v)}}},f.set=function(t){var e=this.dimension;if(!(t<this.lastT()||arguments.length!==e+1)){var r=this._state,n=this._velocity,o=this.bounds,c=o[0],f=o[1];this._time.push(t);for(var i=e;i>0;--i)r.push(l(c[i-1],f[i-1],arguments[i])),n.push(0)}},f.move=function(t){var e=this.lastT(),r=this.dimension;if(!(t<=e||arguments.length!==r+1)){var n=this._state,o=this._velocity,c=n.length-this.dimension,f=this.bounds,h=f[0],d=f[1],dt=t-e,v=dt>1e-6?1/dt:0;this._time.push(t);for(var i=r;i>0;--i){var m=arguments[i];n.push(l(h[i-1],d[i-1],n[c++]+m)),o.push(m*v)}}},f.idle=function(t){var e=this.lastT();if(!(t<e)){var r=this.dimension,n=this._state,o=this._velocity,c=n.length-r,f=this.bounds,h=f[0],d=f[1],dt=t-e;this._time.push(t);for(var i=r-1;i>=0;--i)n.push(l(h[i],d[i],n[c]+dt*o[c])),o.push(0),c+=1}}},function(t,e){t.exports=function(t,a,b){var e=a[0],r=a[1],n=a[2],o=b[0],l=b[1],c=b[2];return t[0]=r*c-n*l,t[1]=n*o-e*c,t[2]=e*l-r*o,t}},function(t,e){t.exports=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}},function(t,e,r){"use strict";t.exports=function(element,t){t||(t=element,element=window);var e=0,r=0,o=0,l={shift:!1,alt:!1,control:!1,meta:!1},c=!1;function f(t){var e=!1;return"altKey"in t&&(e=e||t.altKey!==l.alt,l.alt=!!t.altKey),"shiftKey"in t&&(e=e||t.shiftKey!==l.shift,l.shift=!!t.shiftKey),"ctrlKey"in t&&(e=e||t.ctrlKey!==l.control,l.control=!!t.ctrlKey),"metaKey"in t&&(e=e||t.metaKey!==l.meta,l.meta=!!t.metaKey),e}function h(c,h){var d=n.x(h),v=n.y(h);"buttons"in h&&(c=0|h.buttons),(c!==e||d!==r||v!==o||f(h))&&(e=0|c,r=d||0,o=v||0,t&&t(e,r,o,l))}function d(t){h(0,t)}function v(){(e||r||o||l.shift||l.alt||l.meta||l.control)&&(r=o=0,e=0,l.shift=l.alt=l.control=l.meta=!1,t&&t(0,0,0,l))}function m(n){f(n)&&t&&t(e,r,o,l)}function y(t){0===n.buttons(t)?h(0,t):h(e,t)}function x(t){h(e|n.buttons(t),t)}function _(t){h(e&~n.buttons(t),t)}function w(){c||(c=!0,element.addEventListener("mousemove",y),element.addEventListener("mousedown",x),element.addEventListener("mouseup",_),element.addEventListener("mouseleave",d),element.addEventListener("mouseenter",d),element.addEventListener("mouseout",d),element.addEventListener("mouseover",d),element.addEventListener("blur",v),element.addEventListener("keyup",m),element.addEventListener("keydown",m),element.addEventListener("keypress",m),element!==window&&(window.addEventListener("blur",v),window.addEventListener("keyup",m),window.addEventListener("keydown",m),window.addEventListener("keypress",m)))}w();var M={element:element};return Object.defineProperties(M,{enabled:{get:function(){return c},set:function(t){t?w():function(){if(!c)return;c=!1,element.removeEventListener("mousemove",y),element.removeEventListener("mousedown",x),element.removeEventListener("mouseup",_),element.removeEventListener("mouseleave",d),element.removeEventListener("mouseenter",d),element.removeEventListener("mouseout",d),element.removeEventListener("mouseover",d),element.removeEventListener("blur",v),element.removeEventListener("keyup",m),element.removeEventListener("keydown",m),element.removeEventListener("keypress",m),element!==window&&(window.removeEventListener("blur",v),window.removeEventListener("keyup",m),window.removeEventListener("keydown",m),window.removeEventListener("keypress",m))}()},enumerable:!0},buttons:{get:function(){return e},enumerable:!0},x:{get:function(){return r},enumerable:!0},y:{get:function(){return o},enumerable:!0},mods:{get:function(){return l},enumerable:!0}}),M};var n=r(985)},function(t,e,r){"use strict";t.exports=function(t,e){"object"==typeof e&&null!==e||(e={});return n(t,e.canvas||o,e.context||l,e)};var n=r(991),o=null,l=null;"undefined"!=typeof document&&((o=document.createElement("canvas")).width=8192,o.height=1024,l=o.getContext("2d"))},function(t,e,r){"use strict";t.exports=function(t,e){if(t.dimension<=0)return{positions:[],cells:[]};if(1===t.dimension)return function(t,e){for(var r=l(t,e),n=r.length,o=new Array(n),c=new Array(n),i=0;i<n;++i)o[i]=[r[i]],c[i]=[i];return{positions:o,cells:c}}(t,e);var r=t.order.join()+"-"+t.dtype,f=c[r];e=+e||0;f||(f=c[r]=function(t,e){var r=t.length,code=["'use strict';"],l="surfaceNets"+t.join("_")+"d"+e;code.push("var contour=genContour({","order:[",t.join(),"],","scalarArguments: 3,","phase:function phaseFunc(p,a,b,c) { return (p > c)|0 },"),"generic"===e&&code.push("getters:[0],");for(var c=[],f=[],i=0;i<r;++i)c.push("d"+i),f.push("d"+i);for(i=0;i<1<<r;++i)c.push("v"+i),f.push("v"+i);for(i=0;i<1<<r;++i)c.push("p"+i),f.push("p"+i);c.push("a","b","c"),f.push("a","c"),code.push("vertex:function vertexFunc(",c.join(),"){");var h=[];for(i=0;i<1<<r;++i)h.push("(p"+i+"<<"+i+")");code.push("var m=(",h.join("+"),")|0;if(m===0||m===",(1<<(1<<r))-1,"){return}");var d=[],v=[];1<<(1<<r)<=128?(code.push("switch(m){"),v=code):code.push("switch(m>>>7){");for(i=0;i<1<<(1<<r);++i){if(1<<(1<<r)>128&&i%128==0){d.length>0&&v.push("}}");var m="vExtra"+d.length;code.push("case ",i>>>7,":",m,"(m&0x7f,",f.join(),");break;"),v=["function ",m,"(m,",f.join(),"){switch(m){"],d.push(v)}v.push("case ",127&i,":");for(var y=new Array(r),x=new Array(r),_=new Array(r),w=new Array(r),M=0,A=0;A<r;++A)y[A]=[],x[A]=[],_[A]=0,w[A]=0;for(A=0;A<1<<r;++A)for(var T=0;T<r;++T){var u=A^1<<T;if(!(u>A)&&!(i&1<<u)!=!(i&1<<A)){var k=1;i&1<<u?x[T].push("v"+u+"-v"+A):(x[T].push("v"+A+"-v"+u),k=-k),k<0?(y[T].push("-v"+A+"-v"+u),_[T]+=2):(y[T].push("v"+A+"+v"+u),_[T]-=2),M+=1;for(var E=0;E<r;++E)E!==T&&(u&1<<E?w[E]+=1:w[E]-=1)}}var S=[];for(T=0;T<r;++T)if(0===y[T].length)S.push("d"+T+"-0.5");else{var L="";_[T]<0?L=_[T]+"*c":_[T]>0&&(L="+"+_[T]+"*c");var C=y[T].length/M*.5,O=.5+w[T]/M*.5;S.push("d"+T+"-"+O+"-"+C+"*("+y[T].join("+")+L+")/("+x[T].join("+")+")")}v.push("a.push([",S.join(),"]);","break;")}code.push("}},"),d.length>0&&v.push("}}");var R=[];for(i=0;i<1<<r-1;++i)R.push("v"+i);R.push("c0","c1","p0","p1","a","b","c"),code.push("cell:function cellFunc(",R.join(),"){");var D=o(r-1);code.push("if(p0){b.push(",D.map((function(t){return"["+t.map((function(t){return"v"+t}))+"]"})).join(),")}else{b.push(",D.map((function(t){var e=t.slice();return e.reverse(),"["+e.map((function(t){return"v"+t}))+"]"})).join(),")}}});function ",l,"(array,level){var verts=[],cells=[];contour(array,verts,cells,level);return {positions:verts,cells:cells};} return ",l,";");for(i=0;i<d.length;++i)code.push(d[i].join(""));return new Function("genContour",code.join(""))(n)}(t.order,t.dtype));return f(t,e)};var n=r(992),o=r(993),l=r(998);var c={}},function(t,e,r){"use strict";t.exports={init:function(t){var e=o.nextPow2(t);c.length<e&&(n.free(c),c=n.mallocInt32(e));f.length<e&&(n.free(f),f=n.mallocInt32(e));h.length<e&&(n.free(h),h=n.mallocInt32(e));d.length<e&&(n.free(d),d=n.mallocInt32(e));v.length<e&&(n.free(v),v=n.mallocInt32(e));m.length<e&&(n.free(m),m=n.mallocInt32(e));var r=8*e;y.length<r&&(n.free(y),y=n.mallocDouble(r))},sweepBipartite:function(t,e,r,n,o,v,m,w,M,A){for(var T=0,k=2*t,E=t-1,S=k-1,i=r;i<n;++i){var L=v[i],C=k*i;y[T++]=o[C+E],y[T++]=-(L+1),y[T++]=o[C+S],y[T++]=L}for(i=m;i<w;++i){L=A[i]+(1<<28);var O=k*i;y[T++]=M[O+E],y[T++]=-L,y[T++]=M[O+S],y[T++]=L}var R=T>>>1;l(y,R);var D=0,P=0;for(i=0;i<R;++i){var I=0|y[2*i+1];if(I>=1<<28)x(h,d,P--,I=I-(1<<28)|0);else if(I>=0)x(c,f,D--,I);else if(I<=-(1<<28)){I=-I-(1<<28)|0;for(var N=0;N<D;++N){if(void 0!==(z=e(c[N],I)))return z}_(h,d,P++,I)}else{I=-I-1|0;for(N=0;N<P;++N){var z;if(void 0!==(z=e(I,h[N])))return z}_(c,f,D++,I)}}},sweepComplete:function(t,e,r,n,o,w,M,A,T,k){for(var E=0,S=2*t,L=t-1,C=S-1,i=r;i<n;++i){var O=w[i]+1<<1,R=S*i;y[E++]=o[R+L],y[E++]=-O,y[E++]=o[R+C],y[E++]=O}for(i=M;i<A;++i){O=k[i]+1<<1;var D=S*i;y[E++]=T[D+L],y[E++]=1|-O,y[E++]=T[D+C],y[E++]=1|O}var P=E>>>1;l(y,P);var I=0,N=0,z=0;for(i=0;i<P;++i){var F=0|y[2*i+1],j=1&F;if(i<P-1&&F>>1==y[2*i+3]>>1&&(j=2,i+=1),F<0){for(var B=-(F>>1)-1,U=0;U<z;++U){if(void 0!==(H=e(v[U],B)))return H}if(0!==j)for(U=0;U<I;++U){if(void 0!==(H=e(c[U],B)))return H}if(1!==j)for(U=0;U<N;++U){var H;if(void 0!==(H=e(h[U],B)))return H}0===j?_(c,f,I++,B):1===j?_(h,d,N++,B):2===j&&_(v,m,z++,B)}else{B=(F>>1)-1;0===j?x(c,f,I--,B):1===j?x(h,d,N--,B):2===j&&x(v,m,z--,B)}}},scanBipartite:function(t,e,r,n,o,h,d,v,m,w,M,A){var T=0,k=2*t,E=e,S=e+t,L=1,C=1;n?C=1<<28:L=1<<28;for(var i=o;i<h;++i){var O=i+L,R=k*i;y[T++]=d[R+E],y[T++]=-O,y[T++]=d[R+S],y[T++]=O}for(i=m;i<w;++i){O=i+C;var D=k*i;y[T++]=M[D+E],y[T++]=-O}var P=T>>>1;l(y,P);var I=0;for(i=0;i<P;++i){var N=0|y[2*i+1];if(N<0){var z=!1;if((O=-N)>=1<<28?(z=!n,O-=1<<28):(z=!!n,O-=1),z)_(c,f,I++,O);else{var F=A[O],j=k*O,B=M[j+e+1],U=M[j+e+1+t];t:for(var H=0;H<I;++H){var V=c[H],Y=k*V;if(!(U<d[Y+e+1]||d[Y+e+1+t]<B)){for(var G=e+2;G<t;++G)if(M[j+G+t]<d[Y+G]||d[Y+G+t]<M[j+G])continue t;var W,X=v[V];if(void 0!==(W=n?r(F,X):r(X,F)))return W}}}}else x(c,f,I--,N-L)}},scanComplete:function(t,e,r,n,o,f,h,d,v,m,x){for(var _=0,w=2*t,M=e,A=e+t,i=n;i<o;++i){var T=i+(1<<28),k=w*i;y[_++]=f[k+M],y[_++]=-T,y[_++]=f[k+A],y[_++]=T}for(i=d;i<v;++i){T=i+1;var E=w*i;y[_++]=m[E+M],y[_++]=-T}var S=_>>>1;l(y,S);var L=0;for(i=0;i<S;++i){var C=0|y[2*i+1];if(C<0){if((T=-C)>=1<<28)c[L++]=T-(1<<28);else{var O=x[T-=1],R=w*T,D=m[R+e+1],P=m[R+e+1+t];t:for(var I=0;I<L;++I){var N=c[I],z=h[N];if(z===O)break;var F=w*N;if(!(P<f[F+e+1]||f[F+e+1+t]<D)){for(var j=e+2;j<t;++j)if(m[R+j+t]<f[F+j]||f[F+j+t]<m[R+j])continue t;var B=r(z,O);if(void 0!==B)return B}}}}else{for(T=C-(1<<28),I=L-1;I>=0;--I)if(c[I]===T){for(j=I+1;j<L;++j)c[j-1]=c[j];break}--L}}}};var n=r(439),o=r(465),l=r(1006),c=n.mallocInt32(1024),f=n.mallocInt32(1024),h=n.mallocInt32(1024),d=n.mallocInt32(1024),v=n.mallocInt32(1024),m=n.mallocInt32(1024),y=n.mallocDouble(8192);function x(t,e,r,n){var o=e[n],l=t[r-1];t[o]=l,e[l]=o}function _(t,e,r,n){t[r]=n,e[n]=r}},function(t,e,r){"use strict";t.exports=function(t,e){var r="abcdef".split("").concat(e),n=[];t.indexOf("lo")>=0&&n.push("lo=e[k+n]");t.indexOf("hi")>=0&&n.push("hi=e[k+o]");return r.push("for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m".replace("_",n.join()).replace("$",t)),Function.apply(void 0,r)}},function(t,e,r){"use strict";r(518);t.exports=function(t){return t&&"object"==typeof t&&Boolean(t.words)}},function(t,e,r){"use strict";var n=r(518),o=r(575);t.exports=function(t){var e=o.exponent(t);return e<52?new n(t):new n(t*Math.pow(2,52-e)).ushln(e-52)}},function(t,e,r){"use strict";var n=r(497);t.exports=function(a,b){return n(a[0].mul(b[1]),a[1].mul(b[0]))}},function(t,e,r){"use strict";var n=r(497);t.exports=function(a,b){return n(a[0].mul(b[0]),a[1].mul(b[1]))}},function(t,e,r){"use strict";var n=r(497);t.exports=function(a,b){return n(a[0].mul(b[1]).sub(a[1].mul(b[0])),a[1].mul(b[1]))}},function(t,e,r){"use strict";t.exports=function(t,e){var r=t.length;if("number"!=typeof e){e=0;for(var i=0;i<r;++i){var o=t[i];e=Math.max(e,o[0],o[1])}e=1+(0|e)}e|=0;var l=new Array(e);for(i=0;i<e;++i)l[i]=[];for(i=0;i<r;++i){o=t[i];l[o[0]].push(o[1]),l[o[1]].push(o[0])}for(var c=0;c<e;++c)n(l[c],(function(a,b){return a-b}));return l};var n=r(515)},function(t,e,r){"use strict";t.exports=function(t,view,e,r,l){o(f,view,t),o(f,e,f);for(var x=0,i=0;i<2;++i){v[2]=r[i][2];for(var T=0;T<2;++T){v[1]=r[T][1];for(var k=0;k<2;++k)v[0]=r[k][0],y(h[x],v,f),x+=1}}var E=-1;for(i=0;i<8;++i){for(var S=h[i][3],L=0;L<3;++L)d[i][L]=h[i][L]/S;l&&(d[i][2]*=-1),S<0&&(E<0||d[i][2]<d[E][2])&&(E=i)}if(E<0){E=0;for(var C=0;C<3;++C){for(var u=(C+2)%3,O=(C+1)%3,R=-1,D=-1,s=0;s<2;++s){var P=(N=s<<C)+(s<<u)+(1-s<<O),I=N+(1-s<<u)+(s<<O);c(d[N],d[P],d[I],m)<0||(s?R=1:D=1)}if(R<0||D<0)D>R&&(E|=1<<C);else{for(s=0;s<2;++s){P=(N=s<<C)+(s<<u)+(1-s<<O),I=N+(1-s<<u)+(s<<O);var N,z=_([h[N],h[P],h[I],h[N+(1<<u)+(1<<O)]]);s?R=z:D=z}D>R&&(E|=1<<C)}}}var F=7^E,j=-1;for(i=0;i<8;++i)i!==E&&i!==F&&(j<0||d[j][1]>d[i][1])&&(j=i);var B=-1;for(i=0;i<3;++i){if((H=j^1<<i)!==E&&H!==F)B<0&&(B=H),(O=d[H])[0]<d[B][0]&&(B=H)}var U=-1;for(i=0;i<3;++i){var H;if((H=j^1<<i)!==E&&H!==F&&H!==B)U<0&&(U=H),(O=d[H])[0]>d[U][0]&&(U=H)}var V=w;V[0]=V[1]=V[2]=0,V[n.log2(B^j)]=j&B,V[n.log2(j^U)]=j&U;var Y=7^U;Y===E||Y===F?(Y=7^B,V[n.log2(U^Y)]=Y&U):V[n.log2(B^Y)]=Y&B;var G=M,W=E;for(C=0;C<3;++C)G[C]=W&1<<C?-1:1;return A};var n=r(465),o=r(472),l=r(705),c=r(448),f=new Array(16),h=new Array(8),d=new Array(8),v=new Array(3),m=[0,0,0];function y(t,e,r){for(var i=0;i<4;++i){t[i]=r[12+i];for(var n=0;n<3;++n)t[i]+=e[n]*r[4*n+i]}}!function(){for(var i=0;i<8;++i)h[i]=[1,1,1,1],d[i]=[1,1,1]}();var x=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function _(p){for(var i=0;i<x.length;++i)if((p=l.positive(p,x[i])).length<3)return 0;var base=p[0],t=base[0]/base[3],e=base[1]/base[3],area=0;for(i=1;i+1<p.length;++i){var b=p[i],r=p[i+1],n=b[0]/b[3]-t,o=b[1]/b[3]-e,c=r[0]/r[3]-t,f=r[1]/r[3]-e;area+=Math.abs(n*f-o*c)}return area}var w=[1,1,1],M=[0,0,0],A={cubeEdges:w,axis:M}},function(t,e,r){"use strict";var n=r(1048),o=r(466);function l(p,t){var e=o(n(p,t),[t[t.length-1]]);return e[e.length-1]}function c(a,t,b,e){var r=-t/(e-t);r<0?r=0:r>1&&(r=1);for(var n=1-r,o=a.length,l=new Array(o),i=0;i<o;++i)l[i]=r*a[i]+n*b[i];return l}t.exports=function(t,e){for(var r=[],n=[],a=l(t[t.length-1],e),s=t[t.length-1],o=t[0],i=0;i<t.length;++i,s=o){var b=l(o=t[i],e);if(a<0&&b>0||a>0&&b<0){var p=c(s,b,o,a);r.push(p),n.push(p.slice())}b<0?n.push(o.slice()):b>0?r.push(o.slice()):(r.push(o.slice()),n.push(o.slice())),a=b}return{positive:r,negative:n}},t.exports.positive=function(t,e){for(var r=[],a=l(t[t.length-1],e),s=t[t.length-1],n=t[0],i=0;i<t.length;++i,s=n){var b=l(n=t[i],e);(a<0&&b>0||a>0&&b<0)&&r.push(c(s,b,n,a)),b>=0&&r.push(n.slice()),a=b}return r},t.exports.negative=function(t,e){for(var r=[],a=l(t[t.length-1],e),s=t[t.length-1],n=t[0],i=0;i<t.length;++i,s=n){var b=l(n=t[i],e);(a<0&&b>0||a>0&&b<0)&&r.push(c(s,b,n,a)),b<=0&&r.push(n.slice()),a=b}return r}},function(t,e,r){"use strict";var n=r(516);t.exports=function(t,e,r,n){o||(o=t.FRAMEBUFFER_UNSUPPORTED,l=t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,c=t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,f=t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var d=t.getExtension("WEBGL_draw_buffers");!h&&d&&function(t,e){var r=t.getParameter(e.MAX_COLOR_ATTACHMENTS_WEBGL);h=new Array(r+1);for(var i=0;i<=r;++i){for(var n=new Array(r),o=0;o<i;++o)n[o]=t.COLOR_ATTACHMENT0+o;for(o=i;o<r;++o)n[o]=t.NONE;h[i]=n}}(t,d);Array.isArray(e)&&(n=r,r=0|e[1],e=0|e[0]);if("number"!=typeof e)throw new Error("gl-fbo: Missing shape parameter");var v=t.getParameter(t.MAX_RENDERBUFFER_SIZE);if(e<0||e>v||r<0||r>v)throw new Error("gl-fbo: Parameters are too large for FBO");var m=1;if("color"in(n=n||{})){if((m=Math.max(0|n.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(m>1){if(!d)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(m>t.getParameter(d.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+m+" draw buffers")}}var y=t.UNSIGNED_BYTE,x=t.getExtension("OES_texture_float");if(n.float&&m>0){if(!x)throw new Error("gl-fbo: Context does not support floating point textures");y=t.FLOAT}else n.preferFloat&&m>0&&x&&(y=t.FLOAT);var w=!0;"depth"in n&&(w=!!n.depth);var M=!1;"stencil"in n&&(M=!!n.stencil);return new _(t,e,r,y,m,w,M,d)};var o,l,c,f,h=null;function d(t){return[t.getParameter(t.FRAMEBUFFER_BINDING),t.getParameter(t.RENDERBUFFER_BINDING),t.getParameter(t.TEXTURE_BINDING_2D)]}function v(t,data){t.bindFramebuffer(t.FRAMEBUFFER,data[0]),t.bindRenderbuffer(t.RENDERBUFFER,data[1]),t.bindTexture(t.TEXTURE_2D,data[2])}function m(t){switch(t){case o:throw new Error("gl-fbo: Framebuffer unsupported");case l:throw new Error("gl-fbo: Framebuffer incomplete attachment");case c:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case f:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function y(t,e,r,o,l,c){if(!o)return null;var f=n(t,e,r,l,o);return f.magFilter=t.NEAREST,f.minFilter=t.NEAREST,f.mipSamples=1,f.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,c,t.TEXTURE_2D,f.handle,0),f}function x(t,e,r,component,n){var o=t.createRenderbuffer();return t.bindRenderbuffer(t.RENDERBUFFER,o),t.renderbufferStorage(t.RENDERBUFFER,component,e,r),t.framebufferRenderbuffer(t.FRAMEBUFFER,n,t.RENDERBUFFER,o),o}function _(t,e,r,n,o,l,c,f){this.gl=t,this._shape=[0|e,0|r],this._destroyed=!1,this._ext=f,this.color=new Array(o);for(var i=0;i<o;++i)this.color[i]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=n,this._useDepth=l,this._useStencil=c;var _=this,w=[0|e,0|r];Object.defineProperties(w,{0:{get:function(){return _._shape[0]},set:function(t){return _.width=t}},1:{get:function(){return _._shape[1]},set:function(t){return _.height=t}}}),this._shapeVector=w,function(t){var e=d(t.gl),r=t.gl,n=t.handle=r.createFramebuffer(),o=t._shape[0],l=t._shape[1],c=t.color.length,f=t._ext,_=t._useStencil,w=t._useDepth,M=t._colorType;r.bindFramebuffer(r.FRAMEBUFFER,n);for(var i=0;i<c;++i)t.color[i]=y(r,o,l,M,r.RGBA,r.COLOR_ATTACHMENT0+i);0===c?(t._color_rb=x(r,o,l,r.RGBA4,r.COLOR_ATTACHMENT0),f&&f.drawBuffersWEBGL(h[0])):c>1&&f.drawBuffersWEBGL(h[c]);var A=r.getExtension("WEBGL_depth_texture");A?_?t.depth=y(r,o,l,A.UNSIGNED_INT_24_8_WEBGL,r.DEPTH_STENCIL,r.DEPTH_STENCIL_ATTACHMENT):w&&(t.depth=y(r,o,l,r.UNSIGNED_SHORT,r.DEPTH_COMPONENT,r.DEPTH_ATTACHMENT)):w&&_?t._depth_rb=x(r,o,l,r.DEPTH_STENCIL,r.DEPTH_STENCIL_ATTACHMENT):w?t._depth_rb=x(r,o,l,r.DEPTH_COMPONENT16,r.DEPTH_ATTACHMENT):_&&(t._depth_rb=x(r,o,l,r.STENCIL_INDEX,r.STENCIL_ATTACHMENT));var T=r.checkFramebufferStatus(r.FRAMEBUFFER);if(T!==r.FRAMEBUFFER_COMPLETE){t._destroyed=!0,r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteFramebuffer(t.handle),t.handle=null,t.depth&&(t.depth.dispose(),t.depth=null),t._depth_rb&&(r.deleteRenderbuffer(t._depth_rb),t._depth_rb=null);for(i=0;i<t.color.length;++i)t.color[i].dispose(),t.color[i]=null;t._color_rb&&(r.deleteRenderbuffer(t._color_rb),t._color_rb=null),v(r,e),m(T)}v(r,e)}(this)}var w=_.prototype;function M(t,e,r){if(t._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(t._shape[0]!==e||t._shape[1]!==r){var n=t.gl,o=n.getParameter(n.MAX_RENDERBUFFER_SIZE);if(e<0||e>o||r<0||r>o)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");t._shape[0]=e,t._shape[1]=r;for(var l=d(n),i=0;i<t.color.length;++i)t.color[i].shape=t._shape;t._color_rb&&(n.bindRenderbuffer(n.RENDERBUFFER,t._color_rb),n.renderbufferStorage(n.RENDERBUFFER,n.RGBA4,t._shape[0],t._shape[1])),t.depth&&(t.depth.shape=t._shape),t._depth_rb&&(n.bindRenderbuffer(n.RENDERBUFFER,t._depth_rb),t._useDepth&&t._useStencil?n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t._shape[0],t._shape[1]):t._useDepth?n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,t._shape[0],t._shape[1]):t._useStencil&&n.renderbufferStorage(n.RENDERBUFFER,n.STENCIL_INDEX,t._shape[0],t._shape[1])),n.bindFramebuffer(n.FRAMEBUFFER,t.handle);var c=n.checkFramebufferStatus(n.FRAMEBUFFER);c!==n.FRAMEBUFFER_COMPLETE&&(t.dispose(),v(n,l),m(c)),v(n,l)}}Object.defineProperties(w,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(t){if(Array.isArray(t)||(t=[0|t,0|t]),2!==t.length)throw new Error("gl-fbo: Shape vector must be length 2");var e=0|t[0],r=0|t[1];return M(this,e,r),[e,r]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(t){return M(this,t|=0,this._shape[1]),t},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(t){return t|=0,M(this,this._shape[0],t),t},enumerable:!1}}),w.bind=function(){if(!this._destroyed){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.handle),t.viewport(0,0,this._shape[0],this._shape[1])}},w.dispose=function(){if(!this._destroyed){this._destroyed=!0;var t=this.gl;t.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(t.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var i=0;i<this.color.length;++i)this.color[i].dispose(),this.color[i]=null;this._color_rb&&(t.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},function(t,e,r){"use strict";var n=r(708),o=r(566).attributes,l=r(429).extendFlat,c=r(421).counterRegex;function f(t,e,r){return{x:{valType:"number",dflt:t,editType:"camera"},y:{valType:"number",dflt:e,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}t.exports={_arrayAttrRegexps:[c("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:l(f(0,0,1),{}),center:l(f(0,0,0),{}),eye:l(f(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:o({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:n,yaxis:n,zaxis:n,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},function(t,e,r){"use strict";var n=r(425),o=r(446),l=r(429).extendFlat,c=r(444).overrideAll;t.exports=c({visible:o.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:n.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:o.color,categoryorder:o.categoryorder,categoryarray:o.categoryarray,title:{text:o.title.text,font:o.title.font},type:l({},o.type,{values:["-","linear","log","date","category"]}),autotypenumbers:o.autotypenumbers,autorange:o.autorange,rangemode:o.rangemode,range:l({},o.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:o.tickmode,nticks:o.nticks,tick0:o.tick0,dtick:o.dtick,tickvals:o.tickvals,ticktext:o.ticktext,ticks:o.ticks,mirror:o.mirror,ticklen:o.ticklen,tickwidth:o.tickwidth,tickcolor:o.tickcolor,showticklabels:o.showticklabels,tickfont:o.tickfont,tickangle:o.tickangle,tickprefix:o.tickprefix,showtickprefix:o.showtickprefix,ticksuffix:o.ticksuffix,showticksuffix:o.showticksuffix,showexponent:o.showexponent,exponentformat:o.exponentformat,minexponent:o.minexponent,separatethousands:o.separatethousands,tickformat:o.tickformat,tickformatstops:o.tickformatstops,hoverformat:o.hoverformat,showline:o.showline,linecolor:o.linecolor,linewidth:o.linewidth,showgrid:o.showgrid,gridcolor:l({},o.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:o.gridwidth,zeroline:o.zeroline,zerolinecolor:o.zerolinecolor,zerolinewidth:o.zerolinewidth,_deprecated:{title:o._deprecated.title,titlefont:o._deprecated.titlefont}},"plot","from-root")},function(t,e,r){"use strict";t.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},function(t,e,r){"use strict";var n=r(473),o=r(462),l=r(474).hovertemplateAttrs,c=r(474).texttemplateAttrs,f=r(449),h=r(709),d=r(578),v=r(429).extendFlat,m=r(444).overrideAll,y=n.line,x=n.marker,_=x.line,w=v({width:y.width,dash:{valType:"enumerated",values:Object.keys(h),dflt:"solid"}},o("line"));var M=t.exports=m({x:n.x,y:n.y,z:{valType:"data_array"},text:v({},n.text,{}),texttemplate:c({},{}),hovertext:v({},n.hovertext,{}),hovertemplate:l(),mode:v({},n.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:n.connectgaps,line:w,marker:v({symbol:{valType:"enumerated",values:Object.keys(d),dflt:"circle",arrayOk:!0},size:v({},x.size,{dflt:8}),sizeref:x.sizeref,sizemin:x.sizemin,sizemode:x.sizemode,opacity:v({},x.opacity,{arrayOk:!1}),colorbar:x.colorbar,line:v({width:v({},_.width,{arrayOk:!1})},o("marker.line"))},o("marker")),textposition:v({},n.textposition,{dflt:"top center"}),textfont:{color:n.textfont.color,size:n.textfont.size,family:v({},n.textfont.family,{arrayOk:!1})},hoverinfo:v({},f.hoverinfo)},"calc","nested");M.x.editType=M.y.editType=M.z.editType="calc+clearAxisTypes"},function(t,e,r){"use strict";var n=r(1086),o=r(473),l=r(462),c=r(493).dash,f=r(441),h=r(429).extendFlat,d=r(579),v=d.COMPARISON_OPS2,m=d.INTERVAL_OPS,y=(r(482).FORMAT_LINK,o.line);t.exports=h({z:n.z,x:n.x,x0:n.x0,dx:n.dx,y:n.y,y0:n.y0,dy:n.dy,xperiod:n.xperiod,yperiod:n.yperiod,xperiod0:o.xperiod0,yperiod0:o.yperiod0,xperiodalignment:n.xperiodalignment,yperiodalignment:n.yperiodalignment,text:n.text,hovertext:n.hovertext,transpose:n.transpose,xtype:n.xtype,ytype:n.ytype,zhoverformat:n.zhoverformat,hovertemplate:n.hovertemplate,hoverongaps:n.hoverongaps,connectgaps:h({},n.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:f({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot"},operation:{valType:"enumerated",values:[].concat(v).concat(m),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:h({},y.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:c,smoothing:h({},y.smoothing,{}),editType:"plot"}},l("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},function(t,e,r){"use strict";var n=r(421);t.exports=function(t,e,r,o){if(o||(o={}),t("contours.showlabels")){var l=e.font;n.coerceFont(t,"contours.labelfont",{family:l.family,size:l.size,color:r}),t("contours.labelformat")}!1!==o.hasHover&&t("zhoverformat")}},function(t,e,r){"use strict";var n=r(424);t.exports={count:function(t,i,e){return e[t]++,1},sum:function(t,i,e,r){var o=r[i];return n(o)?(o=Number(o),e[t]+=o,o):0},avg:function(t,i,e,r,o){var l=r[i];return n(l)&&(l=Number(l),e[t]+=l,o[t]++),0},min:function(t,i,e,r){var o=r[i];if(n(o)){if(o=Number(o),!n(e[t]))return e[t]=o,o;if(e[t]>o){var l=o-e[t];return e[t]=o,l}}return 0},max:function(t,i,e,r){var o=r[i];if(n(o)){if(o=Number(o),!n(e[t]))return e[t]=o,o;if(e[t]<o){var l=o-e[t];return e[t]=o,l}}return 0}}},function(t,e,r){"use strict";t.exports={percent:function(t,e){for(var r=t.length,n=100/e,o=0;o<r;o++)t[o]*=n},probability:function(t,e){for(var r=t.length,n=0;n<r;n++)t[n]/=e},density:function(t,e,r,n){var o=t.length;n=n||1;for(var l=0;l<o;l++)t[l]*=r[l]*n},"probability density":function(t,e,r,n){var o=t.length;n&&(e/=n);for(var l=0;l<o;l++)t[l]*=r[l]/e}}},function(t,e,r){"use strict";t.exports=function(t,e){for(var r=t.length,n=0,i=0;i<r;i++)e[i]?(t[i]/=e[i],n+=t[i]):t[i]=null;return n}},function(t,e,r){"use strict";var n=r(430),o=n.ONEAVGYEAR,l=n.ONEAVGMONTH,c=n.ONEDAY,f=n.ONEHOUR,h=n.ONEMIN,d=n.ONESEC,v=r(426).tickIncrement;function m(t,e,r,n){if(t*e<=0)return 1/0;for(var o=Math.abs(e-t),l="date"===r.type,c=y(o,l),i=0;i<10;i++){var f=y(80*c,l);if(c===f)break;if(!x(f,t,e,l,r,n))break;c=f}return c}function y(t,e){return e&&t>d?t>c?t>1.1*o?o:t>1.1*l?l:c:t>f?f:t>h?h:d:Math.pow(10,Math.floor(Math.log(t)/Math.LN10))}function x(t,e,r,n,l,f){if(n&&t>c){var h=_(e,l,f),d=_(r,l,f),v=t===o?0:1;return h[v]!==d[v]}return Math.floor(r/t)-Math.floor(e/t)>.1}function _(t,e,r){var n=e.c2d(t,o,r).split("-");return""===n[0]&&(n.unshift(),n[0]="-"+n[0]),n}t.exports=function(t,e,r,n,l){var f,h,d=-1.1*e,y=-.1*e,x=t-y,_=r[0],w=r[1],M=Math.min(m(_+y,_+x,n,l),m(w+y,w+x,n,l)),A=Math.min(m(_+d,_+y,n,l),m(w+d,w+y,n,l));if(M>A&&A<Math.abs(w-_)/4e3?(f=M,h=!1):(f=Math.min(M,A),h=!0),"date"===n.type&&f>c){var T=f===o?1:6,k=f===o?"M12":"M1";return function(e,r){var c=n.c2d(e,o,l),f=c.indexOf("-",T);f>0&&(c=c.substr(0,f));var d=n.d2c(c,0,l);if(d<e){var m=v(d,k,!1,l);(d+m)/2<e+t&&(d=m)}return r&&h?v(d,k,!0,l):d}}return function(e,r){var n=f*Math.round(e/f);return n+f/10<e&&n+.9*f<e+t&&(n+=f),r&&h&&(n-=f),n}}},function(t,e,r){"use strict";var n=r(421),o=[[-1,0],[1,0],[0,-1],[0,1]];function l(t){return.5-.25*Math.min(1,.5*t)}function c(t,e,r){var n,i,l,p,q,c,f,h,d,v,m,y,x,_=0;for(p=0;p<e.length;p++){for(i=(n=e[p])[0],l=n[1],m=t[i][l],v=0,d=0,q=0;q<4;q++)(f=t[i+(c=o[q])[0]])&&void 0!==(h=f[l+c[1]])&&(0===v?y=x=h:(y=Math.min(y,h),x=Math.max(x,h)),d++,v+=h);if(0===d)throw"iterateInterp2d order is wrong: no defined neighbors";t[i][l]=v/d,void 0===m?d<4&&(_=1):(t[i][l]=(1+r)*t[i][l]-r*m,x>y&&(_=Math.max(_,Math.abs(t[i][l]-m)/(x-y))))}return _}t.exports=function(t,e){var i,r=1;for(c(t,e),i=0;i<e.length&&!(e[i][2]<4);i++);for(e=e.slice(i),i=0;i<100&&r>.01;i++)r=c(t,e,l(r));return r>.01&&n.log("interp2d didn't converge quickly",r),t}},function(t,e,r){"use strict";var n=r(421).maxRowLength;t.exports=function(t){var e,i,r,o,p,l,c,f,h=[],d={},v=[],m=t[0],y=[],x=[0,0,0],_=n(t);for(i=0;i<t.length;i++)for(e=y,y=m,m=t[i+1]||[],r=0;r<_;r++)void 0===y[r]&&((l=(void 0!==y[r-1]?1:0)+(void 0!==y[r+1]?1:0)+(void 0!==e[r]?1:0)+(void 0!==m[r]?1:0))?(0===i&&l++,0===r&&l++,i===t.length-1&&l++,r===y.length-1&&l++,l<4&&(d[[i,r]]=[i,r,l]),h.push([i,r,l])):v.push([i,r]));for(;v.length;){for(c={},f=!1,p=v.length-1;p>=0;p--)(l=((d[[(i=(o=v[p])[0])-1,r=o[1]]]||x)[2]+(d[[i+1,r]]||x)[2]+(d[[i,r-1]]||x)[2]+(d[[i,r+1]]||x)[2])/20)&&(c[o]=[i,r,l],v.splice(p,1),f=!0);if(!f)throw"findEmpties iterated with no new neighbors";for(o in c)d[o]=c[o],h.push(c[o])}return h.sort((function(a,b){return b[2]-a[2]}))}},function(t,e,r){"use strict";var n=r(423),o=r(447),l=r(519);t.exports=function(t){var e=t.contours,r=e.start,c=l(e),f=e.size||1,h=Math.floor((c-r)/f)+1,d="lines"===e.coloring?0:1,v=o.extractOpts(t);isFinite(f)||(f=1,h=1);var m,i,y=v.reversescale?o.flipScale(v.colorscale):v.colorscale,x=y.length,_=new Array(x),w=new Array(x);if("heatmap"===e.coloring){var M=v.min,A=v.max;for(i=0;i<x;i++)m=y[i],_[i]=m[0]*(A-M)+M,w[i]=m[1];var T=n.extent([M,A,e.start,e.start+f*(h-1)]),k=T[M<A?0:1],E=T[M<A?1:0];k!==M&&(_.splice(0,0,k),w.splice(0,0,w[0])),E!==A&&(_.push(E),w.push(w[w.length-1]))}else for(i=0;i<x;i++)m=y[i],_[i]=(m[0]*(h+d-1)-d/2)*f+r,w[i]=m[1];return o.makeColorScaleFunc({domain:_,range:w},{noNumericCheck:!0})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";t.exports=r(749)},function(t,e,r){"use strict";e.version=r(601).version,r(750).polyfill(),r(751),r(781)();for(var n=r(422),o=e.register=n.register,l=r(782),c=Object.keys(l),i=0;i<c.length;i++){var f=c[i];"_"!==f.charAt(0)&&(e[f]=l[f]),o({moduleType:"apiMethod",name:f,fn:l[f]})}o(r(650)),o([r(845),r(460),r(846),r(852),r(856),r(860),r(864),r(868),r(871),r(876),r(880),r(881),r(447),r(886)]),o([r(889),r(890)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(o(window.PlotlyLocales),delete window.PlotlyLocales),e.Icons=r(547),e.Plots=r(431),e.Fx=r(460),e.Snapshot=r(891),e.PlotSchema=r(494),e.Queue=r(620),e.d3=r(423)},function(t,e,r){(function(e,r){var n;n=function(){"use strict";function t(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,l=void 0,c=void 0,f=function(t,e){_[o]=t,_[o+1]=e,2===(o+=2)&&(c?c(w):E())},h="undefined"!=typeof window?window:void 0,d=h||{},v=d.MutationObserver||d.WebKitMutationObserver,m="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),y="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function x(){var t=setTimeout;return function(){return t(w,1)}}var _=new Array(1e3);function w(){for(var i=0;i<o;i+=2)(0,_[i])(_[i+1]),_[i]=void 0,_[i+1]=void 0;o=0}var M,A,T,k,E=void 0;function S(t,e){var r=this,n=new this.constructor(O);void 0===n[C]&&U(n);var o=r._state;if(o){var l=arguments[o-1];f((function(){return j(o,n,l,r._result)}))}else z(r,n,t,e);return n}function L(object){if(object&&"object"==typeof object&&object.constructor===this)return object;var t=new this(O);return D(t,object),t}m?E=function(){return e.nextTick(w)}:v?(A=0,T=new v(w),k=document.createTextNode(""),T.observe(k,{characterData:!0}),E=function(){k.data=A=++A%2}):y?((M=new MessageChannel).port1.onmessage=w,E=function(){return M.port2.postMessage(0)}):E=void 0===h?function(){try{var t=Function("return this")().require("vertx");return void 0!==(l=t.runOnLoop||t.runOnContext)?function(){l(w)}:x()}catch(t){return x()}}():x();var C=Math.random().toString(36).substring(2);function O(){}function R(e,r,n){r.constructor===e.constructor&&n===S&&r.constructor.resolve===L?function(t,e){1===e._state?I(t,e._result):2===e._state?N(t,e._result):z(e,void 0,(function(e){return D(t,e)}),(function(e){return N(t,e)}))}(e,r):void 0===n?I(e,r):t(n)?function(t,e,r){f((function(t){var n=!1,o=function(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}(r,e,(function(r){n||(n=!0,e!==r?D(t,r):I(t,r))}),(function(e){n||(n=!0,N(t,e))}),t._label);!n&&o&&(n=!0,N(t,o))}),t)}(e,r,n):I(e,r)}function D(t,e){if(t===e)N(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(n=e),null===n||"object"!==o&&"function"!==o)I(t,e);else{var r=void 0;try{r=e.then}catch(e){return void N(t,e)}R(t,e,r)}var n,o}function P(t){t._onerror&&t._onerror(t._result),F(t)}function I(t,e){void 0===t._state&&(t._result=e,t._state=1,0!==t._subscribers.length&&f(F,t))}function N(t,e){void 0===t._state&&(t._state=2,t._result=e,f(P,t))}function z(t,e,r,n){var o=t._subscribers,l=o.length;t._onerror=null,o[l]=e,o[l+1]=r,o[l+2]=n,0===l&&t._state&&f(F,t)}function F(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,o=void 0,l=t._result,i=0;i<e.length;i+=3)n=e[i],o=e[i+r],n?j(r,n,o,l):o(l);t._subscribers.length=0}}function j(e,r,n,o){var l=t(n),c=void 0,f=void 0,h=!0;if(l){try{c=n(o)}catch(t){h=!1,f=t}if(r===c)return void N(r,new TypeError("A promises callback cannot return that same promise."))}else c=o;void 0!==r._state||(l&&h?D(r,c):!1===h?N(r,f):1===e?I(r,c):2===e&&N(r,c))}var B=0;function U(t){t[C]=B++,t._state=void 0,t._result=void 0,t._subscribers=[]}var H=function(){function t(t,input){this._instanceConstructor=t,this.promise=new t(O),this.promise[C]||U(this.promise),n(input)?(this.length=input.length,this._remaining=input.length,this._result=new Array(this.length),0===this.length?I(this.promise,this._result):(this.length=this.length||0,this._enumerate(input),0===this._remaining&&I(this.promise,this._result))):N(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(input){for(var i=0;void 0===this._state&&i<input.length;i++)this._eachEntry(input[i],i)},t.prototype._eachEntry=function(t,i){var e=this._instanceConstructor,r=e.resolve;if(r===L){var n=void 0,o=void 0,l=!1;try{n=t.then}catch(t){l=!0,o=t}if(n===S&&void 0!==t._state)this._settledAt(t._state,i,t._result);else if("function"!=typeof n)this._remaining--,this._result[i]=t;else if(e===V){var c=new e(O);l?N(c,o):R(c,t,n),this._willSettleAt(c,i)}else this._willSettleAt(new e((function(e){return e(t)})),i)}else this._willSettleAt(r(t),i)},t.prototype._settledAt=function(t,i,e){var r=this.promise;void 0===r._state&&(this._remaining--,2===t?N(r,e):this._result[i]=e),0===this._remaining&&I(r,this._result)},t.prototype._willSettleAt=function(t,i){var e=this;z(t,void 0,(function(t){return e._settledAt(1,i,t)}),(function(t){return e._settledAt(2,i,t)}))},t}(),V=function(){function e(t){this[C]=B++,this._result=this._state=void 0,this._subscribers=[],O!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){D(t,e)}),(function(e){N(t,e)}))}catch(e){N(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var r=this.constructor;return t(e)?this.then((function(t){return r.resolve(e()).then((function(){return t}))}),(function(t){return r.resolve(e()).then((function(){throw t}))})):this.then(e,e)},e}();return V.prototype.then=S,V.all=function(t){return new H(this,t).promise},V.race=function(t){var e=this;return n(t)?new e((function(r,n){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(r,n)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))},V.resolve=L,V.reject=function(t){var e=new this(O);return N(e,t),e},V._setScheduler=function(t){c=t},V._setAsap=function(t){f=t},V._asap=f,V.polyfill=function(){var t=void 0;if(void 0!==r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=V},V.Promise=V,V},t.exports=n()}).call(this,r(334),r(75))},function(t,e,r){"use strict";var n=r(421),o={"X,X div":"direction:ltr;font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color 0.3s ease 0s;-moz-transition:background-color 0.3s ease 0s;-ms-transition:background-color 0.3s ease 0s;-o-transition:background-color 0.3s ease 0s;transition:background-color 0.3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans', verdana, arial, sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var l in o){var c=l.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");n.addStyleRule(c,o[l])}},function(t,e,r){"use strict";var n=r(523),o=/^\w*$/;t.exports=function(t,path,e,r){var i,l,c;e=e||"name",r=r||"value";var f={};path&&path.length?(c=n(t,path),l=c.get()):l=t,path=path||"";var h={};if(l)for(i=0;i<l.length;i++)h[l[i][e]]=i;var d=o.test(r),v={set:function(t,o){var m=null===o?4:0;if(!l){if(!c||4===m)return;l=[],c.set(l)}var y=h[t];if(void 0===y){if(4===m)return;m|=3,y=l.length,h[t]=y}else o!==(d?l[y][r]:n(l[y],r).get())&&(m|=2);var x=l[y]=l[y]||{};return x[e]=t,d?x[r]=o:n(x,r).set(o),null!==o&&(m&=-5),f[y]=f[y]|m,v},get:function(t){if(l){var e=h[t];return void 0===e?void 0:d?l[e][r]:n(l[e],r).get()}},rename:function(t,r){var n=h[t];return void 0===n||(f[n]=1|f[n],h[r]=n,delete h[t],l[n][e]=r),v},remove:function(t){var o=h[t];if(void 0===o)return v;var object=l[o];if(Object.keys(object).length>2)return f[o]=2|f[o],v.set(t,null);if(d){for(i=o;i<l.length;i++)f[i]=3|f[i];for(i=o;i<l.length;i++)h[l[i][e]]--;l.splice(o,1),delete h[t]}else n(object,r).set(null),f[o]=6|f[o];return v},constructUpdate:function(){for(var t,o,c={},h=Object.keys(f),i=0;i<h.length;i++)o=h[i],t=path+"["+o+"]",l[o]?(1&f[o]&&(c[t+"."+e]=l[o][e]),2&f[o]&&(c[t+"."+r]=d?4&f[o]?null:l[o][r]:4&f[o]?null:n(l[o],r).get())):c[t]=null;return c}};return v}},function(t,e,r){"use strict";var n=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,o=/^[^\.\[\]]+$/;t.exports=function(t,e){for(;e;){var r=t.match(n);if(r)t=r[1];else{if(!t.match(o))throw new Error("bad relativeAttr call:"+[t,e]);t=""}if("^"!==e.charAt(0))break;e=e.slice(1)}return t&&"["!==e.charAt(0)?t+"."+e:t+e}},function(t,e,r){"use strict";var n=r(477).isArrayOrTypedArray,o=r(489);t.exports=function t(e,r){for(var l in r){var c=r[l],f=e[l];if(f!==c)if("_"===l.charAt(0)||"function"==typeof c){if(l in e)continue;e[l]=c}else if(n(c)&&n(f)&&o(c[0])){if("customdata"===l||"ids"===l)continue;for(var h=Math.min(c.length,f.length),d=0;d<h;d++)f[d]!==c[d]&&o(c[d])&&o(f[d])&&t(f[d],c[d])}else o(c)&&o(f)&&(t(f,c),Object.keys(f).length||delete e[l])}}},function(t,e,r){"use strict";var n=r(424),o=r(443),l=r(449),c=r(479),f=r(526).DESELECTDIM,h=r(523),d=r(491).counter,v=r(490).modHalf,m=r(477).isArrayOrTypedArray;function y(t,r){var n=e.valObjectMeta[r.valType];if(r.arrayOk&&m(t))return!0;if(n.validateFunction)return n.validateFunction(t,r);var o={},l=o,c={set:function(t){l=t}};return n.coerceFunction(t,c,o,r),l!==o}e.valObjectMeta={data_array:{coerceFunction:function(t,e,r){m(t)?e.set(t):void 0!==r&&e.set(r)}},enumerated:{coerceFunction:function(t,e,r,n){n.coerceNumber&&(t=+t),-1===n.values.indexOf(t)?e.set(r):e.set(t)},validateFunction:function(t,e){e.coerceNumber&&(t=+t);for(var r=e.values,i=0;i<r.length;i++){var n=String(r[i]);if("/"===n.charAt(0)&&"/"===n.charAt(n.length-1)){if(new RegExp(n.substr(1,n.length-2)).test(t))return!0}else if(t===r[i])return!0}return!1}},boolean:{coerceFunction:function(t,e,r){!0===t||!1===t?e.set(t):e.set(r)}},number:{coerceFunction:function(t,e,r,o){!n(t)||void 0!==o.min&&t<o.min||void 0!==o.max&&t>o.max?e.set(r):e.set(+t)}},integer:{coerceFunction:function(t,e,r,o){t%1||!n(t)||void 0!==o.min&&t<o.min||void 0!==o.max&&t>o.max?e.set(r):e.set(+t)}},string:{coerceFunction:function(t,e,r,n){if("string"!=typeof t){var o="number"==typeof t;!0!==n.strict&&o?e.set(String(t)):e.set(r)}else n.noBlank&&!t?e.set(r):e.set(t)}},color:{coerceFunction:function(t,e,r){o(t).isValid()?e.set(t):e.set(r)}},colorlist:{coerceFunction:function(t,e,r){Array.isArray(t)&&t.length&&t.every((function(t){return o(t).isValid()}))?e.set(t):e.set(r)}},colorscale:{coerceFunction:function(t,e,r){e.set(c.get(t,r))}},angle:{coerceFunction:function(t,e,r){"auto"===t?e.set("auto"):n(t)?e.set(v(+t,360)):e.set(r)}},subplotid:{coerceFunction:function(t,e,r,n){var o=n.regex||d(r);"string"==typeof t&&o.test(t)?e.set(t):e.set(r)},validateFunction:function(t,e){var r=e.dflt;return t===r||"string"==typeof t&&!!d(r).test(t)}},flaglist:{coerceFunction:function(t,e,r,n){if("string"==typeof t)if(-1===(n.extras||[]).indexOf(t)){for(var o=t.split("+"),i=0;i<o.length;){var l=o[i];-1===n.flags.indexOf(l)||o.indexOf(l)<i?o.splice(i,1):i++}o.length?e.set(o.join("+")):e.set(r)}else e.set(t);else e.set(r)}},any:{coerceFunction:function(t,e,r){void 0===t?e.set(r):e.set(t)}},info_array:{coerceFunction:function(t,r,n,o){function l(t,r,n){var o,l={set:function(t){o=t}};return void 0===n&&(n=r.dflt),e.valObjectMeta[r.valType].coerceFunction(t,l,n,r),o}var c=2===o.dimensions||"1-2"===o.dimensions&&Array.isArray(t)&&Array.isArray(t[0]);if(Array.isArray(t)){var i,f,h,d,v,m,y=o.items,x=[],_=Array.isArray(y),w=_&&c&&Array.isArray(y[0]),M=c&&_&&!w,A=_&&!M?y.length:t.length;if(n=Array.isArray(n)?n:[],c)for(i=0;i<A;i++)for(x[i]=[],h=Array.isArray(t[i])?t[i]:[],v=M?y.length:_?y[i].length:h.length,f=0;f<v;f++)d=M?y[f]:_?y[i][f]:y,void 0!==(m=l(h[f],d,(n[i]||[])[f]))&&(x[i][f]=m);else for(i=0;i<A;i++)void 0!==(m=l(t[i],_?y[i]:y,n[i]))&&(x[i]=m);r.set(x)}else r.set(n)},validateFunction:function(t,e){if(!Array.isArray(t))return!1;var r=e.items,n=Array.isArray(r),o=2===e.dimensions;if(!e.freeLength&&t.length!==r.length)return!1;for(var i=0;i<t.length;i++)if(o){if(!Array.isArray(t[i])||!e.freeLength&&t[i].length!==r[i].length)return!1;for(var l=0;l<t[i].length;l++)if(!y(t[i][l],n?r[i][l]:r))return!1}else if(!y(t[i],n?r[i]:r))return!1;return!0}}},e.coerce=function(t,r,n,o,l){var c=h(n,o).get(),f=h(t,o),d=h(r,o),v=f.get(),template=r._template;if(void 0===v&&template&&(v=h(template,o).get(),template=0),void 0===l&&(l=c.dflt),c.arrayOk&&m(v))return d.set(v),v;var x=e.valObjectMeta[c.valType].coerceFunction;x(v,d,l,c);var _=d.get();return template&&_===l&&!y(v,c)&&(x(v=h(template,o).get(),d,l,c),_=d.get()),_},e.coerce2=function(t,r,n,o,l){var c=h(t,o),f=e.coerce(t,r,n,o,l),d=c.get();return null!=d&&f},e.coerceFont=function(t,e,r){var n={};return r=r||{},n.family=t(e+".family",r.family),n.size=t(e+".size",r.size),n.color=t(e+".color",r.color),n},e.coerceHoverinfo=function(t,r,n){var o,c=r._module.attributes,f=c.hoverinfo?c:l,h=f.hoverinfo;if(1===n._dataLength){var d="all"===h.dflt?h.flags.slice():h.dflt.split("+");d.splice(d.indexOf("name"),1),o=d.join("+")}return e.coerce(t,r,f,"hoverinfo",o)},e.coerceSelectionMarkerOpacity=function(t,e){if(t.marker){var r,n,o=t.marker.opacity;if(void 0!==o)m(o)||t.selected||t.unselected||(r=o,n=f*o),e("selected.marker.opacity",r),e("unselected.marker.opacity",n)}},e.validate=y},function(t,e,r){"use strict";var n,o,l=r(498).timeFormat,c=r(424),f=r(480),h=r(490).mod,d=r(430),v=d.BADNUM,m=d.ONEDAY,y=d.ONEHOUR,x=d.ONEMIN,_=d.ONESEC,w=d.EPOCHJD,M=r(422),A=r(498).utcFormat,T=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,k=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,E=(new Date).getFullYear()-70;function S(t){return t&&M.componentsRegistry.calendars&&"string"==typeof t&&"gregorian"!==t}function L(t,e){return String(t+Math.pow(10,e)).substr(1)}e.dateTick0=function(t,r){var n=function(t,e){return S(t)?e?M.getComponentMethod("calendars","CANONICAL_SUNDAY")[t]:M.getComponentMethod("calendars","CANONICAL_TICK")[t]:e?"2000-01-02":"2000-01-01"}(t,!!r);if(r<2)return n;var o=e.dateTime2ms(n,t);return o+=m*(r-1),e.ms2DateTime(o,0,t)},e.dfltRange=function(t){return S(t)?M.getComponentMethod("calendars","DFLTRANGE")[t]:["2000-01-01","2001-01-01"]},e.isJSDate=function(t){return"object"==typeof t&&null!==t&&"function"==typeof t.getTime},e.dateTime2ms=function(s,t){if(e.isJSDate(s)){var r=s.getTimezoneOffset()*x,l=(s.getUTCMinutes()-s.getMinutes())*x+(s.getUTCSeconds()-s.getSeconds())*_+(s.getUTCMilliseconds()-s.getMilliseconds());if(l){var c=3*x;r=r-c/2+h(l-r+c/2,c)}return(s=Number(s)-r)>=n&&s<=o?s:v}if("string"!=typeof s&&"number"!=typeof s)return v;s=String(s);var f=S(t),d=s.charAt(0);!f||"G"!==d&&"g"!==d||(s=s.substr(1),t="");var A=f&&"chinese"===t.substr(0,7),L=s.match(A?k:T);if(!L)return v;var C=L[1],O=L[3]||"1",R=Number(L[5]||1),D=Number(L[7]||0),P=Number(L[9]||0),I=Number(L[11]||0);if(f){if(2===C.length)return v;var N;C=Number(C);try{var z=M.getComponentMethod("calendars","getCal")(t);if(A){var F="i"===O.charAt(O.length-1);O=parseInt(O,10),N=z.newDate(C,z.toMonthIndex(C,O,F),R)}else N=z.newDate(C,Number(O),R)}catch(t){return v}return N?(N.toJD()-w)*m+D*y+P*x+I*_:v}C=2===C.length?(Number(C)+2e3-E)%100+E:Number(C),O-=1;var j=new Date(Date.UTC(2e3,O,R,D,P));return j.setUTCFullYear(C),j.getUTCMonth()!==O||j.getUTCDate()!==R?v:j.getTime()+I*_},n=e.MIN_MS=e.dateTime2ms("-9999"),o=e.MAX_MS=e.dateTime2ms("9999-12-31 23:59:59.9999"),e.isDateTime=function(s,t){return e.dateTime2ms(s,t)!==v};var C=90*m,O=3*y,R=5*x;function D(t,e,r,s,n){if((e||r||s||n)&&(t+=" "+L(e,2)+":"+L(r,2),(s||n)&&(t+=":"+L(s,2),n))){for(var o=4;n%10==0;)o-=1,n/=10;t+="."+L(n,o)}return t}e.ms2DateTime=function(t,e,r){if("number"!=typeof t||!(t>=n&&t<=o))return v;e||(e=0);var l,c,f,s,d,T,k=Math.floor(10*h(t+.05,1)),E=Math.round(t-k/10);if(S(r)){var L=Math.floor(E/m)+w,P=Math.floor(h(t,m));try{l=M.getComponentMethod("calendars","getCal")(r).fromJD(L).formatDate("yyyy-mm-dd")}catch(t){l=A("G%Y-%m-%d")(new Date(E))}if("-"===l.charAt(0))for(;l.length<11;)l="-0"+l.substr(1);else for(;l.length<10;)l="0"+l;c=e<C?Math.floor(P/y):0,f=e<C?Math.floor(P%y/x):0,s=e<O?Math.floor(P%x/_):0,d=e<R?P%_*10+k:0}else T=new Date(E),l=A("%Y-%m-%d")(T),c=e<C?T.getUTCHours():0,f=e<C?T.getUTCMinutes():0,s=e<O?T.getUTCSeconds():0,d=e<R?10*T.getUTCMilliseconds()+k:0;return D(l,c,f,s,d)},e.ms2DateTimeLocal=function(t){if(!(t>=n+m&&t<=o-m))return v;var e=Math.floor(10*h(t+.05,1)),r=new Date(Math.round(t-e/10));return D(l("%Y-%m-%d")(r),r.getHours(),r.getMinutes(),r.getSeconds(),10*r.getUTCMilliseconds()+e)},e.cleanDate=function(t,r,n){if(t===v)return r;if(e.isJSDate(t)||"number"==typeof t&&isFinite(t)){if(S(n))return f.error("JS Dates and milliseconds are incompatible with world calendars",t),r;if(!(t=e.ms2DateTimeLocal(+t))&&void 0!==r)return r}else if(!e.isDateTime(t,n))return f.error("unrecognized date",t),r;return t};var P=/%\d?f/g;function I(t,e,r,n){t=t.replace(P,(function(t){var r=Math.min(+t.charAt(1)||6,6);return(e/1e3%1+2).toFixed(r).substr(2).replace(/0+$/,"")||"0"}));var o=new Date(Math.floor(e+.05));if(S(n))try{t=M.getComponentMethod("calendars","worldCalFmt")(t,e,n)}catch(t){return"Invalid"}return r(t)(o)}var N=[59,59.9,59.99,59.999,59.9999];e.formatDate=function(t,e,tr,r,n,o){if(n=S(n)&&n,!e)if("y"===tr)e=o.year;else if("m"===tr)e=o.month;else{if("d"!==tr)return function(t,tr){var e=h(t+.05,m),r=L(Math.floor(e/y),2)+":"+L(h(Math.floor(e/x),60),2);if("M"!==tr){c(tr)||(tr=0);var n=(100+Math.min(h(t/_,60),N[tr])).toFixed(tr).substr(1);tr>0&&(n=n.replace(/0+$/,"").replace(/[\.]$/,"")),r+=":"+n}return r}(t,tr)+"\n"+I(o.dayMonthYear,t,r,n);e=o.dayMonth+"\n"+o.year}return I(e,t,r,n)};var z=3*m;e.incrementMonth=function(t,e,r){r=S(r)&&r;var n=h(t,m);if(t=Math.round(t-n),r)try{var o=Math.round(t/m)+w,l=M.getComponentMethod("calendars","getCal")(r),c=l.fromJD(o);return e%12?l.add(c,e,"m"):l.add(c,e/12,"y"),(c.toJD()-w)*m+n}catch(e){f.error("invalid ms "+t+" in calendar "+r)}var d=new Date(t+z);return d.setUTCMonth(d.getUTCMonth()+e)+n-z},e.findExactDates=function(data,t){for(var e,r,n=0,o=0,l=0,f=0,h=S(t)&&M.getComponentMethod("calendars","getCal")(t),i=0;i<data.length;i++)if(r=data[i],c(r)){if(!(r%m))if(h)try{1===(e=h.fromJD(r/m+w)).day()?1===e.month()?n++:o++:l++}catch(t){}else 1===(e=new Date(r)).getUTCDate()?0===e.getUTCMonth()?n++:o++:l++}else f++;l+=o+=n;var d=data.length-f;return{exactYears:n/d,exactMonths:o/d,exactDays:l/d}}},function(t,e){t.exports=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}},function(t,e){t.exports=function(t,a){var e=a[0],r=a[1],n=a[2],o=a[3],l=a[4],c=a[5],f=a[6],h=a[7],d=a[8],v=a[9],m=a[10],y=a[11],x=a[12],_=a[13],w=a[14],M=a[15];return t[0]=c*(m*M-y*w)-v*(f*M-h*w)+_*(f*y-h*m),t[1]=-(r*(m*M-y*w)-v*(n*M-o*w)+_*(n*y-o*m)),t[2]=r*(f*M-h*w)-c*(n*M-o*w)+_*(n*h-o*f),t[3]=-(r*(f*y-h*m)-c*(n*y-o*m)+v*(n*h-o*f)),t[4]=-(l*(m*M-y*w)-d*(f*M-h*w)+x*(f*y-h*m)),t[5]=e*(m*M-y*w)-d*(n*M-o*w)+x*(n*y-o*m),t[6]=-(e*(f*M-h*w)-l*(n*M-o*w)+x*(n*h-o*f)),t[7]=e*(f*y-h*m)-l*(n*y-o*m)+d*(n*h-o*f),t[8]=l*(v*M-y*_)-d*(c*M-h*_)+x*(c*y-h*v),t[9]=-(e*(v*M-y*_)-d*(r*M-o*_)+x*(r*y-o*v)),t[10]=e*(c*M-h*_)-l*(r*M-o*_)+x*(r*h-o*c),t[11]=-(e*(c*y-h*v)-l*(r*y-o*v)+d*(r*h-o*c)),t[12]=-(l*(v*w-m*_)-d*(c*w-f*_)+x*(c*m-f*v)),t[13]=e*(v*w-m*_)-d*(r*w-n*_)+x*(r*m-n*v),t[14]=-(e*(c*w-f*_)-l*(r*w-n*_)+x*(r*f-n*c)),t[15]=e*(c*m-f*v)-l*(r*m-n*v)+d*(r*f-n*c),t}},function(t,e){t.exports=function(t,e,r){var s,n,o,l=r[0],c=r[1],f=r[2],h=Math.sqrt(l*l+c*c+f*f);if(Math.abs(h)<1e-6)return null;return l*=h=1/h,c*=h,f*=h,s=Math.sin(e),n=Math.cos(e),o=1-n,t[0]=l*l*o+n,t[1]=c*l*o+f*s,t[2]=f*l*o-c*s,t[3]=0,t[4]=l*c*o-f*s,t[5]=c*c*o+n,t[6]=f*c*o+l*s,t[7]=0,t[8]=l*f*o+c*s,t[9]=c*f*o-l*s,t[10]=f*f*o+n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}},function(t,e){t.exports=function(t,e){var s=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=s,t[7]=0,t[8]=0,t[9]=-s,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){var s=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-s,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=s,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){var s=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=s,t[2]=0,t[3]=0,t[4]=-s,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e,r,n,o,l,c){var f=1/(r-e),h=1/(o-n),d=1/(l-c);return t[0]=2*l*f,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*l*h,t[6]=0,t[7]=0,t[8]=(r+e)*f,t[9]=(o+n)*h,t[10]=(c+l)*d,t[11]=-1,t[12]=0,t[13]=0,t[14]=c*l*2*d,t[15]=0,t}},function(t,e){t.exports=function(t,e,r,n){var o=Math.tan(e.upDegrees*Math.PI/180),l=Math.tan(e.downDegrees*Math.PI/180),c=Math.tan(e.leftDegrees*Math.PI/180),f=Math.tan(e.rightDegrees*Math.PI/180),h=2/(c+f),d=2/(o+l);return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=d,t[6]=0,t[7]=0,t[8]=-(c-f)*h*.5,t[9]=(o-l)*d*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}},function(t,e){t.exports=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}},function(t,e,r){"use strict";var n=r(493).dash,o=r(429).extendFlat;t.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:o({},n,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},function(t,e,r){"use strict";var n=r(424),o=r(477).isArrayOrTypedArray;e.aggNums=function(t,r,a,l){var i,b;if((!l||l>a.length)&&(l=a.length),n(r)||(r=!1),o(a[0])){for(b=new Array(l),i=0;i<l;i++)b[i]=e.aggNums(t,r,a[i]);a=b}for(i=0;i<l;i++)n(r)?n(a[i])&&(r=t(+r,+a[i])):r=a[i];return r},e.len=function(data){return e.aggNums((function(a){return a+1}),0,data)},e.mean=function(data,t){return t||(t=e.len(data)),e.aggNums((function(a,b){return a+b}),0,data)/t},e.midRange=function(t){if(void 0!==t&&0!==t.length)return(e.aggNums(Math.max,null,t)+e.aggNums(Math.min,null,t))/2},e.variance=function(data,t,r){return t||(t=e.len(data)),n(r)||(r=e.mean(data,t)),e.aggNums((function(a,b){return a+Math.pow(b-r,2)}),0,data)/t},e.stdev=function(data,t,r){return Math.sqrt(e.variance(data,t,r))},e.median=function(data){var b=data.slice().sort();return e.interp(b,.5)},e.interp=function(t,e){if(!n(e))throw"n should be a finite number";if((e=e*t.length-.5)<0)return t[0];if(e>t.length-1)return t[t.length-1];var r=e%1;return r*t[Math.ceil(e)]+(1-r)*t[Math.floor(e)]}},function(t,e,r){"use strict";var n=r(490),o=n.mod,l=n.modHalf,c=Math.PI,f=2*c;function h(t){return Math.abs(t[1]-t[0])>f-1e-14}function d(a,b){return l(b-a,f)}function v(a,t){if(h(t))return!0;var e,r;t[0]<t[1]?(e=t[0],r=t[1]):(e=t[1],r=t[0]),(e=o(e,f))>(r=o(r,f))&&(r+=f);var n=o(a,f),l=n+f;return n>=e&&n<=r||l>=e&&l<=r}function m(t,e,r,n,o,l,d){o=o||0,l=l||0;var v,m,y,x,_,w=h([r,n]);function M(t,a){return[t*Math.cos(a)+o,l-t*Math.sin(a)]}w?(v=0,m=c,y=f):r<n?(v=r,y=n):(v=n,y=r),t<e?(x=t,_=e):(x=e,_=t);var p,A=Math.abs(y-v)<=c?0:1;function T(t,a,e){return"A"+[t,t]+" "+[0,A,e]+" "+M(t,a)}return w?p=null===x?"M"+M(_,v)+T(_,m,0)+T(_,y,0)+"Z":"M"+M(x,v)+T(x,m,0)+T(x,y,0)+"ZM"+M(_,v)+T(_,m,1)+T(_,y,1)+"Z":null===x?(p="M"+M(_,v)+T(_,y,0),d&&(p+="L0,0Z")):p="M"+M(x,v)+"L"+M(_,v)+T(_,y,0)+"L"+M(x,y)+T(x,v,1)+"Z",p}t.exports={deg2rad:function(t){return t/180*c},rad2deg:function(t){return t/c*180},angleDelta:d,angleDist:function(a,b){return Math.abs(d(a,b))},isFullCircle:h,isAngleInsideSector:v,isPtInsideSector:function(t,a,e,r){return!!v(a,r)&&(e[0]<e[1]?(n=e[0],o=e[1]):(n=e[1],o=e[0]),t>=n&&t<=o);var n,o},pathArc:function(t,e,r,n,o){return m(null,t,e,r,n,o,0)},pathSector:function(t,e,r,n,o){return m(null,t,e,r,n,o,1)},pathAnnulus:function(t,e,r,n,o,l){return m(t,e,r,n,o,l,1)}}},function(t,e,r){"use strict";e.isLeftAnchor=function(t){return"left"===t.xanchor||"auto"===t.xanchor&&t.x<=1/3},e.isCenterAnchor=function(t){return"center"===t.xanchor||"auto"===t.xanchor&&t.x>1/3&&t.x<2/3},e.isRightAnchor=function(t){return"right"===t.xanchor||"auto"===t.xanchor&&t.x>=2/3},e.isTopAnchor=function(t){return"top"===t.yanchor||"auto"===t.yanchor&&t.y>=2/3},e.isMiddleAnchor=function(t){return"middle"===t.yanchor||"auto"===t.yanchor&&t.y>1/3&&t.y<2/3},e.isBottomAnchor=function(t){return"bottom"===t.yanchor||"auto"===t.yanchor&&t.y<=1/3}},function(t,e,r){"use strict";var n,o,l,c=r(490).mod;function f(t,e,r,n,o,l,c,f){var a=r-t,b=o-t,h=c-o,d=n-e,v=l-e,m=f-l,y=a*m-h*d;if(0===y)return null;var x=(b*m-h*v)/y,u=(b*d-a*v)/y;return u<0||u>1||x<0||x>1?null:{x:t+a*x,y:e+d*x}}function h(t,e,r,n,o){var l=n*t+o*e;if(l<0)return n*n+o*o;if(l>r){var c=n-t,f=o-e;return c*c+f*f}var h=n*e-o*t;return h*h/r}e.segmentsIntersect=f,e.segmentDistance=function(t,e,r,n,o,l,c,d){if(f(t,e,r,n,o,l,c,d))return 0;var v=r-t,m=n-e,y=c-o,x=d-l,_=v*v+m*m,w=y*y+x*x,M=Math.min(h(v,m,_,o-t,l-e),h(v,m,_,c-t,d-e),h(y,x,w,t-o,e-l),h(y,x,w,r-o,n-l));return Math.sqrt(M)},e.getTextLocation=function(path,t,e,r){if(path===o&&r===l||(n={},o=path,l=r),n[e])return n[e];var f=path.getPointAtLength(c(e-r/2,t)),h=path.getPointAtLength(c(e+r/2,t)),d=Math.atan((h.y-f.y)/(h.x-f.x)),v=path.getPointAtLength(c(e,t)),m={x:(4*v.x+f.x+h.x)/6,y:(4*v.y+f.y+h.y)/6,theta:d};return n[e]=m,m},e.clearLocationCache=function(){o=null},e.getVisibleSegment=function(path,t,e){var r,n,o=t.left,l=t.right,c=t.top,f=t.bottom,h=0,d=path.getTotalLength(),v=d;function m(t){var e=path.getPointAtLength(t);0===t?r=e:t===d&&(n=e);var h=e.x<o?o-e.x:e.x>l?e.x-l:0,v=e.y<c?c-e.y:e.y>f?e.y-f:0;return Math.sqrt(h*h+v*v)}for(var y=m(h);y;){if((h+=y+e)>v)return;y=m(h)}for(y=m(v);y;){if(h>(v-=y+e))return;y=m(v)}return{min:h,max:v,len:v-h,total:d,isClosed:0===h&&v===d&&Math.abs(r.x-n.x)<.1&&Math.abs(r.y-n.y)<.1}},e.findPointOnPath=function(path,t,e,r){for(var n,o,l,c=(r=r||{}).pathLength||path.getTotalLength(),f=r.tolerance||.001,h=r.iterationLimit||30,d=path.getPointAtLength(0)[e]>path.getPointAtLength(c)[e]?-1:1,i=0,v=0,m=c;i<h;){if(n=(v+m)/2,l=(o=path.getPointAtLength(n))[e]-t,Math.abs(l)<f)return o;d*l>0?m=n:v=n,i++}return o}},function(t,e,r){"use strict";t.exports=function(t){t._responsiveChartHandler&&(window.removeEventListener("resize",t._responsiveChartHandler),delete t._responsiveChartHandler)}},function(t,e,r){"use strict";var n=r(424),o=r(616);t.exports=function(t){var e;if("string"!=typeof(e=t&&t.hasOwnProperty("userAgent")?t.userAgent:function(){var t;"undefined"!=typeof navigator&&(t=navigator.userAgent);t&&t.headers&&"string"==typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]);return t}()))return!0;var r=o({ua:{headers:{"user-agent":e}},tablet:!0,featureDetect:!1});if(!r)for(var l=e.split(" "),i=1;i<l.length;i++){if(-1!==l[i].indexOf("Safari"))for(var c=i-1;c>-1;c--){var f=l[c];if("Version/"===f.substr(0,8)){var h=f.substr(8).split(".")[0];if(n(h)&&(h=+h),h>=13)return!0}}}return r}},function(t,e,r){"use strict";var n=r(423);t.exports=function(t,e,r){var o=t.selectAll("g."+r.replace(/\s/g,".")).data(e,(function(t){return t[0].trace.uid}));o.exit().remove(),o.enter().append("g").attr("class",r),o.order();var l=t.classed("rangeplot")?"nodeRangePlot3":"node3";return o.each((function(t){t[0][l]=n.select(this)})),o}},function(t,e,r){"use strict";var n=r(422);t.exports=function(t,s){for(var e=t._context.locale,i=0;i<2;i++){for(var r=t._context.locales,o=0;o<2;o++){var l=(r[e]||{}).dictionary;if(l){var c=l[s];if(c)return c}r=n.localeRegistry}var f=e.split("-")[0];if(f===e)break;e=f}return s}},function(t,e,r){"use strict";t.exports=function(t){for(var e={},r=[],n=0,i=0;i<t.length;i++){var o=t[i];1!==e[o]&&(e[o]=1,r[n++]=o)}return r}},function(t,e,r){"use strict";function n(t){return!0===t.visible}function o(t){var e=t[0].trace;return!0===e.visible&&0!==e._length}t.exports=function(t){for(var e,r=(e=t,Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace?o:n),l=[],i=0;i<t.length;i++){var c=t[i];r(c)&&l.push(c)}return l}},function(t,e,r){"use strict";t.exports=function(t,e){if(!e)return t;var r=1/Math.abs(e),n=r>1?(r*t+r*e)/r:t+e,o=String(n).length;if(o>16){var l=String(e).length;if(o>=String(t).length+l){var s=parseFloat(n).toPrecision(12);-1===s.indexOf("e+")&&(n=+s)}}return n}},function(t,e,r){"use strict";var n=r(424),o=r(430).BADNUM,l=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;t.exports=function(t){return"string"==typeof t&&(t=t.replace(l,"")),n(t)?Number(t):o}},function(t,e,r){"use strict";t.exports=function(){"undefined"!=typeof MathJax&&("local"!==(window.PlotlyConfig||{}).MathJaxConfig&&(MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured()))}},function(t,e,r){"use strict";var main=r(617);e.plot=main.plot,e.newPlot=main.newPlot,e.restyle=main.restyle,e.relayout=main.relayout,e.redraw=main.redraw,e.update=main.update,e._guiRestyle=main._guiRestyle,e._guiRelayout=main._guiRelayout,e._guiUpdate=main._guiUpdate,e._storeDirectGUIEdit=main._storeDirectGUIEdit,e.react=main.react,e.extendTraces=main.extendTraces,e.prependTraces=main.prependTraces,e.addTraces=main.addTraces,e.deleteTraces=main.deleteTraces,e.moveTraces=main.moveTraces,e.purge=main.purge,e.addFrames=main.addFrames,e.deleteFrames=main.deleteFrames,e.animate=main.animate,e.setPlotConfig=main.setPlotConfig,e.toImage=r(648),e.validate=r(821),e.downloadImage=r(649);var n=r(823);e.makeTemplate=n.makeTemplate,e.validateTemplate=n.validateTemplate},function(t,e,r){"use strict";var n=r(473),o=n.marker,l=r(429).extendFlat;["Area traces are deprecated!","Please switch to the *barpolar* trace type."].join(" ");t.exports={r:l({},n.r,{}),t:l({},n.t,{}),marker:{color:l({},o.color,{}),size:l({},o.size,{}),symbol:l({},o.symbol,{}),opacity:l({},o.opacity,{}),editType:"calc"}}},function(t,e,r){"use strict";var n=r(421),o=r(428),l=r(622),c=r(475);t.exports=function(t,e){function r(r,o){return n.coerce(t,e,l,r,o)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var f,h,d=e._colorAxes;function v(t,e){return n.coerce(f,h,l.coloraxis,t,e)}for(var m in d){var y=d[m];if(y[0])f=t[m]||{},(h=o.newContainer(e,m,"coloraxis"))._name=m,c(f,h,e,v,{prefix:"",cLetter:"c"});else{for(var i=0;i<y[2].length;i++)y[2][i]();delete e._colorAxes[m]}}}},function(t,e,r){"use strict";var n=r(421),o=r(457).hasColorscale,l=r(457).extractOpts;t.exports=function(t,e){function r(t,e){var r=t["_"+e];void 0!==r&&(t[e]=r)}function c(t,o){var c=o.container?n.nestedProperty(t,o.container).get():t;if(c)if(c.coloraxis)c._colorAx=e[c.coloraxis];else{var f=l(c),h=f.auto;(h||void 0===f.min)&&r(c,o.min),(h||void 0===f.max)&&r(c,o.max),f.autocolorscale&&r(c,"colorscale")}}for(var i=0;i<t.length;i++){var f=t[i],h=f._module.colorbar;if(h)if(Array.isArray(h))for(var d=0;d<h.length;d++)c(f,h[d]);else c(f,h);o(f,"marker.line")&&c(f,{container:"marker.line",min:"cmin",max:"cmax"})}for(var v in e._colorAxes)c(e[v],{min:"cmin",max:"cmax"})}},function(t,e,r){"use strict";var n=r(423);t.exports={circle:{n:0,f:function(t){var e=n.round(t,2);return"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"}},square:{n:1,f:function(t){var e=n.round(t,2);return"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"}},diamond:{n:2,f:function(t){var e=n.round(1.3*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"Z"}},cross:{n:3,f:function(t){var e=n.round(.4*t,2),r=n.round(1.2*t,2);return"M"+r+","+e+"H"+e+"V"+r+"H-"+e+"V"+e+"H-"+r+"V-"+e+"H-"+e+"V-"+r+"H"+e+"V-"+e+"H"+r+"Z"}},x:{n:4,f:function(t){var e=n.round(.8*t/Math.sqrt(2),2),r="l"+e+","+e,o="l"+e+",-"+e,l="l-"+e+",-"+e,c="l-"+e+","+e;return"M0,"+e+r+o+l+o+l+c+l+c+r+c+r+"Z"}},"triangle-up":{n:5,f:function(t){var rt=n.round(2*t/Math.sqrt(3),2);return"M-"+rt+","+n.round(t/2,2)+"H"+rt+"L0,-"+n.round(t,2)+"Z"}},"triangle-down":{n:6,f:function(t){var rt=n.round(2*t/Math.sqrt(3),2);return"M-"+rt+",-"+n.round(t/2,2)+"H"+rt+"L0,"+n.round(t,2)+"Z"}},"triangle-left":{n:7,f:function(t){var rt=n.round(2*t/Math.sqrt(3),2);return"M"+n.round(t/2,2)+",-"+rt+"V"+rt+"L-"+n.round(t,2)+",0Z"}},"triangle-right":{n:8,f:function(t){var rt=n.round(2*t/Math.sqrt(3),2);return"M-"+n.round(t/2,2)+",-"+rt+"V"+rt+"L"+n.round(t,2)+",0Z"}},"triangle-ne":{n:9,f:function(t){var e=n.round(.6*t,2),r=n.round(1.2*t,2);return"M-"+r+",-"+e+"H"+e+"V"+r+"Z"}},"triangle-se":{n:10,f:function(t){var e=n.round(.6*t,2),r=n.round(1.2*t,2);return"M"+e+",-"+r+"V"+e+"H-"+r+"Z"}},"triangle-sw":{n:11,f:function(t){var e=n.round(.6*t,2),r=n.round(1.2*t,2);return"M"+r+","+e+"H-"+e+"V-"+r+"Z"}},"triangle-nw":{n:12,f:function(t){var e=n.round(.6*t,2),r=n.round(1.2*t,2);return"M-"+e+","+r+"V-"+e+"H"+r+"Z"}},pentagon:{n:13,f:function(t){var e=n.round(.951*t,2),r=n.round(.588*t,2),o=n.round(-t,2),l=n.round(-.309*t,2);return"M"+e+","+l+"L"+r+","+n.round(.809*t,2)+"H-"+r+"L-"+e+","+l+"L0,"+o+"Z"}},hexagon:{n:14,f:function(t){var e=n.round(t,2),r=n.round(t/2,2),o=n.round(t*Math.sqrt(3)/2,2);return"M"+o+",-"+r+"V"+r+"L0,"+e+"L-"+o+","+r+"V-"+r+"L0,-"+e+"Z"}},hexagon2:{n:15,f:function(t){var e=n.round(t,2),r=n.round(t/2,2),o=n.round(t*Math.sqrt(3)/2,2);return"M-"+r+","+o+"H"+r+"L"+e+",0L"+r+",-"+o+"H-"+r+"L-"+e+",0Z"}},octagon:{n:16,f:function(t){var a=n.round(.924*t,2),b=n.round(.383*t,2);return"M-"+b+",-"+a+"H"+b+"L"+a+",-"+b+"V"+b+"L"+b+","+a+"H-"+b+"L-"+a+","+b+"V-"+b+"Z"}},star:{n:17,f:function(t){var e=1.4*t,r=n.round(.225*e,2),o=n.round(.951*e,2),l=n.round(.363*e,2),c=n.round(.588*e,2),f=n.round(-e,2),h=n.round(-.309*e,2),d=n.round(.118*e,2),v=n.round(.809*e,2);return"M"+r+","+h+"H"+o+"L"+l+","+d+"L"+c+","+v+"L0,"+n.round(.382*e,2)+"L-"+c+","+v+"L-"+l+","+d+"L-"+o+","+h+"H-"+r+"L0,"+f+"Z"}},hexagram:{n:18,f:function(t){var e=n.round(.66*t,2),r=n.round(.38*t,2),o=n.round(.76*t,2);return"M-"+o+",0l-"+r+",-"+e+"h"+o+"l"+r+",-"+e+"l"+r+","+e+"h"+o+"l-"+r+","+e+"l"+r+","+e+"h-"+o+"l-"+r+","+e+"l-"+r+",-"+e+"h-"+o+"Z"}},"star-triangle-up":{n:19,f:function(t){var e=n.round(t*Math.sqrt(3)*.8,2),r=n.round(.8*t,2),o=n.round(1.6*t,2),l=n.round(4*t,2),c="A "+l+","+l+" 0 0 1 ";return"M-"+e+","+r+c+e+","+r+c+"0,-"+o+c+"-"+e+","+r+"Z"}},"star-triangle-down":{n:20,f:function(t){var e=n.round(t*Math.sqrt(3)*.8,2),r=n.round(.8*t,2),o=n.round(1.6*t,2),l=n.round(4*t,2),c="A "+l+","+l+" 0 0 1 ";return"M"+e+",-"+r+c+"-"+e+",-"+r+c+"0,"+o+c+e+",-"+r+"Z"}},"star-square":{n:21,f:function(t){var rp=n.round(1.1*t,2),e=n.round(2*t,2),r="A "+e+","+e+" 0 0 1 ";return"M-"+rp+",-"+rp+r+"-"+rp+","+rp+r+rp+","+rp+r+rp+",-"+rp+r+"-"+rp+",-"+rp+"Z"}},"star-diamond":{n:22,f:function(t){var rp=n.round(1.4*t,2),e=n.round(1.9*t,2),r="A "+e+","+e+" 0 0 1 ";return"M-"+rp+",0"+r+"0,"+rp+r+rp+",0"+r+"0,-"+rp+r+"-"+rp+",0Z"}},"diamond-tall":{n:23,f:function(t){var e=n.round(.7*t,2),r=n.round(1.4*t,2);return"M0,"+r+"L"+e+",0L0,-"+r+"L-"+e+",0Z"}},"diamond-wide":{n:24,f:function(t){var e=n.round(1.4*t,2),r=n.round(.7*t,2);return"M0,"+r+"L"+e+",0L0,-"+r+"L-"+e+",0Z"}},hourglass:{n:25,f:function(t){var e=n.round(t,2);return"M"+e+","+e+"H-"+e+"L"+e+",-"+e+"H-"+e+"Z"},noDot:!0},bowtie:{n:26,f:function(t){var e=n.round(t,2);return"M"+e+","+e+"V-"+e+"L-"+e+","+e+"V-"+e+"Z"},noDot:!0},"circle-cross":{n:27,f:function(t){var e=n.round(t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(t){var e=n.round(t,2),r=n.round(t/Math.sqrt(2),2);return"M"+r+","+r+"L-"+r+",-"+r+"M"+r+",-"+r+"L-"+r+","+r+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(t){var e=n.round(t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(t){var e=n.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e+"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(t){var e=n.round(1.3*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM0,-"+e+"V"+e+"M-"+e+",0H"+e},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(t){var e=n.round(1.3*t,2),r=n.round(.65*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM-"+r+",-"+r+"L"+r+","+r+"M-"+r+","+r+"L"+r+",-"+r},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(t){var e=n.round(1.4*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(t){var e=n.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(t){var e=n.round(1.2*t,2),r=n.round(.85*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+r+","+r+"L-"+r+",-"+r+"M"+r+",-"+r+"L-"+r+","+r},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(t){var e=n.round(t/2,2),r=n.round(t,2);return"M"+e+","+r+"V-"+r+"m-"+r+",0V"+r+"M"+r+","+e+"H-"+r+"m0,-"+r+"H"+r},needLine:!0,noFill:!0},"y-up":{n:37,f:function(t){var e=n.round(1.2*t,2),r=n.round(1.6*t,2),o=n.round(.8*t,2);return"M-"+e+","+o+"L0,0M"+e+","+o+"L0,0M0,-"+r+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(t){var e=n.round(1.2*t,2),r=n.round(1.6*t,2),o=n.round(.8*t,2);return"M-"+e+",-"+o+"L0,0M"+e+",-"+o+"L0,0M0,"+r+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(t){var e=n.round(1.2*t,2),r=n.round(1.6*t,2),o=n.round(.8*t,2);return"M"+o+","+e+"L0,0M"+o+",-"+e+"L0,0M-"+r+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(t){var e=n.round(1.2*t,2),r=n.round(1.6*t,2),o=n.round(.8*t,2);return"M-"+o+","+e+"L0,0M-"+o+",-"+e+"L0,0M"+r+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(t){var e=n.round(1.4*t,2);return"M"+e+",0H-"+e},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(t){var e=n.round(1.4*t,2);return"M0,"+e+"V-"+e},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(t){var e=n.round(t,2);return"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(t){var e=n.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(t){var e=n.round(t,2);return"M0,0L-"+e+","+n.round(2*t,2)+"H"+e+"Z"},noDot:!0},"arrow-down":{n:46,f:function(t){var e=n.round(t,2);return"M0,0L-"+e+",-"+n.round(2*t,2)+"H"+e+"Z"},noDot:!0},"arrow-left":{n:47,f:function(t){var e=n.round(2*t,2),r=n.round(t,2);return"M0,0L"+e+",-"+r+"V"+r+"Z"},noDot:!0},"arrow-right":{n:48,f:function(t){var e=n.round(2*t,2),r=n.round(t,2);return"M0,0L-"+e+",-"+r+"V"+r+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(t){var e=n.round(t,2);return"M-"+e+",0H"+e+"M0,0L-"+e+","+n.round(2*t,2)+"H"+e+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(t){var e=n.round(t,2);return"M-"+e+",0H"+e+"M0,0L-"+e+",-"+n.round(2*t,2)+"H"+e+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(t){var e=n.round(2*t,2),r=n.round(t,2);return"M0,-"+r+"V"+r+"M0,0L"+e+",-"+r+"V"+r+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(t){var e=n.round(2*t,2),r=n.round(t,2);return"M0,-"+r+"V"+r+"M0,0L-"+e+",-"+r+"V"+r+"Z"},needLine:!0,noDot:!0}}},function(t,e,r){"use strict";var n=r(446),o=r(429).extendFlat,l=r(444).overrideAll,c=["Legacy polar charts are deprecated!","Please switch to *polar* subplots."].join(" "),f=o({},n.domain,{});function h(t,e){return o({},e,{showline:{valType:"boolean"},showticklabels:{valType:"boolean"},tickorientation:{valType:"enumerated",values:["horizontal","vertical"]},ticklen:{valType:"number",min:0},tickcolor:{valType:"color"},ticksuffix:{valType:"string"},endpadding:{valType:"number",description:c},visible:{valType:"boolean"}})}t.exports=l({radialaxis:h(0,{range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},domain:f,orientation:{valType:"number"}}),angularaxis:h(0,{range:{valType:"info_array",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}]},domain:f}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"]},orientation:{valType:"angle"}}},"plot","nested")},function(t,e,r){"use strict";var n=r(422),o=r(421);function l(t,e,r){var n,l,c,f=!1;if("data"===e.type)n=t._fullData[null!==e.traces?e.traces[0]:0];else{if("layout"!==e.type)return!1;n=t._fullLayout}return l=o.nestedProperty(n,e.prop).get(),(c=r[e.type]=r[e.type]||{}).hasOwnProperty(e.prop)&&c[e.prop]!==l&&(f=!0),c[e.prop]=l,{changed:f,value:l}}function c(t,e){var r=[],n=e[0],l={};if("string"==typeof n)l[n]=e[1];else{if(!o.isPlainObject(n))return r;l=n}return h(l,(function(path,t,e){r.push({type:"layout",prop:path,value:e})}),"",0),r}function f(t,e){var r,n,l,c,f=[];if(n=e[0],l=e[1],r=e[2],c={},"string"==typeof n)c[n]=l;else{if(!o.isPlainObject(n))return f;c=n,void 0===r&&(r=l)}return void 0===r&&(r=null),h(c,(function(path,e,n){var o,l;if(Array.isArray(n)){l=n.slice();var c=Math.min(l.length,t.data.length);r&&(c=Math.min(c,r.length)),o=[];for(var h=0;h<c;h++)o[h]=r?r[h]:h}else l=n,o=r?r.slice():null;if(null===o)Array.isArray(l)&&(l=l[0]);else if(Array.isArray(o)){if(!Array.isArray(l)){var d=l;l=[];for(var i=0;i<o.length;i++)l[i]=d}l.length=Math.min(o.length,l.length)}f.push({type:"data",prop:path,traces:o,value:l})}),"",0),f}function h(t,e,path,r){Object.keys(t).forEach((function(n){var l=t[n];if("_"!==n[0]){var c=path+(r>0?".":"")+n;o.isPlainObject(l)?h(l,e,c,r+1):e(c,n,l)}}))}e.manageCommandObserver=function(t,r,n,c){var f={},h=!0;r&&r._commandObserver&&(f=r._commandObserver),f.cache||(f.cache={}),f.lookupTable={};var d=e.hasSimpleAPICommandBindings(t,n,f.lookupTable);if(r&&r._commandObserver){if(d)return f;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,f}if(d){l(t,d,f.cache),f.check=function(){if(h){var e=l(t,d,f.cache);return e.changed&&c&&void 0!==f.lookupTable[e.value]&&(f.disable(),Promise.resolve(c({value:e.value,type:d.type,prop:d.prop,traces:d.traces,index:f.lookupTable[e.value]})).then(f.enable,f.enable)),e.changed}};for(var v=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],i=0;i<v.length;i++)t._internalOn(v[i],f.check);f.remove=function(){for(var i=0;i<v.length;i++)t._removeInternalListener(v[i],f.check)}}else o.log("Unable to automatically bind plot updates to API command"),f.lookupTable={},f.remove=function(){};return f.disable=function(){h=!1},f.enable=function(){h=!0},r&&(r._commandObserver=f),f},e.hasSimpleAPICommandBindings=function(t,r,n){var i,o,l=r.length;for(i=0;i<l;i++){var c,f=r[i],h=f.method,d=f.args;if(Array.isArray(d)||(d=[]),!h)return!1;var v=e.computeAPICommandBindings(t,h,d);if(1!==v.length)return!1;if(o){if((c=v[0]).type!==o.type)return!1;if(c.prop!==o.prop)return!1;if(Array.isArray(o.traces)){if(!Array.isArray(c.traces))return!1;c.traces.sort();for(var m=0;m<o.traces.length;m++)if(o.traces[m]!==c.traces[m])return!1}else if(c.prop!==o.prop)return!1}else o=v[0],Array.isArray(o.traces)&&o.traces.sort();var y=(c=v[0]).value;if(Array.isArray(y)){if(1!==y.length)return!1;y=y[0]}n&&(n[y]=i)}return o},e.executeAPICommand=function(t,e,r){if("skip"===e)return Promise.resolve();var l=n.apiMethodRegistry[e],c=[t];Array.isArray(r)||(r=[]);for(var i=0;i<r.length;i++)c.push(r[i]);return l.apply(null,c).catch((function(t){return o.warn("API call to Plotly."+e+" rejected.",t),Promise.reject(t)}))},e.computeAPICommandBindings=function(t,e,r){var n;switch(Array.isArray(r)||(r=[]),e){case"restyle":n=f(t,r);break;case"relayout":n=c(t,r);break;case"update":n=f(t,[r[0],r[2]]).concat(c(t,[r[1]]));break;case"animate":n=function(t,e){return Array.isArray(e[0])&&1===e[0].length&&-1!==["string","number"].indexOf(typeof e[0][0])?[{type:"layout",prop:"_currentFrame",value:e[0][0].toString()}]:[]}(0,r);break;default:n=[]}return n}},function(t,e,r){"use strict";(t.exports=r(630)).manager=r(790)},function(t,e,r){"use strict";var n=r(423),o=r(421),l=r(425),c=r(630),f=r(791),h=o.extendDeepAll,d=t.exports={};d.framework=function(t){var e,r,o,l,v,m=new f;function y(r,f){return f&&(v=f),n.select(n.select(v).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),e=e?h(e,r):r,o||(o=c.Axis()),l=c.adapter.plotly().convert(e),o.config(l).render(v),t.data=e.data,t.layout=e.layout,d.fillLayout(t),e}return y.isPolar=!0,y.svg=function(){return o.svg()},y.getConfig=function(){return e},y.getLiveConfig=function(){return c.adapter.plotly().convert(o.getLiveConfig(),!0)},y.getLiveScales=function(){return{t:o.angularScale(),r:o.radialScale()}},y.setUndoPoint=function(){var t,n,o=this,l=c.util.cloneJson(e);t=l,n=r,m.add({undo:function(){n&&o(n)},redo:function(){o(t)}}),r=c.util.cloneJson(l)},y.undo=function(){m.undo()},y.redo=function(){m.redo()},y},d.fillLayout=function(t){var e=n.select(t).selectAll(".plot-container"),r=e.selectAll(".svg-container"),o=t.framework&&t.framework.svg&&t.framework.svg(),c={width:800,height:600,paper_bgcolor:l.background,_container:e,_paperdiv:r,_paper:o};t._fullLayout=h(c,t.layout)}},function(t,e,r){"use strict";t.exports=function(){var t,e=[],r=-1,n=!1;function o(t,e){return t?(n=!0,t[e](),n=!1,this):this}return{add:function(t){return n||(e.splice(r+1,e.length-r),e.push(t),r=e.length-1),this},setCallback:function(e){t=e},undo:function(){var n=e[r];return n?(o(n,"undo"),r-=1,t&&t(n.undo),this):this},redo:function(){var n=e[r+1];return n?(o(n,"redo"),r+=1,t&&t(n.redo),this):this},clear:function(){e=[],r=-1},hasUndo:function(){return-1!==r},hasRedo:function(){return r<e.length-1},getCommands:function(){return e},getPreviousCommand:function(){return e[r-1]},getIndex:function(){return r}}}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,o){var l=(t-r)/(n-r),c=l+e/(n-r),f=(l+c)/2;return"left"===o||"bottom"===o?l:"center"===o||"middle"===o?f:"right"===o||"top"===o?c:l<2/3-f?l:c>4/3-f?c:f}},function(t,e,r){"use strict";var n=r(421),o=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];t.exports=function(t,e,r,l){return t="left"===r?0:"center"===r?1:"right"===r?2:n.constrain(Math.floor(3*t),0,2),e="bottom"===l?0:"middle"===l?1:"top"===l?2:n.constrain(Math.floor(3*e),0,2),o[e][t]}},function(t,e,r){"use strict";var n=r(502),o=r(539),l=r(528).getGraphDiv,c=r(500),f=t.exports={};f.wrapped=function(t,e,r){(t=l(t))._fullLayout&&o.clear(t._fullLayout._uid+c.HOVERID),f.raw(t,e,r)},f.raw=function(t,e){var r=t._fullLayout,o=t._hoverdata;e||(e={}),e.target&&!1===n.triggerHandler(t,"plotly_beforehover",e)||(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),t._hoverdata=void 0,e.target&&o&&t.emit("plotly_unhover",{event:e,points:o}))}},function(t,e,r){"use strict";var n=r(476),o="data-savedcursor";t.exports=function(t,e){var r=t.attr(o);if(e){if(!r){for(var l=(t.attr("class")||"").split(" "),i=0;i<l.length;i++){var c=l[i];0===c.indexOf("cursor-")&&t.attr(o,c.substr(7)).classed(c,!1)}t.attr(o)||t.attr(o,"!!")}n(t,e)}else r&&(t.attr(o,null),"!!"===r?n(t):n(t,r))}},function(t,e,r){"use strict";var n=r(421),o=r(422),l=!0;t.exports=function(g,t,e){var r=t._fullLayout;if(!t._dragged&&!t._editing){var c,f=r.legend.itemclick,h=r.legend.itemdoubleclick;if(1===e&&"toggle"===f&&"toggleothers"===h&&l&&t.data&&t._context.showTips?(n.notifier(n._(t,"Double-click on legend to isolate one trace"),"long"),l=!1):l=!1,1===e?c=f:2===e&&(c=h),c){var i,d,v,m,y,x=r.hiddenlabels?r.hiddenlabels.slice():[],_=g.data()[0][0],w=t._fullData,M=_.trace,A=M.legendgroup,T={},k=[],E=[],S=[];if(o.traceIs(M,"pie-like")){var L=_.label,C=x.indexOf(L);"toggle"===c?-1===C?x.push(L):x.splice(C,1):"toggleothers"===c&&(x=[],t.calcdata[0].forEach((function(t){L!==t.label&&x.push(t.label)})),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===x.length&&-1===C&&(x=[])),o.call("_guiRelayout",t,"hiddenlabels",x)}else{var O,R=A&&A.length,D=[];if(R)for(i=0;i<w.length;i++)(O=w[i]).visible&&O.legendgroup===A&&D.push(i);if("toggle"===c){var P;switch(M.visible){case!0:P="legendonly";break;case!1:P=!1;break;case"legendonly":P=!0}if(R)for(i=0;i<w.length;i++)!1!==w[i].visible&&w[i].legendgroup===A&&V(w[i],P);else V(M,P)}else if("toggleothers"===c){var I,N,z,F,j=!0;for(i=0;i<w.length;i++)if(I=w[i]===M,z=!0!==w[i].showlegend,!(I||z||(N=R&&w[i].legendgroup===A)||!0!==w[i].visible||o.traceIs(w[i],"notLegendIsolatable"))){j=!1;break}for(i=0;i<w.length;i++)if(!1!==w[i].visible&&!o.traceIs(w[i],"notLegendIsolatable"))switch(M.visible){case"legendonly":V(w[i],!0);break;case!0:F=!!j||"legendonly",I=w[i]===M,z=!0!==w[i].showlegend&&!w[i].legendgroup,N=I||R&&w[i].legendgroup===A,V(w[i],!(!N&&!z)||F)}}for(i=0;i<E.length;i++)if(v=E[i]){var B=v.constructUpdate(),U=Object.keys(B);for(d=0;d<U.length;d++)m=U[d],(T[m]=T[m]||[])[S[i]]=B[m]}for(y=Object.keys(T),i=0;i<y.length;i++)for(m=y[i],d=0;d<k.length;d++)T[m].hasOwnProperty(d)||(T[m][d]=void 0);o.call("_guiRestyle",t,T,k)}}}function H(t,e,r){var n=k.indexOf(t),o=T[e];return o||(o=T[e]=[]),-1===k.indexOf(t)&&(k.push(t),n=k.length-1),o[n]=r,n}function V(t,e){var r=t._fullInput;if(o.hasTransform(r,"groupby")){var l=E[r.index];if(!l){var c=o.getTransformIndices(r,"groupby"),f=c[c.length-1];l=n.keyedContainer(r,"transforms["+f+"].styles","target","value.visible"),E[r.index]=l}var h=l.get(t._group);void 0===h&&(h=!0),!1!==h&&l.set(t._group,e),S[r.index]=H(r.index,"visible",!1!==r.visible)}else{var d=!1!==r.visible&&e;H(r.index,"visible",d)}}}},function(t,e,r){"use strict";var n=r(422),o=r(543);t.exports=function(t,e){var i,r,l={},c=[],f=!1,h={},d=0,v=0,main=e._main;function m(t,r){if(""!==t&&o.isGrouped(e))-1===c.indexOf(t)?(c.push(t),f=!0,l[t]=[[r]]):l[t].push([r]);else{var n="~~i"+d;c.push(n),l[n]=[[r]],d++}}for(i=0;i<t.length;i++){var y=t[i],x=y[0],_=x.trace,w=_.legendgroup;if(!main||_.visible&&_.showlegend)if(n.traceIs(_,"pie-like"))for(h[w]||(h[w]={}),r=0;r<y.length;r++){var M=y[r].label;h[w][M]||(m(w,{label:M,color:y[r].color,i:y[r].i,trace:_,pts:y[r].pts}),h[w][M]=!0,v=Math.max(v,(M||"").length))}else m(w,x),v=Math.max(v,(_.name||"").length)}if(!c.length)return[];var A,T,k=c.length;if(f&&o.isGrouped(e))for(T=new Array(k),i=0;i<k;i++)A=l[c[i]],T[i]=o.isReversed(e)?A.reverse():A;else{for(T=[new Array(k)],i=0;i<k;i++)A=l[c[i]][0],T[0][o.isReversed(e)?k-i-1:i]=A;k=1}return e._lgroupsLength=k,e._maxNameLength=v,T}},function(t,e,r){"use strict";var n=r(425),o=r(640).castOption;t.exports=function(s,t,e){var line=e.marker.line,r=o(line.color,t.pts)||n.defaultLine,l=o(line.width,t.pts)||0;s.style("stroke-width",l).call(n.fill,t.color).call(n.stroke,r)}},function(t,e,r){"use strict";var n=r(421),o=r(544),l=r(478);t.exports=function(t,e){o(t,e,(function(r,o){return n.coerce(t,e,l,r,o)}))}},function(t,e,r){"use strict";var n=r(421),o=r(525),l=r(544);t.exports=function(t,e,r,c){var f=n.extendFlat({},c.hoverlabel);e.hovertemplate&&(f.namelength=-1),l(t,e,(function(r,l){return n.coerce(t,e,o,r,l)}),f)}},function(t,e,r){"use strict";var n=r(421),o=r(459).isUnifiedHover,l=r(478),c=r(641),f=r(544);t.exports=function(t,e,r){function h(r,o){return n.coerce(t,e,l,r,o)}var d=c(t,e,r);d&&(h("hoverdistance"),h("spikedistance",o(d)?-1:void 0)),"select"===h("dragmode")&&h("selectdirection");var v=e._has("mapbox"),m=e._has("geo"),y=e._basePlotModules.length;"zoom"===e.dragmode&&((v||m)&&1===y||v&&m&&2===y)&&(e.dragmode="pan"),f(t,e,h)}},function(t,e,r){"use strict";var n=r(421),o=r(422);function l(t,e,r,o){o=o||n.identity,Array.isArray(t)&&(e[0][r]=o(t))}t.exports=function(t){var e=t.calcdata,r=t._fullLayout;function c(t){return function(e){return n.coerceHoverinfo({hoverinfo:e},{_module:t._module},r)}}for(var i=0;i<e.length;i++){var f=e[i],h=f[0].trace;if(!o.traceIs(h,"pie-like")){var d=o.traceIs(h,"2dMap")?l:n.fillArray;d(h.hoverinfo,f,"hi",c(h)),h.hovertemplate&&d(h.hovertemplate,f,"ht"),h.hoverlabel&&(d(h.hoverlabel.bgcolor,f,"hbg"),d(h.hoverlabel.bordercolor,f,"hbc"),d(h.hoverlabel.font.size,f,"hts"),d(h.hoverlabel.font.color,f,"htc"),d(h.hoverlabel.font.family,f,"htf"),d(h.hoverlabel.namelength,f,"hnl"),d(h.hoverlabel.align,f,"hta"))}}}},function(t,e,r){"use strict";var n=r(422),o=r(634).hover;t.exports=function(t,e,r){var l=n.getComponentMethod("annotations","onClick")(t,t._hoverdata);function c(){t.emit("plotly_click",{points:t._hoverdata,event:e})}void 0!==r&&o(t,e,r,!0),t._hoverdata&&e&&e.target&&(l&&l.then?l.then(c):c(),e.stopImmediatePropagation&&e.stopImmediatePropagation())}},function(t,e,r){"use strict";var n=r(423),o=r(443),l=r(507),c=r(422),f=r(421),h=f.strTranslate,d=r(440),v=r(425),m=r(427),y=r(460),x=r(426),_=r(476),w=r(450),M=r(508),A=M.selectingOrDrawing,T=M.freeMode,k=r(438).FROM_TL,E=r(545),S=r(546).redrawReglTraces,L=r(431),C=r(432).getFromId,O=r(510).prepSelect,R=r(510).clearSelect,D=r(510).selectOnClick,P=r(646),I=r(434),N=I.MINDRAG,z=I.MINZOOM,F=!0;function j(t,e,r,cursor){var n=f.ensureSingle(t.draglayer,e,r,(function(s){s.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",t.id)}));return n.call(_,cursor),n.node()}function B(t,e,cursor,r,o,l,c){var f=j(t,"rect",e,cursor);return n.select(f).call(m.setRect,r,o,l,c),f}function U(t,e){for(var i=0;i<t.length;i++)if(!t[i].fixedrange)return e;return""}function H(t,e,r,n,o){for(var i=0;i<t.length;i++){var l=t[i];if(!l.fixedrange)if(l.rangebreaks){var c="y"===l._id.charAt(0),f=c?1-e:e,h=c?1-r:r;n[l._name+".range[0]"]=l.l2r(l.p2l(f*l._length)),n[l._name+".range[1]"]=l.l2r(l.p2l(h*l._length))}else{var d=l._rl[0],v=l._rl[1]-d;n[l._name+".range[0]"]=l.l2r(d+v*e),n[l._name+".range[1]"]=l.l2r(d+v*r)}}if(o&&o.length){var m=(e+(1-r))/2;H(o,m,1-m,n,[])}}function V(t,e){for(var i=0;i<t.length;i++){var r=t[i];if(!r.fixedrange)if(r.rangebreaks){var n=r._length,o=(r.p2l(0+e)-r.p2l(0)+(r.p2l(n+e)-r.p2l(n)))/2;r.range=[r.l2r(r._rl[0]-o),r.l2r(r._rl[1]-o)]}else r.range=[r.l2r(r._rl[0]-e/r._m),r.l2r(r._rl[1]-e/r._m)]}}function Y(t){return 1-(t>=0?Math.min(t,.9):1/(1/Math.max(t,-.3)+3.222))}function G(t,e,r,n,o){return t.append("path").attr("class","zoombox").style({fill:e>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",h(r,n)).attr("d",o+"Z")}function W(t,e,r){return t.append("path").attr("class","zoombox-corners").style({fill:v.background,stroke:v.defaultLine,"stroke-width":1,opacity:0}).attr("transform",h(e,r)).attr("d","M0,0Z")}function X(t,e,r,n,o,l){t.attr("d",n+"M"+r.l+","+r.t+"v"+r.h+"h"+r.w+"v-"+r.h+"h-"+r.w+"Z"),Z(t,e,o,l)}function Z(t,e,r,n){r||(t.transition().style("fill",n>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),e.transition().style("opacity",1).duration(200))}function J(t){n.select(t).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Q(t){F&&t.data&&t._context.showTips&&(f.notifier(f._(t,"Double-click to zoom back out"),"long"),F=!1)}function K(t){var e=Math.floor(Math.min(t.b-t.t,t.r-t.l,z)/2);return"M"+(t.l-3.5)+","+(t.t-.5+e)+"h3v"+-e+"h"+e+"v-3h-"+(e+3)+"ZM"+(t.r+3.5)+","+(t.t-.5+e)+"h-3v"+-e+"h"+-e+"v-3h"+(e+3)+"ZM"+(t.r+3.5)+","+(t.b+.5-e)+"h-3v"+e+"h"+-e+"v3h"+(e+3)+"ZM"+(t.l-3.5)+","+(t.b+.5-e)+"h3v"+e+"h"+e+"v3h-"+(e+3)+"Z"}function $(t,e,r,n,o){for(var l,c,h,d,v=!1,m={},y={},x=(o||{}).xaHash,_=(o||{}).yaHash,i=0;i<e.length;i++){var w=e[i];for(l in r)if(w[l]){for(h in w)o&&(x[h]||_[h])||("x"===h.charAt(0)?r:n)[h]||(m[h]=l);for(c in n)o&&(x[c]||_[c])||!w[c]||(v=!0)}for(c in n)if(w[c])for(d in w)o&&(x[d]||_[d])||("x"===d.charAt(0)?r:n)[d]||(y[d]=c)}v&&(f.extendFlat(m,y),y={});var M={},A=[];for(h in m){var T=C(t,h);A.push(T),M[T._id]=T}var k={},E=[];for(d in y){var S=C(t,d);E.push(S),k[S._id]=S}return{xaHash:M,yaHash:k,xaxes:A,yaxes:E,xLinks:m,yLinks:y,isSubplotConstrained:v}}function tt(element,t){if(l){var e=void 0!==element.onwheel?"wheel":"mousewheel";element._onwheel&&element.removeEventListener(e,element._onwheel),element._onwheel=t,element.addEventListener(e,t,{passive:!1})}else void 0!==element.onwheel?element.onwheel=t:void 0!==element.onmousewheel?element.onmousewheel=t:element.isAddedWheelEvent||(element.isAddedWheelEvent=!0,element.addEventListener("wheel",t,{passive:!1}))}function et(t){var e=[];for(var r in t)e.push(t[r]);return e}t.exports={makeDragBox:function(t,e,r,l,h,v,_,M){var F,j,Z,nt,it,at,ot,st,lt,ut,ct,ft,ht,pt,gt,vt,mt,yt,xt,bt,_t,wt,Mt,At=t._fullLayout._zoomlayer,Tt=_+M==="nsew",kt=1===(_+M).length;function Et(){if(F=e.xaxis,j=e.yaxis,lt=F._length,ut=j._length,ot=F._offset,st=j._offset,(Z={})[F._id]=F,(nt={})[j._id]=j,_&&M)for(var r=e.overlays,i=0;i<r.length;i++){var n=r[i].xaxis;Z[n._id]=n;var o=r[i].yaxis;nt[o._id]=o}it=et(Z),at=et(nt),ht=U(it,M),pt=U(at,_),gt=!pt&&!ht,ft=$(t,t._fullLayout._axisMatchGroups,Z,nt);var l=(ct=$(t,t._fullLayout._axisConstraintGroups,Z,nt,ft)).isSubplotConstrained||ft.isSubplotConstrained;vt=M||l,mt=_||l;var c=t._fullLayout;yt=c._has("scattergl"),xt=c._has("splom"),bt=c._has("svg")}Et();var cursor=function(t,e,r){if(!t)return"pointer";if("nsew"===t)return r?"":"pan"===e?"move":"crosshair";return t.toLowerCase()+"-resize"}(pt+ht,t._fullLayout.dragmode,Tt),St=B(e,_+M+"drag",cursor,r,l,h,v);if(gt&&!Tt)return St.onmousedown=null,St.style.pointerEvents="none",St;var Lt,Ct,Ot,Rt,Dt,Pt,It,Nt,zt,Ft,jt={element:St,gd:t,plotinfo:e};function Bt(){jt.plotinfo.selection=!1,R(t)}function Ut(t,r){var o=jt.gd;if(o._fullLayout._activeShapeIndex>=0)o._fullLayout._deactivateShape(o);else{var l=o._fullLayout.clickmode;if(J(o),2!==t||kt||Kt(),Tt)l.indexOf("select")>-1&&D(r,o,it,at,e.id,jt),l.indexOf("event")>-1&&y.click(o,r,e.id);else if(1===t&&kt){var f=_?j:F,h="s"===_||"w"===M?0:1,v=f._name+".range["+h+"]",m=function(t,e){var r,o=t.range[e],l=Math.abs(o-t.range[1-e]);return"date"===t.type?o:"log"===t.type?(r=Math.ceil(Math.max(0,-Math.log(l)/Math.LN10))+3,n.format("."+r+"g")(Math.pow(10,o))):(r=Math.floor(Math.log(Math.abs(o))/Math.LN10)-Math.floor(Math.log(l)/Math.LN10)+4,n.format("."+String(r)+"g")(o))}(f,h),x="left",w="middle";if(f.fixedrange)return;_?(w="n"===_?"top":"bottom","right"===f.side&&(x="right")):"e"===M&&(x="right"),o._context.showAxisRangeEntryBoxes&&n.select(St).call(d.makeEditable,{gd:o,immediate:!0,background:o._fullLayout.paper_bgcolor,text:String(m),fill:f.tickfont?f.tickfont.color:"#444",horizontalAlign:x,verticalAlign:w}).on("edit",(function(text){var t=f.d2r(text);void 0!==t&&c.call("_guiRelayout",o,v,t)}))}}}function Ht(e,r){if(t._transitioningWithDuration)return!1;var n=Math.max(0,Math.min(lt,wt*e+Lt)),o=Math.max(0,Math.min(ut,Mt*r+Ct)),l=Math.abs(n-Lt),c=Math.abs(o-Ct);function f(){It="",Ot.r=Ot.l,Ot.t=Ot.b,zt.attr("d","M0,0Z")}if(Ot.l=Math.min(Lt,n),Ot.r=Math.max(Lt,n),Ot.t=Math.min(Ct,o),Ot.b=Math.max(Ct,o),ct.isSubplotConstrained)l>z||c>z?(It="xy",l/lt>c/ut?(c=l*ut/lt,Ct>o?Ot.t=Ct-c:Ot.b=Ct+c):(l=c*lt/ut,Lt>n?Ot.l=Lt-l:Ot.r=Lt+l),zt.attr("d",K(Ot))):f();else if(ft.isSubplotConstrained)if(l>z||c>z){It="xy";var h=Math.min(Ot.l/lt,(ut-Ot.b)/ut),d=Math.max(Ot.r/lt,(ut-Ot.t)/ut);Ot.l=h*lt,Ot.r=d*lt,Ot.b=(1-h)*ut,Ot.t=(1-d)*ut,zt.attr("d",K(Ot))}else f();else!pt||c<Math.min(Math.max(.6*l,N),z)?l<N||!ht?f():(Ot.t=0,Ot.b=ut,It="x",zt.attr("d",function(t,e){return"M"+(t.l-.5)+","+(e-z-.5)+"h-3v"+(2*z+1)+"h3ZM"+(t.r+.5)+","+(e-z-.5)+"h3v"+(2*z+1)+"h-3Z"}(Ot,Ct))):!ht||l<Math.min(.6*c,z)?(Ot.l=0,Ot.r=lt,It="y",zt.attr("d",function(t,e){return"M"+(e-z-.5)+","+(t.t-.5)+"v-3h"+(2*z+1)+"v3ZM"+(e-z-.5)+","+(t.b+.5)+"v3h"+(2*z+1)+"v-3Z"}(Ot,Lt))):(It="xy",zt.attr("d",K(Ot)));Ot.w=Ot.r-Ot.l,Ot.h=Ot.b-Ot.t,It&&(Ft=!0),t._dragged=Ft,X(Nt,zt,Ot,Dt,Pt,Rt),Vt(),t.emit("plotly_relayouting",_t),Pt=!0}function Vt(){_t={},"xy"!==It&&"x"!==It||(H(it,Ot.l/lt,Ot.r/lt,_t,ct.xaxes),Jt("x",_t)),"xy"!==It&&"y"!==It||(H(at,(ut-Ot.b)/ut,(ut-Ot.t)/ut,_t,ct.yaxes),Jt("y",_t))}function Yt(){Vt(),J(t),$t(),Q(t)}jt.prepFn=function(e,r,n){var l=jt.dragmode,c=t._fullLayout.dragmode;c!==l&&(jt.dragmode=c),Et(),wt=t._fullLayout._invScaleX,Mt=t._fullLayout._invScaleY,gt||(Tt?e.shiftKey?"pan"===c?c="zoom":A(c)||(c="pan"):e.ctrlKey&&(c="pan"):c="pan"),T(c)?jt.minDrag=1:jt.minDrag=void 0,A(c)?(jt.xaxes=it,jt.yaxes=at,O(e,r,n,jt,c)):(jt.clickFn=Ut,A(l)&&Bt(),gt||("zoom"===c?(jt.moveFn=Ht,jt.doneFn=Yt,jt.minDrag=1,function(e,r,n){var l=St.getBoundingClientRect();Lt=r-l.left,Ct=n-l.top,t._fullLayout._calcInverseTransform(t);var c=f.apply3DTransform(t._fullLayout._invTransform)(Lt,Ct);Lt=c[0],Ct=c[1],Ot={l:Lt,r:Lt,w:0,t:Ct,b:Ct,h:0},Rt=t._hmpixcount?t._hmlumcount/t._hmpixcount:o(t._fullLayout.plot_bgcolor).getLuminance(),Pt=!1,It="xy",Ft=!1,Nt=G(At,Rt,ot,st,Dt="M0,0H"+lt+"V"+ut+"H0V0"),zt=W(At,ot,st)}(0,r,n)):"pan"===c&&(jt.moveFn=Zt,jt.doneFn=$t))),t._fullLayout._redrag=function(){var e=t._dragdata;if(e&&e.element===St){var r=t._fullLayout.dragmode;A(r)||(Et(),te([0,0,lt,ut]),jt.moveFn(e.dx,e.dy))}}},w.init(jt);var Gt=[0,0,lt,ut],qt=null,Wt=I.REDRAWDELAY,Xt=e.mainplot?t._fullLayout._plots[e.mainplot]:e;function Zt(e,r){if(e*=wt,r*=Mt,!t._transitioningWithDuration){if(t._fullLayout._replotting=!0,"ew"===ht||"ns"===pt){var n=ht?-e:0,o=pt?-r:0;if(ft.isSubplotConstrained){if(ht&&pt){var l=(e/lt-r/ut)/2;n=-(e=l*lt),o=-(r=-l*ut)}pt?n=-o*lt/ut:o=-n*ut/lt}return ht&&(V(it,e),Jt("x")),pt&&(V(at,r),Jt("y")),te([n,o,lt,ut]),Qt(),void t.emit("plotly_relayouting",_t)}var c,f,h="w"===ht==("n"===pt)?1:-1;if(ht&&pt&&(ct.isSubplotConstrained||ft.isSubplotConstrained)){var d=(e/lt+h*r/ut)/2;e=d*lt,r=h*d*ut}if("w"===ht?e=y(it,0,e):"e"===ht?e=y(it,1,-e):ht||(e=0),"n"===pt?r=y(at,1,r):"s"===pt?r=y(at,0,-r):pt||(r=0),c="w"===ht?e:0,f="n"===pt?r:0,ct.isSubplotConstrained&&!ft.isSubplotConstrained||ft.isSubplotConstrained&&ht&&pt&&h>0){var i;if(ft.isSubplotConstrained||!ht&&1===pt.length){for(i=0;i<it.length;i++)it[i].range=it[i]._r.slice(),P(it[i],1-r/ut);c=(e=r*lt/ut)/2}if(ft.isSubplotConstrained||!pt&&1===ht.length){for(i=0;i<at.length;i++)at[i].range=at[i]._r.slice(),P(at[i],1-e/lt);f=(r=e*ut/lt)/2}}ft.isSubplotConstrained&&pt||Jt("x"),ft.isSubplotConstrained&&ht||Jt("y");var v=lt-e,m=ut-r;!ft.isSubplotConstrained||ht&&pt||(ht?(f=c?0:e*ut/lt,m=v*ut/lt):(c=f?0:r*lt/ut,v=m*lt/ut)),te([c,f,v,m]),Qt(),t.emit("plotly_relayouting",_t)}function y(t,e,r){for(var n,o,l=1-e,i=0;i<t.length;i++){var c=t[i];if(!c.fixedrange){n=c,o=c._rl[l]+(c._rl[e]-c._rl[l])/Y(r/c._length);var f=c.l2r(o);!1!==f&&void 0!==f&&(c.range[e]=f)}}return n._length*(n._rl[e]-o)/(n._rl[e]-n._rl[l])}}function Jt(t,e){for(var r=ft.isSubplotConstrained?{x:at,y:it}[t]:ft[t+"axes"],n=ft.isSubplotConstrained?{x:it,y:at}[t]:[],i=0;i<r.length;i++){var o=r[i],l=o._id,c=ft.xLinks[l]||ft.yLinks[l],f=n[0]||Z[c]||nt[c];f&&(e?(e[o._name+".range[0]"]=e[f._name+".range[0]"],e[o._name+".range[1]"]=e[f._name+".range[1]"]):o.range=f.range.slice())}}function Qt(){var i,e=[];function r(t){for(i=0;i<t.length;i++)t[i].fixedrange||e.push(t[i]._id)}for(vt&&(r(it),r(ct.xaxes),r(ft.xaxes)),mt&&(r(at),r(ct.yaxes),r(ft.yaxes)),_t={},i=0;i<e.length;i++){var n=e[i],o=C(t,n);x.drawOne(t,o,{skipTitle:!0}),_t[o._name+".range[0]"]=o.range[0],_t[o._name+".range[1]"]=o.range[1]}x.redrawComponents(t,e)}function Kt(){if(!t._transitioningWithDuration){var e=t._context.doubleClick,r=[];ht&&(r=r.concat(it)),pt&&(r=r.concat(at)),ft.xaxes&&(r=r.concat(ft.xaxes)),ft.yaxes&&(r=r.concat(ft.yaxes));var n,i,o,l={};if("reset+autosize"===e)for(e="autosize",i=0;i<r.length;i++)if((n=r[i])._rangeInitial&&(n.range[0]!==n._rangeInitial[0]||n.range[1]!==n._rangeInitial[1])||!n._rangeInitial&&!n.autorange){e="reset";break}if("autosize"===e)for(i=0;i<r.length;i++)(n=r[i]).fixedrange||(l[n._name+".autorange"]=!0);else if("reset"===e)for((ht||ct.isSubplotConstrained)&&(r=r.concat(ct.xaxes)),pt&&!ct.isSubplotConstrained&&(r=r.concat(ct.yaxes)),ct.isSubplotConstrained&&(ht?pt||(r=r.concat(at)):r=r.concat(it)),i=0;i<r.length;i++)(n=r[i]).fixedrange||(n._rangeInitial?(o=n._rangeInitial,l[n._name+".range[0]"]=o[0],l[n._name+".range[1]"]=o[1]):l[n._name+".autorange"]=!0);t.emit("plotly_doubleclick",null),c.call("_guiRelayout",t,l)}}function $t(){te([0,0,lt,ut]),f.syncOrAsync([L.previousPromises,function(){t._fullLayout._replotting=!1,c.call("_guiRelayout",t,_t)}],t)}function te(e){var i,r,n,o,l=t._fullLayout,h=l._plots,d=l._subplots.cartesian;if(xt&&c.subplotsRegistry.splom.drag(t),yt)for(i=0;i<d.length;i++)if(n=(r=h[d[i]]).xaxis,o=r.yaxis,r._scene){var v=f.simpleMap(n.range,n.r2l),y=f.simpleMap(o.range,o.r2l);r._scene.update({range:[v[0],y[0],v[1],y[1]]})}if((xt||yt)&&(E(t),S(t)),bt){var x=e[2]/F._length,w=e[3]/j._length;for(i=0;i<d.length;i++){n=(r=h[d[i]]).xaxis,o=r.yaxis;var A,T,k,L,C=(vt||ft.isSubplotConstrained)&&!n.fixedrange&&Z[n._id],O=(mt||ft.isSubplotConstrained)&&!o.fixedrange&&nt[o._id];if(C?(A=x,k=M||ft.isSubplotConstrained?e[0]:ne(n,A)):ft.xaHash[n._id]?(A=x,k=e[0]*n._length/F._length):ft.yaHash[n._id]?(A=w,k="ns"===pt?-e[1]*n._length/j._length:ne(n,A,{n:"top",s:"bottom"}[pt])):k=re(n,A=ee(n,x,w)),O?(T=w,L=_||ft.isSubplotConstrained?e[1]:ne(o,T)):ft.yaHash[o._id]?(T=w,L=e[1]*o._length/j._length):ft.xaHash[o._id]?(T=x,L="ew"===ht?-e[0]*o._length/F._length:ne(o,T,{e:"right",w:"left"}[ht])):L=re(o,T=ee(o,x,w)),A||T){A||(A=1),T||(T=1);var R=n._offset-k/A,D=o._offset-L/T;r.clipRect.call(m.setTranslate,k,L).call(m.setScale,A,T),r.plot.call(m.setTranslate,R,D).call(m.setScale,1/A,1/T),A===r.xScaleFactor&&T===r.yScaleFactor||(m.setPointGroupScale(r.zoomScalePts,A,T),m.setTextPointsScale(r.zoomScaleTxt,A,T)),m.hideOutsideRangePoints(r.clipOnAxisFalseTraces,r),r.xScaleFactor=A,r.yScaleFactor=T}}}}function ee(t,e,r){return t.fixedrange?0:vt&&ct.xaHash[t._id]?e:mt&&(ct.isSubplotConstrained?ct.xaHash:ct.yaHash)[t._id]?r:0}function re(t,e){return e?(t.range=t._r.slice(),P(t,e),ne(t,e)):0}function ne(t,e,r){return t._length*(1-e)*k[r||t.constraintoward||"middle"]}return _.length*M.length!=1&&tt(St,(function(e){if(t._context._scrollZoom.cartesian||t._fullLayout._enablescrollzoom){if(Bt(),t._transitioningWithDuration)return e.preventDefault(),void e.stopPropagation();Et(),clearTimeout(qt);var r=-e.deltaY;if(isFinite(r)||(r=e.wheelDelta/10),isFinite(r)){var i,n=Math.exp(-Math.min(Math.max(r,-20),20)/200),o=Xt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),l=(e.clientX-o.left)/o.width,c=(o.bottom-e.clientY)/o.height;if(vt){for(M||(l=.5),i=0;i<it.length;i++)h(it[i],l,n);Jt("x"),Gt[2]*=n,Gt[0]+=Gt[2]*l*(1/n-1)}if(mt){for(_||(c=.5),i=0;i<at.length;i++)h(at[i],c,n);Jt("y"),Gt[3]*=n,Gt[1]+=Gt[3]*(1-c)*(1/n-1)}te(Gt),Qt(),t.emit("plotly_relayouting",_t),qt=setTimeout((function(){Gt=[0,0,lt,ut],$t()}),Wt),e.preventDefault()}else f.log("Did not find wheel motion attributes: ",e)}function h(t,e,r){if(!t.fixedrange){var n=f.simpleMap(t.range,t.r2l),o=n[0]+(n[1]-n[0])*e;t.range=n.map((function(e){return t.l2r(o+(e-o)*r)}))}}})),St},makeDragger:j,makeRectDragger:B,makeZoombox:G,makeCorners:W,updateZoombox:X,xyCorners:K,transitionZoombox:Z,removeZoombox:J,showDoubleClickNotifier:Q,attachWheelEventHandler:tt}},function(t,e,r){"use strict";e.manage=r(806)},function(t,e,r){"use strict";var n=r(432),o=r(442),l=r(422),c=r(459).isUnifiedHover,f=r(807),h=r(808);t.exports=function(t){var e=t._fullLayout,r=t._context,v=e._modeBar;if(r.displayModeBar||r.watermark){if(!Array.isArray(r.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(r.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var m,y=r.modeBarButtons;m=Array.isArray(y)&&y.length?function(t){for(var i=0;i<t.length;i++)for(var e=t[i],r=0;r<e.length;r++){var button=e[r];if("string"==typeof button){if(void 0===h[button])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));t[i][r]=h[button]}}return t}(y):!r.displayModeBar&&r.watermark?[]:function(t){var e=t._fullLayout,r=t._fullData,f=t._context,v=f.modeBarButtonsToRemove,m=f.modeBarButtonsToAdd,y=e._has("cartesian"),x=e._has("gl3d"),_=e._has("geo"),w=e._has("pie"),M=e._has("funnelarea"),A=e._has("gl2d"),T=e._has("ternary"),k=e._has("mapbox"),E=e._has("polar"),S=e._has("sankey"),L=function(t){for(var e=n.list({_fullLayout:t},null,!0),i=0;i<e.length;i++)if(!e[i].fixedrange)return!1;return!0}(e),C=c(e.hovermode),O=[];function R(t){if(t.length){for(var e=[],i=0;i<t.length;i++){var button=t[i];-1===v.indexOf(button)&&e.push(h[button])}O.push(e)}}var D=["toImage"];f.showEditInChartStudio?D.push("editInChartStudio"):f.showSendToCloud&&D.push("sendDataToCloud");R(D);var P=[],I=[],N=[],z=[];(y||A||w||M||T)+_+x+k+E>1?(I=["toggleHover"],N=["resetViews"]):_?(P=["zoomInGeo","zoomOutGeo"],I=["hoverClosestGeo"],N=["resetGeo"]):x?(I=["hoverClosest3d"],N=["resetCameraDefault3d","resetCameraLastSave3d"]):k?(P=["zoomInMapbox","zoomOutMapbox"],I=["toggleHover"],N=["resetViewMapbox"]):A?I=["hoverClosestGl2d"]:w?I=["hoverClosestPie"]:S?(I=["hoverClosestCartesian","hoverCompareCartesian"],N=["resetViewSankey"]):I=["toggleHover"];y&&(I=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]);(function(t){for(var i=0;i<t.length;i++)if(!l.traceIs(t[i],"noHover"))return!1;return!0}(r)||C)&&(I=[]);!y&&!A||L||(P=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==N[0]&&(N=["resetScale2d"]));x?z=["zoom3d","pan3d","orbitRotation","tableRotation"]:(y||A)&&!L||T?z=["zoom2d","pan2d"]:k||_?z=["pan2d"]:E&&(z=["zoom2d"]);(function(t){for(var e=!1,i=0;i<t.length&&!e;i++){var r=t[i];r._module&&r._module.selectPoints&&(l.traceIs(r,"scatter-like")?(o.hasMarkers(r)||o.hasText(r))&&(e=!0):l.traceIs(r,"box-violin")&&"all"!==r.boxpoints&&"all"!==r.points||(e=!0))}return e})(r)&&z.push("select2d","lasso2d");if(Array.isArray(m)){for(var F=[],i=0;i<m.length;i++){var b=m[i];"string"==typeof b?-1!==d.indexOf(b)&&(e._has("mapbox")||e._has("cartesian"))&&z.push(b):F.push(b)}m=F}return R(z),R(P.concat(N)),R(I),function(t,e){if(e.length)if(Array.isArray(e[0]))for(var i=0;i<e.length;i++)t.push(e[i]);else t.push(e);return t}(O,m)}(t),v?v.update(t,m):e._modeBar=f(t,m)}else v&&(v.destroy(),delete e._modeBar)};var d=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"]},function(t,e,r){"use strict";var n=r(423),o=r(424),l=r(421),c=r(547),f=new DOMParser;function h(t){this.container=t.container,this.element=document.createElement("div"),this.update(t.graphInfo,t.buttons),this.container.appendChild(this.element)}var d=h.prototype;d.update=function(t,e){this.graphInfo=t;var r=this.graphInfo._context,n=this.graphInfo._fullLayout,o="modebar-"+n._uid;this.element.setAttribute("id",o),this._uid=o,this.element.className="modebar","hover"===r.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===n.modebar.orientation&&(this.element.className+=" vertical",e=e.reverse());var style=n.modebar,c="hover"===r.displayModeBar?".js-plotly-plot .plotly:hover ":"";l.deleteRelatedStyleRule(o),l.addRelatedStyleRule(o,c+"#"+o+" .modebar-group","background-color: "+style.bgcolor),l.addRelatedStyleRule(o,"#"+o+" .modebar-btn .icon path","fill: "+style.color),l.addRelatedStyleRule(o,"#"+o+" .modebar-btn:hover .icon path","fill: "+style.activecolor),l.addRelatedStyleRule(o,"#"+o+" .modebar-btn.active .icon path","fill: "+style.activecolor);var f=!this.hasButtons(e),h=this.hasLogo!==r.displaylogo,d=this.locale!==r.locale;if(this.locale=r.locale,(f||h||d)&&(this.removeAllButtons(),this.updateButtons(e),r.watermark||r.displaylogo)){var v=this.getLogo();r.watermark&&(v.className=v.className+" watermark"),"v"===n.modebar.orientation?this.element.insertBefore(v,this.element.childNodes[0]):this.element.appendChild(v),this.hasLogo=!0}this.updateActiveButton()},d.updateButtons=function(t){var e=this;this.buttons=t,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach((function(t){var r=e.createGroup();t.forEach((function(t){var n=t.name;if(!n)throw new Error("must provide button 'name' in button config");if(-1!==e.buttonsNames.indexOf(n))throw new Error("button name '"+n+"' is taken");e.buttonsNames.push(n);var button=e.createButton(t);e.buttonElements.push(button),r.appendChild(button)})),e.element.appendChild(r)}))},d.createGroup=function(){var t=document.createElement("div");return t.className="modebar-group",t},d.createButton=function(t){var e=this,button=document.createElement("a");button.setAttribute("rel","tooltip"),button.className="modebar-btn";var title=t.title;void 0===title?title=t.name:"function"==typeof title&&(title=title(this.graphInfo)),(title||0===title)&&button.setAttribute("data-title",title),void 0!==t.attr&&button.setAttribute("data-attr",t.attr);var r=t.val;if(void 0!==r&&("function"==typeof r&&(r=r(this.graphInfo)),button.setAttribute("data-val",r)),"function"!=typeof t.click)throw new Error("must provide button 'click' function in button config");button.addEventListener("click",(function(r){t.click(e.graphInfo,r),e.updateActiveButton(r.currentTarget)})),button.setAttribute("data-toggle",t.toggle||!1),t.toggle&&n.select(button).classed("active",!0);var o=t.icon;return"function"==typeof o?button.appendChild(o()):button.appendChild(this.createIcon(o||c.question)),button.setAttribute("data-gravity",t.gravity||"n"),button},d.createIcon=function(t){var e,r=o(t.height)?Number(t.height):t.ascent-t.descent,n="http://www.w3.org/2000/svg";if(t.path){(e=document.createElementNS(n,"svg")).setAttribute("viewBox",[0,0,t.width,r].join(" ")),e.setAttribute("class","icon");var path=document.createElementNS(n,"path");path.setAttribute("d",t.path),t.transform?path.setAttribute("transform",t.transform):void 0!==t.ascent&&path.setAttribute("transform","matrix(1 0 0 -1 0 "+t.ascent+")"),e.appendChild(path)}t.svg&&(e=f.parseFromString(t.svg,"application/xml").childNodes[0]);return e.setAttribute("height","1em"),e.setAttribute("width","1em"),e},d.updateActiveButton=function(t){var e=this.graphInfo._fullLayout,r=void 0!==t?t.getAttribute("data-attr"):null;this.buttonElements.forEach((function(button){var t=button.getAttribute("data-val")||!0,o=button.getAttribute("data-attr"),c="true"===button.getAttribute("data-toggle"),f=n.select(button);if(c)o===r&&f.classed("active",!f.classed("active"));else{var h=null===o?o:l.nestedProperty(e,o).get();f.classed("active",h===t)}}))},d.hasButtons=function(t){var e=this.buttons;if(!e)return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i){if(t[i].length!==e[i].length)return!1;for(var r=0;r<t[i].length;r++)if(t[i][r].name!==e[i][r].name)return!1}return!0},d.getLogo=function(){var t=this.createGroup(),a=document.createElement("a");return a.href="https://plotly.com/",a.target="_blank",a.setAttribute("data-title",l._(this.graphInfo,"Produced with Plotly")),a.className="modebar-btn plotlyjsicon modebar-btn--logo",a.appendChild(this.createIcon(c.newplotlylogo)),t.appendChild(a),t},d.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},d.destroy=function(){l.removeElement(this.container.querySelector(".modebar")),l.deleteRelatedStyleRule(this._uid)},t.exports=function(t,e){var r=t._fullLayout,o=new h({graphInfo:t,container:r._modebardiv.node(),buttons:e});return r._privateplot&&n.select(o.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),o}},function(t,e,r){"use strict";var n=r(422),o=r(431),l=r(432),c=r(547),f=r(642).eraseActiveShape,h=r(421),d=h._,v=t.exports={};function m(t,e){var r,i,button=e.currentTarget,o=button.getAttribute("data-attr"),c=button.getAttribute("data-val")||!0,f=t._fullLayout,h={},d=l.list(t,null,!0),v=f._cartesianSpikesEnabled;if("zoom"===o){var m,y="in"===c?.5:2,x=(1+y)/2,_=(1-y)/2;for(i=0;i<d.length;i++)if(!(r=d[i]).fixedrange)if(m=r._name,"auto"===c)h[m+".autorange"]=!0;else if("reset"===c){if(void 0===r._rangeInitial)h[m+".autorange"]=!0;else{var w=r._rangeInitial.slice();h[m+".range[0]"]=w[0],h[m+".range[1]"]=w[1]}void 0!==r._showSpikeInitial&&(h[m+".showspikes"]=r._showSpikeInitial,"on"!==v||r._showSpikeInitial||(v="off"))}else{var M=[r.r2l(r.range[0]),r.r2l(r.range[1])],A=[x*M[0]+_*M[1],x*M[1]+_*M[0]];h[m+".range[0]"]=r.l2r(A[0]),h[m+".range[1]"]=r.l2r(A[1])}}else"hovermode"!==o||"x"!==c&&"y"!==c||(c=f._isHoriz?"y":"x",button.setAttribute("data-val",c)),h[o]=c;f._cartesianSpikesEnabled=v,n.call("_guiRelayout",t,h)}function y(t,e){for(var button=e.currentTarget,r=button.getAttribute("data-attr"),o=button.getAttribute("data-val")||!0,l=t._fullLayout._subplots.gl3d||[],c={},f=r.split("."),i=0;i<l.length;i++)c[l[i]+"."+f[1]]=o;var h="pan"===o?o:"zoom";c.dragmode=h,n.call("_guiRelayout",t,c)}function x(t,e){for(var r=e.currentTarget.getAttribute("data-attr"),o="resetLastSave"===r,l="resetDefault"===r,c=t._fullLayout,f=c._subplots.gl3d||[],h={},i=0;i<f.length;i++){var d,v=f[i],m=v+".camera",y=v+".aspectratio",x=v+".aspectmode",_=c[v]._scene;o?(h[m+".up"]=_.viewInitial.up,h[m+".eye"]=_.viewInitial.eye,h[m+".center"]=_.viewInitial.center,d=!0):l&&(h[m+".up"]=null,h[m+".eye"]=null,h[m+".center"]=null,d=!0),d&&(h[y+".x"]=_.viewInitial.aspectratio.x,h[y+".y"]=_.viewInitial.aspectratio.y,h[y+".z"]=_.viewInitial.aspectratio.z,h[x]=_.viewInitial.aspectmode)}n.call("_guiRelayout",t,h)}function _(t,e){var button=e.currentTarget,r=button._previousVal,n=t._fullLayout,o=n._subplots.gl3d||[],l=["xaxis","yaxis","zaxis"],c={},f={};if(r)f=r,button._previousVal=null;else{for(var i=0;i<o.length;i++){var h=o[i],d=n[h],v=h+".hovermode";c[v]=d.hovermode,f[v]=!1;for(var m=0;m<3;m++){var y=l[m],x=h+"."+y+".showspikes";f[x]=!1,c[x]=d[y].showspikes}}button._previousVal=c}return f}function w(t,e){for(var button=e.currentTarget,r=button.getAttribute("data-attr"),o=button.getAttribute("data-val")||!0,l=t._fullLayout,c=l._subplots.geo||[],i=0;i<c.length;i++){var f=c[i],h=l[f];if("zoom"===r){var d=h.projection.scale,v="in"===o?2*d:.5*d;n.call("_guiRelayout",t,f+".projection.scale",v)}}"reset"===r&&k(t,"geo")}function M(t){var e=t._fullLayout;return!e.hovermode&&(e._has("cartesian")?e._isHoriz?"y":"x":"closest")}function A(t){var e=M(t);n.call("_guiRelayout",t,"hovermode",e)}function T(t,e){for(var r=e.currentTarget.getAttribute("data-val"),o=t._fullLayout,l=o._subplots.mapbox||[],c={},i=0;i<l.length;i++){var f=l[i],h=o[f].zoom,d="in"===r?1.05*h:h/1.05;c[f+".zoom"]=d}n.call("_guiRelayout",t,c)}function k(t,e){for(var r=t._fullLayout,o=r._subplots[e]||[],l={},i=0;i<o.length;i++)for(var c=o[i],f=r[c]._subplot.viewInitial,h=Object.keys(f),d=0;d<h.length;d++){var v=h[d];l[c+"."+v]=f[v]}n.call("_guiRelayout",t,l)}v.toImage={name:"toImage",title:function(t){var e=(t._context.toImageButtonOptions||{}).format||"png";return d(t,"png"===e?"Download plot as a png":"Download plot")},icon:c.camera,click:function(t){var e=t._context.toImageButtonOptions,r={format:e.format||"png"};h.notifier(d(t,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==r.format&&h.isIE()&&(h.notifier(d(t,"IE only supports svg.  Changing format to svg."),"long"),r.format="svg"),["filename","width","height","scale"].forEach((function(t){t in e&&(r[t]=e[t])})),n.call("downloadImage",t,r).then((function(e){h.notifier(d(t,"Snapshot succeeded")+" - "+e,"long")})).catch((function(){h.notifier(d(t,"Sorry, there was a problem downloading your snapshot!"),"long")}))}},v.sendDataToCloud={name:"sendDataToCloud",title:function(t){return d(t,"Edit in Chart Studio")},icon:c.disk,click:function(t){o.sendDataToCloud(t)}},v.editInChartStudio={name:"editInChartStudio",title:function(t){return d(t,"Edit in Chart Studio")},icon:c.pencil,click:function(t){o.sendDataToCloud(t)}},v.zoom2d={name:"zoom2d",title:function(t){return d(t,"Zoom")},attr:"dragmode",val:"zoom",icon:c.zoombox,click:m},v.pan2d={name:"pan2d",title:function(t){return d(t,"Pan")},attr:"dragmode",val:"pan",icon:c.pan,click:m},v.select2d={name:"select2d",title:function(t){return d(t,"Box Select")},attr:"dragmode",val:"select",icon:c.selectbox,click:m},v.lasso2d={name:"lasso2d",title:function(t){return d(t,"Lasso Select")},attr:"dragmode",val:"lasso",icon:c.lasso,click:m},v.drawclosedpath={name:"drawclosedpath",title:function(t){return d(t,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:c.drawclosedpath,click:m},v.drawopenpath={name:"drawopenpath",title:function(t){return d(t,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:c.drawopenpath,click:m},v.drawline={name:"drawline",title:function(t){return d(t,"Draw line")},attr:"dragmode",val:"drawline",icon:c.drawline,click:m},v.drawrect={name:"drawrect",title:function(t){return d(t,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:c.drawrect,click:m},v.drawcircle={name:"drawcircle",title:function(t){return d(t,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:c.drawcircle,click:m},v.eraseshape={name:"eraseshape",title:function(t){return d(t,"Erase active shape")},icon:c.eraseshape,click:f},v.zoomIn2d={name:"zoomIn2d",title:function(t){return d(t,"Zoom in")},attr:"zoom",val:"in",icon:c.zoom_plus,click:m},v.zoomOut2d={name:"zoomOut2d",title:function(t){return d(t,"Zoom out")},attr:"zoom",val:"out",icon:c.zoom_minus,click:m},v.autoScale2d={name:"autoScale2d",title:function(t){return d(t,"Autoscale")},attr:"zoom",val:"auto",icon:c.autoscale,click:m},v.resetScale2d={name:"resetScale2d",title:function(t){return d(t,"Reset axes")},attr:"zoom",val:"reset",icon:c.home,click:m},v.hoverClosestCartesian={name:"hoverClosestCartesian",title:function(t){return d(t,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:c.tooltip_basic,gravity:"ne",click:m},v.hoverCompareCartesian={name:"hoverCompareCartesian",title:function(t){return d(t,"Compare data on hover")},attr:"hovermode",val:function(t){return t._fullLayout._isHoriz?"y":"x"},icon:c.tooltip_compare,gravity:"ne",click:m},v.zoom3d={name:"zoom3d",title:function(t){return d(t,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:c.zoombox,click:y},v.pan3d={name:"pan3d",title:function(t){return d(t,"Pan")},attr:"scene.dragmode",val:"pan",icon:c.pan,click:y},v.orbitRotation={name:"orbitRotation",title:function(t){return d(t,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:c["3d_rotate"],click:y},v.tableRotation={name:"tableRotation",title:function(t){return d(t,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:c["z-axis"],click:y},v.resetCameraDefault3d={name:"resetCameraDefault3d",title:function(t){return d(t,"Reset camera to default")},attr:"resetDefault",icon:c.home,click:x},v.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:function(t){return d(t,"Reset camera to last save")},attr:"resetLastSave",icon:c.movie,click:x},v.hoverClosest3d={name:"hoverClosest3d",title:function(t){return d(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:c.tooltip_basic,gravity:"ne",click:function(t,e){var r=_(t,e);n.call("_guiRelayout",t,r)}},v.zoomInGeo={name:"zoomInGeo",title:function(t){return d(t,"Zoom in")},attr:"zoom",val:"in",icon:c.zoom_plus,click:w},v.zoomOutGeo={name:"zoomOutGeo",title:function(t){return d(t,"Zoom out")},attr:"zoom",val:"out",icon:c.zoom_minus,click:w},v.resetGeo={name:"resetGeo",title:function(t){return d(t,"Reset")},attr:"reset",val:null,icon:c.autoscale,click:w},v.hoverClosestGeo={name:"hoverClosestGeo",title:function(t){return d(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:c.tooltip_basic,gravity:"ne",click:A},v.hoverClosestGl2d={name:"hoverClosestGl2d",title:function(t){return d(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:c.tooltip_basic,gravity:"ne",click:A},v.hoverClosestPie={name:"hoverClosestPie",title:function(t){return d(t,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:c.tooltip_basic,gravity:"ne",click:A},v.resetViewSankey={name:"resetSankeyGroup",title:function(t){return d(t,"Reset view")},icon:c.home,click:function(t){for(var e={"node.groups":[],"node.x":[],"node.y":[]},i=0;i<t._fullData.length;i++){var r=t._fullData[i]._viewInitial;e["node.groups"].push(r.node.groups.slice()),e["node.x"].push(r.node.x.slice()),e["node.y"].push(r.node.y.slice())}n.call("restyle",t,e)}},v.toggleHover={name:"toggleHover",title:function(t){return d(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:c.tooltip_basic,gravity:"ne",click:function(t,e){var r=_(t,e);r.hovermode=M(t),n.call("_guiRelayout",t,r)}},v.resetViews={name:"resetViews",title:function(t){return d(t,"Reset views")},icon:c.home,click:function(t,e){var button=e.currentTarget;button.setAttribute("data-attr","zoom"),button.setAttribute("data-val","reset"),m(t,e),button.setAttribute("data-attr","resetLastSave"),x(t,e),k(t,"geo"),k(t,"mapbox")}},v.toggleSpikelines={name:"toggleSpikelines",title:function(t){return d(t,"Toggle Spike Lines")},icon:c.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(t){var e=t._fullLayout,r=e._cartesianSpikesEnabled;e._cartesianSpikesEnabled="on"===r?"off":"on",n.call("_guiRelayout",t,function(t){for(var e="on"===t._fullLayout._cartesianSpikesEnabled,r=l.list(t,null,!0),n={},i=0;i<r.length;i++){var o=r[i];n[o._name+".showspikes"]=!!e||o._showSpikeInitial}return n}(t))}},v.resetViewMapbox={name:"resetViewMapbox",title:function(t){return d(t,"Reset view")},attr:"reset",icon:c.home,click:function(t){k(t,"mapbox")}},v.zoomInMapbox={name:"zoomInMapbox",title:function(t){return d(t,"Zoom in")},attr:"zoom",val:"in",icon:c.zoom_plus,click:T},v.zoomOutMapbox={name:"zoomOutMapbox",title:function(t){return d(t,"Zoom out")},attr:"zoom",val:"out",icon:c.zoom_minus,click:T}},function(t,e){t.exports=function(path){var data=[];return path.replace(n,(function(t,e,n){var l=e.toLowerCase();for(n=function(t){var e=t.match(o);return e?e.map(Number):[]}(n),"m"==l&&n.length>2&&(data.push([e].concat(n.splice(0,2))),l="l",e="m"==e?"l":"L");;){if(n.length==r[l])return n.unshift(e),data.push(n);if(n.length<r[l])throw new Error("malformed path data");data.push([e].concat(n.splice(0,r[l])))}})),data};var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var o=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},function(t,e,r){var n,o=r(811),l=r(812),c=r(813),f=r(815),h=r(816),d=r(817),v=!1,m=l();function y(t,e,r){var o=n.segments(t),l=n.segments(e),c=r(n.combine(o,l));return n.polygon(c)}n={buildLog:function(t){return!0===t?v=o():!1===t&&(v=!1),!1!==v&&v.list},epsilon:function(t){return m.epsilon(t)},segments:function(t){var i=c(!0,m,v);return t.regions.forEach(i.addRegion),{segments:i.calculate(t.inverted),inverted:t.inverted}},combine:function(t,e){return{combined:c(!1,m,v).calculate(t.segments,t.inverted,e.segments,e.inverted),inverted1:t.inverted,inverted2:e.inverted}},selectUnion:function(t){return{segments:h.union(t.combined,v),inverted:t.inverted1||t.inverted2}},selectIntersect:function(t){return{segments:h.intersect(t.combined,v),inverted:t.inverted1&&t.inverted2}},selectDifference:function(t){return{segments:h.difference(t.combined,v),inverted:t.inverted1&&!t.inverted2}},selectDifferenceRev:function(t){return{segments:h.differenceRev(t.combined,v),inverted:!t.inverted1&&t.inverted2}},selectXor:function(t){return{segments:h.xor(t.combined,v),inverted:t.inverted1!==t.inverted2}},polygon:function(t){return{regions:f(t.segments,m,v),inverted:t.inverted}},polygonFromGeoJSON:function(t){return d.toPolygon(n,t)},polygonToGeoJSON:function(t){return d.fromPolygon(n,m,t)},union:function(t,e){return y(t,e,n.selectUnion)},intersect:function(t,e){return y(t,e,n.selectIntersect)},difference:function(t,e){return y(t,e,n.selectDifference)},differenceRev:function(t,e){return y(t,e,n.selectDifferenceRev)},xor:function(t,e){return y(t,e,n.selectXor)}},"object"==typeof window&&(window.PolyBool=n),t.exports=n},function(t,e){t.exports=function(){var t,e=0,r=!1;function n(e,data){return t.list.push({type:e,data:data?JSON.parse(JSON.stringify(data)):void 0}),t}return t={list:[],segmentId:function(){return e++},checkIntersection:function(t,e){return n("check",{seg1:t,seg2:e})},segmentChop:function(t,e){return n("div_seg",{seg:t,pt:e}),n("chop",{seg:t,pt:e})},statusRemove:function(t){return n("pop_seg",{seg:t})},segmentUpdate:function(t){return n("seg_update",{seg:t})},segmentNew:function(t,e){return n("new_seg",{seg:t,primary:e})},segmentRemove:function(t){return n("rem_seg",{seg:t})},tempStatus:function(t,e,r){return n("temp_status",{seg:t,above:e,below:r})},rewind:function(t){return n("rewind",{seg:t})},status:function(t,e,r){return n("status",{seg:t,above:e,below:r})},vert:function(e){return e===r?t:(r=e,n("vert",{x:e}))},log:function(data){return"string"!=typeof data&&(data=JSON.stringify(data,!1,"  ")),n("log",{txt:data})},reset:function(){return n("reset")},selected:function(t){return n("selected",{segs:t})},chainStart:function(t){return n("chain_start",{seg:t})},chainRemoveHead:function(t,e){return n("chain_rem_head",{index:t,pt:e})},chainRemoveTail:function(t,e){return n("chain_rem_tail",{index:t,pt:e})},chainNew:function(t,e){return n("chain_new",{pt1:t,pt2:e})},chainMatch:function(t){return n("chain_match",{index:t})},chainClose:function(t){return n("chain_close",{index:t})},chainAddHead:function(t,e){return n("chain_add_head",{index:t,pt:e})},chainAddTail:function(t,e){return n("chain_add_tail",{index:t,pt:e})},chainConnect:function(t,e){return n("chain_con",{index1:t,index2:e})},chainReverse:function(t){return n("chain_rev",{index:t})},chainJoin:function(t,e){return n("chain_join",{index1:t,index2:e})},done:function(){return n("done")}}}},function(t,e){t.exports=function(t){"number"!=typeof t&&(t=1e-10);var e={epsilon:function(e){return"number"==typeof e&&(t=e),t},pointAboveOrOnLine:function(e,r,n){var o=r[0],l=r[1],c=n[0],f=n[1],h=e[0];return(c-o)*(e[1]-l)-(f-l)*(h-o)>=-t},pointBetween:function(p,e,r){var n=p[1]-e[1],o=r[0]-e[0],l=p[0]-e[0],c=r[1]-e[1],f=l*o+n*c;return!(f<t)&&!(f-(o*o+c*c)>-t)},pointsSameX:function(e,r){return Math.abs(e[0]-r[0])<t},pointsSameY:function(e,r){return Math.abs(e[1]-r[1])<t},pointsSame:function(t,r){return e.pointsSameX(t,r)&&e.pointsSameY(t,r)},pointsCompare:function(t,r){return e.pointsSameX(t,r)?e.pointsSameY(t,r)?0:t[1]<r[1]?-1:1:t[0]<r[0]?-1:1},pointsCollinear:function(e,r,n){var o=e[0]-r[0],l=e[1]-r[1],c=r[0]-n[0],f=r[1]-n[1];return Math.abs(o*f-c*l)<t},linesIntersect:function(e,r,n,o){var l=r[0]-e[0],c=r[1]-e[1],f=o[0]-n[0],h=o[1]-n[1],d=l*h-c*f;if(Math.abs(d)<t)return!1;var v=e[0]-n[0],m=e[1]-n[1],y=(f*m-h*v)/d,x=(l*m-c*v)/d,_={alongA:0,alongB:0,pt:[e[0]+y*l,e[1]+y*c]};return _.alongA=y<=-t?-2:y<t?-1:y-1<=-t?0:y-1<t?1:2,_.alongB=x<=-t?-2:x<t?-1:x-1<=-t?0:x-1<t?1:2,_},pointInsideRegion:function(e,r){for(var n=e[0],o=e[1],l=r[r.length-1][0],c=r[r.length-1][1],f=!1,i=0;i<r.length;i++){var h=r[i][0],d=r[i][1];d-o>t!=c-o>t&&(l-h)*(o-d)/(c-d)+h-n>t&&(f=!f),l=h,c=d}return f}};return e}},function(t,e,r){var n=r(814);t.exports=function(t,e,r){function o(t,e,n){return{id:r?r.segmentId():-1,start:t,end:e,myFill:{above:n.myFill.above,below:n.myFill.below},otherFill:null}}var l=n.create();function c(t,r){l.insertBefore(t,(function(n){return function(t,r,n,o,l,c){var f=e.pointsCompare(r,l);return 0!==f?f:e.pointsSame(n,c)?0:t!==o?t?1:-1:e.pointAboveOrOnLine(n,o?l:c,o?c:l)?1:-1}(t.isStart,t.pt,r,n.isStart,n.pt,n.other.pt)<0}))}function f(t,e){var r=function(t,e){var r=n.node({isStart:!0,pt:t.start,seg:t,primary:e,other:null,status:null});return c(r,t.end),r}(t,e);return function(t,e,r){var o=n.node({isStart:!1,pt:e.end,seg:e,primary:r,other:t,status:null});t.other=o,c(o,t.pt)}(r,t,e),r}function h(t,e){var n=o(e,t.seg.end,t.seg);return function(t,e){r&&r.segmentChop(t.seg,e),t.other.remove(),t.seg.end=e,t.other.pt=e,c(t.other,t.pt)}(t,e),f(n,t.primary)}function d(o,c){var f=n.create();function d(t){return f.findTransition((function(r){var n,o,l,c,f,h;return(n=t,o=r.ev,l=n.seg.start,c=n.seg.end,f=o.seg.start,h=o.seg.end,e.pointsCollinear(l,f,h)?e.pointsCollinear(c,f,h)||e.pointAboveOrOnLine(c,f,h)?1:-1:e.pointAboveOrOnLine(l,f,h)?1:-1)>0}))}function v(t,n){var o=t.seg,l=n.seg,c=o.start,f=o.end,d=l.start,v=l.end;r&&r.checkIntersection(o,l);var i=e.linesIntersect(c,f,d,v);if(!1===i){if(!e.pointsCollinear(c,f,d))return!1;if(e.pointsSame(c,v)||e.pointsSame(f,d))return!1;var m=e.pointsSame(c,d),y=e.pointsSame(f,v);if(m&&y)return n;var x=!m&&e.pointBetween(c,d,v),_=!y&&e.pointBetween(f,d,v);if(m)return _?h(n,f):h(t,v),n;x&&(y||(_?h(n,f):h(t,v)),h(n,c))}else 0===i.alongA&&(-1===i.alongB?h(t,d):0===i.alongB?h(t,i.pt):1===i.alongB&&h(t,v)),0===i.alongB&&(-1===i.alongA?h(n,c):0===i.alongA?h(n,i.pt):1===i.alongA&&h(n,f));return!1}for(var m=[];!l.isEmpty();){var y=l.getHead();if(r&&r.vert(y.pt[0]),y.isStart){r&&r.segmentNew(y.seg,y.primary);var x=d(y),_=x.before?x.before.ev:null,w=x.after?x.after.ev:null;function M(){if(_){var t=v(y,_);if(t)return t}return!!w&&v(y,w)}r&&r.tempStatus(y.seg,!!_&&_.seg,!!w&&w.seg);var A,T=M();if(T){var k;if(t)(k=null===y.seg.myFill.below||y.seg.myFill.above!==y.seg.myFill.below)&&(T.seg.myFill.above=!T.seg.myFill.above);else T.seg.otherFill=y.seg.myFill;r&&r.segmentUpdate(T.seg),y.other.remove(),y.remove()}if(l.getHead()!==y){r&&r.rewind(y.seg);continue}if(t)k=null===y.seg.myFill.below||y.seg.myFill.above!==y.seg.myFill.below,y.seg.myFill.below=w?w.seg.myFill.above:o,y.seg.myFill.above=k?!y.seg.myFill.below:y.seg.myFill.below;else if(null===y.seg.otherFill)A=w?y.primary===w.primary?w.seg.otherFill.above:w.seg.myFill.above:y.primary?c:o,y.seg.otherFill={above:A,below:A};r&&r.status(y.seg,!!_&&_.seg,!!w&&w.seg),y.other.status=x.insert(n.node({ev:y}))}else{var E=y.status;if(null===E)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(f.exists(E.prev)&&f.exists(E.next)&&v(E.prev.ev,E.next.ev),r&&r.statusRemove(E.ev.seg),E.remove(),!y.primary){var s=y.seg.myFill;y.seg.myFill=y.seg.otherFill,y.seg.otherFill=s}m.push(y.seg)}l.getHead().remove()}return r&&r.done(),m}return t?{addRegion:function(t){for(var n,o,l,c=t[t.length-1],i=0;i<t.length;i++){n=c,c=t[i];var h=e.pointsCompare(n,c);0!==h&&f((o=h<0?n:c,l=h<0?c:n,{id:r?r.segmentId():-1,start:o,end:l,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(t){return d(t,!1)}}:{calculate:function(t,e,r,n){return t.forEach((function(t){f(o(t.start,t.end,t),!0)})),r.forEach((function(t){f(o(t.start,t.end,t),!1)})),d(e,n)}}}},function(t,e){t.exports={create:function(){var t={root:{root:!0,next:null},exists:function(e){return null!==e&&e!==t.root},isEmpty:function(){return null===t.root.next},getHead:function(){return t.root.next},insertBefore:function(e,r){for(var n=t.root,o=t.root.next;null!==o;){if(r(o))return e.prev=o.prev,e.next=o,o.prev.next=e,void(o.prev=e);n=o,o=o.next}n.next=e,e.prev=n,e.next=null},findTransition:function(e){for(var r=t.root,n=t.root.next;null!==n&&!e(n);)r=n,n=n.next;return{before:r===t.root?null:r,after:n,insert:function(t){return t.prev=r,t.next=n,r.next=t,null!==n&&(n.prev=t),t}}}};return t},node:function(data){return data.prev=null,data.next=null,data.remove=function(){data.prev.next=data.next,data.next&&(data.next.prev=data.prev),data.prev=null,data.next=null},data}}},function(t,e){t.exports=function(t,e,r){var n=[],o=[];return t.forEach((function(t){var l=t.start,c=t.end;if(e.pointsSame(l,c))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{r&&r.chainStart(t);for(var f={index:0,matches_head:!1,matches_pt1:!1},h={index:0,matches_head:!1,matches_pt1:!1},d=f,i=0;i<n.length;i++){var head=(_=n[i])[0],v=(_[1],_[_.length-1]);_[_.length-2];if(e.pointsSame(head,l)){if(L(i,!0,!0))break}else if(e.pointsSame(head,c)){if(L(i,!0,!1))break}else if(e.pointsSame(v,l)){if(L(i,!1,!0))break}else if(e.pointsSame(v,c)&&L(i,!1,!1))break}if(d===f)return n.push([l,c]),void(r&&r.chainNew(l,c));if(d===h){r&&r.chainMatch(f.index);var m=f.index,y=f.matches_pt1?c:l,x=f.matches_head,_=n[m],w=x?_[0]:_[_.length-1],M=x?_[1]:_[_.length-2],A=x?_[_.length-1]:_[0],T=x?_[_.length-2]:_[1];return e.pointsCollinear(M,w,y)&&(x?(r&&r.chainRemoveHead(f.index,y),_.shift()):(r&&r.chainRemoveTail(f.index,y),_.pop()),w=M),e.pointsSame(A,y)?(n.splice(m,1),e.pointsCollinear(T,A,w)&&(x?(r&&r.chainRemoveTail(f.index,w),_.pop()):(r&&r.chainRemoveHead(f.index,w),_.shift())),r&&r.chainClose(f.index),void o.push(_)):void(x?(r&&r.chainAddHead(f.index,y),_.unshift(y)):(r&&r.chainAddTail(f.index,y),_.push(y)))}var k=f.index,E=h.index;r&&r.chainConnect(k,E);var S=n[k].length<n[E].length;f.matches_head?h.matches_head?S?(C(k),O(k,E)):(C(E),O(E,k)):O(E,k):h.matches_head?O(k,E):S?(C(k),O(E,k)):(C(E),O(k,E))}function L(t,e,r){return d.index=t,d.matches_head=e,d.matches_pt1=r,d===f?(d=h,!1):(d=null,!0)}function C(t){r&&r.chainReverse(t),n[t].reverse()}function O(t,o){var l=n[t],c=n[o],f=l[l.length-1],h=l[l.length-2],head=c[0],d=c[1];e.pointsCollinear(h,f,head)&&(r&&r.chainRemoveTail(t,f),l.pop(),f=h),e.pointsCollinear(f,head,d)&&(r&&r.chainRemoveHead(o,head),c.shift()),r&&r.chainJoin(t,o),n[t]=l.concat(c),n.splice(o,1)}})),o}},function(t,e){function select(t,e,r){var n=[];return t.forEach((function(t){var o=(t.myFill.above?8:0)+(t.myFill.below?4:0)+(t.otherFill&&t.otherFill.above?2:0)+(t.otherFill&&t.otherFill.below?1:0);0!==e[o]&&n.push({id:r?r.segmentId():-1,start:t.start,end:t.end,myFill:{above:1===e[o],below:2===e[o]},otherFill:null})})),r&&r.selected(n),n}var r={union:function(t,e){return select(t,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],e)},intersect:function(t,e){return select(t,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],e)},difference:function(t,e){return select(t,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],e)},differenceRev:function(t,e){return select(t,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],e)},xor:function(t,e){return select(t,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],e)}};t.exports=r},function(t,e){var r={toPolygon:function(t,e){function r(e){if(e.length<=0)return t.segments({inverted:!1,regions:[]});function r(e){var r=e.slice(0,e.length-1);return t.segments({inverted:!1,regions:[r]})}for(var n=r(e[0]),i=1;i<e.length;i++)n=t.selectDifference(t.combine(n,r(e[i])));return n}if("Polygon"===e.type)return t.polygon(r(e.coordinates));if("MultiPolygon"===e.type){for(var n=t.segments({inverted:!1,regions:[]}),i=0;i<e.coordinates.length;i++)n=t.selectUnion(t.combine(n,r(e.coordinates[i])));return t.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,e,r){function n(t,r){return e.pointInsideRegion([.5*(t[0][0]+t[1][0]),.5*(t[0][1]+t[1][1])],r)}function o(t){return{region:t,children:[]}}r=t.polygon(t.segments(r));var l=o(null);function c(t,e){for(var i=0;i<t.children.length;i++){if(n(e,(l=t.children[i]).region))return void c(l,e)}var r=o(e);for(i=0;i<t.children.length;i++){var l;n((l=t.children[i]).region,e)&&(r.children.push(l),t.children.splice(i,1),i--)}t.children.push(r)}for(var i=0;i<r.regions.length;i++){var f=r.regions[i];f.length<3||c(l,f)}function h(t,e){for(var r=0,n=t[t.length-1][0],o=t[t.length-1][1],l=[],i=0;i<t.length;i++){var c=t[i][0],f=t[i][1];l.push([c,f]),r+=f*n-c*o,n=c,o=f}return r<0!==e&&l.reverse(),l.push([l[0][0],l[0][1]]),l}var d=[];function v(t){var e=[h(t.region,!1)];d.push(e);for(var i=0;i<t.children.length;i++)e.push(m(t.children[i]))}function m(t){for(var i=0;i<t.children.length;i++)v(t.children[i]);return h(t.region,!0)}for(i=0;i<l.children.length;i++)v(l.children[i]);return d.length<=0?{type:"Polygon",coordinates:[]}:1==d.length?{type:"Polygon",coordinates:d[0]}:{type:"MultiPolygon",coordinates:d}}};t.exports=r},function(t,e,r){"use strict";var n=r(489),o=r(527),l=r(480),c=r(614).sorterAsc,f=r(422);e.containerArrayMatch=r(819);var h=e.isAddVal=function(t){return"add"===t||n(t)},d=e.isRemoveVal=function(t){return null===t||"remove"===t};e.applyContainerArrayChanges=function(t,e,r,n,v){var m=e.astr,y=f.getComponentMethod(m,"supplyLayoutDefaults"),x=f.getComponentMethod(m,"draw"),_=f.getComponentMethod(m,"drawOne"),w=n.replot||n.recalc||y===o||x===o,M=t.layout,A=t._fullLayout;if(r[""]){Object.keys(r).length>1&&l.warn("Full array edits are incompatible with other edits",m);var T=r[""][""];if(d(T))e.set(null);else{if(!Array.isArray(T))return l.warn("Unrecognized full array edit value",m,T),!0;e.set(T)}return!w&&(y(M,A),x(t),!0)}var i,k,E,S,L,C,O,R,D=Object.keys(r).map(Number).sort(c),P=e.get(),I=P||[],N=v(A,m).get(),z=[],F=-1,j=I.length;for(i=0;i<D.length;i++)if(S=r[E=D[i]],L=Object.keys(S),C=S[""],O=h(C),E<0||E>I.length-(O?0:1))l.warn("index out of range",m,E);else if(void 0!==C)L.length>1&&l.warn("Insertion & removal are incompatible with edits to the same index.",m,E),d(C)?z.push(E):O?("add"===C&&(C={}),I.splice(E,0,C),N&&N.splice(E,0,{})):l.warn("Unrecognized full object edit value",m,E,C),-1===F&&(F=E);else for(k=0;k<L.length;k++)R=m+"["+E+"].",v(I[E],L[k],R).set(S[L[k]]);for(i=z.length-1;i>=0;i--)I.splice(z[i],1),N&&N.splice(z[i],1);if(I.length?P||e.set(I):e.set(null),w)return!1;if(y(M,A),_!==o){var B;if(-1===F)B=D;else{for(j=Math.max(I.length,j),B=[],i=0;i<D.length&&!((E=D[i])>=F);i++)B.push(E);for(i=F;i<j;i++)B.push(i)}for(i=0;i<B.length;i++)_(t,B[i])}else x(t);return!0}},function(t,e,r){"use strict";var n=r(422);t.exports=function(t){for(var e,r,o=n.layoutArrayContainers,l=n.layoutArrayRegexes,c=t.split("[")[0],i=0;i<l.length;i++)if((r=t.match(l[i]))&&0===r.index){e=r[0];break}if(e||(e=o[o.indexOf(c)]),!e)return!1;var f=t.substr(e.length);return f?!!(r=f.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:e,index:Number(r[1]),property:r[3]||""}:{array:e,index:"",property:""}}},function(t,e,r){"use strict";var n=r(424),o=r(536),l=r(422),c=r(421),f=r(431),h=r(432),d=r(425),v=h.cleanId,m=h.getFromTrace,y=l.traceIs;function x(t,e){var r=t[e],n=e.charAt(0);r&&"paper"!==r&&(t[e]=v(r,n,!0))}function _(t){function e(e,r){var n=t[e],o=t.title&&t.title[r];n&&!o&&(t.title||(t.title={}),t.title[r]=t[e],delete t[e])}t&&("string"!=typeof t.title&&"number"!=typeof t.title||(t.title={text:t.title}),e("titlefont","font"),e("titleposition","position"),e("titleside","side"),e("titleoffset","offset"))}function w(t){if(!c.isPlainObject(t))return!1;var e=t.name;return delete t.name,delete t.showlegend,("string"==typeof e||"number"==typeof e)&&String(e)}function M(t,e,r,n){if(r&&!n)return t;if(n&&!r)return e;if(!t.trim())return e;if(!e.trim())return t;var i,o=Math.min(t.length,e.length);for(i=0;i<o&&t.charAt(i)===e.charAt(i);i++);return t.substr(0,i).trim()}function A(t){var e="middle",r="center";return"string"==typeof t&&(-1!==t.indexOf("top")?e="top":-1!==t.indexOf("bottom")&&(e="bottom"),-1!==t.indexOf("left")?r="left":-1!==t.indexOf("right")&&(r="right")),e+" "+r}function T(t,e){return e in t&&"object"==typeof t[e]&&0===Object.keys(t[e]).length}e.clearPromiseQueue=function(t){Array.isArray(t._promises)&&t._promises.length>0&&c.log("Clearing previous rejected promises from queue."),t._promises=[]},e.cleanLayout=function(t){var i,r;t||(t={}),t.xaxis1&&(t.xaxis||(t.xaxis=t.xaxis1),delete t.xaxis1),t.yaxis1&&(t.yaxis||(t.yaxis=t.yaxis1),delete t.yaxis1),t.scene1&&(t.scene||(t.scene=t.scene1),delete t.scene1);var n=(f.subplotsRegistry.cartesian||{}).attrRegex,l=(f.subplotsRegistry.polar||{}).attrRegex,h=(f.subplotsRegistry.ternary||{}).attrRegex,m=(f.subplotsRegistry.gl3d||{}).attrRegex,y=Object.keys(t);for(i=0;i<y.length;i++){var w=y[i];if(n&&n.test(w)){var M=t[w];M.anchor&&"free"!==M.anchor&&(M.anchor=v(M.anchor)),M.overlaying&&(M.overlaying=v(M.overlaying)),M.type||(M.isdate?M.type="date":M.islog?M.type="log":!1===M.isdate&&!1===M.islog&&(M.type="linear")),"withzero"!==M.autorange&&"tozero"!==M.autorange||(M.autorange=!0,M.rangemode="tozero"),delete M.islog,delete M.isdate,delete M.categories,T(M,"domain")&&delete M.domain,void 0!==M.autotick&&(void 0===M.tickmode&&(M.tickmode=M.autotick?"auto":"linear"),delete M.autotick),_(M)}else if(l&&l.test(w)){_(t[w].radialaxis)}else if(h&&h.test(w)){var A=t[w];_(A.aaxis),_(A.baxis),_(A.caxis)}else if(m&&m.test(w)){var k=t[w],E=k.cameraposition;if(Array.isArray(E)&&4===E[0].length){var S=E[0],L=E[1],C=E[2],O=o([],S),R=[];for(r=0;r<3;++r)R[r]=L[r]+C*O[2+4*r];k.camera={eye:{x:R[0],y:R[1],z:R[2]},center:{x:L[0],y:L[1],z:L[2]},up:{x:0,y:0,z:1}},delete k.cameraposition}_(k.xaxis),_(k.yaxis),_(k.zaxis)}}var D=Array.isArray(t.annotations)?t.annotations.length:0;for(i=0;i<D;i++){var P=t.annotations[i];c.isPlainObject(P)&&(P.ref&&("paper"===P.ref?(P.xref="paper",P.yref="paper"):"data"===P.ref&&(P.xref="x",P.yref="y"),delete P.ref),x(P,"xref"),x(P,"yref"))}var I=Array.isArray(t.shapes)?t.shapes.length:0;for(i=0;i<I;i++){var N=t.shapes[i];c.isPlainObject(N)&&(x(N,"xref"),x(N,"yref"))}var z=Array.isArray(t.images)?t.images.length:0;for(i=0;i<z;i++){var image=t.images[i];c.isPlainObject(image)&&(x(image,"xref"),x(image,"yref"))}var legend=t.legend;return legend&&(legend.x>3?(legend.x=1.02,legend.xanchor="left"):legend.x<-2&&(legend.x=-.02,legend.xanchor="right"),legend.y>3?(legend.y=1.02,legend.yanchor="bottom"):legend.y<-2&&(legend.y=-.02,legend.yanchor="top")),_(t),"rotate"===t.dragmode&&(t.dragmode="orbit"),d.clean(t),t.template&&t.template.layout&&e.cleanLayout(t.template.layout),t},e.cleanData=function(data){for(var t=0;t<data.length;t++){var i,r=data[t];if("histogramy"===r.type&&"xbins"in r&&!("ybins"in r)&&(r.ybins=r.xbins,delete r.xbins),r.error_y&&"opacity"in r.error_y){var n=d.defaults,o=r.error_y.color||(y(r,"bar")?d.defaultLine:n[t%n.length]);r.error_y.color=d.addOpacity(d.rgb(o),d.opacity(o)*r.error_y.opacity),delete r.error_y.opacity}if("bardir"in r&&("h"!==r.bardir||!y(r,"bar")&&"histogram"!==r.type.substr(0,9)||(r.orientation="h",e.swapXYData(r)),delete r.bardir),"histogramy"===r.type&&e.swapXYData(r),"histogramx"!==r.type&&"histogramy"!==r.type||(r.type="histogram"),"scl"in r&&!("colorscale"in r)&&(r.colorscale=r.scl,delete r.scl),"reversescl"in r&&!("reversescale"in r)&&(r.reversescale=r.reversescl,delete r.reversescl),r.xaxis&&(r.xaxis=v(r.xaxis,"x")),r.yaxis&&(r.yaxis=v(r.yaxis,"y")),y(r,"gl3d")&&r.scene&&(r.scene=f.subplotsRegistry.gl3d.cleanId(r.scene)),!y(r,"pie-like")&&!y(r,"bar-like"))if(Array.isArray(r.textposition))for(i=0;i<r.textposition.length;i++)r.textposition[i]=A(r.textposition[i]);else r.textposition&&(r.textposition=A(r.textposition));var h=l.getModule(r);if(h&&h.colorbar){var m=h.colorbar.container,x=m?r[m]:r;x&&x.colorscale&&("YIGnBu"===x.colorscale&&(x.colorscale="YlGnBu"),"YIOrRd"===x.colorscale&&(x.colorscale="YlOrRd"))}if("surface"===r.type&&c.isPlainObject(r.contours)){var k=["x","y","z"];for(i=0;i<k.length;i++){var E=r.contours[k[i]];c.isPlainObject(E)&&(E.highlightColor&&(E.highlightcolor=E.highlightColor,delete E.highlightColor),E.highlightWidth&&(E.highlightwidth=E.highlightWidth,delete E.highlightWidth))}}if("candlestick"===r.type||"ohlc"===r.type){var S=!1!==(r.increasing||{}).showlegend,L=!1!==(r.decreasing||{}).showlegend,C=w(r.increasing),O=w(r.decreasing);if(!1!==C&&!1!==O){var R=M(C,O,S,L);R&&(r.name=R)}else!C&&!O||r.name||(r.name=C||O)}if(Array.isArray(r.transforms)){var D=r.transforms;for(i=0;i<D.length;i++){var P=D[i];if(c.isPlainObject(P))switch(P.type){case"filter":P.filtersrc&&(P.target=P.filtersrc,delete P.filtersrc),P.calendar&&(P.valuecalendar||(P.valuecalendar=P.calendar),delete P.calendar);break;case"groupby":if(P.styles=P.styles||P.style,P.styles&&!Array.isArray(P.styles)){var I=P.styles,N=Object.keys(I);P.styles=[];for(var z=0;z<N.length;z++)P.styles.push({target:N[z],value:I[N[z]]})}}}}T(r,"line")&&delete r.line,"marker"in r&&(T(r.marker,"line")&&delete r.marker.line,T(r,"marker")&&delete r.marker),d.clean(r),r.autobinx&&(delete r.autobinx,delete r.xbins),r.autobiny&&(delete r.autobiny,delete r.ybins),_(r),r.colorbar&&_(r.colorbar),r.marker&&r.marker.colorbar&&_(r.marker.colorbar),r.line&&r.line.colorbar&&_(r.line.colorbar),r.aaxis&&_(r.aaxis),r.baxis&&_(r.baxis)}},e.swapXYData=function(t){var i;if(c.swapAttrs(t,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(t.z)&&Array.isArray(t.z[0])&&(t.transpose?delete t.transpose:t.transpose=!0),t.error_x&&t.error_y){var e=t.error_y,r="copy_ystyle"in e?e.copy_ystyle:!(e.color||e.thickness||e.width);c.swapAttrs(t,["error_?.copy_ystyle"]),r&&c.swapAttrs(t,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof t.hoverinfo){var n=t.hoverinfo.split("+");for(i=0;i<n.length;i++)"x"===n[i]?n[i]="y":"y"===n[i]&&(n[i]="x");t.hoverinfo=n.join("+")}},e.coerceTraceIndices=function(t,e){if(n(e))return[e];if(!Array.isArray(e)||!e.length)return t.data.map((function(t,i){return i}));if(Array.isArray(e)){for(var r=[],i=0;i<e.length;i++)c.isIndex(e[i],t.data.length)?r.push(e[i]):c.warn("trace index (",e[i],") is not a number or is out of bounds");return r}return e},e.manageArrayContainers=function(t,e,r){var o=t.obj,l=t.parts,f=l.length,h=l[f-1],d=n(h);if(d&&null===e){var v=l.slice(0,f-1).join(".");c.nestedProperty(o,v).get().splice(h,1)}else d&&void 0===t.get()?(void 0===t.get()&&(r[t.astr]=null),t.set(e)):t.set(e)};var k=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function E(t){var e=t.search(k);if(e>0)return t.substr(0,e)}e.hasParent=function(t,e){for(var r=E(e);r;){if(r in t)return!0;r=E(r)}return!1};var S=["x","y","z"];e.clearAxisTypes=function(t,e,r){for(var i=0;i<e.length;i++)for(var n=t._fullData[i],o=0;o<3;o++){var l=m(t,n,S[o]);if(l&&"log"!==l.type){var f=l._name,h=l._id.substr(1);if("scene"===h.substr(0,5)){if(void 0!==r[h])continue;f=h+"."+f}var d=f+".type";void 0===r[f]&&void 0===r[d]&&c.nestedProperty(t.layout,d).set(null)}}}},function(t,e,r){"use strict";var n=r(421),o=r(431),l=r(494),c=r(481).dfltConfig,f=n.isPlainObject,h=Array.isArray,d=n.isArrayOrTypedArray;function v(t,e,r,o,base,path){path=path||[];for(var l=Object.keys(t),i=0;i<l.length;i++){var c=l[i];if("transforms"!==c){var p=path.slice();p.push(c);var m=t[c],y=e[c],x=M(r,c),A=(x||{}).valType,T="info_array"===A,k="colorscale"===A,E=(x||{}).items;if(w(r,c))if(f(m)&&f(y)&&"any"!==A)v(m,y,x,o,base,p);else if(T&&h(m)){m.length>y.length&&o.push(_("unused",base,p.concat(y.length)));var S,L,C,O,R,D=y.length,P=Array.isArray(E);if(P&&(D=Math.min(D,E.length)),2===x.dimensions)for(L=0;L<D;L++)if(h(m[L])){m[L].length>y[L].length&&o.push(_("unused",base,p.concat(L,y[L].length)));var I=y[L].length;for(S=0;S<(P?Math.min(I,E[L].length):I);S++)C=P?E[L][S]:E,O=m[L][S],R=y[L][S],n.validate(O,C)?R!==O&&R!==+O&&o.push(_("dynamic",base,p.concat(L,S),O,R)):o.push(_("value",base,p.concat(L,S),O))}else o.push(_("array",base,p.concat(L),m[L]));else for(L=0;L<D;L++)C=P?E[L]:E,O=m[L],R=y[L],n.validate(O,C)?R!==O&&R!==+O&&o.push(_("dynamic",base,p.concat(L),O,R)):o.push(_("value",base,p.concat(L),O))}else if(x.items&&!T&&h(m)){var N,z,F=E[Object.keys(E)[0]],j=[];for(N=0;N<y.length;N++){var B=y[N]._index||N;if((z=p.slice()).push(B),f(m[B])&&f(y[N])){j.push(B);var U=m[B],H=y[N];f(U)&&!1!==U.visible&&!1===H.visible?o.push(_("invisible",base,z)):v(U,H,F,o,base,z)}}for(N=0;N<m.length;N++)(z=p.slice()).push(N),f(m[N])?-1===j.indexOf(N)&&o.push(_("unused",base,z)):o.push(_("object",base,z,m[N]))}else!f(m)&&f(y)?o.push(_("object",base,p,m)):d(m)||!d(y)||T||k?c in e?n.validate(m,x)?"enumerated"===x.valType&&(x.coerceNumber&&m!==+y||m!==y)&&o.push(_("dynamic",base,p,m,y)):o.push(_("value",base,p,m)):o.push(_("unused",base,p,m)):o.push(_("array",base,p,m));else o.push(_("schema",base,p))}}return o}function m(t,e){for(var r=t.layout.layoutAttributes,i=0;i<e.length;i++){var o=e[i],l=t.traces[o.type],c=l.layoutAttributes;c&&(o.subplot?n.extendFlat(r[l.attributes.subplot.dflt],c):n.extendFlat(r,c))}return r}t.exports=function(data,t){void 0===data&&(data=[]),void 0===t&&(t={});var e,r,d=l.get(),y=[],x={_context:n.extendFlat({},c)};h(data)?(x.data=n.extendDeep([],data),e=data):(x.data=[],e=[],y.push(_("array","data"))),f(t)?(x.layout=n.extendDeep({},t),r=t):(x.layout={},r={},arguments.length>1&&y.push(_("object","layout"))),o.supplyDefaults(x);for(var w=x._fullData,M=e.length,i=0;i<M;i++){var A=e[i],base=["data",i];if(f(A)){var T=w[i],k=T.type,E=d.traces[k].attributes;E.type={valType:"enumerated",values:[k]},!1===T.visible&&!1!==A.visible&&y.push(_("invisible",base)),v(A,T,E,y,base);var S=A.transforms,L=T.transforms;if(S){h(S)||y.push(_("array",base,["transforms"])),base.push("transforms");for(var C=0;C<S.length;C++){var path=["transforms",C],O=S[C].type;if(f(S[C])){var R=d.transforms[O]?d.transforms[O].attributes:{};R.type={valType:"enumerated",values:Object.keys(d.transforms)},v(S[C],L[C],R,y,base,path)}else y.push(_("object",base,path))}}}else y.push(_("object",base))}var D=x._fullLayout,P=m(d,w);return v(r,D,P,y,"layout"),0===y.length?void 0:y};var y={object:function(base,t){return("layout"===base&&""===t?"The layout argument":"data"===base[0]&&""===t?"Trace "+base[1]+" in the data argument":x(base)+"key "+t)+" must be linked to an object container"},array:function(base,t){return("data"===base?"The data argument":x(base)+"key "+t)+" must be linked to an array container"},schema:function(base,t){return x(base)+"key "+t+" is not part of the schema"},unused:function(base,t,e){var r=f(e)?"container":"key";return x(base)+r+" "+t+" did not get coerced"},dynamic:function(base,t,e,r){return[x(base)+"key",t,"(set to '"+e+"')","got reset to","'"+r+"'","during defaults."].join(" ")},invisible:function(base,t){return(t?x(base)+"item "+t:"Trace "+base[1])+" got defaulted to be not visible"},value:function(base,t,e){return[x(base)+"key "+t,"is set to an invalid value ("+e+")"].join(" ")}};function x(base){return h(base)?"In data trace "+base[1]+", ":"In "+base+", "}function _(code,base,path,t,e){var r,o;path=path||"",h(base)?(r=base[0],o=base[1]):(r=base,o=null);var l=function(path){if(!h(path))return String(path);for(var t="",i=0;i<path.length;i++){var p=path[i];"number"==typeof p?t=t.substr(0,t.length-1)+"["+p+"]":t+=p,i<path.length-1&&(t+=".")}return t}(path),c=y[code](base,l,t,e);return n.log(c),{code:code,container:r,trace:o,path:path,astr:l,msg:c}}function w(t,e){var r=T(e),n=r.keyMinusId,o=r.id;return!!(n in t&&t[n]._isSubplotObj&&o)||e in t}function M(t,e){return e in t?t[e]:t[T(e).keyMinusId]}var A=n.counterRegex("([a-z]+)");function T(t){var e=t.match(A);return{keyMinusId:e&&e[1],id:e&&e[2]}}},function(t,e,r){"use strict";var n=r(421),o=r(483);t.exports=function(t,e,r){var l=document.createElement("a"),c="download"in l;return new Promise((function(f,h){var d,v;if(n.isIE9orBelow()&&h(new Error("IE < 10 unsupported")),n.isSafari()){var m="svg"===r?",":";base64,";return o.octetStream(m+encodeURIComponent(t)),f(e)}return n.isIE()?(d=o.createBlob(t,"svg"),window.navigator.msSaveBlob(d,e),d=null,f(e)):c?(d=o.createBlob(t,r),v=o.createObjectURL(d),l.href=v,l.download=e,document.body.appendChild(l),l.click(),document.body.removeChild(l),o.revokeObjectURL(v),d=null,f(e)):void h(new Error("download error"))}))}},function(t,e,r){"use strict";var n=r(421),o=n.isPlainObject,l=r(494),c=r(431),f=r(449),h=r(428),d=r(481).dfltConfig;function v(t,e){t=n.extendDeep({},t);var i,r,l=Object.keys(t).sort();function c(e,n,l){if(o(n)&&o(e))v(e,n);else if(Array.isArray(n)&&Array.isArray(e)){var c=h.arrayTemplater({_template:t},l);for(r=0;r<n.length;r++){var f=n[r],d=c.newItem(f)._template;d&&v(d,f)}var m=c.defaultItems();for(r=0;r<m.length;r++)n.push(m[r]._template);for(r=0;r<n.length;r++)delete n[r].templateitemname}}for(i=0;i<l.length;i++){var f=l[i],d=t[f];if(f in e?c(d,e[f],f):e[f]=d,m(f)===f)for(var y in e){var x=m(y);y===x||x!==f||y in t||c(d,e[y],f)}}}function m(t){return t.replace(/[0-9]+$/,"")}function y(t,e,r,path,l){var c=l&&r(l);for(var f in t){var d=t[f],v=w(t,f,path),x=w(t,f,l),_=r(x);if(!_){var M=m(f);M!==f&&(_=r(x=w(t,M,l)))}if((!c||c!==_)&&!(!_||_._noTemplating||"data_array"===_.valType||_.arrayOk&&Array.isArray(d)))if(!_.valType&&o(d))y(d,e,r,v,x);else if(_._isLinkedToArray&&Array.isArray(d))for(var A=!1,T=0,k={},i=0;i<d.length;i++){var E=d[i];if(o(E)){var S=E.name;if(S)k[S]||(y(E,e,r,w(d,T,v),w(d,T,x)),T++,k[S]=1);else if(!A){var L=w(t,h.arrayDefaultKey(f),path),C=w(d,T,v);y(E,e,r,C,w(d,T,x));var O=n.nestedProperty(e,C);n.nestedProperty(e,L).set(O.get()),O.set(null),A=!0}}}else{n.nestedProperty(e,v).set(d)}}}function x(t,path){return l.getLayoutValObject(t,n.nestedProperty({},path).parts)}function _(t,path){return l.getTraceValObject(t,n.nestedProperty({},path).parts)}function w(t,e,path){return path?Array.isArray(t)?path+"["+e+"]":path+"."+e:e}function M(t){for(var i=0;i<t.length;i++)if(o(t[i]))return!0}function A(t){var e;switch(t.code){case"data":e="The template has no key data.";break;case"layout":e="The template has no key layout.";break;case"missing":e=t.path?"There are no templates for item "+t.path+" with name "+t.templateitemname:"There are no templates for trace "+t.index+", of type "+t.traceType+".";break;case"unused":e=t.path?"The template item at "+t.path+" was not used in constructing the plot.":t.dataCount?"Some of the templates of type "+t.traceType+" were not used. The template has "+t.templateCount+" traces, the data only has "+t.dataCount+" of this type.":"The template has "+t.templateCount+" traces of type "+t.traceType+" but there are none in the data.";break;case"reused":e="Some of the templates of type "+t.traceType+" were used more than once. The template has "+t.templateCount+" traces, the data has "+t.dataCount+" of this type."}return t.msg=e,t}e.makeTemplate=function(figure){figure=n.isPlainObject(figure)?figure:n.getGraphDiv(figure),figure=n.extendDeep({_context:d},{data:figure.data,layout:figure.layout}),c.supplyDefaults(figure);var data=figure.data||[],t=figure.layout||{};t._basePlotModules=figure._fullLayout._basePlotModules,t._modules=figure._fullLayout._modules;var template={data:{},layout:{}};data.forEach((function(t){var e={};y(t,e,_.bind(null,t));var r=n.coerce(t,{},f,"type"),o=template.data[r];o||(o=template.data[r]=[]),o.push(e)})),y(t,template.layout,x.bind(null,t)),delete template.layout.template;var e=t.template;if(o(e)){var i,r,l,h,m,w,M=e.layout;o(M)&&v(M,template.layout);var A=e.data;if(o(A)){for(r in template.data)if(l=A[r],Array.isArray(l)){for(w=(m=template.data[r]).length,h=l.length,i=0;i<w;i++)v(l[i%h],m[i]);for(i=w;i<h;i++)m.push(n.extendDeep({},l[i]))}for(r in A)r in template.data||(template.data[r]=n.extendDeep([],A[r]))}}return template},e.validateTemplate=function(t,template){var figure=n.extendDeep({},{_context:d,data:t.data,layout:t.layout}),e=figure.layout||{};o(template)||(template=e.template||{});var r=template.layout,l=template.data,f=[];figure.layout=e,figure.layout.template=template,c.supplyDefaults(figure);var h=figure._fullLayout,v=figure._fullData,y={};if(o(r)?(!function t(e,r){for(var n in e)if("_"!==n.charAt(0)&&o(e[n])){var i,l=m(n),c=[];for(i=0;i<r.length;i++)c.push(w(e,n,r[i])),l!==n&&c.push(w(e,l,r[i]));for(i=0;i<c.length;i++)y[c[i]]=1;t(e[n],c)}}(h,["layout"]),function t(e,path){for(var r in e)if(-1===r.indexOf("defaults")&&o(e[r])){var n=w(e,r,path);y[n]?t(e[r],n):f.push({code:"unused",path:n})}}(r,"layout")):f.push({code:"layout"}),o(l)){for(var x,_={},i=0;i<v.length;i++){var T=v[i];_[x=T.type]=(_[x]||0)+1,T._fullInput._template||f.push({code:"missing",index:T._fullInput.index,traceType:x})}for(x in l){var k=l[x].length,E=_[x]||0;k>E?f.push({code:"unused",traceType:x,templateCount:k,dataCount:E}):E>k&&f.push({code:"reused",traceType:x,templateCount:k,dataCount:E})}}else f.push({code:"data"});if(function t(e,path){for(var r in e)if("_"!==r.charAt(0)){var n=e[r],l=w(e,r,path);o(n)?(Array.isArray(e)&&!1===n._template&&n.templateitemname&&f.push({code:"missing",path:l,templateitemname:n.templateitemname}),t(n,l)):Array.isArray(n)&&M(n)&&t(n,l)}}({data:v,layout:h},""),f.length)return f.map(A)}},function(t,e,r){"use strict";var n=r(421),o=r(422),l=r(473),c=r(542),f=r(442),h=r(825),d=r(651),v=r(826),m=r(652),y=r(653),x=r(827),_=r(654),w=r(828);t.exports=function(t,e,r,M){function A(r,o){return n.coerce(t,e,l,r,o)}var T=h(t,e,M,A);if(T||(e.visible=!1),e.visible){d(t,e,M,A);var k=v(t,e,M,A),E=!k&&T<c.PTS_LINESONLY?"lines+markers":"lines";A("text"),A("hovertext"),A("mode",E),f.hasLines(e)&&(y(t,e,r,M,A),x(t,e,A),A("connectgaps"),A("line.simplify")),f.hasMarkers(e)&&m(t,e,r,M,A,{gradient:!0}),f.hasText(e)&&(A("texttemplate"),_(t,e,M,A));var S=[];(f.hasMarkers(e)||f.hasText(e))&&(A("cliponaxis"),A("marker.maxdisplayed"),S.push("points")),A("fill",k?k.fillDflt:"none"),"none"!==e.fill&&(w(t,e,r,A),f.hasLines(e)||x(t,e,A));var L=(e.line||{}).color,C=(e.marker||{}).color;"tonext"!==e.fill&&"toself"!==e.fill||S.push("fills"),A("hoveron",S.join("+")||"points"),"fills"!==e.hoveron&&A("hovertemplate");var O=o.getComponentMethod("errorbars","supplyDefaults");O(t,e,L||C||r,{axis:"y"}),O(t,e,L||C||r,{axis:"x",inherit:"y"}),n.coerceSelectionMarkerOpacity(e,A)}}},function(t,e,r){"use strict";var n=r(421),o=r(422);t.exports=function(t,e,r,l){var c,f=l("x"),h=l("y");if(o.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y"],r),f){var d=n.minRowLength(f);h?c=Math.min(d,n.minRowLength(h)):(c=d,l("y0"),l("dy"))}else{if(!h)return 0;c=n.minRowLength(h),l("x0"),l("dx")}return e._length=c,c}},function(t,e,r){"use strict";var n=["orientation","groupnorm","stackgaps"];t.exports=function(t,e,r,o){var l=r._scatterStackOpts,c=o("stackgroup");if(c){var f=e.xaxis+e.yaxis,h=l[f];h||(h=l[f]={});var d=h[c],v=!1;d?d.traces.push(e):(d=h[c]={traceIndices:[],traces:[e]},v=!0);for(var m={orientation:e.x&&!e.y?"h":"v"},i=0;i<n.length;i++){var y=n[i],x=y+"Found";if(!d[x]){var _=void 0!==t[y],w="orientation"===y;if((_||v)&&(d[y]=o(y,m[y]),w&&(d.fillDflt="h"===d[y]?"tonextx":"tonexty"),_&&(d[x]=!0,!v&&(delete d.traces[0][y],w))))for(var M=0;M<d.traces.length-1;M++){var A=d.traces[M];A._input.fill!==A.fill&&(A.fill=d.fillDflt)}}}return d}}},function(t,e,r){"use strict";t.exports=function(t,e,r){"spline"===r("line.shape")&&r("line.smoothing")}},function(t,e,r){"use strict";var n=r(425),o=r(421).isArrayOrTypedArray;t.exports=function(t,e,r,l){var c=!1;if(e.marker){var f=e.marker.color,h=(e.marker.line||{}).color;f&&!o(f)?c=f:h&&!o(h)&&(c=h)}l("fillcolor",n.addOpacity((e.line||{}).color||c||r,.5))}},function(t,e,r){"use strict";t.exports=function(t){for(var i=0;i<t.length;i++){var e=t[i];if("scatter"===e.type){var r=e.fill;if("none"!==r&&"toself"!==r&&(e.opacity=void 0,"tonexty"===r||"tonextx"===r))for(var n=i-1;n>=0;n--){var o=t[n];if("scatter"===o.type&&o.xaxis===e.xaxis&&o.yaxis===e.yaxis){o.opacity=void 0;break}}}}}},function(t,e,r){"use strict";var n=r(421);t.exports=function(t,e){n.isArrayOrTypedArray(e.selectedpoints)&&n.tagSelected(t,e)}},function(t,e,r){"use strict";var n=r(655);function o(t,e,r,n,o,l,c){o[n]=!0;var f={i:null,gap:!0,s:0};if(f[c]=r,t.splice(e,0,f),e&&r===t[e-1][c]){var h=t[e-1];f.s=h.s,f.i=h.i,f.gap=h.gap}else l&&(f.s=function(t,e,r,n){var o=t[e-1],l=t[e+1];return l?o?o.s+(l.s-o.s)*(r-o[n])/(l[n]-o[n]):l.s:o.s}(t,e,r,c));e||(t[0].t=t[1].t,t[0].trace=t[1].trace,delete t[1].t,delete t[1].trace)}t.exports=function(t,e){var r=e.xaxis,l=e.yaxis,c=r._id+l._id,f=t._fullLayout._scatterStackOpts[c];if(f){var i,h,d,v,m,y,x,_,w,M,A,T,k,E,S,L=t.calcdata;for(var C in f){var O=(M=f[C]).traceIndices;if(O.length){for(A="interpolate"===M.stackgaps,T=M.groupnorm,"v"===M.orientation?(k="x",E="y"):(k="y",E="x"),S=new Array(O.length),i=0;i<S.length;i++)S[i]=!1;y=L[O[0]];var R=new Array(y.length);for(i=0;i<y.length;i++)R[i]=y[i][k];for(i=1;i<O.length;i++){for(m=L[O[i]],h=d=0;h<m.length;h++){for(x=m[h][k];x>R[d]&&d<R.length;d++)o(m,h,R[d],i,S,A,k),h++;if(x!==R[d]){for(v=0;v<i;v++)o(L[O[v]],d,x,v,S,A,k);R.splice(d,0,x)}d++}for(;d<R.length;d++)o(m,h,R[d],i,S,A,k),h++}var D=R.length;for(h=0;h<y.length;h++){for(_=y[h][E]=y[h].s,i=1;i<O.length;i++)(m=L[O[i]])[0].trace._rawLength=m[0].trace._length,m[0].trace._length=D,_+=m[h].s,m[h][E]=_;if(T)for(w=("fraction"===T?_:_/100)||1,i=0;i<O.length;i++){var P=L[O[i]][h];P[E]/=w,P.sNorm=P.s/w}}for(i=0;i<O.length;i++){var I=(m=L[O[i]])[0].trace,N=n.calcMarkerSize(I,I._rawLength),z=Array.isArray(N);if(N&&S[i]||z){var F=N;for(N=new Array(D),h=0;h<D;h++)N[h]=m[h].gap?0:z?F[m[h].i]:F}var j=new Array(D),B=new Array(D);for(h=0;h<D;h++)j[h]=m[h].x,B[h]=m[h].y;n.calcAxisExpansion(t,I,r,l,j,B,N),m[0].t.orientation=M.orientation}}}}}},function(t,e,r){"use strict";var n=r(423),o=r(422),l=r(421),c=l.ensureSingle,f=l.identity,h=r(427),d=r(442),v=r(833),m=r(834),y=r(647).tester;function x(t,e,r,m,x,element,_){var i;!function(t,e,r,o,c){var f=r.xaxis,h=r.yaxis,v=n.extent(l.simpleMap(f.range,f.r2c)),m=n.extent(l.simpleMap(h.range,h.r2c)),y=o[0].trace;if(!d.hasMarkers(y))return;var x=y.marker.maxdisplayed;if(0===x)return;var _=o.filter((function(t){return t.x>=v[0]&&t.x<=v[1]&&t.y>=m[0]&&t.y<=m[1]})),w=Math.ceil(_.length/x),M=0;c.forEach((function(t,r){var n=t[0].trace;d.hasMarkers(n)&&n.marker.maxdisplayed>0&&r<e&&M++}));var A=Math.round(M*w/3+Math.floor(M/3)*w/7.1);o.forEach((function(t){delete t.vis})),_.forEach((function(t,i){0===Math.round((i+A)%w)&&(t.vis=!0)}))}(0,e,r,m,x);var w=!!_&&_.duration>0;function M(t){return w?t.transition():t}var A=r.xaxis,T=r.yaxis,k=m[0].trace,line=k.line,tr=n.select(element),E=c(tr,"g","errorbars"),S=c(tr,"g","lines"),L=c(tr,"g","points"),text=c(tr,"g","text");if(o.getComponentMethod("errorbars","plot")(t,E,r,_),!0===k.visible){var C,O;M(tr).style("opacity",k.opacity);var R=k.fill.charAt(k.fill.length-1);"x"!==R&&"y"!==R&&(R=""),m[0][r.isRangePlot?"nodeRangePlot3":"node3"]=tr;var D,P,I="",N=[],z=k._prevtrace;z&&(I=z._prevRevpath||"",O=z._nextFill,N=z._polygons);var F,j,B,U,H,V,Y,G="",W="",X=[],Z=l.noop;if(C=k._ownFill,d.hasLines(k)||"none"!==k.fill){for(O&&O.datum(m),-1!==["hv","vh","hvh","vhv"].indexOf(line.shape)?(F=h.steps(line.shape),j=h.steps(line.shape.split("").reverse().join(""))):F=j="spline"===line.shape?function(t){var e=t[t.length-1];return t.length>1&&t[0][0]===e[0]&&t[0][1]===e[1]?h.smoothclosed(t.slice(1),line.smoothing):h.smoothopen(t,line.smoothing)}:function(t){return"M"+t.join("L")},B=function(t){return j(t.reverse())},X=v(m,{xaxis:A,yaxis:T,connectGaps:k.connectgaps,baseTolerance:Math.max(line.width||1,3)/4,shape:line.shape,simplify:line.simplify,fill:k.fill}),Y=k._polygons=new Array(X.length),i=0;i<X.length;i++)k._polygons[i]=y(X[i]);X.length&&(U=X[0][0],V=(H=X[X.length-1])[H.length-1]),Z=function(t){return function(e){if(D=F(e),P=B(e),G?R?(G+="L"+D.substr(1),W=P+"L"+W.substr(1)):(G+="Z"+D,W=P+"Z"+W):(G=D,W=P),d.hasLines(k)&&e.length>1){var r=n.select(this);if(r.datum(m),t)M(r.style("opacity",0).attr("d",D).call(h.lineGroupStyle)).style("opacity",1);else{var o=M(r);o.attr("d",D),h.singleLineStyle(m,o)}}}}}var J=S.selectAll(".js-line").data(X);M(J.exit()).style("opacity",0).remove(),J.each(Z(!1)),J.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(h.lineGroupStyle).each(Z(!0)),h.setClipUrl(J,r.layerClipId,t),X.length?(C?(C.datum(m),U&&V&&(R?("y"===R?U[1]=V[1]=T.c2p(0,!0):"x"===R&&(U[0]=V[0]=A.c2p(0,!0)),M(C).attr("d","M"+V+"L"+U+"L"+G.substr(1)).call(h.singleFillStyle)):M(C).attr("d",G+"Z").call(h.singleFillStyle))):O&&("tonext"===k.fill.substr(0,6)&&G&&I?("tonext"===k.fill?M(O).attr("d",G+"Z"+I+"Z").call(h.singleFillStyle):M(O).attr("d",G+"L"+I.substr(1)+"Z").call(h.singleFillStyle),k._polygons=k._polygons.concat(N)):(K(O),k._polygons=null)),k._prevRevpath=W,k._prevPolygons=Y):(C?K(C):O&&K(O),k._polygons=k._prevRevpath=k._prevPolygons=null),L.datum(m),text.datum(m),function(e,text,o){var l,c=o[0].trace,v=d.hasMarkers(c),m=d.hasText(c),y=it(c),x=at,_=at;if(v||m){var k=f,E=c.stackgroup,S=E&&"infer zero"===t._fullLayout._scatterStackOpts[A._id+T._id][E].stackgaps;c.marker.maxdisplayed||c._needsCull?k=S?tt:$:E&&!S&&(k=et),v&&(x=k),m&&(_=k)}var L,C=(l=e.selectAll("path.point").data(x,y)).enter().append("path").classed("point",!0);w&&C.call(h.pointStyle,c,t).call(h.translatePoints,A,T).style("opacity",0).transition().style("opacity",1),l.order(),v&&(L=h.makePointStyleFns(c)),l.each((function(e){var o=n.select(this),l=M(o);h.translatePoint(e,l,A,T)?(h.singlePointStyle(e,l,c,L,t),r.layerClipId&&h.hideOutsideRangePoint(e,l,A,T,c.xcalendar,c.ycalendar),c.customdata&&o.classed("plotly-customdata",null!==e.data&&void 0!==e.data)):l.remove()})),w?l.exit().transition().style("opacity",0).remove():l.exit().remove(),(l=text.selectAll("g").data(_,y)).enter().append("g").classed("textpoint",!0).append("text"),l.order(),l.each((function(t){var g=n.select(this),e=M(g.select("text"));h.translatePoint(t,e,A,T)?r.layerClipId&&h.hideOutsideRangePoint(t,g,A,T,c.xcalendar,c.ycalendar):g.remove()})),l.selectAll("text").call(h.textPointStyle,c,t).each((function(t){var e=A.c2p(t.x),r=T.c2p(t.y);n.select(this).selectAll("tspan.line").each((function(){M(n.select(this)).attr({x:e,y:r})}))})),l.exit().remove()}(L,text,m);var Q=!1===k.cliponaxis?null:r.layerClipId;h.setClipUrl(L,Q,t),h.setClipUrl(text,Q,t)}function K(t){M(t).attr("d","M0,0Z")}function $(t){return t.filter((function(t){return!t.gap&&t.vis}))}function tt(t){return t.filter((function(t){return t.vis}))}function et(t){return t.filter((function(t){return!t.gap}))}function nt(t){return t.id}function it(t){if(t.ids)return nt}function at(){return!1}}t.exports=function(t,e,r,o,l,d){var v,y,_=!l,w=!!l&&l.duration>0,M=m(t,e,r);((v=o.selectAll("g.trace").data(M,(function(t){return t[0].trace.uid}))).enter().append("g").attr("class",(function(t){return"trace scatter trace"+t[0].trace.uid})).style("stroke-miterlimit",2),v.order(),function(t,e,r){e.each((function(e){var o=c(n.select(this),"g","fills");h.setClipUrl(o,r.layerClipId,t);var l=e[0].trace,d=[];l._ownfill&&d.push("_ownFill"),l._nexttrace&&d.push("_nextFill");var v=o.selectAll("g").data(d,f);v.enter().append("g"),v.exit().each((function(t){l[t]=null})).remove(),v.order().each((function(t){l[t]=c(n.select(this),"path","js-fill")}))}))}(t,v,e),w)?(d&&(y=d()),n.transition().duration(l.duration).ease(l.easing).each("end",(function(){y&&y()})).each("interrupt",(function(){y&&y()})).each((function(){o.selectAll("g.trace").each((function(r,i){x(t,i,e,r,M,this,l)}))}))):v.each((function(r,i){x(t,i,e,r,M,this,l)}));_&&v.exit().remove(),o.selectAll("path:not([d])").remove()}},function(t,e,r){"use strict";var n=r(430),o=n.BADNUM,l=n.LOG_CLIP,c=l+.5,f=l-.5,h=r(421),d=h.segmentsIntersect,v=h.constrain,m=r(542);t.exports=function(t,e){var i,r,n,l,y,x,_,w,M,A,T,k,E,S,L,C,O,R,D=e.xaxis,P=e.yaxis,I="log"===D.type,N="log"===P.type,z=D._length,F=P._length,j=e.connectGaps,B=e.baseTolerance,U=e.shape,H="linear"===U,V=e.fill&&"none"!==e.fill,Y=[],G=m.minTolerance,W=t.length,X=new Array(W),Z=0;function J(r){var n=t[r];if(!n)return!1;var l=e.linearized?D.l2p(n.x):D.c2p(n.x),h=e.linearized?P.l2p(n.y):P.c2p(n.y);if(l===o){if(I&&(l=D.c2p(n.x,!0)),l===o)return!1;N&&h===o&&(l*=Math.abs(D._m*F*(D._m>0?c:f)/(P._m*z*(P._m>0?c:f)))),l*=1e3}if(h===o){if(N&&(h=P.c2p(n.y,!0)),h===o)return!1;h*=1e3}return[l,h]}function Q(t,e,r,n){var o=r-t,l=n-e,c=.5-t,f=.5-e,h=o*o+l*l,d=o*c+l*f;if(d>0&&d<h){var v=c*l-f*o;if(v*v<h)return!0}}function K(t,e){var r=t[0]/z,n=t[1]/F,o=Math.max(0,-r,r-1,-n,n-1);return o&&void 0!==O&&Q(r,n,O,R)&&(o=0),o&&e&&Q(r,n,e[0]/z,e[1]/F)&&(o=0),(1+m.toleranceGrowth*o)*B}function $(t,e){var r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}var tt,et,nt,it,at,ot,st,lt=m.maxScreensAway,ut=-z*lt,ct=z*(1+lt),ft=-F*lt,ht=F*(1+lt),pt=[[ut,ft,ct,ft],[ct,ft,ct,ht],[ct,ht,ut,ht],[ut,ht,ut,ft]];function gt(t){if(t[0]<ut||t[0]>ct||t[1]<ft||t[1]>ht)return[v(t[0],ut,ct),v(t[1],ft,ht)]}function vt(t,e){return t[0]===e[0]&&(t[0]===ut||t[0]===ct)||(t[1]===e[1]&&(t[1]===ft||t[1]===ht)||void 0)}function mt(t,e,r){return function(n,o){var l=gt(n),c=gt(o),f=[];if(l&&c&&vt(l,c))return f;l&&f.push(l),c&&f.push(c);var d=2*h.constrain((n[t]+o[t])/2,e,r)-((l||n)[t]+(c||o)[t]);d&&((l&&c?d>0==l[t]>c[t]?l:c:l||c)[t]+=d);return f}}function yt(t){var e=t[0],r=t[1],n=e===X[Z-1][0],o=r===X[Z-1][1];if(!n||!o)if(Z>1){var l=e===X[Z-2][0],c=r===X[Z-2][1];n&&(e===ut||e===ct)&&l?c?Z--:X[Z-1]=t:o&&(r===ft||r===ht)&&c?l?Z--:X[Z-1]=t:X[Z++]=t}else X[Z++]=t}function xt(t){X[Z-1][0]!==t[0]&&X[Z-1][1]!==t[1]&&yt([nt,it]),yt(t),at=null,nt=it=0}function bt(t){if(O=t[0]/z,R=t[1]/F,tt=t[0]<ut?ut:t[0]>ct?ct:0,et=t[1]<ft?ft:t[1]>ht?ht:0,tt||et){if(Z)if(at){var e=st(at,t);e.length>1&&(xt(e[0]),X[Z++]=e[1])}else ot=st(X[Z-1],t)[0],X[Z++]=ot;else X[Z++]=[tt||t[0],et||t[1]];var r=X[Z-1];tt&&et&&(r[0]!==tt||r[1]!==et)?(at&&(nt!==tt&&it!==et?yt(nt&&it?(n=at,l=(o=t)[0]-n[0],c=(o[1]-n[1])/l,(n[1]*o[0]-o[1]*n[0])/l>0?[c>0?ut:ct,ht]:[c>0?ct:ut,ft]):[nt||tt,it||et]):nt&&it&&yt([nt,it])),yt([tt,et])):nt-tt&&it-et&&yt([tt||nt,et||it]),at=t,nt=tt,it=et}else at&&xt(st(at,t)[0]),X[Z++]=t;var n,o,l,c}for("linear"===U||"spline"===U?st=function(t,e){for(var r=[],n=0,i=0;i<4;i++){var o=pt[i],l=d(t[0],t[1],e[0],e[1],o[0],o[1],o[2],o[3]);l&&(!n||Math.abs(l.x-r[0][0])>1||Math.abs(l.y-r[0][1])>1)&&(l=[l.x,l.y],n&&$(l,t)<$(r[0],t)?r.unshift(l):r.push(l),n++)}return r}:"hv"===U||"vh"===U?st=function(t,e){var r=[],n=gt(t),o=gt(e);return n&&o&&vt(n,o)||(n&&r.push(n),o&&r.push(o)),r}:"hvh"===U?st=mt(0,ut,ct):"vhv"===U&&(st=mt(1,ft,ht)),i=0;i<W;i++)if(r=J(i)){for(Z=0,at=null,bt(r),i++;i<W;i++){if(!(l=J(i))){if(j)continue;break}if(H&&e.simplify){var _t=J(i+1);if(A=$(l,r),V&&(0===Z||Z===W-1)||!(A<K(l,_t)*G)){for(w=[(l[0]-r[0])/A,(l[1]-r[1])/A],y=r,T=A,k=S=L=0,_=!1,n=l,i++;i<t.length;i++){if(x=_t,_t=J(i+1),!x){if(j)continue;break}if(C=(M=[x[0]-r[0],x[1]-r[1]])[0]*w[1]-M[1]*w[0],S=Math.min(S,C),(L=Math.max(L,C))-S>K(x,_t))break;n=x,(E=M[0]*w[0]+M[1]*w[1])>T?(T=E,l=x,_=!1):E<k&&(k=E,y=x,_=!0)}if(_?(bt(l),n!==y&&bt(y)):(y!==r&&bt(y),n!==l&&bt(l)),bt(n),i>=t.length||!x)break;bt(x),r=x}}else bt(l)}at&&yt([nt||at[0],it||at[1]]),Y.push(X.slice(0,Z))}return Y}},function(t,e,r){"use strict";var n={tonextx:1,tonexty:1,tonext:1};t.exports=function(t,e,r){var o,i,l,c,f,h={},d=!1,v=-1,m=0,y=-1;for(i=0;i<r.length;i++)(l=(o=r[i][0].trace).stackgroup||"")?l in h?f=h[l]:(f=h[l]=m,m++):o.fill in n&&y>=0?f=y:(f=y=m,m++),f<v&&(d=!0),o._groupIndex=v=f;var x=r.slice();d&&x.sort((function(a,b){var t=a[0].trace,e=b[0].trace;return t._groupIndex-e._groupIndex||t.index-e.index}));var _={};for(i=0;i<x.length;i++)l=(o=x[i][0].trace).stackgroup||"",!0===o.visible?(o._nexttrace=null,o.fill in n&&(c=_[l],o._prevtrace=c||null,c&&(c._nexttrace=o)),o._ownfill=o.fill&&("tozero"===o.fill.substr(0,6)||"toself"===o.fill||"to"===o.fill.substr(0,2)&&!o._prevtrace),_[l]=o):o._prevtrace=o._nexttrace=o._ownfill=null;return x}},function(t,e,r){"use strict";t.exports={container:"marker",min:"cmin",max:"cmax"}},function(t,e,r){"use strict";var n=r(426);t.exports=function(t,e,r){var o={},l={_fullLayout:r},c=n.getFromTrace(l,e,"x"),f=n.getFromTrace(l,e,"y");return o.xLabel=n.tickText(c,t.x,!0).text,o.yLabel=n.tickText(f,t.y,!0).text,o}},function(t,e,r){"use strict";var n=r(421),o=r(460),l=r(422),c=r(838),f=r(425),h=n.fillText;t.exports=function(t,e,r,d){var v=t.cd,m=v[0].trace,y=t.xa,x=t.ya,_=y.c2p(e),w=x.c2p(r),M=[_,w],A=m.hoveron||"",T=-1!==m.mode.indexOf("markers")?3:.5;if(-1!==A.indexOf("points")){var k=function(t){var e=Math.max(T,t.mrc||0),r=y.c2p(t.x)-_,n=x.c2p(t.y)-w;return Math.max(Math.sqrt(r*r+n*n)-e,1-T/e)},E=o.getDistanceFunction(d,(function(t){var e=Math.max(3,t.mrc||0),r=1-1/e,n=Math.abs(y.c2p(t.x)-_);return n<e?r*n/e:n-e+r}),(function(t){var e=Math.max(3,t.mrc||0),r=1-1/e,n=Math.abs(x.c2p(t.y)-w);return n<e?r*n/e:n-e+r}),k);if(o.getClosest(v,E,t),!1!==t.index){var S=v[t.index],L=y.c2p(S.x,!0),C=x.c2p(S.y,!0),O=S.mrc||1;t.index=S.i;var R=v[0].t.orientation,D=R&&(S.sNorm||S.s),P="h"===R?D:void 0!==S.orig_x?S.orig_x:S.x,I="v"===R?D:void 0!==S.orig_y?S.orig_y:S.y;return n.extendFlat(t,{color:c(m,S),x0:L-O,x1:L+O,xLabelVal:P,y0:C-O,y1:C+O,yLabelVal:I,spikeDistance:k(S),hovertemplate:m.hovertemplate}),h(S,m,t),l.getComponentMethod("errorbars","hoverInfo")(S,m,t),[t]}}if(-1!==A.indexOf("fills")&&m._polygons){var i,N,polygon,z,F,j,B,U,H,V=m._polygons,Y=[],G=!1,W=1/0,X=-1/0,Z=1/0,J=-1/0;for(i=0;i<V.length;i++)(polygon=V[i]).contains(M)&&(G=!G,Y.push(polygon),Z=Math.min(Z,polygon.ymin),J=Math.max(J,polygon.ymax));if(G){var Q=((Z=Math.max(Z,0))+(J=Math.min(J,x._length)))/2;for(i=0;i<Y.length;i++)for(z=Y[i].pts,N=1;N<z.length;N++)(U=z[N-1][1])>Q!=(H=z[N][1])>=Q&&(j=z[N-1][0],B=z[N][0],H-U&&(F=j+(B-j)*(Q-U)/(H-U),W=Math.min(W,F),X=Math.max(X,F)));W=Math.max(W,0),X=Math.min(X,y._length);var K=f.defaultLine;return f.opacity(m.fillcolor)?K=m.fillcolor:f.opacity((m.line||{}).color)&&(K=m.line.color),n.extendFlat(t,{distance:t.maxHoverDistance,x0:W,x1:X,y0:Q,y1:Q,color:K,hovertemplate:!1}),delete t.index,m.text&&!Array.isArray(m.text)?t.text=String(m.text):t.text=m.name,[t]}}}},function(t,e,r){"use strict";var n=r(425),o=r(442);t.exports=function(t,e){var r,l;if("lines"===t.mode)return(r=t.line.color)&&n.opacity(r)?r:t.fillcolor;if("none"===t.mode)return t.fill?t.fillcolor:"";var c=e.mcc||(t.marker||{}).color,f=e.mlcc||((t.marker||{}).line||{}).color;return(l=c&&n.opacity(c)?c:f&&n.opacity(f)&&(e.mlw||((t.marker||{}).line||{}).width)?f:"")?n.opacity(l)<.3?n.addOpacity(l,.3):l:(r=(t.line||{}).color)&&n.opacity(r)&&o.hasLines(t)&&t.line.width?r:t.fillcolor}},function(t,e,r){"use strict";var n=r(442);t.exports=function(t,e){var i,r,o,l,c=t.cd,f=t.xaxis,h=t.yaxis,d=[],v=c[0].trace;if(!n.hasMarkers(v)&&!n.hasText(v))return[];if(!1===e)for(i=0;i<c.length;i++)c[i].selected=0;else for(i=0;i<c.length;i++)r=c[i],o=f.c2p(r.x),l=h.c2p(r.y),null!==r.i&&e.contains([o,l],!1,i,t)?(d.push({pointNumber:r.i,x:f.c2d(r.x),y:h.c2d(r.y)}),r.selected=1):r.selected=0;return d}},function(t,e,r){"use strict";t.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},function(t,e,r){"use strict";var n=r(421),o=r(425),l=r(459).isUnifiedHover,c=r(641),f=r(428),h=r(492),d=r(446),v=r(658),m=r(557),y=r(645),x=r(659),_=r(432),w=_.id2name,M=_.name2id,A=r(434).AX_ID_PATTERN,T=r(422),k=T.traceIs,E=T.getComponentMethod;function S(t,e,r){Array.isArray(t[e])?t[e].push(r):t[e]=[r]}t.exports=function(t,e,r){var i,T,L=e.autotypenumbers,C={},O={},R={},D={},P={},I={},N={},z={},F={},j={};for(i=0;i<r.length;i++){var B=r[i];if(k(B,"cartesian")||k(B,"gl2d")){var U,H;if(B.xaxis)U=w(B.xaxis),S(C,U,B);else if(B.xaxes)for(T=0;T<B.xaxes.length;T++)S(C,w(B.xaxes[T]),B);if(B.yaxis)H=w(B.yaxis),S(C,H,B);else if(B.yaxes)for(T=0;T<B.yaxes.length;T++)S(C,w(B.yaxes[T]),B);if("funnel"===B.type?"h"===B.orientation?(U&&(O[U]=!0),H&&(N[H]=!0)):H&&(R[H]=!0):"image"===B.type?(H&&(z[H]=!0),U&&(z[U]=!0)):(H&&(P[H]=!0,I[H]=!0),k(B,"carpet")&&("carpet"!==B.type||B._cheater)||U&&(D[U]=!0)),"carpet"===B.type&&B._cheater&&U&&(O[U]=!0),k(B,"2dMap")&&(F[U]=!0,F[H]=!0),k(B,"oriented"))j["h"===B.orientation?H:U]=!0}}var V=e._subplots,Y=V.xaxis,G=V.yaxis,W=n.simpleMap(Y,w),X=n.simpleMap(G,w),Z=W.concat(X),J=o.background;Y.length&&G.length&&(J=n.coerce(t,e,h,"plot_bgcolor"));var Q,K,$,tt,et,nt=o.combine(J,e.paper_bgcolor);function it(){var t=C[Q]||[];et._traceIndices=t.map((function(t){return t._expandedIndex})),et._annIndices=[],et._shapeIndices=[],et._imgIndices=[],et._subplotsWith=[],et._counterAxes=[],et._name=et._attr=Q,et._id=K}function at(t,e){return n.coerce(tt,et,d,t,e)}function ot(t,e){return n.coerce2(tt,et,d,t,e)}function st(t){return"x"===t?G:Y}function lt(e,r){for(var n="x"===e?W:X,o=[],l=0;l<n.length;l++){var c=n[l];c===r||(t[c]||{}).overlaying||o.push(M(c))}return o}var ut={x:st("x"),y:st("y")},ct=ut.x.concat(ut.y),ft={},ht=[];function pt(){var t=tt.matches;A.test(t)&&-1===ct.indexOf(t)&&(ft[t]=tt.type,ht=Object.keys(ft))}var gt=c(t,e,r),vt=l(gt);for(i=0;i<Z.length;i++){Q=Z[i],K=M(Q),$=Q.charAt(0),n.isPlainObject(t[Q])||(t[Q]={}),tt=t[Q],et=f.newContainer(e,Q,$+"axis"),it();var mt="x"===$&&!D[Q]&&O[Q]||"y"===$&&!P[Q]&&R[Q],yt="y"===$&&(!I[Q]&&N[Q]||z[Q]),xt={letter:$,font:e.font,outerTicks:F[Q],showGrid:!j[Q],data:C[Q]||[],bgColor:nt,calendar:e.calendar,automargin:!0,visibleDflt:mt,reverseDflt:yt,autotypenumbersDflt:L,splomStash:((e._splomAxes||{})[$]||{})[K]};at("uirevision",e.uirevision),v(tt,et,at,xt),m(tt,et,at,xt,e);var bt=vt&&$===gt.charAt(0),_t=ot("spikecolor",vt?et.color:void 0),wt=ot("spikethickness",vt?1.5:void 0),Mt=ot("spikedash",vt?"dot":void 0),At=ot("spikemode",vt?"across":void 0),Tt=ot("spikesnap",vt?"hovered data":void 0);at("showspikes",!!(bt||_t||wt||Mt||At||Tt))||(delete et.spikecolor,delete et.spikethickness,delete et.spikedash,delete et.spikemode,delete et.spikesnap),x(tt,et,at,{letter:$,counterAxes:ut[$],overlayableAxes:lt($,Q),grid:e.grid}),at("title.standoff"),pt(),et._input=tt}for(i=0;i<ht.length;){K=ht[i++],$=(Q=w(K)).charAt(0),n.isPlainObject(t[Q])||(t[Q]={}),tt=t[Q],et=f.newContainer(e,Q,$+"axis"),it();var kt={letter:$,font:e.font,outerTicks:F[Q],showGrid:!j[Q],data:[],bgColor:nt,calendar:e.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:L,splomStash:((e._splomAxes||{})[$]||{})[K]};at("uirevision",e.uirevision),et.type=ft[K]||"linear",m(tt,et,at,kt,e),x(tt,et,at,{letter:$,counterAxes:ut[$],overlayableAxes:lt($,Q),grid:e.grid}),at("fixedrange"),pt(),et._input=tt}var Et=E("rangeslider","handleDefaults"),St=E("rangeselector","handleDefaults");for(i=0;i<W.length;i++)Q=W[i],tt=t[Q],et=e[Q],Et(t,e,Q),"date"===et.type&&St(tt,et,e,X,et.calendar),at("fixedrange");for(i=0;i<X.length;i++){Q=X[i],tt=t[Q],et=e[Q];var Lt=e[w(et.anchor)];at("fixedrange",E("rangeslider","isVisible")(Lt))}y.handleDefaults(t,e,{axIds:ct.concat(ht).sort(_.idSort),axHasImage:z})}},function(t,e,r){"use strict";t.exports=function(t,e,r,n){if("category"===e.type){var o,l=t.categoryarray,c=Array.isArray(l)&&l.length>0;c&&(o="array");var f,h=r("categoryorder",o);"array"===h&&(f=r("categoryarray")),c||"array"!==h||(h=e.categoryorder="trace"),"trace"===h?e._initialCategories=[]:"array"===h?e._initialCategories=f.slice():(f=function(t,e){var r,i,n,o=e.dataAttr||t._id.charAt(0),l={};if(e.axData)r=e.axData;else for(r=[],i=0;i<e.data.length;i++){var c=e.data[i];c[o+"axis"]===t._id&&r.push(c)}for(i=0;i<r.length;i++){var f=r[i][o];for(n=0;n<f.length;n++){var h=f[n];null!=h&&(l[h]=1)}}return Object.keys(l)}(e,n).sort(),"category ascending"===h?e._initialCategories=f:"category descending"===h&&(e._initialCategories=f.reverse()))}}},function(t,e,r){"use strict";var n=r(443).mix,o=r(456).lightFraction,l=r(421);t.exports=function(t,e,r,c){var f=(c=c||{}).dfltColor;function h(r,n){return l.coerce2(t,e,c.attributes,r,n)}var d=h("linecolor",f),v=h("linewidth");r("showline",c.showLine||!!d||!!v)||(delete e.linecolor,delete e.linewidth);var m=h("gridcolor",n(f,c.bgColor,c.blend||o).toRgbString()),y=h("gridwidth");if(r("showgrid",c.showGrid||!!m||!!y)||(delete e.gridcolor,delete e.gridwidth),!c.noZeroLine){var x=h("zerolinecolor",f),_=h("zerolinewidth");r("zeroline",c.showGrid||!!x||!!_)||(delete e.zerolinecolor,delete e.zerolinewidth)}}},function(t,e,r){"use strict";var n=r(423),o=r(422),l=r(421),c=r(427),f=r(426);t.exports=function(t,e,r,h){var d=t._fullLayout;if(0!==e.length){var v,m,y,x;h&&(v=h());var _=n.ease(r.easing);return t._transitionData._interruptCallbacks.push((function(){return window.cancelAnimationFrame(x),x=null,function(){for(var r={},i=0;i<e.length;i++){var n=e[i],l=n.plotinfo.xaxis,c=n.plotinfo.yaxis;n.xr0&&(r[l._name+".range"]=n.xr0.slice()),n.yr0&&(r[c._name+".range"]=n.yr0.slice())}return o.call("relayout",t,r).then((function(){for(var i=0;i<e.length;i++)w(e[i].plotinfo)}))}()})),m=Date.now(),x=window.requestAnimationFrame((function n(){y=Date.now();for(var l=Math.min(1,(y-m)/r.duration),progress=_(l),i=0;i<e.length;i++)M(e[i],progress);y-m>r.duration?(!function(){for(var r={},i=0;i<e.length;i++){var n=e[i],l=n.plotinfo.xaxis,c=n.plotinfo.yaxis;n.xr1&&(r[l._name+".range"]=n.xr1.slice()),n.yr1&&(r[c._name+".range"]=n.yr1.slice())}v&&v(),o.call("relayout",t,r).then((function(){for(var i=0;i<e.length;i++)w(e[i].plotinfo)}))}(),x=window.cancelAnimationFrame(n)):x=window.requestAnimationFrame(n)})),Promise.resolve()}function w(t){var e=t.xaxis,r=t.yaxis;d._defs.select("#"+t.clipId+"> rect").call(c.setTranslate,0,0).call(c.setScale,1,1),t.plot.call(c.setTranslate,e._offset,r._offset).call(c.setScale,1,1);var n=t.plot.selectAll(".scatterlayer .trace");n.selectAll(".point").call(c.setPointGroupScale,1,1),n.selectAll(".textpoint").call(c.setTextPointsScale,1,1),n.call(c.hideOutsideRangePoints,t)}function M(e,progress){var r=e.plotinfo,n=r.xaxis,o=r.yaxis,h=n._length,d=o._length,v=!!e.xr1,m=!!e.yr1,y=[];if(v){var x=l.simpleMap(e.xr0,n.r2l),_=l.simpleMap(e.xr1,n.r2l),w=x[1]-x[0],M=_[1]-_[0];y[0]=(x[0]*(1-progress)+progress*_[0]-x[0])/(x[1]-x[0])*h,y[2]=h*(1-progress+progress*M/w),n.range[0]=n.l2r(x[0]*(1-progress)+progress*_[0]),n.range[1]=n.l2r(x[1]*(1-progress)+progress*_[1])}else y[0]=0,y[2]=h;if(m){var A=l.simpleMap(e.yr0,o.r2l),T=l.simpleMap(e.yr1,o.r2l),k=A[1]-A[0],E=T[1]-T[0];y[1]=(A[1]*(1-progress)+progress*T[1]-A[1])/(A[0]-A[1])*d,y[3]=d*(1-progress+progress*E/k),o.range[0]=n.l2r(A[0]*(1-progress)+progress*T[0]),o.range[1]=o.l2r(A[1]*(1-progress)+progress*T[1])}else y[1]=0,y[3]=d;f.drawOne(t,n,{skipTitle:!0}),f.drawOne(t,o,{skipTitle:!0}),f.redrawComponents(t,[n._id,o._id]);var S=v?h/y[2]:1,L=m?d/y[3]:1,C=v?y[0]:0,O=m?y[1]:0,R=v?y[0]/y[2]*h:0,D=m?y[1]/y[3]*d:0,P=n._offset-R,I=o._offset-D;r.clipRect.call(c.setTranslate,C,O).call(c.setScale,1/S,1/L),r.plot.call(c.setTranslate,P,I).call(c.setScale,S,L),c.setPointGroupScale(r.zoomScalePts,1/S,1/L),c.setTextPointsScale(r.zoomScaleTxt,1/S,1/L)}f.redrawComponents(t)}},function(t,e,r){"use strict";t.exports={moduleType:"component",name:"legend",layoutAttributes:r(636),supplyLayoutDefaults:r(635),draw:r(637),style:r(639)}},function(t,e,r){"use strict";var n=r(558),o=r(848);t.exports={moduleType:"component",name:"annotations",layoutAttributes:r(511),supplyLayoutDefaults:r(849),includeBasePlot:r(560)("annotations"),calcAutorange:r(850),draw:n.draw,drawOne:n.drawOne,drawRaw:n.drawRaw,hasClickToShow:o.hasClickToShow,onClick:o.onClick,convertCoords:r(851)}},function(t,e,r){"use strict";var n=r(423),o=r(425),l=r(660),c=r(421),f=c.strScale,h=c.strRotate,d=c.strTranslate;t.exports=function(t,e,r){var c,v,m,y,x=t.node(),_=l[r.arrowhead||0],w=l[r.startarrowhead||0],M=(r.arrowwidth||1)*(r.arrowsize||1),A=(r.arrowwidth||1)*(r.startarrowsize||1),T=e.indexOf("start")>=0,k=e.indexOf("end")>=0,E=_.backoff*M+r.standoff,S=w.backoff*A+r.startstandoff;if("line"===x.nodeName){c={x:+t.attr("x1"),y:+t.attr("y1")},v={x:+t.attr("x2"),y:+t.attr("y2")};var L=c.x-v.x,C=c.y-v.y;if(y=(m=Math.atan2(C,L))+Math.PI,E&&S&&E+S>Math.sqrt(L*L+C*C))return void U();if(E){if(E*E>L*L+C*C)return void U();var O=E*Math.cos(m),R=E*Math.sin(m);v.x+=O,v.y+=R,t.attr({x2:v.x,y2:v.y})}if(S){if(S*S>L*L+C*C)return void U();var D=S*Math.cos(m),P=S*Math.sin(m);c.x-=D,c.y-=P,t.attr({x1:c.x,y1:c.y})}}else if("path"===x.nodeName){var I=x.getTotalLength(),N="";if(I<E+S)return void U();var z=x.getPointAtLength(0),F=x.getPointAtLength(.1);m=Math.atan2(z.y-F.y,z.x-F.x),c=x.getPointAtLength(Math.min(S,I)),N="0px,"+S+"px,";var j=x.getPointAtLength(I),B=x.getPointAtLength(I-.1);y=Math.atan2(j.y-B.y,j.x-B.x),v=x.getPointAtLength(Math.max(0,I-E)),N+=I-(N?S+E:E)+"px,"+I+"px",t.style("stroke-dasharray",N)}function U(){t.style("stroke-dasharray","0px,100px")}function H(e,p,l,c){e.path&&(e.noRotate&&(l=0),n.select(x.parentNode).append("path").attr({class:t.attr("class"),d:e.path,transform:d(p.x,p.y)+h(180*l/Math.PI)+f(c)}).style({fill:o.rgb(r.arrowcolor),"stroke-width":0}))}T&&H(w,c,m,A),k&&H(_,v,y,M)}},function(t,e,r){"use strict";var n=r(421),o=r(422),l=r(428).arrayEditor;function c(t,e){var i,r,n,o,l,c,h,d=t._fullLayout.annotations,v=[],m=[],y=[],x=(e||[]).length;for(i=0;i<d.length;i++)if(o=(n=d[i]).clicktoshow){for(r=0;r<x;r++)if(c=(l=e[r]).xaxis,h=l.yaxis,c._id===n.xref&&h._id===n.yref&&c.d2r(l.x)===f(n._xclick,c)&&h.d2r(l.y)===f(n._yclick,h)){(n.visible?"onout"===o?m:y:v).push(i);break}r===x&&n.visible&&"onout"===o&&m.push(i)}return{on:v,off:m,explicitOff:y}}function f(t,e){return"log"===e.type?e.l2r(t):e.d2r(t)}t.exports={hasClickToShow:function(t,e){var r=c(t,e);return r.on.length>0||r.explicitOff.length>0},onClick:function(t,e){var i,r,f=c(t,e),h=f.on,d=f.off.concat(f.explicitOff),v={},m=t._fullLayout.annotations;if(!h.length&&!d.length)return;for(i=0;i<h.length;i++)(r=l(t.layout,"annotations",m[h[i]])).modifyItem("visible",!0),n.extendFlat(v,r.getUpdateObj());for(i=0;i<d.length;i++)(r=l(t.layout,"annotations",m[d[i]])).modifyItem("visible",!1),n.extendFlat(v,r.getUpdateObj());return o.call("update",t,{},v)}}},function(t,e,r){"use strict";var n=r(421),o=r(426),l=r(458),c=r(661),f=r(511);function h(t,e,r){function l(r,o){return n.coerce(t,e,f,r,o)}var h=l("visible"),d=l("clicktoshow");if(h||d){c(t,e,r,l);for(var v=e.showarrow,m=["x","y"],y=[-10,-30],x={_fullLayout:r},i=0;i<2;i++){var _=m[i],w=o.coerceRef(t,e,x,_,"","paper");if("paper"!==w)o.getFromId(x,w)._annIndices.push(e._index);if(o.coercePosition(e,x,l,w,_,.5),v){var M="a"+_,A=o.coerceRef(t,e,x,M,"pixel",["pixel","paper"]);"pixel"!==A&&A!==w&&(A=e[M]="pixel");var T="pixel"===A?y[i]:.4;o.coercePosition(e,x,l,A,M,T)}l(_+"anchor"),l(_+"shift")}if(n.noneOrAll(t,e,["x","y"]),v&&n.noneOrAll(t,e,["ax","ay"]),d){var k=l("xclick"),E=l("yclick");e._xclick=void 0===k?e.x:o.cleanPosition(k,x,e.xref),e._yclick=void 0===E?e.y:o.cleanPosition(E,x,e.yref)}}}t.exports=function(t,e){l(t,e,{name:"annotations",handleItemDefaults:h})}},function(t,e,r){"use strict";var n=r(421),o=r(426),l=r(558).draw;function c(t){var e=t._fullLayout;n.filterVisible(e.annotations).forEach((function(e){var r=o.getFromId(t,e.xref),n=o.getFromId(t,e.yref),l=o.getRefType(e.xref),c=o.getRefType(e.yref);e._extremes={},"range"===l&&f(e,r),"range"===c&&f(e,n)}))}function f(t,e){var r,n=e._id,l=n.charAt(0),c=t[l],f=t["a"+l],h=t[l+"ref"],d=t["a"+l+"ref"],v=t["_"+l+"padplus"],m=t["_"+l+"padminus"],y={x:1,y:-1}[l]*t[l+"shift"],x=3*t.arrowsize*t.arrowwidth||0,_=x+y,w=x-y,M=3*t.startarrowsize*t.arrowwidth||0,A=M+y,T=M-y;if(d===h){var k=o.findExtremes(e,[e.r2c(c)],{ppadplus:_,ppadminus:w}),E=o.findExtremes(e,[e.r2c(f)],{ppadplus:Math.max(v,A),ppadminus:Math.max(m,T)});r={min:[k.min[0],E.min[0]],max:[k.max[0],E.max[0]]}}else A=f?A+f:A,T=f?T-f:T,r=o.findExtremes(e,[e.r2c(c)],{ppadplus:Math.max(v,_,A),ppadminus:Math.max(m,w,T)});t._extremes[n]=r}t.exports=function(t){var e=t._fullLayout;if(n.filterVisible(e.annotations).length&&t._fullData.length)return n.syncOrAsync([l,c],t)}},function(t,e,r){"use strict";var n=r(424),o=r(524);t.exports=function(t,e,r,l){e=e||{};var c="log"===r&&"linear"===e.type,f="linear"===r&&"log"===e.type;if(c||f)for(var h,d,v=t._fullLayout.annotations,m=e._id.charAt(0),i=0;i<v.length;i++)h=v[i],d="annotations["+i+"].",h[m+"ref"]===e._id&&y(m),h["a"+m+"ref"]===e._id&&y("a"+m);function y(t){var r=h[t],f=null;f=c?o(r,e.range):Math.pow(10,r),n(f)||(f=null),l(d+t,f)}}},function(t,e,r){"use strict";var n=r(422),o=r(421);t.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:r(561)}}},layoutAttributes:r(561),handleDefaults:r(853),includeBasePlot:function(t,e){var r=n.subplotsRegistry.gl3d;if(!r)return;for(var l=r.attrRegex,c=Object.keys(t),i=0;i<c.length;i++){var f=c[i];l.test(f)&&(t[f].annotations||[]).length&&(o.pushUnique(e._basePlotModules,r),o.pushUnique(e._subplots.gl3d,f))}},convert:r(854),draw:r(855)}},function(t,e,r){"use strict";var n=r(421),o=r(426),l=r(458),c=r(661),f=r(561);function h(t,e,r,l){function h(r,o){return n.coerce(t,e,f,r,o)}function d(t){var n=t+"axis",l={_fullLayout:{}};return l._fullLayout[n]=r[n],o.coercePosition(e,l,h,t,t,.5)}h("visible")&&(c(t,e,l.fullLayout,h),d("x"),d("y"),d("z"),n.noneOrAll(t,e,["x","y","z"]),e.xref="x",e.yref="y",e.zref="z",h("xanchor"),h("yanchor"),h("xshift"),h("yshift"),e.showarrow&&(e.axref="pixel",e.ayref="pixel",h("ax",-10),h("ay",-30),n.noneOrAll(t,e,["ax","ay"])))}t.exports=function(t,e,r){l(t,e,{name:"annotations",handleItemDefaults:h,fullLayout:r.fullLayout})}},function(t,e,r){"use strict";var n=r(421),o=r(426);function l(t,e){var r=e.fullSceneLayout.domain,l=e.fullLayout._size,base={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};t._xa={},n.extendFlat(t._xa,base),o.setConvert(t._xa),t._xa._offset=l.l+r.x[0]*l.w,t._xa.l2p=function(){return.5*(1+t._pdata[0]/t._pdata[3])*l.w*(r.x[1]-r.x[0])},t._ya={},n.extendFlat(t._ya,base),o.setConvert(t._ya),t._ya._offset=l.t+(1-r.y[1])*l.h,t._ya.l2p=function(){return.5*(1-t._pdata[1]/t._pdata[3])*l.h*(r.y[1]-r.y[0])}}t.exports=function(t){for(var e=t.fullSceneLayout.annotations,i=0;i<e.length;i++)l(e[i],t);t.fullLayout._infolayer.selectAll(".annotation-"+t.id).remove()}},function(t,e,r){"use strict";var n=r(558).drawRaw,o=r(662),l=["x","y","z"];t.exports=function(t){for(var e=t.fullSceneLayout,r=t.dataScale,c=e.annotations,i=0;i<c.length;i++){for(var f=c[i],h=!1,d=0;d<3;d++){var v=l[d],m=f[v],y=e[v+"axis"].r2fraction(m);if(y<0||y>1){h=!0;break}}h?t.fullLayout._infolayer.select(".annotation-"+t.id+'[data-index="'+i+'"]').remove():(f._pdata=o(t.glplot.cameraParams,[e.xaxis.r2l(f.x)*r[0],e.yaxis.r2l(f.y)*r[1],e.zaxis.r2l(f.z)*r[2]]),n(t.graphDiv,f,i,t.id,f._xa,f._ya))}}},function(t,e,r){"use strict";var n=r(642);t.exports={moduleType:"component",name:"shapes",layoutAttributes:r(663),supplyLayoutDefaults:r(857),supplyDrawNewShapeDefaults:r(858),includeBasePlot:r(560)("shapes"),calcAutorange:r(859),draw:n.draw,drawOne:n.drawOne}},function(t,e,r){"use strict";var n=r(421),o=r(426),l=r(458),c=r(663),f=r(551);function h(t,e,r){function l(r,o){return n.coerce(t,e,c,r,o)}if(l("visible")){var path=l("path"),h=l("type",path?"path":"rect");"path"!==e.type&&delete e.path,l("editable"),l("layer"),l("opacity"),l("fillcolor"),l("fillrule"),l("line.width")&&(l("line.color"),l("line.dash"));for(var d=l("xsizemode"),v=l("ysizemode"),m=["x","y"],i=0;i<2;i++){var y,x,_,w=m[i],M=w+"anchor",A="x"===w?d:v,T={_fullLayout:r},k=o.coerceRef(t,e,T,w,void 0,"paper");if("range"===o.getRefType(k)?((y=o.getFromId(T,k))._shapeIndices.push(e._index),_=f.rangeToShapePosition(y),x=f.shapePositionToRange(y)):x=_=n.identity,"path"!==h){var E=w+"0",S=w+"1",L=t[E],C=t[S];t[E]=x(t[E],!0),t[S]=x(t[S],!0),"pixel"===A?(l(E,0),l(S,10)):(o.coercePosition(e,T,l,k,E,.25),o.coercePosition(e,T,l,k,S,.75)),e[E]=_(e[E]),e[S]=_(e[S]),t[E]=L,t[S]=C}if("pixel"===A){var O=t[M];t[M]=x(t[M],!0),o.coercePosition(e,T,l,k,M,.25),e[M]=_(e[M]),t[M]=O}}"path"===h?l("path"):n.noneOrAll(t,e,["x0","x1","y0","y1"])}}t.exports=function(t,e){l(t,e,{name:"shapes",handleItemDefaults:h})}},function(t,e,r){"use strict";var n=r(425);t.exports=function(t,e,r){if(r("newshape.drawdirection"),r("newshape.layer"),r("newshape.fillcolor"),r("newshape.fillrule"),r("newshape.opacity"),r("newshape.line.width")){var o=(t||{}).plot_bgcolor||"#FFF";r("newshape.line.color",n.contrast(o)),r("newshape.line.dash")}r("activeshape.fillcolor"),r("activeshape.opacity")}},function(t,e,r){"use strict";var n=r(421),o=r(426),l=r(550),c=r(551);function f(t){return d(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function h(t){return d(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function d(t,e,r,o,path,f){var h=t/2,d=f;if("pixel"===e){var v=path?c.extractPathCoords(path,f?l.paramIsY:l.paramIsX):[r,o],m=n.aggNums(Math.max,null,v),y=n.aggNums(Math.min,null,v),x=y<0?Math.abs(y)+h:h,_=m>0?m+h:h;return{ppad:h,ppadplus:d?x:_,ppadminus:d?_:x}}return{ppad:h}}function v(t,e,r,path,n){var o="category"===t.type||"multicategory"===t.type?t.r2c:t.d2c;if(void 0!==e)return[o(e),o(r)];if(path){var i,f,h,d,v=1/0,m=-1/0,y=path.match(l.segmentRE);for("date"===t.type&&(o=c.decodeDate(o)),i=0;i<y.length;i++)void 0!==(f=n[y[i].charAt(0)].drawn)&&(!(h=y[i].substr(1).match(l.paramRE))||h.length<f||((d=o(h[f]))<v&&(v=d),d>m&&(m=d)));return m>=v?[v,m]:void 0}}t.exports=function(t){var e=t._fullLayout,r=n.filterVisible(e.shapes);if(r.length&&t._fullData.length)for(var i=0;i<r.length;i++){var c,d,m=r[i];m._extremes={};var y=o.getRefType(m.xref),x=o.getRefType(m.yref);if("paper"!==m.xref&&"domain"!==y){var _="pixel"===m.xsizemode?m.xanchor:m.x0,w="pixel"===m.xsizemode?m.xanchor:m.x1;(d=v(c=o.getFromId(t,m.xref),_,w,m.path,l.paramIsX))&&(m._extremes[c._id]=o.findExtremes(c,d,f(m)))}if("paper"!==m.yref&&"domain"!==x){var M="pixel"===m.ysizemode?m.yanchor:m.y0,A="pixel"===m.ysizemode?m.yanchor:m.y1;(d=v(c=o.getFromId(t,m.yref),M,A,m.path,l.paramIsY))&&(m._extremes[c._id]=o.findExtremes(c,d,h(m)))}}}},function(t,e,r){"use strict";t.exports={moduleType:"component",name:"images",layoutAttributes:r(664),supplyLayoutDefaults:r(861),includeBasePlot:r(560)("images"),draw:r(862),convertCoords:r(863)}},function(t,e,r){"use strict";var n=r(421),o=r(426),l=r(458),c=r(664);function f(t,e,r){function l(r,o){return n.coerce(t,e,c,r,o)}var source=l("source");if(!l("visible",!!source))return e;l("layer"),l("xanchor"),l("yanchor"),l("sizex"),l("sizey"),l("sizing"),l("opacity");for(var f={_fullLayout:r},h=["x","y"],i=0;i<2;i++){var d=h[i],v=o.coerceRef(t,e,f,d,"paper",void 0);if("paper"!==v)o.getFromId(f,v)._imgIndices.push(e._index);o.coercePosition(e,f,l,v,d,0)}return e}t.exports=function(t,e){l(t,e,{name:"images",handleItemDefaults:f})}},function(t,e,r){"use strict";var n=r(423),o=r(427),l=r(426),c=r(432),f=r(463);t.exports=function(t){var e,i,r=t._fullLayout,h=[],d={},v=[];for(i=0;i<r.images.length;i++){var img=r.images[i];if(img.visible)if("below"===img.layer&&"paper"!==img.xref&&"paper"!==img.yref){e=c.ref2id(img.xref)+c.ref2id(img.yref);var m=r._plots[e];if(!m){v.push(img);continue}m.mainplot&&(e=m.mainplot.id),d[e]||(d[e]=[]),d[e].push(img)}else"above"===img.layer?h.push(img):v.push(img)}var y={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},x={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function _(e){var r=n.select(this);if(this._imgSrc!==e.source)if(r.attr("xmlns",f.svg),e.source&&"data:"===e.source.slice(0,5))r.attr("xlink:href",e.source),this._imgSrc=e.source;else{var o=new Promise(function(t){var img=new Image;function n(){r.remove(),t()}this.img=img,img.setAttribute("crossOrigin","anonymous"),img.onerror=n,img.onload=function(){var canvas=document.createElement("canvas");canvas.width=this.width,canvas.height=this.height,canvas.getContext("2d").drawImage(this,0,0);var e=canvas.toDataURL("image/png");r.attr("xlink:href",e),t()},r.on("error",n),img.src=e.source,this._imgSrc=e.source}.bind(this));t._promises.push(o)}}function w(e){var c,f,h=n.select(this),d=l.getFromId(t,e.xref),v=l.getFromId(t,e.yref),m="domain"===l.getRefType(e.xref),_="domain"===l.getRefType(e.yref),w=r._size;c=void 0!==d?"string"==typeof e.xref&&m?d._length*e.sizex:Math.abs(d.l2p(e.sizex)-d.l2p(0)):e.sizex*w.w,f=void 0!==v?"string"==typeof e.yref&&_?v._length*e.sizey:Math.abs(v.l2p(e.sizey)-v.l2p(0)):e.sizey*w.h;var M,A,T=c*y[e.xanchor].offset,k=f*x[e.yanchor].offset,E=y[e.xanchor].sizing+x[e.yanchor].sizing;switch(M=void 0!==d?"string"==typeof e.xref&&m?d._length*e.x+d._offset:d.r2p(e.x)+d._offset:e.x*w.w+w.l,M+=T,A=void 0!==v?"string"==typeof e.yref&&_?v._length*(1-e.y)+v._offset:v.r2p(e.y)+v._offset:w.h-e.y*w.h+w.t,A+=k,e.sizing){case"fill":E+=" slice";break;case"stretch":E="none"}h.attr({x:M,y:A,width:c,height:f,preserveAspectRatio:E,opacity:e.opacity});var S=(d&&"domain"!==l.getRefType(e.xref)?d._id:"")+(v&&"domain"!==l.getRefType(e.yref)?v._id:"");o.setClipUrl(h,S?"clip"+r._uid+S:null,t)}var M=r._imageLowerLayer.selectAll("image").data(v),A=r._imageUpperLayer.selectAll("image").data(h);M.enter().append("image"),A.enter().append("image"),M.exit().remove(),A.exit().remove(),M.each((function(t){_.bind(this)(t),w.bind(this)(t)})),A.each((function(t){_.bind(this)(t),w.bind(this)(t)}));var T=Object.keys(r._plots);for(i=0;i<T.length;i++){e=T[i];var k=r._plots[e];if(k.imagelayer){var E=k.imagelayer.selectAll("image").data(d[e]||[]);E.enter().append("image"),E.exit().remove(),E.each((function(t){_.bind(this)(t),w.bind(this)(t)}))}}}},function(t,e,r){"use strict";var n=r(424),o=r(524);t.exports=function(t,e,r,l){e=e||{};var c="log"===r&&"linear"===e.type,f="linear"===r&&"log"===e.type;if(c||f)for(var image,h,d=t._fullLayout.images,v=e._id.charAt(0),i=0;i<d.length;i++)if(h="images["+i+"].",(image=d[i])[v+"ref"]===e._id){var m=image[v],y=image["size"+v],x=null,_=null;if(c){x=o(m,e.range);var w=y/Math.pow(10,x)/2;_=2*Math.log(w+Math.sqrt(1+w*w))/Math.LN10}else _=(x=Math.pow(10,m))*(Math.pow(10,y/2)-Math.pow(10,-y/2));n(x)?n(_)||(_=null):(x=null,_=null),l(h+v,x),l(h+"size"+v,_)}}},function(t,e,r){"use strict";var n=r(562);t.exports={moduleType:"component",name:n.name,layoutAttributes:r(665),supplyLayoutDefaults:r(865),draw:r(866)}},function(t,e,r){"use strict";var n=r(421),o=r(458),l=r(665),c=r(562).name,f=l.buttons;function h(t,e,r){function c(r,o){return n.coerce(t,e,l,r,o)}c("visible",o(t,e,{name:"buttons",handleItemDefaults:d}).length>0)&&(c("active"),c("direction"),c("type"),c("showactive"),c("x"),c("y"),n.noneOrAll(t,e,["x","y"]),c("xanchor"),c("yanchor"),c("pad.t"),c("pad.r"),c("pad.b"),c("pad.l"),n.coerceFont(c,"font",r.font),c("bgcolor",r.paper_bgcolor),c("bordercolor"),c("borderwidth"))}function d(t,e){function r(r,o){return n.coerce(t,e,f,r,o)}r("visible","skip"===t.method||Array.isArray(t.args))&&(r("method"),r("args"),r("args2"),r("label"),r("execute"))}t.exports=function(t,e){o(t,e,{name:c,handleItemDefaults:h})}},function(t,e,r){"use strict";var n=r(423),o=r(431),l=r(425),c=r(427),f=r(421),h=r(440),d=r(428).arrayEditor,v=r(438).LINE_SPACING,m=r(562),y=r(867);function x(t){return t._index}function _(t,e){return+t.attr(m.menuIndexAttrName)===e._index}function w(t,e,r,n,o,l,c,f){e.active=c,d(t.layout,m.name,e).applyUpdate("active",c),"buttons"===e.type?A(t,n,null,null,e):"dropdown"===e.type&&(o.attr(m.menuIndexAttrName,"-1"),M(t,n,o,l,e),f||A(t,n,o,l,e))}function M(t,e,r,n,o){var header=f.ensureSingle(e,"g",m.headerClassName,(function(s){s.style("pointer-events","all")})),l=o._dims,h=o.active,d=o.buttons[h]||m.blankHeaderOpts,v={y:o.pad.t,yPad:0,x:o.pad.l,xPad:0,index:0},y={width:l.headerWidth,height:l.headerHeight};header.call(T,o,d,t).call(D,o,v,y),f.ensureSingle(e,"text",m.headerArrowClassName,(function(s){s.attr("text-anchor","end").call(c.font,o.font).text(m.arrowSymbol[o.direction])})).attr({x:l.headerWidth-m.arrowOffsetX+o.pad.l,y:l.headerHeight/2+m.textOffsetY+o.pad.t}),header.on("click",(function(){r.call(P,String(_(r,o)?-1:o._index)),A(t,e,r,n,o)})),header.on("mouseover",(function(){header.call(L)})),header.on("mouseout",(function(){header.call(C,o)})),c.setTranslate(e,l.lx,l.ly)}function A(t,e,r,l,c){r||(r=e).attr("pointer-events","all");var h=function(t){return-1==+t.attr(m.menuIndexAttrName)}(r)&&"buttons"!==c.type?[]:c.buttons,d="dropdown"===c.type?m.dropdownButtonClassName:m.buttonClassName,v=r.selectAll("g."+d).data(f.filterVisible(h)),y=v.enter().append("g").classed(d,!0),x=v.exit();"dropdown"===c.type?(y.attr("opacity","0").transition().attr("opacity","1"),x.transition().attr("opacity","0").remove()):x.remove();var _=0,M=0,A=c._dims,k=-1!==["up","down"].indexOf(c.direction);"dropdown"===c.type&&(k?M=A.headerHeight+m.gapButtonHeader:_=A.headerWidth+m.gapButtonHeader),"dropdown"===c.type&&"up"===c.direction&&(M=-m.gapButtonHeader+m.gapButton-A.openHeight),"dropdown"===c.type&&"left"===c.direction&&(_=-m.gapButtonHeader+m.gapButton-A.openWidth);var E={x:A.lx+_+c.pad.l,y:A.ly+M+c.pad.t,yPad:m.gapButton,xPad:m.gapButton,index:0},O={l:E.x+c.borderwidth,t:E.y+c.borderwidth};v.each((function(f,h){var button=n.select(this);button.call(T,c,f,t).call(D,c,E),button.on("click",(function(){n.event.defaultPrevented||(f.execute&&(f.args2&&c.active===h?(w(t,c,0,e,r,l,-1),o.executeAPICommand(t,f.method,f.args2)):(w(t,c,0,e,r,l,h),o.executeAPICommand(t,f.method,f.args))),t.emit("plotly_buttonclicked",{menu:c,button:f,active:c.active}))})),button.on("mouseover",(function(){button.call(L)})),button.on("mouseout",(function(){button.call(C,c),v.call(S,c)}))})),v.call(S,c),k?(O.w=Math.max(A.openWidth,A.headerWidth),O.h=E.y-O.t):(O.w=E.x-O.l,O.h=Math.max(A.openHeight,A.headerHeight)),O.direction=c.direction,l&&(v.size()?function(t,e,r,n,o,l){var c,f,i,h=o.direction,d="up"===h||"down"===h,v=o._dims,y=o.active;if(d)for(f=0,i=0;i<y;i++)f+=v.heights[i]+m.gapButton;else for(c=0,i=0;i<y;i++)c+=v.widths[i]+m.gapButton;n.enable(l,c,f),n.hbar&&n.hbar.attr("opacity","0").transition().attr("opacity","1");n.vbar&&n.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,l,c,O):function(t){var e=!!t.hbar,r=!!t.vbar;e&&t.hbar.transition().attr("opacity","0").each("end",(function(){e=!1,r||t.disable()}));r&&t.vbar.transition().attr("opacity","0").each("end",(function(){r=!1,e||t.disable()}))}(l))}function T(t,e,r,n){t.call(k,e).call(E,e,r,n)}function k(t,e){f.ensureSingle(t,"rect",m.itemRectClassName,(function(s){s.attr({rx:m.rx,ry:m.ry,"shape-rendering":"crispEdges"})})).call(l.stroke,e.bordercolor).call(l.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px")}function E(t,e,r,n){var text=f.ensureSingle(t,"text",m.itemTextClassName,(function(s){s.attr({"text-anchor":"start","data-notex":1})})),o=r.label,l=n._fullLayout._meta;l&&(o=f.templateString(o,l)),text.call(c.font,e.font).text(o).call(h.convertToTspans,n)}function S(t,e){var r=e.active;t.each((function(t,i){var button=n.select(this);i===r&&e.showactive&&button.select("rect."+m.itemRectClassName).call(l.fill,m.activeColor)}))}function L(t){t.select("rect."+m.itemRectClassName).call(l.fill,m.hoverColor)}function C(t,e){t.select("rect."+m.itemRectClassName).call(l.fill,e.bgcolor)}function O(t,e){var r=e._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},l=c.tester.selectAll("g."+m.dropdownButtonClassName).data(f.filterVisible(e.buttons));l.enter().append("g").classed(m.dropdownButtonClassName,!0);var d=-1!==["up","down"].indexOf(e.direction);l.each((function(o,i){var button=n.select(this);button.call(T,e,o,t);var text=button.select("."+m.itemTextClassName),l=text.node()&&c.bBox(text.node()).width,f=Math.max(l+m.textPadX,m.minWidth),y=e.font.size*v,x=h.lineCount(text),_=Math.max(y*x,m.minHeight)+m.textOffsetY;_=Math.ceil(_),f=Math.ceil(f),r.widths[i]=f,r.heights[i]=_,r.height1=Math.max(r.height1,_),r.width1=Math.max(r.width1,f),d?(r.totalWidth=Math.max(r.totalWidth,f),r.openWidth=r.totalWidth,r.totalHeight+=_+m.gapButton,r.openHeight+=_+m.gapButton):(r.totalWidth+=f+m.gapButton,r.openWidth+=f+m.gapButton,r.totalHeight=Math.max(r.totalHeight,_),r.openHeight=r.totalHeight)})),d?r.totalHeight-=m.gapButton:r.totalWidth-=m.gapButton,r.headerWidth=r.width1+m.arrowPadX,r.headerHeight=r.height1,"dropdown"===e.type&&(d?(r.width1+=m.arrowPadX,r.totalHeight=r.height1):r.totalWidth=r.width1,r.totalWidth+=m.arrowPadX),l.remove();var y=r.totalWidth+e.pad.l+e.pad.r,x=r.totalHeight+e.pad.t+e.pad.b,_=t._fullLayout._size;r.lx=_.l+_.w*e.x,r.ly=_.t+_.h*(1-e.y);var w="left";f.isRightAnchor(e)&&(r.lx-=y,w="right"),f.isCenterAnchor(e)&&(r.lx-=y/2,w="center");var M="top";f.isBottomAnchor(e)&&(r.ly-=x,M="bottom"),f.isMiddleAnchor(e)&&(r.ly-=x/2,M="middle"),r.totalWidth=Math.ceil(r.totalWidth),r.totalHeight=Math.ceil(r.totalHeight),r.lx=Math.round(r.lx),r.ly=Math.round(r.ly),o.autoMargin(t,R(e),{x:e.x,y:e.y,l:y*({right:1,center:.5}[w]||0),r:y*({left:1,center:.5}[w]||0),b:x*({top:1,middle:.5}[M]||0),t:x*({bottom:1,middle:.5}[M]||0)})}function R(t){return m.autoMarginIdRoot+t._index}function D(t,e,r,n){n=n||{};var rect=t.select("."+m.itemRectClassName),text=t.select("."+m.itemTextClassName),o=e.borderwidth,l=r.index,f=e._dims;c.setTranslate(t,o+r.x,o+r.y);var d=-1!==["up","down"].indexOf(e.direction),y=n.height||(d?f.heights[l]:f.height1);rect.attr({x:0,y:0,width:n.width||(d?f.width1:f.widths[l]),height:y});var x=e.font.size*v,_=(h.lineCount(text)-1)*x/2;h.positionText(text,m.textOffsetX,y/2-_+m.textOffsetY),d?r.y+=f.heights[l]+r.yPad:r.x+=f.widths[l]+r.xPad,r.index++}function P(t,e){t.attr(m.menuIndexAttrName,e||"-1").selectAll("g."+m.dropdownButtonClassName).remove()}t.exports=function(t){var e=t._fullLayout,r=f.filterVisible(e[m.name]);function l(e){o.autoMargin(t,R(e))}var c=e._menulayer.selectAll("g."+m.containerClassName).data(r.length>0?[0]:[]);if(c.enter().append("g").classed(m.containerClassName,!0).style("cursor","pointer"),c.exit().each((function(){n.select(this).selectAll("g."+m.headerGroupClassName).each(l)})).remove(),0!==r.length){var h=c.selectAll("g."+m.headerGroupClassName).data(r,x);h.enter().append("g").classed(m.headerGroupClassName,!0);for(var d=f.ensureSingle(c,"g",m.dropdownButtonGroupClassName,(function(s){s.style("pointer-events","all")})),i=0;i<r.length;i++){var v=r[i];O(t,v)}var T="updatemenus"+e._uid,k=new y(t,d,T);h.enter().size()&&(d.node().parentNode.appendChild(d.node()),d.call(P)),h.exit().each((function(t){d.call(P),l(t)})).remove(),h.each((function(e){var r=n.select(this),l="dropdown"===e.type?d:null;o.manageCommandObserver(t,e,e.buttons,(function(data){w(t,e,e.buttons[data.index],r,l,k,data.index,!0)})),"dropdown"===e.type?(M(t,r,d,k,e),_(d,e)&&A(t,r,d,k,e)):A(t,r,null,null,e)}))}}},function(t,e,r){"use strict";t.exports=f;var n=r(423),o=r(425),l=r(427),c=r(421);function f(t,e,r){this.gd=t,this.container=e,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}f.barWidth=2,f.barLength=20,f.barRadius=2,f.barPad=1,f.barColor="#808BA4",f.prototype.enable=function(t,e,r){var c=this.gd._fullLayout,h=c.width,d=c.height;this.position=t;var v,m,y,x,_=this.position.l,w=this.position.w,M=this.position.t,A=this.position.h,T=this.position.direction,k="down"===T,E="left"===T,S="up"===T,L=w,C=A;k||E||"right"===T||S||(this.position.direction="down",k=!0),k||S?(m=(v=_)+L,k?(y=M,C=(x=Math.min(y+C,d))-y):C=(x=M+C)-(y=Math.max(x-C,0))):(x=(y=M)+C,E?L=(m=_+L)-(v=Math.max(m-L,0)):(v=_,L=(m=Math.min(v+L,h))-v)),this._box={l:v,t:y,w:L,h:C};var O=w>L,R=f.barLength+2*f.barPad,D=f.barWidth+2*f.barPad,P=_,I=M+A;I+D>d&&(I=d-D);var N=this.container.selectAll("rect.scrollbar-horizontal").data(O?[0]:[]);N.exit().on(".drag",null).remove(),N.enter().append("rect").classed("scrollbar-horizontal",!0).call(o.fill,f.barColor),O?(this.hbar=N.attr({rx:f.barRadius,ry:f.barRadius,x:P,y:I,width:R,height:D}),this._hbarXMin=P+R/2,this._hbarTranslateMax=L-R):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var z=A>C,F=f.barWidth+2*f.barPad,j=f.barLength+2*f.barPad,B=_+w,U=M;B+F>h&&(B=h-F);var H=this.container.selectAll("rect.scrollbar-vertical").data(z?[0]:[]);H.exit().on(".drag",null).remove(),H.enter().append("rect").classed("scrollbar-vertical",!0).call(o.fill,f.barColor),z?(this.vbar=H.attr({rx:f.barRadius,ry:f.barRadius,x:B,y:U,width:F,height:j}),this._vbarYMin=U+j/2,this._vbarTranslateMax=C-j):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var V=this.id,Y=v-.5,G=z?m+F+.5:m+.5,W=y-.5,X=O?x+D+.5:x+.5,Z=c._topdefs.selectAll("#"+V).data(O||z?[0]:[]);if(Z.exit().remove(),Z.enter().append("clipPath").attr("id",V).append("rect"),O||z?(this._clipRect=Z.select("rect").attr({x:Math.floor(Y),y:Math.floor(W),width:Math.ceil(G)-Math.floor(Y),height:Math.ceil(X)-Math.floor(W)}),this.container.call(l.setClipUrl,V,this.gd),this.bg.attr({x:_,y:M,width:w,height:A})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(l.setClipUrl,null),delete this._clipRect),O||z){var J=n.behavior.drag().on("dragstart",(function(){n.event.sourceEvent.preventDefault()})).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(J);var Q=n.behavior.drag().on("dragstart",(function(){n.event.sourceEvent.preventDefault(),n.event.sourceEvent.stopPropagation()})).on("drag",this._onBarDrag.bind(this));O&&this.hbar.on(".drag",null).call(Q),z&&this.vbar.on(".drag",null).call(Q)}this.setTranslate(e,r)},f.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(l.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},f.prototype._onBoxDrag=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t-=n.event.dx),this.vbar&&(e-=n.event.dy),this.setTranslate(t,e)},f.prototype._onBoxWheel=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t+=n.event.deltaY),this.vbar&&(e+=n.event.deltaY),this.setTranslate(t,e)},f.prototype._onBarDrag=function(){var t=this.translateX,e=this.translateY;if(this.hbar){var r=t+this._hbarXMin,o=r+this._hbarTranslateMax;t=(c.constrain(n.event.x,r,o)-r)/(o-r)*(this.position.w-this._box.w)}if(this.vbar){var l=e+this._vbarYMin,f=l+this._vbarTranslateMax;e=(c.constrain(n.event.y,l,f)-l)/(f-l)*(this.position.h-this._box.h)}this.setTranslate(t,e)},f.prototype.setTranslate=function(t,e){var r=this.position.w-this._box.w,n=this.position.h-this._box.h;if(t=c.constrain(t||0,0,r),e=c.constrain(e||0,0,n),this.translateX=t,this.translateY=e,this.container.call(l.setTranslate,this._box.l-this.position.l-t,this._box.t-this.position.t-e),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+t-.5),y:Math.floor(this.position.t+e-.5)}),this.hbar){var o=t/r;this.hbar.call(l.setTranslate,t+o*this._hbarTranslateMax,e)}if(this.vbar){var f=e/n;this.vbar.call(l.setTranslate,t,e+f*this._vbarTranslateMax)}}},function(t,e,r){"use strict";var n=r(512);t.exports={moduleType:"component",name:n.name,layoutAttributes:r(666),supplyLayoutDefaults:r(869),draw:r(870)}},function(t,e,r){"use strict";var n=r(421),o=r(458),l=r(666),c=r(512).name,f=l.steps;function h(t,e,r){function c(r,o){return n.coerce(t,e,l,r,o)}for(var f=o(t,e,{name:"steps",handleItemDefaults:d}),h=0,i=0;i<f.length;i++)f[i].visible&&h++;if(h<2?e.visible=!1:c("visible")){e._stepCount=h;var v=e._visibleSteps=n.filterVisible(f);(f[c("active")]||{}).visible||(e.active=v[0]._index),c("x"),c("y"),n.noneOrAll(t,e,["x","y"]),c("xanchor"),c("yanchor"),c("len"),c("lenmode"),c("pad.t"),c("pad.r"),c("pad.b"),c("pad.l"),n.coerceFont(c,"font",r.font),c("currentvalue.visible")&&(c("currentvalue.xanchor"),c("currentvalue.prefix"),c("currentvalue.suffix"),c("currentvalue.offset"),n.coerceFont(c,"currentvalue.font",e.font)),c("transition.duration"),c("transition.easing"),c("bgcolor"),c("activebgcolor"),c("bordercolor"),c("borderwidth"),c("ticklen"),c("tickwidth"),c("tickcolor"),c("minorticklen")}}function d(t,e){function r(r,o){return n.coerce(t,e,f,r,o)}if("skip"===t.method||Array.isArray(t.args)?r("visible"):e.visible=!1){r("method"),r("args");var label=r("label","step-"+e._index);r("value",label),r("execute")}}t.exports=function(t,e){o(t,e,{name:c,handleItemDefaults:h})}},function(t,e,r){"use strict";var n=r(423),o=r(431),l=r(425),c=r(427),f=r(421),h=f.strTranslate,d=r(440),v=r(428).arrayEditor,m=r(512),y=r(438),x=y.LINE_SPACING,_=y.FROM_TL,w=y.FROM_BR;function M(t){return m.autoMarginIdRoot+t._index}function A(t){return t._index}function T(t,e){var r=c.tester.selectAll("g."+m.labelGroupClass).data(e._visibleSteps);r.enter().append("g").classed(m.labelGroupClass,!0);var l=0,h=0;r.each((function(t){var r=S(n.select(this),{step:t},e).node();if(r){var o=c.bBox(r);h=Math.max(h,o.height),l=Math.max(l,o.width)}})),r.remove();var v=e._dims={};v.inputAreaWidth=Math.max(m.railWidth,m.gripHeight);var y=t._fullLayout._size;v.lx=y.l+y.w*e.x,v.ly=y.t+y.h*(1-e.y),"fraction"===e.lenmode?v.outerLength=Math.round(y.w*e.len):v.outerLength=e.len,v.inputAreaStart=0,v.inputAreaLength=Math.round(v.outerLength-e.pad.l-e.pad.r);var x=(v.inputAreaLength-2*m.stepInset)/(e._stepCount-1),A=l+m.labelPadding;if(v.labelStride=Math.max(1,Math.ceil(A/x)),v.labelHeight=h,v.currentValueMaxWidth=0,v.currentValueHeight=0,v.currentValueTotalHeight=0,v.currentValueMaxLines=1,e.currentvalue.visible){var T=c.tester.append("g");r.each((function(t){var r=k(T,e,t.label),n=r.node()&&c.bBox(r.node())||{width:0,height:0},o=d.lineCount(r);v.currentValueMaxWidth=Math.max(v.currentValueMaxWidth,Math.ceil(n.width)),v.currentValueHeight=Math.max(v.currentValueHeight,Math.ceil(n.height)),v.currentValueMaxLines=Math.max(v.currentValueMaxLines,o)})),v.currentValueTotalHeight=v.currentValueHeight+e.currentvalue.offset,T.remove()}v.height=v.currentValueTotalHeight+m.tickOffset+e.ticklen+m.labelOffset+v.labelHeight+e.pad.t+e.pad.b;var E="left";f.isRightAnchor(e)&&(v.lx-=v.outerLength,E="right"),f.isCenterAnchor(e)&&(v.lx-=v.outerLength/2,E="center");var L="top";f.isBottomAnchor(e)&&(v.ly-=v.height,L="bottom"),f.isMiddleAnchor(e)&&(v.ly-=v.height/2,L="middle"),v.outerLength=Math.ceil(v.outerLength),v.height=Math.ceil(v.height),v.lx=Math.round(v.lx),v.ly=Math.round(v.ly);var C={y:e.y,b:v.height*w[L],t:v.height*_[L]};"fraction"===e.lenmode?(C.l=0,C.xl=e.x-e.len*_[E],C.r=0,C.xr=e.x+e.len*w[E]):(C.x=e.x,C.l=v.outerLength*_[E],C.r=v.outerLength*w[E]),o.autoMargin(t,M(e),C)}function k(t,e,r){if(e.currentvalue.visible){var n,o,l=e._dims;switch(e.currentvalue.xanchor){case"right":n=l.inputAreaLength-m.currentValueInset-l.currentValueMaxWidth,o="left";break;case"center":n=.5*l.inputAreaLength,o="middle";break;default:n=m.currentValueInset,o="left"}var text=f.ensureSingle(t,"text",m.labelClass,(function(s){s.attr({"text-anchor":o,"data-notex":1})})),h=e.currentvalue.prefix?e.currentvalue.prefix:"";if("string"==typeof r)h+=r;else{var v=e.steps[e.active].label,y=e._gd._fullLayout._meta;y&&(v=f.templateString(v,y)),h+=v}e.currentvalue.suffix&&(h+=e.currentvalue.suffix),text.call(c.font,e.currentvalue.font).text(h).call(d.convertToTspans,e._gd);var _=d.lineCount(text),w=(l.currentValueMaxLines+1-_)*e.currentvalue.font.size*x;return d.positionText(text,n,w),text}}function E(t,e,r){f.ensureSingle(t,"rect",m.gripRectClass,(function(s){s.call(R,e,t,r).style("pointer-events","all")})).attr({width:m.gripWidth,height:m.gripHeight,rx:m.gripRadius,ry:m.gripRadius}).call(l.stroke,r.bordercolor).call(l.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px")}function S(t,data,e){var text=f.ensureSingle(t,"text",m.labelClass,(function(s){s.attr({"text-anchor":"middle","data-notex":1})})),r=data.step.label,n=e._gd._fullLayout._meta;return n&&(r=f.templateString(r,n)),text.call(c.font,e.font).text(r).call(d.convertToTspans,e._gd),text}function L(t,e){var r=f.ensureSingle(t,"g",m.labelsClass),o=e._dims,l=r.selectAll("g."+m.labelGroupClass).data(o.labelSteps);l.enter().append("g").classed(m.labelGroupClass,!0),l.exit().remove(),l.each((function(t){var r=n.select(this);r.call(S,t,e),c.setTranslate(r,I(e,t.fraction),m.tickOffset+e.ticklen+e.font.size*x+m.labelOffset+o.currentValueTotalHeight)}))}function C(t,e,r,n,o){var l=Math.round(n*(r._stepCount-1)),c=r._visibleSteps[l]._index;c!==r.active&&O(t,e,r,c,!0,o)}function O(t,e,r,n,l,c){var f=r.active;r.active=n,v(t.layout,m.name,r).applyUpdate("active",n);var h=r.steps[r.active];e.call(P,r,c),e.call(k,r),t.emit("plotly_sliderchange",{slider:r,step:r.steps[r.active],interaction:l,previousActive:f}),h&&h.method&&l&&(e._nextMethod?(e._nextMethod.step=h,e._nextMethod.doCallback=l,e._nextMethod.doTransition=c):(e._nextMethod={step:h,doCallback:l,doTransition:c},e._nextMethodRaf=window.requestAnimationFrame((function(){var r=e._nextMethod.step;r.method&&(r.execute&&o.executeAPICommand(t,r.method,r.args),e._nextMethod=null,e._nextMethodRaf=null)}))))}function R(t,e,r){var o=r.node(),c=n.select(e);function f(){return r.data()[0]}t.on("mousedown",(function(){var t=f();e.emit("plotly_sliderstart",{slider:t});var h=r.select("."+m.gripRectClass);n.event.stopPropagation(),n.event.preventDefault(),h.call(l.fill,t.activebgcolor);var d=N(t,n.mouse(o)[0]);C(e,r,t,d,!0),t._dragging=!0,c.on("mousemove",(function(){var t=f(),l=N(t,n.mouse(o)[0]);C(e,r,t,l,!1)})),c.on("mouseup",(function(){var t=f();t._dragging=!1,h.call(l.fill,t.bgcolor),c.on("mouseup",null),c.on("mousemove",null),e.emit("plotly_sliderend",{slider:t,step:t.steps[t.active]})}))}))}function D(t,e){var r=t.selectAll("rect."+m.tickRectClass).data(e._visibleSteps),o=e._dims;r.enter().append("rect").classed(m.tickRectClass,!0),r.exit().remove(),r.attr({width:e.tickwidth+"px","shape-rendering":"crispEdges"}),r.each((function(t,i){var r=i%o.labelStride==0,f=n.select(this);f.attr({height:r?e.ticklen:e.minorticklen}).call(l.fill,e.tickcolor),c.setTranslate(f,I(e,i/(e._stepCount-1))-.5*e.tickwidth,(r?m.tickOffset:m.minorTickOffset)+o.currentValueTotalHeight)}))}function P(t,e,r){for(var n=t.select("rect."+m.gripRectClass),o=0,i=0;i<e._stepCount;i++)if(e._visibleSteps[i]._index===e.active){o=i;break}var l=I(e,o/(e._stepCount-1));if(!e._invokingCommand){var c=n;r&&e.transition.duration>0&&(c=c.transition().duration(e.transition.duration).ease(e.transition.easing)),c.attr("transform",h(l-.5*m.gripWidth,e._dims.currentValueTotalHeight))}}function I(t,e){var r=t._dims;return r.inputAreaStart+m.stepInset+(r.inputAreaLength-2*m.stepInset)*Math.min(1,Math.max(0,e))}function N(t,e){var r=t._dims;return Math.min(1,Math.max(0,(e-m.stepInset-r.inputAreaStart)/(r.inputAreaLength-2*m.stepInset-2*r.inputAreaStart)))}function z(t,e,r){var n=r._dims,rect=f.ensureSingle(t,"rect",m.railTouchRectClass,(function(s){s.call(R,e,t,r).style("pointer-events","all")}));rect.attr({width:n.inputAreaLength,height:Math.max(n.inputAreaWidth,m.tickOffset+r.ticklen+n.labelHeight)}).call(l.fill,r.bgcolor).attr("opacity",0),c.setTranslate(rect,0,n.currentValueTotalHeight)}function F(t,e){var r=e._dims,n=r.inputAreaLength-2*m.railInset,rect=f.ensureSingle(t,"rect",m.railRectClass);rect.attr({width:n,height:m.railWidth,rx:m.railRadius,ry:m.railRadius,"shape-rendering":"crispEdges"}).call(l.stroke,e.bordercolor).call(l.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px"),c.setTranslate(rect,m.railInset,.5*(r.inputAreaWidth-m.railWidth)+r.currentValueTotalHeight)}t.exports=function(t){var e=t._fullLayout,r=function(t,e){for(var r=t[m.name],n=[],i=0;i<r.length;i++){var o=r[i];o.visible&&(o._gd=e,n.push(o))}return n}(e,t),l=e._infolayer.selectAll("g."+m.containerClassName).data(r.length>0?[0]:[]);function f(e){e._commandObserver&&(e._commandObserver.remove(),delete e._commandObserver),o.autoMargin(t,M(e))}if(l.enter().append("g").classed(m.containerClassName,!0).style("cursor","ew-resize"),l.exit().each((function(){n.select(this).selectAll("g."+m.groupClassName).each(f)})).remove(),0!==r.length){var h=l.selectAll("g."+m.groupClassName).data(r,A);h.enter().append("g").classed(m.groupClassName,!0),h.exit().each(f).remove();for(var i=0;i<r.length;i++){var d=r[i];T(t,d)}h.each((function(e){var r=n.select(this);!function(t){var e=t._dims;e.labelSteps=[];for(var r=t._stepCount,i=0;i<r;i+=e.labelStride)e.labelSteps.push({fraction:i/(r-1),step:t._visibleSteps[i]})}(e),o.manageCommandObserver(t,e,e._visibleSteps,(function(data){var e=r.data()[0];e.active!==data.index&&(e._dragging||O(t,r,e,data.index,!1,!0))})),function(t,e,r){(r.steps[r.active]||{}).visible||(r.active=r._visibleSteps[0]._index);e.call(k,r).call(F,r).call(L,r).call(D,r).call(z,t,r).call(E,t,r);var n=r._dims;c.setTranslate(e,n.lx+r.pad.l,n.ly+r.pad.t),e.call(P,r,!1),e.call(k,r)}(t,n.select(this),e)}))}}},function(t,e,r){"use strict";var n=r(421),o=r(563),l=r(667),c=r(872);t.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:n.extendFlat({},o,{yaxis:l})}}},layoutAttributes:r(563),handleDefaults:r(873),calcAutorange:r(874),draw:r(875),isVisible:c.isVisible,makeData:c.makeData,autoMarginOpts:c.autoMarginOpts}},function(t,e,r){"use strict";var n=r(432),o=r(440),l=r(564),c=r(438).LINE_SPACING,f=l.name;function h(t){var e=t&&t[f];return e&&e.visible}e.isVisible=h,e.makeData=function(t){var e=n.list({_fullLayout:t},"x",!0),r=t.margin,o=[];if(!t._has("gl2d"))for(var i=0;i<e.length;i++){var l=e[i];if(h(l)){o.push(l);var c=l[f];c._id=f+l._id,c._height=(t.height-r.b-r.t)*c.thickness,c._offsetShift=Math.floor(c.borderwidth/2)}}t._rangeSliderData=o},e.autoMarginOpts=function(t,e){var r=t._fullLayout,n=e[f],h=e._id.charAt(0),d=0,v=0;"bottom"===e.side&&(d=e._depth,e.title.text!==r._dfltTitle[h]&&(v=1.5*e.title.font.size+10+n._offsetShift,v+=(e.title.text.match(o.BR_TAG_ALL)||[]).length*e.title.font.size*c));return{x:0,y:e._counterDomainMin,l:0,r:0,t:0,b:n._height+d+Math.max(r.margin.b,v),pad:l.extraPad+2*n._offsetShift}}},function(t,e,r){"use strict";var n=r(421),o=r(428),l=r(432),c=r(563),f=r(667);t.exports=function(t,e,r){var h=t[r],d=e[r];if(h.rangeslider||e._requestRangeslider[d._id]){n.isPlainObject(h.rangeslider)||(h.rangeslider={});var v,m,y=h.rangeslider,x=o.newContainer(d,"rangeslider");if(E("visible")){E("bgcolor",e.plot_bgcolor),E("bordercolor"),E("borderwidth"),E("thickness"),E("autorange",!d.isValidRange(y.range)),E("range");var _=e._subplots;if(_)for(var w=_.cartesian.filter((function(t){return t.substr(0,t.indexOf("y"))===l.name2id(r)})).map((function(t){return t.substr(t.indexOf("y"),t.length)})),M=n.simpleMap(w,l.id2name),i=0;i<M.length;i++){var A=M[i];v=y[A]||{},m=o.newContainer(x,A,"yaxis");var T,k=e[A];v.range&&k.isValidRange(v.range)&&(T="fixed"),"match"!==S("rangemode",T)&&S("range",k.range.slice())}x._input=y}}function E(t,e){return n.coerce(y,x,c,t,e)}function S(t,e){return n.coerce(v,m,f,t,e)}}},function(t,e,r){"use strict";var n=r(432).list,o=r(506).getAutoRange,l=r(564);t.exports=function(t){for(var e=n(t,"x",!0),i=0;i<e.length;i++){var r=e[i],c=r[l.name];c&&c.visible&&c.autorange&&(c._input.autorange=!0,c._input.range=c.range=o(t,r))}}},function(t,e,r){"use strict";var n=r(423),o=r(422),l=r(431),c=r(421),f=c.strTranslate,h=r(427),d=r(425),v=r(504),m=r(556),y=r(432),x=r(450),_=r(476),w=r(564);function M(t,e,r,n){var o=c.ensureSingle(t,"rect",w.bgClassName,(function(s){s.attr({x:0,y:0,"shape-rendering":"crispEdges"})})),l=n.borderwidth%2==0?n.borderwidth:n.borderwidth-1,d=-n._offsetShift,v=h.crispRound(e,n.borderwidth);o.attr({width:n._width+l,height:n._height+l,transform:f(d,d),fill:n.bgcolor,stroke:n.bordercolor,"stroke-width":v})}function A(t,e,r,n){var o=e._fullLayout;c.ensureSingleById(o._topdefs,"clipPath",n._clipId,(function(s){s.append("rect").attr({x:0,y:0})})).select("rect").attr({width:n._width,height:n._height})}function T(t,e,r,o){var f,d=e.calcdata,v=t.selectAll("g."+w.rangePlotClassName).data(r._subplotsWith,c.identity);v.enter().append("g").attr("class",(function(t){return w.rangePlotClassName+" "+t})).call(h.setClipUrl,o._clipId,e),v.order(),v.exit().remove(),v.each((function(t,i){var c=n.select(this),h=0===i,v=y.getFromId(e,t,"y"),x=v._name,_=o[x],w={data:[],layout:{xaxis:{type:r.type,domain:[0,1],range:o.range.slice(),calendar:r.calendar},width:o._width,height:o._height,margin:{t:0,b:0,l:0,r:0}},_context:e._context};r.rangebreaks&&(w.layout.xaxis.rangebreaks=r.rangebreaks),w.layout[x]={type:v.type,domain:[0,1],range:"match"!==_.rangemode?_.range.slice():v.range.slice(),calendar:v.calendar},v.rangebreaks&&(w.layout[x].rangebreaks=v.rangebreaks),l.supplyDefaults(w);var M=w._fullLayout.xaxis,A=w._fullLayout[x];M.clearCalc(),M.setScale(),A.clearCalc(),A.setScale();var T={id:t,plotgroup:c,xaxis:M,yaxis:A,isRangePlot:!0};h?f=T:(T.mainplot="xy",T.mainplotinfo=f),m.rangePlot(e,T,function(t,e){for(var r=[],i=0;i<t.length;i++){var n=t[i],o=n[0].trace;o.xaxis+o.yaxis===e&&r.push(n)}return r}(d,t))}))}function k(t,e,r,n,o){(c.ensureSingle(t,"rect",w.maskMinClassName,(function(s){s.attr({x:0,y:0,"shape-rendering":"crispEdges"})})).attr("height",n._height).call(d.fill,w.maskColor),c.ensureSingle(t,"rect",w.maskMaxClassName,(function(s){s.attr({y:0,"shape-rendering":"crispEdges"})})).attr("height",n._height).call(d.fill,w.maskColor),"match"!==o.rangemode)&&(c.ensureSingle(t,"rect",w.maskMinOppAxisClassName,(function(s){s.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",n._width).call(d.fill,w.maskOppAxisColor),c.ensureSingle(t,"rect",w.maskMaxOppAxisClassName,(function(s){s.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",n._width).style("border-top",w.maskOppBorder).call(d.fill,w.maskOppAxisColor))}function E(t,e,r,n){e._context.staticPlot||c.ensureSingle(t,"rect",w.slideBoxClassName,(function(s){s.attr({y:0,cursor:w.slideBoxCursor,"shape-rendering":"crispEdges"})})).attr({height:n._height,fill:w.slideBoxFill})}function S(t,e,r,n){var o=c.ensureSingle(t,"g",w.grabberMinClassName),l=c.ensureSingle(t,"g",w.grabberMaxClassName),f={x:0,width:w.handleWidth,rx:w.handleRadius,fill:d.background,stroke:d.defaultLine,"stroke-width":w.handleStrokeWidth,"shape-rendering":"crispEdges"},h={y:Math.round(n._height/4),height:Math.round(n._height/2)};c.ensureSingle(o,"rect",w.handleMinClassName,(function(s){s.attr(f)})).attr(h),c.ensureSingle(l,"rect",w.handleMaxClassName,(function(s){s.attr(f)})).attr(h);var v={width:w.grabAreaWidth,x:0,y:0,fill:w.grabAreaFill,cursor:e._context.staticPlot?void 0:w.grabAreaCursor};c.ensureSingle(o,"rect",w.grabAreaMinClassName,(function(s){s.attr(v)})).attr("height",n._height),c.ensureSingle(l,"rect",w.grabAreaMaxClassName,(function(s){s.attr(v)})).attr("height",n._height)}t.exports=function(t){for(var e=t._fullLayout,r=e._rangeSliderData,i=0;i<r.length;i++){var l=r[i][w.name];l._clipId=l._id+"-"+e._uid}var h=e._infolayer.selectAll("g."+w.containerClassName).data(r,(function(t){return t._name}));h.exit().each((function(t){var r=t[w.name];e._topdefs.select("#"+r._clipId).remove()})).remove(),0!==r.length&&(h.enter().append("g").classed(w.containerClassName,!0).attr("pointer-events","all"),h.each((function(r){var l=n.select(this),h=r[w.name],d=e[y.id2name(r.anchor)],m=h[y.id2name(r.anchor)];if(h.range){var L,C=c.simpleMap(h.range,r.r2l),O=c.simpleMap(r.range,r.r2l);L=O[0]<O[1]?[Math.min(C[0],O[0]),Math.max(C[1],O[1])]:[Math.max(C[0],O[0]),Math.min(C[1],O[1])],h.range=h._input.range=c.simpleMap(L,r.l2r)}r.cleanRange("rangeslider.range");var R=e._size,D=r.domain;h._width=R.w*(D[1]-D[0]);var P=Math.round(R.l+R.w*D[0]),I=Math.round(R.t+R.h*(1-r._counterDomainMin)+("bottom"===r.side?r._depth:0)+h._offsetShift+w.extraPad);l.attr("transform",f(P,I)),h._rl=c.simpleMap(h.range,r.r2l);var N=h._rl[0],z=h._rl[1],F=z-N;if(h.p2d=function(t){return t/h._width*F+N},h.d2p=function(t){return(t-N)/F*h._width},r.rangebreaks){var j=r.locateBreaks(N,z);if(j.length){var B,U,H=0;for(B=0;B<j.length;B++)H+=(U=j[B]).max-U.min;var V=h._width/(z-N-H),Y=[-V*N];for(B=0;B<j.length;B++)U=j[B],Y.push(Y[Y.length-1]-V*(U.max-U.min));for(h.d2p=function(t){for(var b=Y[0],e=0;e<j.length;e++){var r=j[e];if(t>=r.max)b=Y[e+1];else if(t<r.min)break}return b+V*t},B=0;B<j.length;B++)(U=j[B]).pmin=h.d2p(U.min),U.pmax=h.d2p(U.max);h.p2d=function(t){for(var b=Y[0],e=0;e<j.length;e++){var r=j[e];if(t>=r.pmax)b=Y[e+1];else if(t<r.pmin)break}return(t-b)/V}}}if("match"!==m.rangemode){var G=d.r2l(m.range[0]),W=d.r2l(m.range[1])-G;h.d2pOppAxis=function(t){return(t-G)/W*h._height}}l.call(M,t,r,h).call(A,t,r,h).call(T,t,r,h).call(k,t,r,h,m).call(E,t,r,h).call(S,t,r,h),function(t,e,r,l){if(e._context.staticPlot)return;var f=t.select("rect."+w.slideBoxClassName).node(),h=t.select("rect."+w.grabAreaMinClassName).node(),d=t.select("rect."+w.grabAreaMaxClassName).node();function v(){var v=n.event,m=v.target,y=v.clientX||v.touches[0].clientX,w=y-t.node().getBoundingClientRect().left,M=l.d2p(r._rl[0]),A=l.d2p(r._rl[1]),T=x.coverSlip();function k(t){var v,x,cursor,k=+(t.clientX||t.touches[0].clientX)-y;switch(m){case f:cursor="ew-resize",v=M+k,x=A+k;break;case h:cursor="col-resize",v=M+k,x=A;break;case d:cursor="col-resize",v=M,x=A+k;break;default:cursor="ew-resize",v=w,x=w+k}if(x<v){var E=x;x=v,v=E}l._pixelMin=v,l._pixelMax=x,_(n.select(T),cursor),function(t,e,r,n){function l(t){return r.l2r(c.constrain(t,n._rl[0],n._rl[1]))}var f=l(n.p2d(n._pixelMin)),h=l(n.p2d(n._pixelMax));window.requestAnimationFrame((function(){o.call("_guiRelayout",e,r._name+".range",[f,h])}))}(0,e,r,l)}function E(){T.removeEventListener("mousemove",k),T.removeEventListener("mouseup",E),this.removeEventListener("touchmove",k),this.removeEventListener("touchend",E),c.removeElement(T)}this.addEventListener("touchmove",k),this.addEventListener("touchend",E),T.addEventListener("mousemove",k),T.addEventListener("mouseup",E)}t.on("mousedown",v),t.on("touchstart",v)}(l,t,r,h),function(t,e,r,n,o,l){var h=w.handleWidth/2;function d(t){return c.constrain(t,0,n._width)}function v(t){return c.constrain(t,0,n._height)}function m(t){return c.constrain(t,-h,n._width+h)}var y=d(n.d2p(r._rl[0])),x=d(n.d2p(r._rl[1]));if(t.select("rect."+w.slideBoxClassName).attr("x",y).attr("width",x-y),t.select("rect."+w.maskMinClassName).attr("width",y),t.select("rect."+w.maskMaxClassName).attr("x",x).attr("width",n._width-x),"match"!==l.rangemode){var _=n._height-v(n.d2pOppAxis(o._rl[1])),M=n._height-v(n.d2pOppAxis(o._rl[0]));t.select("rect."+w.maskMinOppAxisClassName).attr("x",y).attr("height",_).attr("width",x-y),t.select("rect."+w.maskMaxOppAxisClassName).attr("x",y).attr("y",M).attr("height",n._height-M).attr("width",x-y),t.select("rect."+w.slideBoxClassName).attr("y",_).attr("height",M-_)}var A=Math.round(m(y-h))-.5,T=Math.round(m(x-h))+.5;t.select("g."+w.grabberMinClassName).attr("transform",f(A,.5)),t.select("g."+w.grabberMaxClassName).attr("transform",f(T,.5))}(l,0,r,h,d,m),"bottom"===r.side&&v.draw(t,r._id+"title",{propContainer:r,propName:r._name+".title",placeholder:e._dfltTitle.x,attributes:{x:r._offset+r._length/2,y:I+h._height+h._offsetShift+10+1.5*r.title.font.size,"text-anchor":"middle"}})})))}},function(t,e,r){"use strict";t.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:r(565)}}},layoutAttributes:r(565),handleDefaults:r(877),draw:r(878)}},function(t,e,r){"use strict";var n=r(421),o=r(425),l=r(428),c=r(458),f=r(565),h=r(668);function d(t,e,r,o){var l=o.calendar;function c(r,o){return n.coerce(t,e,f.buttons,r,o)}if(c("visible")){var h=c("step");"all"!==h&&(!l||"gregorian"===l||"month"!==h&&"year"!==h?c("stepmode"):e.stepmode="backward",c("count")),c("label")}}t.exports=function(t,e,r,v,m){var y=t.rangeselector||{},x=l.newContainer(e,"rangeselector");function _(t,e){return n.coerce(y,x,f,t,e)}if(_("visible",c(y,x,{name:"buttons",handleItemDefaults:d,calendar:m}).length>0)){var w=function(t,e,r){for(var n=r.filter((function(r){return e[r].anchor===t._id})),o=0,i=0;i<n.length;i++){var l=e[n[i]].domain;l&&(o=Math.max(l[1],o))}return[t.domain[0],o+h.yPad]}(e,r,v);_("x",w[0]),_("y",w[1]),n.noneOrAll(t,e,["x","y"]),_("xanchor"),_("yanchor"),n.coerceFont(_,"font",r.font);var M=_("bgcolor");_("activecolor",o.contrast(M,h.lightAmount,h.darkAmount)),_("bordercolor"),_("borderwidth")}}},function(t,e,r){"use strict";var n=r(423),o=r(422),l=r(431),c=r(425),f=r(427),h=r(421),d=h.strTranslate,v=r(440),m=r(432),y=r(438),x=y.LINE_SPACING,_=y.FROM_TL,w=y.FROM_BR,M=r(668),A=r(879);function T(t){return t._id}function k(button,t,e){var rect=h.ensureSingle(button,"rect","selector-rect",(function(s){s.attr("shape-rendering","crispEdges")}));rect.attr({rx:M.rx,ry:M.ry}),rect.call(c.stroke,t.bordercolor).call(c.fill,function(t,e){return e._isActive||e._isHovered?t.activecolor:t.bgcolor}(t,e)).style("stroke-width",t.borderwidth+"px")}function E(button,t,e,r){h.ensureSingle(button,"text","selector-text",(function(s){s.attr("text-anchor","middle")})).call(f.font,t.font).text(function(t,e){if(t.label)return e?h.templateString(t.label,e):t.label;return"all"===t.step?"all":t.count+t.step.charAt(0)}(e,r._fullLayout._meta)).call((function(s){v.convertToTspans(s,r)}))}t.exports=function(t){var e=t._fullLayout._infolayer.selectAll(".rangeselector").data(function(t){for(var e=m.list(t,"x",!0),data=[],i=0;i<e.length;i++){var r=e[i];r.rangeselector&&r.rangeselector.visible&&data.push(r)}return data}(t),T);e.enter().append("g").classed("rangeselector",!0),e.exit().remove(),e.style({cursor:"pointer","pointer-events":"all"}),e.each((function(e){var r=n.select(this),c=e,m=c.rangeselector,y=r.selectAll("g.button").data(h.filterVisible(m.buttons));y.enter().append("g").classed("button",!0),y.exit().remove(),y.each((function(e){var button=n.select(this),r=A(c,e);e._isActive=function(t,e,r){if("all"===e.step)return!0===t.autorange;var n=Object.keys(r);return t.range[0]===r[n[0]]&&t.range[1]===r[n[1]]}(c,e,r),button.call(k,m,e),button.call(E,m,e,t),button.on("click",(function(){t._dragged||o.call("_guiRelayout",t,r)})),button.on("mouseover",(function(){e._isHovered=!0,button.call(k,m,e)})),button.on("mouseout",(function(){e._isHovered=!1,button.call(k,m,e)}))})),function(t,e,r,o,c){var m=0,y=0,A=r.borderwidth;e.each((function(){var text=n.select(this).select(".selector-text"),t=r.font.size*x,e=Math.max(t*v.lineCount(text),16)+3;y=Math.max(y,e)})),e.each((function(){var button=n.select(this),rect=button.select(".selector-rect"),text=button.select(".selector-text"),t=text.node()&&f.bBox(text.node()).width,e=r.font.size*x,o=v.lineCount(text),l=Math.max(t+10,M.minButtonWidth);button.attr("transform",d(A+m,A)),rect.attr({x:0,y:0,width:l,height:y}),v.positionText(text,l/2,y/2-(o-1)*e/2+3),m+=l+5}));var T=t._fullLayout._size,k=T.l+T.w*r.x,E=T.t+T.h*(1-r.y),S="left";h.isRightAnchor(r)&&(k-=m,S="right");h.isCenterAnchor(r)&&(k-=m/2,S="center");var L="top";h.isBottomAnchor(r)&&(E-=y,L="bottom");h.isMiddleAnchor(r)&&(E-=y/2,L="middle");m=Math.ceil(m),y=Math.ceil(y),k=Math.round(k),E=Math.round(E),l.autoMargin(t,o+"-range-selector",{x:r.x,y:r.y,l:m*_[S],r:m*w[S],b:y*w[L],t:y*_[L]}),c.attr("transform",d(k,E))}(t,y,m,c._name,r)}))}},function(t,e,r){"use strict";var n=r(423);t.exports=function(t,e){var r=t._name,o={};if("all"===e.step)o[r+".autorange"]=!0;else{var l=function(t,e){var r,o=t.range,base=new Date(t.r2l(o[1])),l=e.step,c=e.count;switch(e.stepmode){case"backward":r=t.l2r(+n.time[l].utc.offset(base,-c));break;case"todate":var f=n.time[l].utc.offset(base,-c);r=t.l2r(+n.time[l].utc.ceil(f))}var h=o[1];return[r,h]}(t,e);o[r+".range[0]"]=l[0],o[r+".range[1]"]=l[1]}return o}},function(t,e,r){"use strict";var n=r(421),o=r(491).counter,l=r(566).attributes,c=r(434).idRegex,f=r(428),h={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[o("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[c.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[c.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:l({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function d(t,e,r){var n=e[r+"axes"],o=Object.keys((t._splomAxes||{})[r]||{});return Array.isArray(n)?n:o.length?o:void 0}function v(t,e,r,n,o,l){var c=e(t+"gap",r),f=e("domain."+t);e(t+"side",n);for(var h=new Array(o),d=f[0],v=(f[1]-d)/(o-c),m=v*(1-c),i=0;i<o;i++){var y=d+v*i;h[l?o-1-i:i]=[y,y+m]}return h}function m(t,e,r,n,o){var i,l=new Array(r);function c(i,t){-1!==e.indexOf(t)&&void 0===n[t]?(l[i]=t,n[t]=i):l[i]=""}if(Array.isArray(t))for(i=0;i<r;i++)c(i,t[i]);else for(c(0,o),i=1;i<r;i++)c(i,o+(i+1));return l}t.exports={moduleType:"component",name:"grid",schema:{layout:{grid:h}},layoutAttributes:h,sizeDefaults:function(t,e){var r=t.grid||{},o=d(e,r,"x"),l=d(e,r,"y");if(t.grid||o||l){var c,m,y=Array.isArray(r.subplots)&&Array.isArray(r.subplots[0]),x=Array.isArray(o),_=Array.isArray(l),w=x&&o!==r.xaxes&&_&&l!==r.yaxes;y?(c=r.subplots.length,m=r.subplots[0].length):(_&&(c=l.length),x&&(m=o.length));var M=f.newContainer(e,"grid"),A=O("rows",c),T=O("columns",m);if(A*T>1){if(!y&&!x&&!_)"independent"===O("pattern")&&(y=!0);M._hasSubplotGrid=y;var k,E,S="top to bottom"===O("roworder"),L=y?.2:.1,C=y?.3:.1;w&&e._splomGridDflt&&(k=e._splomGridDflt.xside,E=e._splomGridDflt.yside),M._domains={x:v("x",O,L,k,T),y:v("y",O,C,E,A,S)}}else delete e.grid}function O(t,e){return n.coerce(r,M,h,t,e)}},contentDefaults:function(t,e){var r=e.grid;if(r&&r._domains){var i,n,o,l,c,f,h,v=t.grid||{},y=e._subplots,x=r._hasSubplotGrid,_=r.rows,w=r.columns,M="independent"===r.pattern,A=r._axisMap={};if(x){var T=v.subplots||[];f=r.subplots=new Array(_);var k=1;for(i=0;i<_;i++){var E=f[i]=new Array(w),S=T[i]||[];for(n=0;n<w;n++)if(M?(c=1===k?"xy":"x"+k+"y"+k,k++):c=S[n],E[n]="",-1!==y.cartesian.indexOf(c)){if(h=c.indexOf("y"),o=c.slice(0,h),l=c.slice(h),void 0!==A[o]&&A[o]!==n||void 0!==A[l]&&A[l]!==i)continue;E[n]=c,A[o]=n,A[l]=i}}}else{var L=d(e,v,"x"),C=d(e,v,"y");r.xaxes=m(L,y.xaxis,w,A,"x"),r.yaxes=m(C,y.yaxis,_,A,"y")}var O=r._anchors={},R="top to bottom"===r.roworder;for(var D in A){var P,I,N,z=D.charAt(0),F=r[z+"side"];if(F.length<8)O[D]="free";else if("x"===z){if("t"===F.charAt(0)===R?(P=0,I=1,N=_):(P=_-1,I=-1,N=-1),x){var j=A[D];for(i=P;i!==N;i+=I)if((c=f[i][j])&&(h=c.indexOf("y"),c.slice(0,h)===D)){O[D]=c.slice(h);break}}else for(i=P;i!==N;i+=I)if(l=r.yaxes[i],-1!==y.cartesian.indexOf(D+l)){O[D]=l;break}}else if("l"===F.charAt(0)?(P=0,I=1,N=w):(P=w-1,I=-1,N=-1),x){var B=A[D];for(i=P;i!==N;i+=I)if((c=f[B][i])&&(h=c.indexOf("y"),c.slice(h)===D)){O[D]=c.slice(0,h);break}}else for(i=P;i!==N;i+=I)if(o=r.xaxes[i],-1!==y.cartesian.indexOf(o+D)){O[D]=o;break}}}}}},function(t,e,r){"use strict";var n=r(421),o=r(444).overrideAll,l=r(669),c={error_x:n.extendFlat({},l),error_y:n.extendFlat({},l)};delete c.error_x.copy_zstyle,delete c.error_y.copy_zstyle,delete c.error_y.copy_ystyle;var f={error_x:n.extendFlat({},l),error_y:n.extendFlat({},l),error_z:n.extendFlat({},l)};delete f.error_x.copy_ystyle,delete f.error_y.copy_ystyle,delete f.error_z.copy_ystyle,delete f.error_z.copy_zstyle,t.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:c,bar:c,histogram:c,scatter3d:o(f,"calc","nested"),scattergl:o(c,"calc","nested")}},supplyDefaults:r(882),calc:r(883),makeComputeError:r(670),plot:r(884),style:r(885),hoverInfo:function(t,e,r){(e.error_y||{}).visible&&(r.yerr=t.yh-t.y,e.error_y.symmetric||(r.yerrneg=t.y-t.ys));(e.error_x||{}).visible&&(r.xerr=t.xh-t.x,e.error_x.symmetric||(r.xerrneg=t.x-t.xs))}}},function(t,e,r){"use strict";var n=r(424),o=r(422),l=r(421),c=r(428),f=r(669);t.exports=function(t,e,r,h){var d="error_"+h.axis,v=c.newContainer(e,d),m=t[d]||{};function y(t,e){return l.coerce(m,v,f,t,e)}if(!1!==y("visible",void 0!==m.array||void 0!==m.value||"sqrt"===m.type)){var x=y("type","array"in m?"data":"percent"),_=!0;"sqrt"!==x&&(_=y("symmetric",!(("data"===x?"arrayminus":"valueminus")in m))),"data"===x?(y("array"),y("traceref"),_||(y("arrayminus"),y("tracerefminus"))):"percent"!==x&&"constant"!==x||(y("value"),_||y("valueminus"));var w="copy_"+h.inherit+"style";if(h.inherit)(e["error_"+h.inherit]||{}).visible&&y(w,!(m.color||n(m.thickness)||n(m.width)));h.inherit&&v[w]||(y("color",r),y("thickness"),y("width",o.traceIs(e,"gl3d")?0:4))}}},function(t,e,r){"use strict";var n=r(424),o=r(422),l=r(426),c=r(421),f=r(670);function h(t,e,r,o){var h=e["error_"+o]||{},d=[];if(h.visible&&-1!==["linear","log"].indexOf(r.type)){for(var v=f(h),i=0;i<t.length;i++){var m=t[i],y=m.i;if(void 0===y)y=i;else if(null===y)continue;var x=m[o];if(n(r.c2l(x))){var _=v(x,y);if(n(_[0])&&n(_[1])){var w=m[o+"s"]=x-_[0],M=m[o+"h"]=x+_[1];d.push(w,M)}}}var A=r._id,T=e._extremes[A],k=l.findExtremes(r,d,c.extendFlat({tozero:T.opts.tozero},{padded:!0}));T.min=T.min.concat(k.min),T.max=T.max.concat(k.max)}}t.exports=function(t){for(var e=t.calcdata,i=0;i<e.length;i++){var r=e[i],n=r[0].trace;if(!0===n.visible&&o.traceIs(n,"errorBarsOK")){var c=l.getFromId(t,n.xaxis),f=l.getFromId(t,n.yaxis);h(r,n,c,"x"),h(r,n,f,"y")}}}},function(t,e,r){"use strict";var n=r(423),o=r(424),l=r(427),c=r(442);t.exports=function(t,e,r,f){var h=r.xaxis,d=r.yaxis,v=f&&f.duration>0;e.each((function(e){var m,y=e[0].trace,x=y.error_x||{},_=y.error_y||{};y.ids&&(m=function(t){return t.id});var w=c.hasMarkers(y)&&y.marker.maxdisplayed>0;_.visible||x.visible||(e=[]);var M=n.select(this).selectAll("g.errorbar").data(e,m);if(M.exit().remove(),e.length){x.visible||M.selectAll("path.xerror").remove(),_.visible||M.selectAll("path.yerror").remove(),M.style("opacity",1);var A=M.enter().append("g").classed("errorbar",!0);v&&A.style("opacity",0).transition().duration(f.duration).style("opacity",1),l.setClipUrl(M,r.layerClipId,t),M.each((function(t){var e=n.select(this),r=function(t,e,r){var n={x:e.c2p(t.x),y:r.c2p(t.y)};void 0!==t.yh&&(n.yh=r.c2p(t.yh),n.ys=r.c2p(t.ys),o(n.ys)||(n.noYS=!0,n.ys=r.c2p(t.ys,!0)));void 0!==t.xh&&(n.xh=e.c2p(t.xh),n.xs=e.c2p(t.xs),o(n.xs)||(n.noXS=!0,n.xs=e.c2p(t.xs,!0)));return n}(t,h,d);if(!w||t.vis){var path,l=e.select("path.yerror");if(_.visible&&o(r.x)&&o(r.yh)&&o(r.ys)){var c=_.width;path="M"+(r.x-c)+","+r.yh+"h"+2*c+"m-"+c+",0V"+r.ys,r.noYS||(path+="m-"+c+",0h"+2*c),!l.size()?l=e.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0):v&&(l=l.transition().duration(f.duration).ease(f.easing)),l.attr("d",path)}else l.remove();var m=e.select("path.xerror");if(x.visible&&o(r.y)&&o(r.xh)&&o(r.xs)){var y=(x.copy_ystyle?_:x).width;path="M"+r.xh+","+(r.y-y)+"v"+2*y+"m0,-"+y+"H"+r.xs,r.noXS||(path+="m0,-"+y+"v"+2*y),!m.size()?m=e.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0):v&&(m=m.transition().duration(f.duration).ease(f.easing)),m.attr("d",path)}else m.remove()}}))}}))}},function(t,e,r){"use strict";var n=r(423),o=r(425);t.exports=function(t){t.each((function(t){var e=t[0].trace,r=e.error_y||{},l=e.error_x||{},s=n.select(this);s.selectAll("path.yerror").style("stroke-width",r.thickness+"px").call(o.stroke,r.color),l.copy_ystyle&&(l=r),s.selectAll("path.xerror").style("stroke-width",l.thickness+"px").call(o.stroke,l.color)}))}},function(t,e,r){"use strict";t.exports={moduleType:"component",name:"colorbar",attributes:r(541),supplyDefaults:r(624),draw:r(887).draw,hasColorbar:r(623)}},function(t,e,r){"use strict";var n=r(423),o=r(443),l=r(431),c=r(422),f=r(426),h=r(450),d=r(421),v=d.strTranslate,m=r(429).extendFlat,y=r(476),x=r(427),_=r(425),w=r(504),M=r(440),A=r(457).flipScale,T=r(557),k=r(659),E=r(446),S=r(438),L=S.LINE_SPACING,C=S.FROM_TL,O=S.FROM_BR,R=r(888).cn;t.exports={draw:function(t){var e=t._fullLayout._infolayer.selectAll("g."+R.colorbar).data(function(t){var e,r,n,o,l=t._fullLayout,c=t.calcdata,f=[];function h(t){return m(t,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function d(){"function"==typeof o.calc?o.calc(t,n,e):(e._fillgradient=r.reversescale?A(r.colorscale):r.colorscale,e._zrange=[r[o.min],r[o.max]])}for(var i=0;i<c.length;i++){var v=c[i],y=(n=v[0].trace)._module.colorbar;if(!0===n.visible&&y)for(var x=Array.isArray(y),_=x?y:[y],w=0;w<_.length;w++){var M=(o=_[w]).container;(r=M?n[M]:n)&&r.showscale&&((e=h(r.colorbar))._id="cb"+n.uid+(x&&M?"-"+M:""),e._traceIndex=n.index,e._propPrefix=(M?M+".":"")+"colorbar.",e._meta=n._meta,d(),f.push(e))}}for(var T in l._colorAxes)if((r=l[T]).showscale){var k=l._colorAxes[T];(e=h(r.colorbar))._id="cb"+T,e._propPrefix=T+".colorbar.",e._meta=l._meta,o={min:"cmin",max:"cmax"},"heatmap"!==k[0]&&(n=k[1],o.calc=n._module.colorbar.calc),d(),f.push(e)}return f}(t),(function(t){return t._id}));e.enter().append("g").attr("class",(function(t){return t._id})).classed(R.colorbar,!0),e.each((function(e){var g=n.select(this);d.ensureSingle(g,"rect",R.cbbg),d.ensureSingle(g,"g",R.cbfills),d.ensureSingle(g,"g",R.cblines),d.ensureSingle(g,"g",R.cbaxis,(function(s){s.classed(R.crisp,!0)})),d.ensureSingle(g,"g",R.cbtitleunshift,(function(s){s.append("g").classed(R.cbtitle,!0)})),d.ensureSingle(g,"rect",R.cboutline);var r=function(g,t,e){var r=e._fullLayout,c=r._size,h=t._fillcolor,line=t._line,title=t.title,y=title.side,A=t._zrange||n.extent(("function"==typeof h?h:line.color).domain()),S="function"==typeof line.color?line.color:function(){return line.color},D="function"==typeof h?h:function(){return h},P=t._levels,I=function(t,e,r){var n,i,o=e._levels,l=[],c=[],f=o.end+o.size/100,h=o.size,d=1.001*r[0]-.001*r[1],v=1.001*r[1]-.001*r[0];for(i=0;i<1e5&&(n=o.start+i*h,!(h>0?n>=f:n<=f));i++)n>d&&n<v&&l.push(n);if(e._fillgradient)c=[0];else if("function"==typeof e._fillcolor){var m=e._filllevels;if(m)for(f=m.end+m.size/100,h=m.size,i=0;i<1e5&&(n=m.start+i*h,!(h>0?n>=f:n<=f));i++)n>r[0]&&n<r[1]&&c.push(n);else(c=l.map((function(t){return t-o.size/2}))).push(c[c.length-1]+o.size)}else e._fillcolor&&"string"==typeof e._fillcolor&&(c=[0]);o.size<0&&(l.reverse(),c.reverse());return{line:l,fill:c}}(0,t,A),N=I.fill,z=I.line,F=Math.round(t.thickness*("fraction"===t.thicknessmode?c.w:1)),j=F/c.w,B=Math.round(t.len*("fraction"===t.lenmode?c.h:1)),U=B/c.h,H=t.xpad/c.w,V=(t.borderwidth+t.outlinewidth)/2,Y=t.ypad/c.h,G=Math.round(t.x*c.w+t.xpad),W=t.x-j*({middle:.5,right:1}[t.xanchor]||0),X=t.y+U*(({top:-.5,bottom:.5}[t.yanchor]||0)-.5),Z=Math.round(c.h*(1-X)),J=Z-B;t._lenFrac=U,t._thickFrac=j,t._xLeftFrac=W,t._yBottomFrac=X;var Q=t._axis=function(t,e,r){var n=t._fullLayout,o={type:"linear",range:r,tickmode:e.tickmode,nticks:e.nticks,tick0:e.tick0,dtick:e.dtick,tickvals:e.tickvals,ticktext:e.ticktext,ticks:e.ticks,ticklen:e.ticklen,tickwidth:e.tickwidth,tickcolor:e.tickcolor,showticklabels:e.showticklabels,ticklabelposition:e.ticklabelposition,tickfont:e.tickfont,tickangle:e.tickangle,tickformat:e.tickformat,exponentformat:e.exponentformat,minexponent:e.minexponent,separatethousands:e.separatethousands,showexponent:e.showexponent,showtickprefix:e.showtickprefix,tickprefix:e.tickprefix,showticksuffix:e.showticksuffix,ticksuffix:e.ticksuffix,title:e.title,showline:!0,anchor:"free",side:"right",position:1},l={type:"linear",_id:"y"+e._id},c={letter:"y",font:n.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:n.calendar};function f(t,e){return d.coerce(o,l,E,t,e)}return T(o,l,f,c,n),k(o,l,f,c),l}(e,t,A);Q.position=t.x+H+j,-1!==["top","bottom"].indexOf(y)&&(Q.title.side=y,Q.titlex=t.x+H,Q.titley=X+("top"===title.side?U-Y:Y));if(line.color&&"auto"===t.tickmode){Q.tickmode="linear",Q.tick0=P.start;var K=P.size,$=d.constrain((Z-J)/50,4,15)+1,tt=(A[1]-A[0])/((t.nticks||$)*K);if(tt>1){var et=Math.pow(10,Math.floor(Math.log(tt)/Math.LN10));K*=et*d.roundUp(tt/et,[2,5,10]),(Math.abs(P.start)/P.size+1e-6)%1<2e-6&&(Q.tick0=0)}Q.dtick=K}Q.domain=[X+Y,X+U-Y],Q.setScale(),g.attr("transform",v(Math.round(c.l),Math.round(c.t)));var nt,it=g.select("."+R.cbtitleunshift).attr("transform",v(-Math.round(c.l),-Math.round(c.t))),at=g.select("."+R.cbaxis),ot=0;function st(n,o){var l={propContainer:Q,propName:t._propPrefix+"title",traceIndex:t._traceIndex,_meta:t._meta,placeholder:r._dfltTitle.colorbar,containerGroup:g.select("."+R.cbtitle)},c="h"===n.charAt(0)?n.substr(1):"h"+n;g.selectAll("."+c+",."+c+"-math-group").remove(),w.draw(e,n,m(l,o||{}))}return d.syncOrAsync([l.previousPromises,function(){if(-1!==["top","bottom"].indexOf(y)){var e,r=c.l+(t.x+H)*c.w,n=Q.title.font.size;e="top"===y?(1-(X+U-Y))*c.h+c.t+3+.75*n:(1-(X+Y))*c.h+c.t-3-.25*n,st(Q._id+"title",{attributes:{x:r,y:e,"text-anchor":"start"}})}},function(){if(-1!==["top","bottom"].indexOf(y)){var r=g.select("."+R.cbtitle),l=r.select("text"),h=[-t.outlinewidth/2,t.outlinewidth/2],m=r.select(".h"+Q._id+"title-math-group").node(),_=15.6;if(l.node()&&(_=parseInt(l.node().style.fontSize,10)*L),m?(ot=x.bBox(m).height)>_&&(h[1]-=(ot-_)/2):l.node()&&!l.classed(R.jsPlaceholder)&&(ot=x.bBox(l.node()).height),ot){if(ot+=5,"top"===y)Q.domain[1]-=ot/c.h,h[1]*=-1;else{Q.domain[0]+=ot/c.h;var w=M.lineCount(l);h[1]+=(1-w)*_}r.attr("transform",v(h[0],h[1])),Q.setScale()}}g.selectAll("."+R.cbfills+",."+R.cblines).attr("transform",v(0,Math.round(c.h*(1-Q.domain[1])))),at.attr("transform",v(0,Math.round(-c.t)));var T=g.select("."+R.cbfills).selectAll("rect."+R.cbfill).attr("style","").data(N);T.enter().append("rect").classed(R.cbfill,!0).style("stroke","none"),T.exit().remove();var k=A.map(Q.c2p).map(Math.round).sort((function(a,b){return a-b}));T.each((function(r,i){var l=[0===i?A[0]:(N[i]+N[i-1])/2,i===N.length-1?A[1]:(N[i]+N[i+1])/2].map(Q.c2p).map(Math.round);l[1]=d.constrain(l[1]+(l[1]>l[0])?1:-1,k[0],k[1]);var c=n.select(this).attr({x:G,width:Math.max(F,2),y:n.min(l),height:Math.max(n.max(l)-n.min(l),2)});if(t._fillgradient)x.gradient(c,e,t._id,"vertical",t._fillgradient,"fill");else{var f=D(r).replace("e-","");c.attr("fill",o(f).toHexString())}}));var E=g.select("."+R.cblines).selectAll("path."+R.cbline).data(line.color&&line.width?z:[]);E.enter().append("path").classed(R.cbline,!0),E.exit().remove(),E.each((function(t){n.select(this).attr("d","M"+G+","+(Math.round(Q.c2p(t))+line.width/2%1)+"h"+F).call(x.lineGroupStyle,line.width,S(t),line.dash)})),at.selectAll("g."+Q._id+"tick,path").remove();var C=G+F+(t.outlinewidth||0)/2-("outside"===t.ticks?1:0),O=f.calcTicks(Q),P=f.getTickSigns(Q)[2];return f.drawTicks(e,Q,{vals:"inside"===Q.ticks?f.clipEnds(Q,O):O,layer:at,path:f.makeTickPath(Q,C,P),transFn:f.makeTransTickFn(Q)}),f.drawLabels(e,Q,{vals:O,layer:at,transFn:f.makeTransTickLabelFn(Q),labelFns:f.makeLabelFns(Q,C)})},function(){if(-1===["top","bottom"].indexOf(y)){var t=Q.title.font.size,o=Q._offset+Q._length/2,l=c.l+(Q.position||0)*c.w+("right"===Q.side?10+t*(Q.showticklabels?1:.5):-10-t*(Q.showticklabels?.5:0));st("h"+Q._id+"title",{avoid:{selection:n.select(e).selectAll("g."+Q._id+"tick"),side:y,offsetLeft:c.l,offsetTop:0,maxShift:r.width},attributes:{x:l,y:o,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}},l.previousPromises,function(){var r=F+t.outlinewidth/2;if(-1===Q.ticklabelposition.indexOf("inside")&&(r+=x.bBox(at.node()).width),(nt=it.select("text")).node()&&!nt.classed(R.jsPlaceholder)){var n,o=it.select(".h"+Q._id+"title-math-group").node();n=o&&-1!==["top","bottom"].indexOf(y)?x.bBox(o).width:x.bBox(it.node()).right-G-c.l,r=Math.max(r,n)}var f=2*t.xpad+r+t.borderwidth+t.outlinewidth/2,h=Z-J;g.select("."+R.cbbg).attr({x:G-t.xpad-(t.borderwidth+t.outlinewidth)/2,y:J-V,width:Math.max(f,2),height:Math.max(h+2*V,2)}).call(_.fill,t.bgcolor).call(_.stroke,t.bordercolor).style("stroke-width",t.borderwidth),g.selectAll("."+R.cboutline).attr({x:G,y:J+t.ypad+("top"===y?ot:0),width:Math.max(F,2),height:Math.max(h-2*t.ypad-ot,2)}).call(_.stroke,t.outlinecolor).style({fill:"none","stroke-width":t.outlinewidth});var d=({center:.5,right:1}[t.xanchor]||0)*f;g.attr("transform",v(c.l-d,c.t));var m={},w=C[t.yanchor],M=O[t.yanchor];"pixels"===t.lenmode?(m.y=t.y,m.t=h*w,m.b=h*M):(m.t=m.b=0,m.yt=t.y+t.len*w,m.yb=t.y-t.len*M);var A=C[t.xanchor],T=O[t.xanchor];if("pixels"===t.thicknessmode)m.x=t.x,m.l=f*A,m.r=f*T;else{var k=f-F;m.l=k*A,m.r=k*T,m.xl=t.x-t.thickness*A,m.xr=t.x+t.thickness*T}l.autoMargin(e,t._id,m)}],e)}(g,e,t);r&&r.then&&(t._promises||[]).push(r),t._context.edits.colorbarPosition&&function(g,t,e){var r,n,o,l=e._fullLayout._size;h.init({element:g.node(),gd:e,prepFn:function(){r=g.attr("transform"),y(g)},moveFn:function(e,c){g.attr("transform",r+v(e,c)),n=h.align(t._xLeftFrac+e/l.w,t._thickFrac,0,1,t.xanchor),o=h.align(t._yBottomFrac-c/l.h,t._lenFrac,0,1,t.yanchor);var f=h.getCursor(n,o,t.xanchor,t.yanchor);y(g,f)},doneFn:function(){if(y(g),void 0!==n&&void 0!==o){var r={};r[t._propPrefix+"x"]=n,r[t._propPrefix+"y"]=o,void 0!==t._traceIndex?c.call("_guiRestyle",e,r,t._traceIndex):c.call("_guiRelayout",e,r)}}})}(g,e,t)})),e.exit().each((function(e){l.autoMargin(t,e._id)})).remove(),e.order()}}},function(t,e,r){"use strict";t.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},function(t,e,r){"use strict";t.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},function(t,e,r){"use strict";t.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},function(t,e,r){"use strict";var n=r(483),o={getDelay:n.getDelay,getRedrawFunc:n.getRedrawFunc,clone:r(671),toSVG:r(552),svgToImg:r(553),toImage:r(892),downloadImage:r(649)};t.exports=o},function(t,e,r){"use strict";var n=r(540).EventEmitter,o=r(422),l=r(421),c=r(483),f=r(671),h=r(552),d=r(553);t.exports=function(t,e){var r=new n,v=f(t,{format:"png"}),m=v.gd;m.style.position="absolute",m.style.left="-5000px",document.body.appendChild(m);var y=c.getRedrawFunc(m);return o.call("plot",m,v.data,v.layout,v.config).then(y).then((function(){var t=c.getDelay(m._fullLayout);setTimeout((function(){var svg=h(m),canvas=document.createElement("canvas");canvas.id=l.randstr(),(r=d({format:e.format,width:m._fullLayout.width,height:m._fullLayout.height,canvas:canvas,emitter:r,svg:svg})).clean=function(){m&&document.body.removeChild(m)}}),t)})).catch((function(t){r.emit("error",t)})),r}},function(t,e,r){"use strict";t.exports=r(894)},function(t,e,r){"use strict";t.exports={attributes:r(672),supplyDefaults:r(895),calc:r(896),colorbar:{min:"cmin",max:"cmax"},plot:r(897),moduleType:"trace",name:"mesh3d",basePlotModule:r(572),categories:["gl3d","showLegend"],meta:{}}},function(t,e,r){"use strict";var n=r(422),o=r(421),l=r(475),c=r(672);t.exports=function(t,e,r,f){function h(r,n){return o.coerce(t,e,c,r,n)}function d(t){var e=t.map((function(t){var e=h(t);return e&&o.isArrayOrTypedArray(e)?e:null}));return e.every((function(t){return t&&t.length===e[0].length}))&&e}d(["x","y","z"])?(d(["i","j","k"]),(!e.i||e.j&&e.k)&&(!e.j||e.k&&e.i)&&(!e.k||e.i&&e.j)?(n.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y","z"],f),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach((function(t){h(t)})),h("contour.show")&&(h("contour.color"),h("contour.width")),"intensity"in t?(h("intensity"),h("intensitymode"),l(t,e,f,h,{prefix:"",cLetter:"c"})):(e.showscale=!1,"facecolor"in t?h("facecolor"):"vertexcolor"in t?h("vertexcolor"):h("color",r)),h("text"),h("hovertext"),h("hovertemplate"),e._length=null):e.visible=!1):e.visible=!1}},function(t,e,r){"use strict";var n=r(495);t.exports=function(t,e){e.intensity&&n(t,e,{vals:e.intensity,containerStr:"",cLetter:"c"})}},function(t,e,r){"use strict";var n=r(673),o=r(570),l=r(948),c=r(680),f=r(571).parseColorScale,h=r(485),d=r(447).extractOpts,v=r(964);function m(t,e,r){this.scene=t,this.uid=r,this.mesh=e,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var y=m.prototype;function x(t){for(var b=[],e=t.length,i=0;i<e;i++)b[i]=h(t[i]);return b}function _(t,e,r,n){for(var b=[],o=e.length,i=0;i<o;i++)b[i]=t.d2l(e[i],0,n)*r;return b}function w(a){for(var b=[],t=a.length,i=0;i<t;i++)b[i]=Math.round(a[i]);return b}function M(t,e){for(var r=t.length,i=0;i<r;i++)if(t[i]<=-.5||t[i]>=e-.5)return!1;return!0}y.handlePick=function(t){if(t.object===this.mesh){var e=t.index=t.data.index;t.data._cellCenter?t.traceCoordinate=t.data.dataCoordinate:t.traceCoordinate=[this.data.x[e],this.data.y[e],this.data.z[e]];var text=this.data.hovertext||this.data.text;return Array.isArray(text)&&void 0!==text[e]?t.textLabel=text[e]:text&&(t.textLabel=text),!0}},y.update=function(data){var t=this.scene,e=t.fullSceneLayout;this.data=data;var r,n=data.x.length,m=v(_(e.xaxis,data.x,t.dataScale[0],data.xcalendar),_(e.yaxis,data.y,t.dataScale[1],data.ycalendar),_(e.zaxis,data.z,t.dataScale[2],data.zcalendar));if(data.i&&data.j&&data.k){if(data.i.length!==data.j.length||data.j.length!==data.k.length||!M(data.i,n)||!M(data.j,n)||!M(data.k,n))return;r=v(w(data.i),w(data.j),w(data.k))}else r=0===data.alphahull?c(m):data.alphahull>0?l(data.alphahull,m):function(t,e){for(var r=["x","y","z"].indexOf(t),b=[],n=e.length,i=0;i<n;i++)b[i]=[e[i][(r+1)%3],e[i][(r+2)%3]];return o(b)}(data.delaunayaxis,m);var y={positions:m,cells:r,lightPosition:[data.lightposition.x,data.lightposition.y,data.lightposition.z],ambient:data.lighting.ambient,diffuse:data.lighting.diffuse,specular:data.lighting.specular,roughness:data.lighting.roughness,fresnel:data.lighting.fresnel,vertexNormalsEpsilon:data.lighting.vertexnormalsepsilon,faceNormalsEpsilon:data.lighting.facenormalsepsilon,opacity:data.opacity,contourEnable:data.contour.show,contourColor:h(data.contour.color).slice(0,3),contourWidth:data.contour.width,useFacetNormals:data.flatshading};if(data.intensity){var A=d(data);this.color="#fff";var T=data.intensitymode;y[T+"Intensity"]=data.intensity,y[T+"IntensityBounds"]=[A.min,A.max],y.colormap=f(data)}else data.vertexcolor?(this.color=data.vertexcolor[0],y.vertexColors=x(data.vertexcolor)):data.facecolor?(this.color=data.facecolor[0],y.cellColors=x(data.facecolor)):(this.color=data.color,y.meshColor=h(data.color));this.mesh.update(y)},y.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},t.exports=function(t,data){var e=t.glplot.gl,r=n({gl:e}),o=new m(t,r,data.uid);return r._trace=o,o.update(data),t.glplot.add(r),o}},function(t,e,r){"use strict";var n=r(674),o=r(513);function l(t){return new Function("y","return function(){return y}")(t)}function c(t,e){for(var r=new Array(t),i=0;i<t;++i)r[i]=e;return r}t.exports=function(t,e,r,f){function h(path,t,e){switch(e){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+t+"],obj"+path+")";case"float":return"gl.uniform1f(locations["+t+"],obj"+path+")";default:var r=e.indexOf("vec");if(!(0<=r&&r<=1&&e.length===4+r)){if(0===e.indexOf("mat")&&4===e.length){var n;if((n=e.charCodeAt(e.length-1)-48)<2||n>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+e);return"gl.uniformMatrix"+n+"fv(locations["+t+"],false,obj"+path+")"}throw new o("","Unknown uniform data type for "+name+": "+e)}if((n=e.charCodeAt(e.length-1)-48)<2||n>4)throw new o("","Invalid data type");switch(e.charAt(0)){case"b":case"i":return"gl.uniform"+n+"iv(locations["+t+"],obj"+path+")";case"v":return"gl.uniform"+n+"fv(locations["+t+"],obj"+path+")";default:throw new o("","Unrecognized data type for vector "+name+": "+e)}}}function d(e){for(var code=["return function updateProperty(obj){"],n=function t(e,r){if("object"!=typeof r)return[[e,r]];var n=[];for(var o in r){var l=r[o],c=e;parseInt(o)+""===o?c+="["+o+"]":c+="."+o,"object"==typeof l?n.push.apply(n,t(c,l)):n.push([c,l])}return n}("",e),i=0;i<n.length;++i){var o=n[i],path=o[0],l=o[1];f[l]&&code.push(h(path,l,r[l].type))}return code.push("return obj}"),new Function("gl","locations",code.join("\n"))(t,f)}function v(n,h,v){if("object"==typeof v){var y=m(v);Object.defineProperty(n,h,{get:l(y),set:d(v),enumerable:!0,configurable:!1})}else f[v]?Object.defineProperty(n,h,{get:(x=v,new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+x+"])}")(t,e,f)),set:d(v),enumerable:!0,configurable:!1}):n[h]=function(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var e=t.indexOf("vec");if(0<=e&&e<=1&&t.length===4+e){if((r=t.charCodeAt(t.length-1)-48)<2||r>4)throw new o("","Invalid data type");return"b"===t.charAt(0)?c(r,!1):c(r,0)}if(0===t.indexOf("mat")&&4===t.length){var r;if((r=t.charCodeAt(t.length-1)-48)<2||r>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+t);return c(r*r,0)}throw new o("","Unknown uniform data type for "+name+": "+t)}}(r[v].type);var x}function m(t){var e;if(Array.isArray(t)){e=new Array(t.length);for(var i=0;i<t.length;++i)v(e,i,t[i])}else for(var r in e={},t)v(e,r,t[r]);return e}var y=n(r,!0);return{get:l(m(y)),set:d(y),enumerable:!0,configurable:!0}}},function(t,e,r){"use strict";t.exports=function(t,e,r,o){for(var l={},i=0,h=r.length;i<h;++i){var a=r[i],d=a.name,v=a.type,m=a.locations;switch(v){case"bool":case"int":case"float":c(t,e,m[0],o,1,l,d);break;default:if(v.indexOf("vec")>=0){if((y=v.charCodeAt(v.length-1)-48)<2||y>4)throw new n("","Invalid data type for attribute "+d+": "+v);c(t,e,m[0],o,y,l,d)}else{if(!(v.indexOf("mat")>=0))throw new n("","Unknown data type for attribute "+d+": "+v);var y;if((y=v.charCodeAt(v.length-1)-48)<2||y>4)throw new n("","Invalid data type for attribute "+d+": "+v);f(t,e,m,o,y,l,d)}}}return l};var n=r(513);function o(t,e,r,n,o,l){this._gl=t,this._wrapper=e,this._index=r,this._locations=n,this._dimension=o,this._constFunc=l}var l=o.prototype;function c(t,e,r,n,l,c,f){for(var h=["gl","v"],d=[],i=0;i<l;++i)h.push("x"+i),d.push("x"+i);h.push("if(x0.length===void 0){return gl.vertexAttrib"+l+"f(v,"+d.join()+")}else{return gl.vertexAttrib"+l+"fv(v,x0)}");var v=Function.apply(null,h),m=new o(t,e,r,n,l,v);Object.defineProperty(c,f,{set:function(e){return t.disableVertexAttribArray(n[r]),v(t,n[r],e),e},get:function(){return m},enumerable:!0})}function f(t,e,r,n,o,l,f){for(var h=new Array(o),d=new Array(o),i=0;i<o;++i)c(t,e,r[i],n,o,h,i),d[i]=h[i];Object.defineProperty(h,"location",{set:function(t){if(Array.isArray(t))for(var i=0;i<o;++i)d[i].location=t[i];else for(i=0;i<o;++i)d[i].location=t+i;return t},get:function(){for(var t=new Array(o),i=0;i<o;++i)t[i]=n[r[i]];return t},enumerable:!0}),h.pointer=function(e,l,c,f){e=e||t.FLOAT,l=!!l,c=c||o*o,f=f||0;for(var i=0;i<o;++i){var h=n[r[i]];t.vertexAttribPointer(h,o,e,l,c,f+i*o),t.enableVertexAttribArray(h)}};var v=new Array(o),m=t["vertexAttrib"+o+"fv"];Object.defineProperty(l,f,{set:function(e){for(var i=0;i<o;++i){var l=n[r[i]];if(t.disableVertexAttribArray(l),Array.isArray(e[0]))m.call(t,l,e[i]);else{for(var c=0;c<o;++c)v[c]=e[o*i+c];m.call(t,l,v)}}return e},get:function(){return h},enumerable:!0})}l.pointer=function(t,e,r,n){var o=this._gl,l=this._locations[this._index];o.vertexAttribPointer(l,this._dimension,t||o.FLOAT,!!e,r||0,n||0),o.enableVertexAttribArray(l)},l.set=function(t,e,r,n){return this._constFunc(this._locations[this._index],t,e,r,n)},Object.defineProperty(l,"location",{get:function(){return this._locations[this._index]},set:function(t){return t!==this._locations[this._index]&&(this._locations[this._index]=0|t,this._wrapper.program=null),0|t}})},function(t,e,r){"use strict";e.shader=function(t,e,r){return v(t).getShaderReference(e,r)},e.program=function(t,e,r,n,o){return v(t).getProgram(e,r,n,o)};var n=r(513),o=r(901),l=new("undefined"==typeof WeakMap?r(915):WeakMap),c=0;function f(t,e,r,n,o,l,c){this.id=t,this.src=e,this.type=r,this.shader=n,this.count=l,this.programs=[],this.cache=c}function h(t){this.gl=t,this.shaders=[{},{}],this.programs={}}f.prototype.dispose=function(){if(0==--this.count){for(var t=this.cache,e=t.gl,r=this.programs,i=0,n=r.length;i<n;++i){var p=t.programs[r[i]];p&&(delete t.programs[i],e.deleteProgram(p))}e.deleteShader(this.shader),delete t.shaders[this.type===e.FRAGMENT_SHADER|0][this.src]}};var d=h.prototype;function v(t){var e=l.get(t);return e||(e=new h(t),l.set(t,e)),e}d.getShaderReference=function(t,e){var r=this.gl,l=this.shaders[t===r.FRAGMENT_SHADER|0],h=l[e];if(h&&r.isShader(h.shader))h.count+=1;else{var d=function(t,e,r){var l=t.createShader(e);if(t.shaderSource(l,r),t.compileShader(l),!t.getShaderParameter(l,t.COMPILE_STATUS)){var c=t.getShaderInfoLog(l);try{var f=o(c,r,e)}catch(t){throw console.warn("Failed to format compiler error: "+t),new n(c,"Error compiling shader:\n"+c)}throw new n(c,f.short,f.long)}return l}(r,t,e);h=l[e]=new f(c++,e,t,d,[],1,this)}return h},d.getProgram=function(t,e,r,o){var l=[t.id,e.id,r.join(":"),o.join(":")].join("@"),c=this.programs[l];return c&&this.gl.isProgram(c)||(this.programs[l]=c=function(t,e,r,o,l){var c=t.createProgram();t.attachShader(c,e),t.attachShader(c,r);for(var i=0;i<o.length;++i)t.bindAttribLocation(c,l[i],o[i]);if(t.linkProgram(c),!t.getProgramParameter(c,t.LINK_STATUS)){var f=t.getProgramInfoLog(c);throw new n(f,"Error linking program: "+f)}return c}(this.gl,t.shader,e.shader,r,o),t.programs.push(l),e.programs.push(l)),c}},function(t,e,r){var n=r(902).sprintf,o=r(903),l=r(905),c=r(912);t.exports=function(t,e,r){"use strict";var f=l(e)||"of unknown name (see npm glsl-shader-name)",h="unknown type";void 0!==r&&(h=r===o.FRAGMENT_SHADER?"fragment":"vertex");for(var d=n("Error compiling %s shader %s:\n",h,f),v=n("%s%s",d,t),m=t.split("\n"),y={},i=0;i<m.length;i++){var x=m[i];if(""!==x&&"\0"!==x){var _=parseInt(x.split(":")[2]);if(isNaN(_))throw new Error(n("Could not parse error: %s",x));y[_]=x}}var w=c(e).split("\n");for(i=0;i<w.length;i++)if(y[i+3]||y[i+2]||y[i+1]){var line=w[i];if(d+=line+"\n",y[i+1]){var M=y[i+1];M=M.substr(M.split(":",3).join(":").length+1).trim(),d+=n("^^^ %s\n\n",M)}}return{long:d.trim(),short:v.trim()}}},function(t,e,r){var n;!function(){"use strict";var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function l(t){return f(d(t),arguments)}function c(t,e){return l.apply(null,[t].concat(e||[]))}function f(t,e){var r,i,n,c,f,h,d,v,m,cursor=1,y=t.length,output="";for(i=0;i<y;i++)if("string"==typeof t[i])output+=t[i];else if("object"==typeof t[i]){if((c=t[i]).keys)for(r=e[cursor],n=0;n<c.keys.length;n++){if(null==r)throw new Error(l('[sprintf] Cannot access property "%s" of undefined value "%s"',c.keys[n],c.keys[n-1]));r=r[c.keys[n]]}else r=c.param_no?e[c.param_no]:e[cursor++];if(o.not_type.test(c.type)&&o.not_primitive.test(c.type)&&r instanceof Function&&(r=r()),o.numeric_arg.test(c.type)&&"number"!=typeof r&&isNaN(r))throw new TypeError(l("[sprintf] expecting number but found %T",r));switch(o.number.test(c.type)&&(v=r>=0),c.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,c.width?parseInt(c.width):0);break;case"e":r=c.precision?parseFloat(r).toExponential(c.precision):parseFloat(r).toExponential();break;case"f":r=c.precision?parseFloat(r).toFixed(c.precision):parseFloat(r);break;case"g":r=c.precision?String(Number(r.toPrecision(c.precision))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=c.precision?r.substring(0,c.precision):r;break;case"t":r=String(!!r),r=c.precision?r.substring(0,c.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=c.precision?r.substring(0,c.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=c.precision?r.substring(0,c.precision):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}o.json.test(c.type)?output+=r:(!o.number.test(c.type)||v&&!c.sign?m="":(m=v?"+":"-",r=r.toString().replace(o.sign,"")),h=c.pad_char?"0"===c.pad_char?"0":c.pad_char.charAt(1):" ",d=c.width-(m+r).length,f=c.width&&d>0?h.repeat(d):"",output+=c.align?m+r+f:"0"===h?m+f+r:f+m+r)}return output}var h=Object.create(null);function d(t){if(h[t])return h[t];for(var e,r=t,n=[],l=0;r;){if(null!==(e=o.text.exec(r)))n.push(e[0]);else if(null!==(e=o.modulo.exec(r)))n.push("%");else{if(null===(e=o.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){l|=1;var c=[],f=e[2],d=[];if(null===(d=o.key.exec(f)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(c.push(d[1]);""!==(f=f.substring(d[0].length));)if(null!==(d=o.key_access.exec(f)))c.push(d[1]);else{if(null===(d=o.index_access.exec(f)))throw new SyntaxError("[sprintf] failed to parse named argument key");c.push(d[1])}e[2]=c}else l|=2;if(3===l)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}r=r.substring(e[0].length)}return h[t]=n}e.sprintf=l,e.vsprintf=c,"undefined"!=typeof window&&(window.sprintf=l,window.vsprintf=c,void 0===(n=function(){return{sprintf:l,vsprintf:c}}.call(e,r,e,t))||(t.exports=n))}()},function(t,e,r){var n=r(904);t.exports=function(t){return n[t]}},function(t,e){t.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},function(t,e,r){var n=r(906),o=r(911);t.exports=function(t){for(var e=Array.isArray(t)?t:n(t),i=0;i<e.length;i++){var r=e[i];if("preprocessor"===r.type){var l=r.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(l&&l[2]){var c=l[1],f=l[2];return(c?o(f):f).trim()}}}}},function(t,e,r){var n=r(907);t.exports=function(t,e){var r=n(e),o=[];return o=(o=o.concat(r(t))).concat(r(null))}},function(t,e,r){t.exports=function(t){var e,r,h,i=0,d=0,v=999,content=[],m=[],line=1,col=0,y=0,x=!1,_=!1,input="",w=l,M=n;"300 es"===(t=t||{}).version&&(w=f,M=c);var A={},T={};for(i=0;i<w.length;i++)A[w[i]]=!0;for(i=0;i<M.length;i++)T[M[i]]=!0;return function(data){return m=[],null!==data?function(t){i=0,t.toString&&(t=t.toString());var r;input+=t.replace(/\r\n/g,"\n"),h=input.length;for(;e=input[i],i<h;){switch(r=i,v){case 0:i=C();break;case 1:case 2:i=L();break;case 3:i=O();break;case 4:i=P();break;case 11:i=D();break;case 5:i=I();break;case 9999:i=N();break;case 9:i=S();break;case 999:i=E()}if(r!==i)switch(input[r]){case"\n":col=0,++line;break;default:++col}}return d+=i,input=input.slice(i),m}(data):function(t){content.length&&k(content.join(""));return v=10,k("(eof)"),m}()};function k(data){data.length&&m.push({type:map[v],data:data,position:y,line:line,column:col})}function E(){return content=content.length?[]:content,"/"===r&&"*"===e?(y=d+i-1,v=0,r=e,i+1):"/"===r&&"/"===e?(y=d+i-1,v=1,r=e,i+1):"#"===e?(v=2,y=d+i,i):/\s/.test(e)?(v=9,y=d+i,i):(x=/\d/.test(e),_=/[^\w_]/.test(e),y=d+i,v=x?4:_?3:9999,i)}function S(){return/[^\s]/g.test(e)?(k(content.join("")),v=999,i):(content.push(e),r=e,i+1)}function L(){return"\r"!==e&&"\n"!==e||"\\"===r?(content.push(e),r=e,i+1):(k(content.join("")),v=999,i)}function C(){return"/"===e&&"*"===r?(content.push(e),k(content.join("")),v=999,i+1):(content.push(e),r=e,i+1)}function O(){if("."===r&&/\d/.test(e))return v=5,i;if("/"===r&&"*"===e)return v=0,i;if("/"===r&&"/"===e)return v=1,i;if("."===e&&content.length){for(;R(content););return v=5,i}if(";"===e||")"===e||"("===e){if(content.length)for(;R(content););return k(e),v=999,i+1}var t=2===content.length&&"="!==e;if(/[\w_\d\s]/.test(e)||t){for(;R(content););return v=999,i}return content.push(e),r=e,i+1}function R(t){for(var e,r,n=0;;){if(e=o.indexOf(t.slice(0,t.length+n).join("")),r=o[e],-1===e){if(n--+t.length>0)continue;r=t.slice(0,1).join("")}return k(r),y+=r.length,(content=content.slice(r.length)).length}}function D(){return/[^a-fA-F0-9]/.test(e)?(k(content.join("")),v=999,i):(content.push(e),r=e,i+1)}function P(){return"."===e||/[eE]/.test(e)?(content.push(e),v=5,r=e,i+1):"x"===e&&1===content.length&&"0"===content[0]?(v=11,content.push(e),r=e,i+1):/[^\d]/.test(e)?(k(content.join("")),v=999,i):(content.push(e),r=e,i+1)}function I(){return"f"===e&&(content.push(e),r=e,i+=1),/[eE]/.test(e)?(content.push(e),r=e,i+1):("-"!==e&&"+"!==e||!/[eE]/.test(r))&&/[^\d]/.test(e)?(k(content.join("")),v=999,i):(content.push(e),r=e,i+1)}function N(){if(/[^\d\w_]/.test(e)){var t=content.join("");return v=T[t]?8:A[t]?7:6,k(content.join("")),v=999,i}return content.push(e),r=e,i+1}};var n=r(675),o=r(908),l=r(676),c=r(909),f=r(910),map=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},function(t,e){t.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},function(t,e,r){var n=r(675);t.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},function(t,e,r){var n=r(676);n=n.slice().filter((function(b){return!/^(gl\_|texture)/.test(b)})),t.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},function(t,e){t.exports=function(t){return atob(t)}},function(t,e,r){var n=r(913);t.exports=function(t,e,r){e="number"==typeof e?e:1,r=r||": ";var o=t.split(/\r?\n/),l=String(o.length+e-1).length;return o.map((function(line,i){var t=i+e,o=String(t).length;return n(t,l-o)+r+line})).join("\n")}},function(t,e,r){"use strict";var n=r(914);t.exports=function(t,e,r){return n(r=void 0!==r?r+"":" ",e)+t}},function(t,e,r){"use strict";var n,o="";t.exports=function(t,e){if("string"!=typeof t)throw new TypeError("expected a string");if(1===e)return t;if(2===e)return t+t;var r=t.length*e;if(n!==t||void 0===n)n=t,o="";else if(o.length>=r)return o.substr(0,r);for(;r>o.length&&e>1;)1&e&&(o+=t),e>>=1,t+=t;return o=(o+=t).substr(0,r)}},function(t,e,r){var n=r(916);t.exports=function(){var t=n();return{get:function(e,r){var n=t(e);return n.hasOwnProperty("value")?n.value:r},set:function(e,r){return t(e).value=r,this},has:function(e){return"value"in t(e)},delete:function(e){return delete t(e).value}}}},function(t,e,r){var n=r(917);t.exports=function(){var t={};return function(e){if(("object"!=typeof e||null===e)&&"function"!=typeof e)throw new Error("Weakmap-shim: Key must be object");var r=e.valueOf(t);return r&&r.identity===t?r:n(e,t)}}},function(t,e){t.exports=function(t,e){var r={identity:e},n=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(t){return t!==e?n.apply(this,arguments):r},writable:!0}),r}},function(t,e,r){"use strict";e.uniforms=function(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=[],i=0;i<r;++i){var o=t.getActiveUniform(e,i);if(o){var c=l(t,o.type);if(o.size>1)for(var f=0;f<o.size;++f)n.push({name:o.name.replace("[0]","["+f+"]"),type:c});else n.push({name:o.name,type:c})}}return n},e.attributes=function(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),n=[],i=0;i<r;++i){var o=t.getActiveAttrib(e,i);o&&n.push({name:o.name,type:l(t,o.type)})}return n};var n={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},o=null;function l(t,e){if(!o){var r=Object.keys(n);o={};for(var i=0;i<r.length;++i){var l=r[i];o[t[l]]=n[l]}}return o[e]}},function(t,e,r){"use strict";e.byteLength=function(t){var e=f(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,i,r=f(t),n=r[0],c=r[1],h=new l(function(t,e,r){return 3*(e+r)/4-r}(0,n,c)),d=0,v=c>0?n-4:n;for(i=0;i<v;i+=4)e=o[t.charCodeAt(i)]<<18|o[t.charCodeAt(i+1)]<<12|o[t.charCodeAt(i+2)]<<6|o[t.charCodeAt(i+3)],h[d++]=e>>16&255,h[d++]=e>>8&255,h[d++]=255&e;2===c&&(e=o[t.charCodeAt(i)]<<2|o[t.charCodeAt(i+1)]>>4,h[d++]=255&e);1===c&&(e=o[t.charCodeAt(i)]<<10|o[t.charCodeAt(i+1)]<<4|o[t.charCodeAt(i+2)]>>2,h[d++]=e>>8&255,h[d++]=255&e);return h},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,l=[],i=0,c=r-o;i<c;i+=16383)l.push(h(t,i,i+16383>c?c:i+16383));1===o?(e=t[r-1],l.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],l.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return l.join("")};for(var n=[],o=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,c=code.length;i<c;++i)n[i]=code[i],o[code.charCodeAt(i)]=i;function f(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function h(t,e,r){for(var o,l,output=[],i=e;i<r;i+=3)o=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),output.push(n[(l=o)>>18&63]+n[l>>12&63]+n[l>>6&63]+n[63&l]);return output.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,o){var l,c,f=8*o-n-1,h=(1<<f)-1,d=h>>1,v=-7,i=r?o-1:0,m=r?-1:1,s=t[e+i];for(i+=m,l=s&(1<<-v)-1,s>>=-v,v+=f;v>0;l=256*l+t[e+i],i+=m,v-=8);for(c=l&(1<<-v)-1,l>>=-v,v+=n;v>0;c=256*c+t[e+i],i+=m,v-=8);if(0===l)l=1-d;else{if(l===h)return c?NaN:1/0*(s?-1:1);c+=Math.pow(2,n),l-=d}return(s?-1:1)*c*Math.pow(2,l-n)},e.write=function(t,e,r,n,o,l){var c,f,h,d=8*l-o-1,v=(1<<d)-1,m=v>>1,rt=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,i=n?0:l-1,y=n?1:-1,s=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,c=v):(c=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-c))<1&&(c--,h*=2),(e+=c+m>=1?rt/h:rt*Math.pow(2,1-m))*h>=2&&(c++,h/=2),c+m>=v?(f=0,c=v):c+m>=1?(f=(e*h-1)*Math.pow(2,o),c+=m):(f=e*Math.pow(2,m-1)*Math.pow(2,o),c=0));o>=8;t[r+i]=255&f,i+=y,f/=256,o-=8);for(c=c<<o|f,d+=o;d>0;t[r+i]=255&c,i+=y,c/=256,d-=8);t[r+i-y]|=128*s}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";var n=r(923);t.exports=function(t){var code=["'use strict'","var CACHED={}"],e=[],r=t.funcName+"_cwise_thunk";code.push(["return function ",r,"(",t.shimArgs.join(","),"){"].join(""));for(var o=[],l=[],c=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],f=[],h=[],i=0;i<t.arrayArgs.length;++i){var d=t.arrayArgs[i];e.push(["t",d,"=array",d,".dtype,","r",d,"=array",d,".order"].join("")),o.push("t"+d),o.push("r"+d),l.push("t"+d),l.push("r"+d+".join()"),c.push("array"+d+".data"),c.push("array"+d+".stride"),c.push("array"+d+".offset|0"),i>0&&(f.push("array"+t.arrayArgs[0]+".shape.length===array"+d+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[i]))),h.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+d+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[i])+"]"))}for(t.arrayArgs.length>1&&(code.push("if (!("+f.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),code.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),code.push("if (!("+h.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),code.push("}")),i=0;i<t.scalarArgs.length;++i)c.push("scalar"+t.scalarArgs[i]);return e.push(["type=[",l.join(","),"].join()"].join("")),e.push("proc=CACHED[type]"),code.push("var "+e.join(",")),code.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",c.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+code.join("\n")+"\n----------"),new Function("compile",code.join("\n"))(n.bind(void 0,t))}},function(t,e,r){"use strict";var n=r(515);function o(t,e,body){var i,r,n=t.length,o=e.arrayArgs.length,l=e.indexArgs.length>0,code=[],c=[],f=0,h=0;for(i=0;i<n;++i)c.push(["i",i,"=0"].join(""));for(r=0;r<o;++r)for(i=0;i<n;++i)h=f,f=t[i],0===i?c.push(["d",r,"s",i,"=t",r,"p",f].join("")):c.push(["d",r,"s",i,"=(t",r,"p",f,"-s",h,"*t",r,"p",h,")"].join(""));for(c.length>0&&code.push("var "+c.join(",")),i=n-1;i>=0;--i)f=t[i],code.push(["for(i",i,"=0;i",i,"<s",f,";++i",i,"){"].join(""));for(code.push(body),i=0;i<n;++i){for(h=f,f=t[i],r=0;r<o;++r)code.push(["p",r,"+=d",r,"s",i].join(""));l&&(i>0&&code.push(["index[",h,"]-=s",h].join("")),code.push(["++index[",f,"]"].join(""))),code.push("}")}return code.join("\n")}function l(t,e,r){for(var code=t.body,pre=[],n=[],i=0;i<t.args.length;++i){var o=t.args[i];if(!(o.count<=0)){var l=new RegExp(o.name,"g"),c="",f=e.arrayArgs.indexOf(i);switch(e.argTypes[i]){case"offset":var h=e.offsetArgIndex.indexOf(i);f=e.offsetArgs[h].array,c="+q"+h;case"array":c="p"+f+c;var d="l"+i,v="a"+f;if(0===e.arrayBlockIndices[f])1===o.count?"generic"===r[f]?o.lvalue?(pre.push(["var ",d,"=",v,".get(",c,")"].join("")),code=code.replace(l,d),n.push([v,".set(",c,",",d,")"].join(""))):code=code.replace(l,[v,".get(",c,")"].join("")):code=code.replace(l,[v,"[",c,"]"].join("")):"generic"===r[f]?(pre.push(["var ",d,"=",v,".get(",c,")"].join("")),code=code.replace(l,d),o.lvalue&&n.push([v,".set(",c,",",d,")"].join(""))):(pre.push(["var ",d,"=",v,"[",c,"]"].join("")),code=code.replace(l,d),o.lvalue&&n.push([v,"[",c,"]=",d].join("")));else{for(var m=[o.name],y=[c],x=0;x<Math.abs(e.arrayBlockIndices[f]);x++)m.push("\\s*\\[([^\\]]+)\\]"),y.push("$"+(x+1)+"*t"+f+"b"+x);if(l=new RegExp(m.join(""),"g"),c=y.join("+"),"generic"===r[f])throw new Error("cwise: Generic arrays not supported in combination with blocks!");code=code.replace(l,[v,"[",c,"]"].join(""))}break;case"scalar":code=code.replace(l,"Y"+e.scalarArgs.indexOf(i));break;case"index":code=code.replace(l,"index");break;case"shape":code=code.replace(l,"shape")}}}return[pre.join("\n"),code,n.join("\n")].join("\n").trim()}function c(t){for(var summary=new Array(t.length),e=!0,i=0;i<t.length;++i){var r=t[i],n=r.match(/\d+/);n=n?n[0]:"",0===r.charAt(0)?summary[i]="u"+r.charAt(1)+n:summary[i]=r.charAt(0)+n,i>0&&(e=e&&summary[i]===summary[i-1])}return e?summary[0]:summary.join("")}t.exports=function(t,e){for(var r=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,f=new Array(t.arrayArgs.length),h=new Array(t.arrayArgs.length),i=0;i<t.arrayArgs.length;++i)h[i]=e[2*i],f[i]=e[2*i+1];var d=[],v=[],m=[],y=[],x=[];for(i=0;i<t.arrayArgs.length;++i){t.arrayBlockIndices[i]<0?(m.push(0),y.push(r),d.push(r),v.push(r+t.arrayBlockIndices[i])):(m.push(t.arrayBlockIndices[i]),y.push(t.arrayBlockIndices[i]+r),d.push(0),v.push(t.arrayBlockIndices[i]));for(var _=[],w=0;w<f[i].length;w++)m[i]<=f[i][w]&&f[i][w]<y[i]&&_.push(f[i][w]-m[i]);x.push(_)}var M=["SS"],code=["'use strict'"],A=[];for(w=0;w<r;++w)A.push(["s",w,"=SS[",w,"]"].join(""));for(i=0;i<t.arrayArgs.length;++i){M.push("a"+i),M.push("t"+i),M.push("p"+i);for(w=0;w<r;++w)A.push(["t",i,"p",w,"=t",i,"[",m[i]+w,"]"].join(""));for(w=0;w<Math.abs(t.arrayBlockIndices[i]);++w)A.push(["t",i,"b",w,"=t",i,"[",d[i]+w,"]"].join(""))}for(i=0;i<t.scalarArgs.length;++i)M.push("Y"+i);if(t.shapeArgs.length>0&&A.push("shape=SS.slice(0)"),t.indexArgs.length>0){var T=new Array(r);for(i=0;i<r;++i)T[i]="0";A.push(["index=[",T.join(","),"]"].join(""))}for(i=0;i<t.offsetArgs.length;++i){var k=t.offsetArgs[i],E=[];for(w=0;w<k.offset.length;++w)0!==k.offset[w]&&(1===k.offset[w]?E.push(["t",k.array,"p",w].join("")):E.push([k.offset[w],"*t",k.array,"p",w].join("")));0===E.length?A.push("q"+i+"=0"):A.push(["q",i,"=",E.join("+")].join(""))}var S=n([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));for((A=A.concat(S)).length>0&&code.push("var "+A.join(",")),i=0;i<t.arrayArgs.length;++i)code.push("p"+i+"|=0");t.pre.body.length>3&&code.push(l(t.pre,t,h));var body=l(t.body,t,h),L=function(t){for(var e=0,r=t[0].length;e<r;){for(var n=1;n<t.length;++n)if(t[n][e]!==t[0][e])return e;++e}return e}(x);L<r?code.push(function(t,e,r,body){for(var n=e.length,l=r.arrayArgs.length,c=r.blockSize,f=r.indexArgs.length>0,code=[],i=0;i<l;++i)code.push(["var offset",i,"=p",i].join(""));for(i=t;i<n;++i)code.push(["for(var j"+i+"=SS[",e[i],"]|0;j",i,">0;){"].join("")),code.push(["if(j",i,"<",c,"){"].join("")),code.push(["s",e[i],"=j",i].join("")),code.push(["j",i,"=0"].join("")),code.push(["}else{s",e[i],"=",c].join("")),code.push(["j",i,"-=",c,"}"].join("")),f&&code.push(["index[",e[i],"]=j",i].join(""));for(i=0;i<l;++i){for(var h=["offset"+i],d=t;d<n;++d)h.push(["j",d,"*t",i,"p",e[d]].join(""));code.push(["p",i,"=(",h.join("+"),")"].join(""))}for(code.push(o(e,r,body)),i=t;i<n;++i)code.push("}");return code.join("\n")}(L,x[0],t,body)):code.push(o(x[0],t,body)),t.post.body.length>3&&code.push(l(t.post,t,h)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+code.join("\n")+"\n----------");var C=[t.funcName||"unnamed","_cwise_loop_",f[0].join("s"),"m",L,c(h)].join("");return new Function(["function ",C,"(",M.join(","),"){",code.join("\n"),"} return ",C].join(""))()}},function(t,e,r){"use strict";t.exports=function(t){for(var e=new Array(t),i=0;i<t;++i)e[i]=i;return e}},function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,r){"use strict";var n=r(678);function o(t,e,a,b,r,n){this.location=t,this.dimension=e,this.a=a,this.b=b,this.c=r,this.d=n}function l(t,e,r){this.gl=t,this._ext=e,this.handle=r,this._attribs=[],this._useElements=!1,this._elementsType=t.UNSIGNED_SHORT}o.prototype.bind=function(t){switch(this.dimension){case 1:t.vertexAttrib1f(this.location,this.a);break;case 2:t.vertexAttrib2f(this.location,this.a,this.b);break;case 3:t.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:t.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},l.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var i=0;i<this._attribs.length;++i)this._attribs[i].bind(this.gl)},l.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},l.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},l.prototype.update=function(t,e,r){if(this.bind(),n(this.gl,e,t),this.unbind(),this._attribs.length=0,t)for(var i=0;i<t.length;++i){var a=t[i];"number"==typeof a?this._attribs.push(new o(i,1,a)):Array.isArray(a)&&this._attribs.push(new o(i,a.length,a[0],a[1],a[2],a[3]))}this._useElements=!!e,this._elementsType=r||this.gl.UNSIGNED_SHORT},l.prototype.draw=function(t,e,r){r=r||0;var n=this.gl;this._useElements?n.drawElements(t,e,this._elementsType,r):n.drawArrays(t,r,e)},t.exports=function(t,e){return new l(t,e,e.createVertexArrayOES())}},function(t,e,r){"use strict";var n=r(678);function o(t){this.gl=t,this._elements=null,this._attributes=null,this._elementsType=t.UNSIGNED_SHORT}o.prototype.bind=function(){n(this.gl,this._elements,this._attributes)},o.prototype.update=function(t,e,r){this._elements=e,this._attributes=t,this._elementsType=r||this.gl.UNSIGNED_SHORT},o.prototype.dispose=function(){},o.prototype.unbind=function(){},o.prototype.draw=function(t,e,r){r=r||0;var n=this.gl;this._elements?n.drawElements(t,e,this._elementsType,r):n.drawArrays(t,r,e)},t.exports=function(t){return new o(t)}},function(t,e){e.vertexNormals=function(t,e,r){for(var n=e.length,o=new Array(n),l=void 0===r?1e-6:r,i=0;i<n;++i)o[i]=[0,0,0];for(i=0;i<t.length;++i)for(var c=t[i],p=0,f=c[c.length-1],h=c[0],d=0;d<c.length;++d){p=f,f=h,h=c[(d+1)%c.length];for(var v=e[p],m=e[f],y=e[h],x=new Array(3),_=0,w=new Array(3),M=0,A=0;A<3;++A)x[A]=v[A]-m[A],_+=x[A]*x[A],w[A]=y[A]-m[A],M+=w[A]*w[A];if(_*M>l){var T=o[f],k=1/Math.sqrt(_*M);for(A=0;A<3;++A){var u=(A+1)%3,E=(A+2)%3;T[A]+=k*(w[u]*x[E]-w[E]*x[u])}}}for(i=0;i<n;++i){T=o[i];var S=0;for(A=0;A<3;++A)S+=T[A]*T[A];if(S>l)for(k=1/Math.sqrt(S),A=0;A<3;++A)T[A]*=k;else for(A=0;A<3;++A)T[A]=0}return o},e.faceNormals=function(t,e,r){for(var n=t.length,o=new Array(n),l=void 0===r?1e-6:r,i=0;i<n;++i){for(var c=t[i],f=new Array(3),h=0;h<3;++h)f[h]=e[c[h]];var d=new Array(3),v=new Array(3);for(h=0;h<3;++h)d[h]=f[1][h]-f[0][h],v[h]=f[2][h]-f[0][h];var m=new Array(3),y=0;for(h=0;h<3;++h){var u=(h+1)%3,x=(h+2)%3;m[h]=d[u]*v[x]-d[x]*v[u],y+=m[h]*m[h]}y=y>l?1/Math.sqrt(y):0;for(h=0;h<3;++h)m[h]*=y;o[i]=m}return o}},function(t,e){t.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],cool:[{index:0,rgb:[0,255,255]},{index:1,rgb:[255,0,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},function(t,e){t.exports=function(t,e,r){return t*(1-r)+e*r}},function(t,e,r){"use strict";t.exports=function(t,e,r,f){r=r||0,void 0===f&&(f=function(t){for(var e=t.length,r=0,i=0;i<e;++i)r=0|Math.max(r,t[i].length);return r-1}(t));if(0===t.length||f<1)return{cells:[],vertexIds:[],vertexWeights:[]};var h=function(t,e){for(var r=t.length,n=o.mallocUint8(r),i=0;i<r;++i)n[i]=t[i]<e|0;return n}(e,+r),d=function(t,e){for(var r=t.length,c=e*(e+1)/2*r|0,f=o.mallocUint32(2*c),h=0,i=0;i<r;++i)for(var d=t[i],v=(e=d.length,0);v<e;++v)for(var m=0;m<v;++m){var a=d[m],b=d[v];f[h++]=0|Math.min(a,b),f[h++]=0|Math.max(a,b)}l(n(f,[h/2|0,2]));var y=2;for(i=2;i<h;i+=2)f[i-2]===f[i]&&f[i-1]===f[i+1]||(f[y++]=f[i],f[y++]=f[i+1]);return n(f,[y/2|0,2])}(t,f),v=function(t,e,r,l){for(var c=t.data,f=t.shape[0],h=o.mallocDouble(f),d=0,i=0;i<f;++i){var a=c[2*i],b=c[2*i+1];if(r[a]!==r[b]){var v=e[a],m=e[b];c[2*d]=a,c[2*d+1]=b,h[d++]=(m-l)/(m-v)}}return t.shape[0]=d,n(h,[d])}(d,e,h,+r),m=function(t,e){var r=o.mallocInt32(2*e),n=t.shape[0],l=t.data;r[0]=0;for(var c=0,i=0;i<n;++i){var a=l[2*i];if(a!==c){for(r[2*c+1]=i;++c<a;)r[2*c]=i,r[2*c+1]=i;r[2*c]=i}}r[2*c+1]=n;for(;++c<e;)r[2*c]=r[2*c+1]=n;return r}(d,0|e.length),y=c(f)(t,d.data,m,h),x=function(t){for(var e=0|t.shape[0],r=t.data,n=new Array(e),i=0;i<e;++i)n[i]=[r[2*i],r[2*i+1]];return n}(d),_=[].slice.call(v.data,0,v.shape[0]);return o.free(h),o.free(d.data),o.free(v.data),o.free(m),{cells:y,vertexIds:x,vertexWeights:_}};var n=r(452),o=r(439),l=r(932),c=r(934)},function(t,e,r){"use strict";var n=r(933),o={};t.exports=function(t){var e=t.order,r=t.dtype,l=[e,r].join(":"),c=o[l];return c||(o[l]=c=n(e,r)),c(t),t}},function(t,e,r){"use strict";var n=r(439),o=32;function l(t){switch(t){case"uint8":return[n.mallocUint8,n.freeUint8];case"uint16":return[n.mallocUint16,n.freeUint16];case"uint32":return[n.mallocUint32,n.freeUint32];case"int8":return[n.mallocInt8,n.freeInt8];case"int16":return[n.mallocInt16,n.freeInt16];case"int32":return[n.mallocInt32,n.freeInt32];case"float32":return[n.mallocFloat,n.freeFloat];case"float64":return[n.mallocDouble,n.freeDouble];default:return null}}function c(t){for(var e=[],i=0;i<t;++i)e.push("s"+i);for(i=0;i<t;++i)e.push("n"+i);for(i=1;i<t;++i)e.push("d"+i);for(i=1;i<t;++i)e.push("e"+i);for(i=1;i<t;++i)e.push("f"+i);return e}t.exports=function(t,e){var code=["'use strict'"],r=["ndarraySortWrapper",t.join("d"),e].join("");code.push(["function ",r,"(",["array"].join(","),"){"].join(""));for(var n=["data=array.data,offset=array.offset|0,shape=array.shape,stride=array.stride"],i=0;i<t.length;++i)n.push(["s",i,"=stride[",i,"]|0,n",i,"=shape[",i,"]|0"].join(""));var f=new Array(t.length),h=[];for(i=0;i<t.length;++i){0!==(d=t[i])&&(0===h.length?f[d]="1":f[d]=h.join("*"),h.push("n"+d))}var p=-1,q=-1;for(i=0;i<t.length;++i){var d,v=t[i];0!==v&&(p>0?n.push(["d",v,"=s",v,"-d",p,"*n",p].join("")):n.push(["d",v,"=s",v].join("")),p=v),0!==(d=t.length-1-i)&&(q>0?n.push(["e",d,"=s",d,"-e",q,"*n",q,",f",d,"=",f[d],"-f",q,"*n",q].join("")):n.push(["e",d,"=s",d,",f",d,"=",f[d]].join("")),q=d)}code.push("var "+n.join(","));var m=["0","n0-1","data","offset"].concat(c(t.length));code.push(["if(n0<=",o,"){","insertionSort(",m.join(","),")}else{","quickSort(",m.join(","),")}"].join("")),code.push("}return "+r);var y=new Function("insertionSort","quickSort",code.join("\n")),x=function(t,e){var code=["'use strict'"],r=["ndarrayInsertionSort",t.join("d"),e].join(""),n=["left","right","data","offset"].concat(c(t.length)),o=l(e),f=["i,j,cptr,ptr=left*s0+offset"];if(t.length>1){for(var h=[],i=1;i<t.length;++i)f.push("i"+i),h.push("n"+i);o?f.push("scratch=malloc("+h.join("*")+")"):f.push("scratch=new Array("+h.join("*")+")"),f.push("dptr","sptr","a","b")}else f.push("scratch");function d(t){return"generic"===e?["data.get(",t,")"].join(""):["data[",t,"]"].join("")}function v(t,r){return"generic"===e?["data.set(",t,",",r,")"].join(""):["data[",t,"]=",r].join("")}if(code.push(["function ",r,"(",n.join(","),"){var ",f.join(",")].join(""),"for(i=left+1;i<=right;++i){","j=i;ptr+=s0","cptr=ptr"),t.length>1){code.push("dptr=0;sptr=ptr");for(i=t.length-1;i>=0;--i){0!==(m=t[i])&&code.push(["for(i",m,"=0;i",m,"<n",m,";++i",m,"){"].join(""))}code.push("scratch[dptr++]=",d("sptr"));for(i=0;i<t.length;++i){0!==(m=t[i])&&code.push("sptr+=d"+m,"}")}code.push("__g:while(j--\x3eleft){","dptr=0","sptr=cptr-s0");for(i=1;i<t.length;++i)1===i&&code.push("__l:"),code.push(["for(i",i,"=0;i",i,"<n",i,";++i",i,"){"].join(""));code.push(["a=",d("sptr"),"\nb=scratch[dptr]\nif(a<b){break __g}\nif(a>b){break __l}"].join(""));for(i=t.length-1;i>=1;--i)code.push("sptr+=e"+i,"dptr+=f"+i,"}");code.push("dptr=cptr;sptr=cptr-s0");for(i=t.length-1;i>=0;--i){0!==(m=t[i])&&code.push(["for(i",m,"=0;i",m,"<n",m,";++i",m,"){"].join(""))}code.push(v("dptr",d("sptr")));for(i=0;i<t.length;++i){0!==(m=t[i])&&code.push(["dptr+=d",m,";sptr+=d",m].join(""),"}")}code.push("cptr-=s0\n}"),code.push("dptr=cptr;sptr=0");for(i=t.length-1;i>=0;--i){0!==(m=t[i])&&code.push(["for(i",m,"=0;i",m,"<n",m,";++i",m,"){"].join(""))}code.push(v("dptr","scratch[sptr++]"));for(i=0;i<t.length;++i){var m;0!==(m=t[i])&&code.push("dptr+=d"+m,"}")}}else code.push("scratch="+d("ptr"),"while((j--\x3eleft)&&("+d("cptr-s0")+">scratch)){",v("cptr",d("cptr-s0")),"cptr-=s0","}",v("cptr","scratch"));return code.push("}"),t.length>1&&o&&code.push("free(scratch)"),code.push("} return "+r),o?new Function("malloc","free",code.join("\n"))(o[0],o[1]):new Function(code.join("\n"))()}(t,e),_=function(t,e,r){var code=["'use strict'"],n=["ndarrayQuickSort",t.join("d"),e].join(""),f=["left","right","data","offset"].concat(c(t.length)),h=l(e),d=0;code.push(["function ",n,"(",f.join(","),"){"].join(""));var v=["sixth=((right-left+1)/6)|0","index1=left+sixth","index5=right-sixth","index3=(left+right)>>1","index2=index3-sixth","index4=index3+sixth","el1=index1","el2=index2","el3=index3","el4=index4","el5=index5","less=left+1","great=right-1","pivots_are_equal=true","tmp","tmp0","x","y","z","k","ptr0","ptr1","ptr2","comp_pivot1=0","comp_pivot2=0","comp=0"];if(t.length>1){for(var m=[],i=1;i<t.length;++i)m.push("n"+i),v.push("i"+i);for(i=0;i<8;++i)v.push("b_ptr"+i);v.push("ptr3","ptr4","ptr5","ptr6","ptr7","pivot_ptr","ptr_shift","elementSize="+m.join("*")),h?v.push("pivot1=malloc(elementSize)","pivot2=malloc(elementSize)"):v.push("pivot1=new Array(elementSize),pivot2=new Array(elementSize)")}else v.push("pivot1","pivot2");function y(t){return["(offset+",t,"*s0)"].join("")}function x(t){return"generic"===e?["data.get(",t,")"].join(""):["data[",t,"]"].join("")}function _(t,r){return"generic"===e?["data.set(",t,",",r,")"].join(""):["data[",t,"]=",r].join("")}function w(e,r,body){if(1===e.length)code.push("ptr0="+y(e[0]));else for(var i=0;i<e.length;++i)code.push(["b_ptr",i,"=s0*",e[i]].join(""));r&&code.push("pivot_ptr=0"),code.push("ptr_shift=offset");for(i=t.length-1;i>=0;--i){0!==(n=t[i])&&code.push(["for(i",n,"=0;i",n,"<n",n,";++i",n,"){"].join(""))}if(e.length>1)for(i=0;i<e.length;++i)code.push(["ptr",i,"=b_ptr",i,"+ptr_shift"].join(""));code.push(body),r&&code.push("++pivot_ptr");for(i=0;i<t.length;++i){var n;0!==(n=t[i])&&(e.length>1?code.push("ptr_shift+=d"+n):code.push("ptr0+=d"+n),code.push("}"))}}function M(label,e,r,body){if(1===e.length)code.push("ptr0="+y(e[0]));else{for(var i=0;i<e.length;++i)code.push(["b_ptr",i,"=s0*",e[i]].join(""));code.push("ptr_shift=offset")}r&&code.push("pivot_ptr=0"),label&&code.push(label+":");for(i=1;i<t.length;++i)code.push(["for(i",i,"=0;i",i,"<n",i,";++i",i,"){"].join(""));if(e.length>1)for(i=0;i<e.length;++i)code.push(["ptr",i,"=b_ptr",i,"+ptr_shift"].join(""));code.push(body);for(i=t.length-1;i>=1;--i)r&&code.push("pivot_ptr+=f"+i),e.length>1?code.push("ptr_shift+=e"+i):code.push("ptr0+=e"+i),code.push("}")}function A(){t.length>1&&h&&code.push("free(pivot1)","free(pivot2)")}function T(e,r){var a="el"+e,b="el"+r;if(t.length>1){var n="__l"+ ++d;M(n,[a,b],!1,["comp=",x("ptr0"),"-",x("ptr1"),"\n","if(comp>0){tmp0=",a,";",a,"=",b,";",b,"=tmp0;break ",n,"}\n","if(comp<0){break ",n,"}"].join(""))}else code.push(["if(",x(y(a)),">",x(y(b)),"){tmp0=",a,";",a,"=",b,";",b,"=tmp0}"].join(""))}function k(e,r){t.length>1?w([e,r],!1,_("ptr0",x("ptr1"))):code.push(_(y(e),x(y(r))))}function E(e,r,n){if(t.length>1){var o="__l"+ ++d;M(o,[r],!0,[e,"=",x("ptr0"),"-pivot",n,"[pivot_ptr]\n","if(",e,"!==0){break ",o,"}"].join(""))}else code.push([e,"=",x(y(r)),"-pivot",n].join(""))}function S(a,b){t.length>1?w([a,b],!1,["tmp=",x("ptr0"),"\n",_("ptr0",x("ptr1")),"\n",_("ptr1","tmp")].join("")):code.push(["ptr0=",y(a),"\n","ptr1=",y(b),"\n","tmp=",x("ptr0"),"\n",_("ptr0",x("ptr1")),"\n",_("ptr1","tmp")].join(""))}function L(e,r,n){t.length>1?(w([e,r,n],!1,["tmp=",x("ptr0"),"\n",_("ptr0",x("ptr1")),"\n",_("ptr1",x("ptr2")),"\n",_("ptr2","tmp")].join("")),code.push("++"+r,"--"+n)):code.push(["ptr0=",y(e),"\n","ptr1=",y(r),"\n","ptr2=",y(n),"\n","++",r,"\n","--",n,"\n","tmp=",x("ptr0"),"\n",_("ptr0",x("ptr1")),"\n",_("ptr1",x("ptr2")),"\n",_("ptr2","tmp")].join(""))}function C(t,e){S(t,e),code.push("--"+e)}function O(e,r,n){t.length>1?w([e,r],!0,[_("ptr0",x("ptr1")),"\n",_("ptr1",["pivot",n,"[pivot_ptr]"].join(""))].join("")):code.push(_(y(e),x(y(r))),_(y(r),"pivot"+n))}function R(e,r){code.push(["if((",r,"-",e,")<=",o,"){\n","insertionSort(",e,",",r,",data,offset,",c(t.length).join(","),")\n","}else{\n",n,"(",e,",",r,",data,offset,",c(t.length).join(","),")\n","}"].join(""))}function D(e,r,body){t.length>1?(code.push(["__l",++d,":while(true){"].join("")),w([e],!0,["if(",x("ptr0"),"!==pivot",r,"[pivot_ptr]){break __l",d,"}"].join("")),code.push(body,"}")):code.push(["while(",x(y(e)),"===pivot",r,"){",body,"}"].join(""))}return code.push("var "+v.join(",")),T(1,2),T(4,5),T(1,3),T(2,3),T(1,4),T(3,4),T(2,5),T(2,3),T(4,5),t.length>1?w(["el1","el2","el3","el4","el5","index1","index3","index5"],!0,["pivot1[pivot_ptr]=",x("ptr1"),"\n","pivot2[pivot_ptr]=",x("ptr3"),"\n","pivots_are_equal=pivots_are_equal&&(pivot1[pivot_ptr]===pivot2[pivot_ptr])\n","x=",x("ptr0"),"\n","y=",x("ptr2"),"\n","z=",x("ptr4"),"\n",_("ptr5","x"),"\n",_("ptr6","y"),"\n",_("ptr7","z")].join("")):code.push(["pivot1=",x(y("el2")),"\n","pivot2=",x(y("el4")),"\n","pivots_are_equal=pivot1===pivot2\n","x=",x(y("el1")),"\n","y=",x(y("el3")),"\n","z=",x(y("el5")),"\n",_(y("index1"),"x"),"\n",_(y("index3"),"y"),"\n",_(y("index5"),"z")].join("")),k("index2","left"),k("index4","right"),code.push("if(pivots_are_equal){"),code.push("for(k=less;k<=great;++k){"),E("comp","k",1),code.push("if(comp===0){continue}"),code.push("if(comp<0){"),code.push("if(k!==less){"),S("k","less"),code.push("}"),code.push("++less"),code.push("}else{"),code.push("while(true){"),E("comp","great",1),code.push("if(comp>0){"),code.push("great--"),code.push("}else if(comp<0){"),L("k","less","great"),code.push("break"),code.push("}else{"),C("k","great"),code.push("break"),code.push("}"),code.push("}"),code.push("}"),code.push("}"),code.push("}else{"),code.push("for(k=less;k<=great;++k){"),E("comp_pivot1","k",1),code.push("if(comp_pivot1<0){"),code.push("if(k!==less){"),S("k","less"),code.push("}"),code.push("++less"),code.push("}else{"),E("comp_pivot2","k",2),code.push("if(comp_pivot2>0){"),code.push("while(true){"),E("comp","great",2),code.push("if(comp>0){"),code.push("if(--great<k){break}"),code.push("continue"),code.push("}else{"),E("comp","great",1),code.push("if(comp<0){"),L("k","less","great"),code.push("}else{"),C("k","great"),code.push("}"),code.push("break"),code.push("}"),code.push("}"),code.push("}"),code.push("}"),code.push("}"),code.push("}"),O("left","(less-1)",1),O("right","(great+1)",2),R("left","(less-2)"),R("(great+2)","right"),code.push("if(pivots_are_equal){"),A(),code.push("return"),code.push("}"),code.push("if(less<index1&&great>index5){"),D("less",1,"++less"),D("great",2,"--great"),code.push("for(k=less;k<=great;++k){"),E("comp_pivot1","k",1),code.push("if(comp_pivot1===0){"),code.push("if(k!==less){"),S("k","less"),code.push("}"),code.push("++less"),code.push("}else{"),E("comp_pivot2","k",2),code.push("if(comp_pivot2===0){"),code.push("while(true){"),E("comp","great",2),code.push("if(comp===0){"),code.push("if(--great<k){break}"),code.push("continue"),code.push("}else{"),E("comp","great",1),code.push("if(comp<0){"),L("k","less","great"),code.push("}else{"),C("k","great"),code.push("}"),code.push("break"),code.push("}"),code.push("}"),code.push("}"),code.push("}"),code.push("}"),code.push("}"),A(),R("less","great"),code.push("}return "+n),t.length>1&&h?new Function("insertionSort","malloc","free",code.join("\n"))(r,h[0],h[1]):new Function("insertionSort",code.join("\n"))(r)}(t,e,x);return y(x,_)}},function(t,e,r){"use strict";t.exports=function(t){var e=l[t];e||(e=l[t]=function(t){var e=0,r=new Array(t+1);r[0]=[[]];for(var i=1;i<=t;++i)for(var l=r[i]=o(i),c=0;c<l.length;++c)e=Math.max(e,l[i].length);var code=["function B(C,E,i,j){","var a=Math.min(i,j)|0,b=Math.max(i,j)|0,l=C[2*a],h=C[2*a+1];","while(l<h){","var m=(l+h)>>1,v=E[2*m+1];","if(v===b){return m}","if(b<v){h=m}else{l=m+1}","}","return l;","};","function getContour",t,"d(F,E,C,S){","var n=F.length,R=[];","for(var i=0;i<n;++i){var c=F[i],l=c.length;"];function f(t){if(!(t.length<=0)){code.push("R.push(");for(var i=0;i<t.length;++i){var e=t[i];i>0&&code.push(","),code.push("[");for(var r=0;r<e.length;++r){var n=e[r];r>0&&code.push(","),code.push("B(C,E,c[",n[0],"],c[",n[1],"])")}code.push("]")}code.push(");")}}for(i=t+1;i>1;--i){i<t+1&&code.push("else "),code.push("if(l===",i,"){");var h=[];for(c=0;c<i;++c)h.push("(S[c["+c+"]]<<"+c+")");code.push("var M=",h.join("+"),";if(M===0||M===",(1<<i)-1,"){continue}switch(M){");for(l=r[i-1],c=0;c<l.length;++c)code.push("case ",c,":"),f(l[c]),code.push("break;");code.push("}}")}return code.push("}return R;};return getContour",t,"d"),new Function("pool",code.join(""))(n)}(t));return e};var n=r(439),o=r(935),l={}},function(t,e,r){"use strict";t.exports=function(t){for(var e=1<<t+1,r=new Array(e),i=0;i<e;++i)r[i]=l(t,i);return r};var n=r(680);function o(t,a,b){for(var e=new Array(t),i=0;i<t;++i)e[i]=0,i===a&&(e[i]+=.5),i===b&&(e[i]+=.5);return e}function l(t,mask){if(0===mask||mask===(1<<t+1)-1)return[];for(var e=[],r=[],i=0;i<=t;++i)if(mask&1<<i){e.push(o(t,i-1,i-1)),r.push(null);for(var l=0;l<=t;++l)~mask&1<<l&&(e.push(o(t,i-1,l-1)),r.push([i,l]))}var c=n(e),f=[];t:for(i=0;i<c.length;++i){var h=c[i],d=[];for(l=0;l<h.length;++l){if(!r[h[l]])continue t;d.push(r[h[l]].slice())}f.push(d)}return f}},function(t,e,r){"use strict";t.exports=function(t){for(var e=0,r=0,i=1;i<t.length;++i)t[i][0]<t[e][0]&&(e=i),t[i][0]>t[r][0]&&(r=i);return e<r?[[e],[r]]:e>r?[[r],[e]]:[[e]]}},function(t,e,r){"use strict";t.exports=function(t){var e=n(t),r=e.length;if(r<=2)return[];for(var o=new Array(r),a=e[r-1],i=0;i<r;++i){var b=e[i];o[i]=[a,b],a=b}return o};var n=r(938)},function(t,e,r){"use strict";t.exports=function(t){var e=t.length;if(e<3){for(var r=new Array(e),i=0;i<e;++i)r[i]=i;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:r}var o=new Array(e);for(i=0;i<e;++i)o[i]=i;o.sort((function(a,b){var e=t[a][0]-t[b][0];return e||t[a][1]-t[b][1]}));var l=[o[0],o[1]],c=[o[0],o[1]];for(i=2;i<e;++i){for(var f=o[i],p=t[f],h=l.length;h>1&&n(t[l[h-2]],t[l[h-1]],p)<=0;)h-=1,l.pop();for(l.push(f),h=c.length;h>1&&n(t[c[h-2]],t[c[h-1]],p)>=0;)h-=1,c.pop();c.push(f)}r=new Array(c.length+l.length-2);for(var d=0,v=(i=0,l.length);i<v;++i)r[d++]=l[i];for(var m=c.length-2;m>0;--m)r[d++]=c[m];return r};var n=r(448)[3]},function(t,e,r){"use strict";t.exports=function(t,e){try{return n(t,!0)}catch(c){var r=o(t);if(r.length<=e)return[];var l=function(t,e){for(var r=t.length,n=new Array(r),i=0;i<e.length;++i)n[i]=t[e[i]];var o=e.length;for(i=0;i<r;++i)e.indexOf(i)<0&&(n[o++]=t[i]);return n}(t,r);return function(t,e){for(var r=t.length,n=e.length,i=0;i<r;++i)for(var o=t[i],l=0;l<o.length;++l){var c=o[l];if(c<n)o[l]=e[c];else{c-=n;for(var f=0;f<n;++f)c>=e[f]&&(c+=1);o[l]=c}}return t}(n(l,!0),r)}};var n=r(683),o=r(941)},function(t,e,r){"use strict";var n=r(465),o=r(684);function l(a,b){var t=a.length,e=a.length-b.length,r=Math.min;if(e)return e;switch(t){case 0:return 0;case 1:return a[0]-b[0];case 2:return(l=a[0]+a[1]-b[0]-b[1])||r(a[0],a[1])-r(b[0],b[1]);case 3:var n=a[0]+a[1],o=b[0]+b[1];if(l=n+a[2]-(o+b[2]))return l;var l,c=r(a[0],a[1]),f=r(b[0],b[1]);return(l=r(c,a[2])-r(f,b[2]))||r(c+a[2],n)-r(f+b[2],o);default:var h=a.slice(0);h.sort();var d=b.slice(0);d.sort();for(var i=0;i<t;++i)if(e=h[i]-d[i])return e;return 0}}function c(a,b){return l(a[0],b[0])}function f(t,e){if(e){for(var r=t.length,n=new Array(r),i=0;i<r;++i)n[i]=[t[i],e[i]];n.sort(c);for(i=0;i<r;++i)t[i]=n[i][0],e[i]=n[i][1];return t}return t.sort(l),t}function h(t){if(0===t.length)return[];for(var e=1,r=t.length,i=1;i<r;++i){var a=t[i];if(l(a,t[i-1])){if(i===e){e++;continue}t[e++]=a}}return t.length=e,t}function d(t,e){for(var r=0,n=t.length-1,o=-1;r<=n;){var c=r+n>>1,s=l(t[c],e);s<=0?(0===s&&(o=c),r=c+1):s>0&&(n=c-1)}return o}function v(t,e){for(var r=new Array(t.length),i=0,o=r.length;i<o;++i)r[i]=[];for(var b=[],c=(i=0,e.length);i<c;++i)for(var f=e[i],h=f.length,v=1,m=1<<h;v<m;++v){b.length=n.popCount(v);for(var y=0,x=0;x<h;++x)v&1<<x&&(b[y++]=f[x]);var _=d(t,b);if(!(_<0))for(;r[_++].push(i),!(_>=t.length||0!==l(t[_],b)););}return r}function m(t,e){if(e<0)return[];for(var r=[],o=(1<<e+1)-1,i=0;i<t.length;++i)for(var l=t[i],c=o;c<1<<l.length;c=n.nextCombination(c)){for(var b=new Array(e+1),h=0,d=0;d<l.length;++d)c&1<<d&&(b[h++]=l[d]);r.push(b)}return f(r)}e.dimension=function(t){for(var e=0,r=Math.max,i=0,n=t.length;i<n;++i)e=r(e,t[i].length);return e-1},e.countVertices=function(t){for(var e=-1,r=Math.max,i=0,n=t.length;i<n;++i)for(var o=t[i],l=0,c=o.length;l<c;++l)e=r(e,o[l]);return e+1},e.cloneCells=function(t){for(var e=new Array(t.length),i=0,r=t.length;i<r;++i)e[i]=t[i].slice(0);return e},e.compareCells=l,e.normalize=f,e.unique=h,e.findCell=d,e.incidence=v,e.dual=function(t,e){if(!e)return v(h(m(t,0)),t);for(var r=new Array(e),i=0;i<e;++i)r[i]=[];i=0;for(var n=t.length;i<n;++i)for(var o=t[i],l=0,c=o.length;l<c;++l)r[o[l]].push(i);return r},e.explode=function(t){for(var e=[],i=0,r=t.length;i<r;++i)for(var n=t[i],o=0|n.length,l=1,c=1<<o;l<c;++l){for(var b=[],h=0;h<o;++h)l>>>h&1&&b.push(n[h]);e.push(b)}return f(e)},e.skeleton=m,e.boundary=function(t){for(var e=[],i=0,r=t.length;i<r;++i)for(var n=t[i],o=0,l=n.length;o<l;++o){for(var b=new Array(n.length-1),c=0,h=0;c<l;++c)c!==o&&(b[h++]=n[c]);e.push(b)}return f(e)},e.connectedComponents=function(t,e){return e?function(t,e){for(var r=new o(e),i=0;i<t.length;++i)for(var n=t[i],l=0;l<n.length;++l)for(var c=l+1;c<n.length;++c)r.link(n[l],n[c]);var f=[],h=r.ranks;for(i=0;i<h.length;++i)h[i]=-1;for(i=0;i<t.length;++i){var d=r.find(t[i][0]);h[d]<0?(h[d]=f.length,f.push([t[i].slice(0)])):f[h[d]].push(t[i].slice(0))}return f}(t,e):function(t){for(var e=h(f(m(t,0))),r=new o(e.length),i=0;i<t.length;++i)for(var n=t[i],l=0;l<n.length;++l)for(var c=d(e,[n[l]]),v=l+1;v<n.length;++v)r.link(c,d(e,[n[v]]));var y=[],x=r.ranks;for(i=0;i<x.length;++i)x[i]=-1;for(i=0;i<t.length;++i){var _=r.find(d(e,[t[i][0]]));x[_]<0?(x[_]=y.length,y.push([t[i].slice(0)])):y[x[_]].push(t[i].slice(0))}return y}(t)}},function(t,e,r){"use strict";t.exports=function(t){var e=t.length;if(0===e)return[];if(1===e)return[0];for(var r=t[0].length,n=[t[0]],l=[0],i=1;i<e;++i)if(n.push(t[i]),o(n,r)){if(l.push(i),l.length===r+1)return l}else n.pop();return l};var n=r(448);function o(t,e){for(var r=new Array(e+1),i=0;i<t.length;++i)r[i]=t[i];for(i=0;i<=t.length;++i){for(var o=t.length;o<=e;++o){for(var l=new Array(e),c=0;c<e;++c)l[c]=Math.pow(o+1-i,c);r[o]=l}if(n.apply(void 0,r))return!0}return!1}},function(t,e,r){var n=r(467),o=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),l=n(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),c=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),f=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),h=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),d=n(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),v=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),m=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),y=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),x=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]),_=n(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);e.meshShader={vertex:o,fragment:l,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},e.wireShader={vertex:c,fragment:f,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},e.pointShader={vertex:h,fragment:d,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},e.pickShader={vertex:v,fragment:m,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},e.pointPickShader={vertex:y,fragment:m,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},e.contourShader={vertex:x,fragment:_,attributes:[{name:"position",type:"vec3"}]}},function(t,e,r){"use strict";var n=r(944),o=r(947);function l(t,e){for(var r=[0,0,0,0],i=0;i<4;++i)for(var n=0;n<4;++n)r[n]+=t[4*i+n]*e[i];return r}function c(t,e,view,r,n){for(var p=l(r,l(view,l(e,[t[0],t[1],t[2],1]))),i=0;i<3;++i)p[i]/=p[3];return[.5*n[0]*(1+p[0]),.5*n[1]*(1-p[1])]}function f(t,e){for(var r=[0,0,0],i=0;i<t.length;++i)for(var p=t[i],n=e[i],o=0;o<3;++o)r[o]+=n*p[o];return r}t.exports=function(t,e,r,view,l,h){if(1===t.length)return[0,t[0].slice()];for(var d=new Array(t.length),i=0;i<t.length;++i)d[i]=c(t[i],r,view,l,h);var v=0,m=1/0;for(i=0;i<d.length;++i){for(var y=0,x=0;x<2;++x)y+=Math.pow(d[i][x]-e[x],2);y<m&&(m=y,v=i)}var _=function(t,e){if(2===t.length){for(var r=0,l=0,i=0;i<2;++i)r+=Math.pow(e[i]-t[0][i],2),l+=Math.pow(e[i]-t[1][i],2);return r=Math.sqrt(r),l=Math.sqrt(l),r+l<1e-6?[1,0]:[l/(r+l),r/(l+r)]}if(3===t.length){var c=[0,0];return o(t[0],t[1],t[2],e,c),n(t,c)}return[]}(d,e),s=0;for(i=0;i<3;++i){if(_[i]<-.001||_[i]>1.0001)return null;s+=_[i]}if(Math.abs(s-1)>.001)return null;return[v,f(t,_),_]}},function(t,e,r){"use strict";t.exports=function(t,e){for(var r=e.length,l=new Array(r+1),i=0;i<r;++i){for(var c=new Array(r+1),f=0;f<=r;++f)c[f]=t[f][i];l[i]=c}l[r]=new Array(r+1);for(i=0;i<=r;++i)l[r][i]=1;var b=new Array(r+1);for(i=0;i<r;++i)b[i]=e[i];b[r]=1;var h=n(l,b),d=o(h[r+1]);0===d&&(d=1);var v=new Array(r+1);for(i=0;i<=r;++i)v[i]=o(h[i])/d;return v};var n=r(685);function o(t){for(var e=0,i=0;i<t.length;++i)e+=t[i];return e}},function(t,e,r){"use strict";var n=r(484),o=r(466),l=r(517),c=r(946);function f(t,e){for(var r=new Array(t.length-1),i=1;i<t.length;++i)for(var n=r[i-1]=new Array(t.length-1),o=0,l=0;o<t.length;++o)o!==e&&(n[l++]=t[i][o]);return r}function h(t){for(var e=new Array(t),i=0;i<t;++i){e[i]=new Array(t);for(var r=0;r<t;++r)e[i][r]=["m[",i,"][",r,"]"].join("")}return e}function d(t){if(2===t.length)return["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("");for(var e=[],i=0;i<t.length;++i)e.push(["scale(",d(f(t,i)),",",(r=i,1&r?"-":""),t[0][i],")"].join(""));return function t(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var r=e.length>>1;return["sum(",t(e.slice(0,r)),",",t(e.slice(r)),")"].join("")}(e);var r}function v(t){return new Function("sum","scale","prod","compress",["function robustDeterminant",t,"(m){return compress(",d(h(t)),")};return robustDeterminant",t].join(""))(o,l,n,c)}var m=[function(){return[0]},function(t){return[t[0][0]]}];!function(){for(;m.length<6;)m.push(v(m.length));for(var e=[],code=["function robustDeterminant(m){switch(m.length){"],i=0;i<6;++i)e.push("det"+i),code.push("case ",i,":return det",i,"(m);");code.push("}var det=CACHE[m.length];if(!det)det=CACHE[m.length]=gen(m.length);return det(m);}return robustDeterminant"),e.push("CACHE","gen",code.join(""));var r=Function.apply(void 0,e);for(t.exports=r.apply(void 0,m.concat([m,v])),i=0;i<m.length;++i)t.exports[i]=m[i]}()},function(t,e,r){"use strict";t.exports=function(t){for(var e=t.length,r=t[t.length-1],n=e,i=e-2;i>=0;--i){var a=r,b=t[i];(q=b-((r=a+b)-a))&&(t[--n]=r,r=q)}var o=0;for(i=n;i<e;++i){var q;a=t[i];(q=(b=r)-((r=a+b)-a))&&(t[o++]=q)}return t[o++]=r,t.length=o,t}},function(t,e,r){"use strict";var n=new Float64Array(4),o=new Float64Array(4),l=new Float64Array(4);t.exports=function(t,e,r,c,f){n.length<c.length&&(n=new Float64Array(c.length),o=new Float64Array(c.length),l=new Float64Array(c.length));for(var i=0;i<c.length;++i)n[i]=t[i]-c[i],o[i]=e[i]-t[i],l[i]=r[i]-t[i];var h=0,d=0,v=0,m=0,y=0,x=0;for(i=0;i<c.length;++i){var _=o[i],w=l[i],M=n[i];h+=_*_,d+=_*w,v+=w*w,m+=M*_,y+=M*w,x+=M*M}var A,T,k,E,S,L=Math.abs(h*v-d*d),s=d*y-v*m,C=d*m-h*y;if(s+C<=L)if(s<0)C<0&&m<0?(C=0,-m>=h?(s=1,A=h+2*m+x):A=m*(s=-m/h)+x):(s=0,y>=0?(C=0,A=x):-y>=v?(C=1,A=v+2*y+x):A=y*(C=-y/v)+x);else if(C<0)C=0,m>=0?(s=0,A=x):-m>=h?(s=1,A=h+2*m+x):A=m*(s=-m/h)+x;else{var O=1/L;A=(s*=O)*(h*s+d*(C*=O)+2*m)+C*(d*s+v*C+2*y)+x}else s<0?(k=v+y)>(T=d+m)?(E=k-T)>=(S=h-2*d+v)?(s=1,C=0,A=h+2*m+x):A=(s=E/S)*(h*s+d*(C=1-s)+2*m)+C*(d*s+v*C+2*y)+x:(s=0,k<=0?(C=1,A=v+2*y+x):y>=0?(C=0,A=x):A=y*(C=-y/v)+x):C<0?(k=h+m)>(T=d+y)?(E=k-T)>=(S=h-2*d+v)?(C=1,s=0,A=v+2*y+x):A=(s=1-(C=E/S))*(h*s+d*C+2*m)+C*(d*s+v*C+2*y)+x:(C=0,k<=0?(s=1,A=h+2*m+x):m>=0?(s=0,A=x):A=m*(s=-m/h)+x):(E=v+y-d-m)<=0?(s=0,C=1,A=v+2*y+x):E>=(S=h-2*d+v)?(s=1,C=0,A=h+2*m+x):A=(s=E/S)*(h*s+d*(C=1-s)+2*m)+C*(d*s+v*C+2*y)+x;var u=1-s-C;for(i=0;i<c.length;++i)f[i]=u*t[i]+s*e[i]+C*r[i];return A<0?0:A}},function(t,e,r){t.exports=function(t,e){return o(n(t,e))};var n=r(949),o=r(952)},function(t,e,r){"use strict";t.exports=function(t,e){return n(e).filter((function(r){for(var n=new Array(r.length),i=0;i<r.length;++i)n[i]=e[r[i]];return o(n)*t<1}))};var n=r(570),o=r(950)},function(t,e,r){t.exports=function(t){for(var e=n(t),r=0,i=0;i<t.length;++i)for(var p=t[i],o=0;o<e.length;++o)r+=Math.pow(p[o]-e[o],2);return Math.sqrt(r/t.length)};var n=r(951)},function(t,e,r){"use strict";var n=r(568),o=r(685);function l(a,b){for(var s=0,t=a.length,i=0;i<t;++i)s+=a[i]*b[i];return s}function c(t){var e=t.length;if(0===e)return[];t[0].length;var r=n([t.length+1,t.length+1],1),b=n([t.length+1],1);r[e][e]=0;for(var i=0;i<e;++i){for(var c=0;c<=i;++c)r[c][i]=r[i][c]=2*l(t[i],t[c]);b[i]=l(t[i],t[i])}var f=o(r,b),h=0,d=f[e+1];for(i=0;i<d.length;++i)h+=d[i];var v=new Array(e);for(i=0;i<e;++i){d=f[i];var m=0;for(c=0;c<d.length;++c)m+=d[c];v[i]=m/h}return v}function f(t){if(0===t.length)return[];for(var e=t[0].length,r=n([e]),o=c(t),i=0;i<t.length;++i)for(var l=0;l<e;++l)r[l]+=t[i][l]*o[i];return r}f.barycenetric=c,t.exports=f},function(t,e,r){"use strict";t.exports=function(t){return o(n(t))};var n=r(953),o=r(954)},function(t,e,r){"use strict";t.exports=function(t){var i,e,r,n=t.length,o=0;for(i=0;i<n;++i)o+=t[i].length;var l=new Array(o),c=0;for(i=0;i<n;++i){var f=t[i],h=f.length;for(e=0;e<h;++e){var b=l[c++]=new Array(h-1),p=0;for(r=0;r<h;++r)r!==e&&(b[p++]=f[r]);if(1&e){var d=b[1];b[1]=b[0],b[0]=d}}}return l}},function(t,e,r){"use strict";var n=r(686),o=r(955),l=r(687);t.exports=function(t){t.sort(o);for(var e=t.length,r=0,i=0;i<e;++i){var c=t[i],f=l(c);if(0!==f){if(r>0){var h=t[r-1];if(0===n(c,h)&&l(h)!==f){r-=1;continue}}t[r++]=c}}return t.length=r,t}},function(t,e,r){"use strict";var n=r(686),o=r(687);t.exports=function(a,b){return n(a,b)||o(a)-o(b)}},function(t,e,r){"use strict";var n=r(957),o=r(961),l=r(689);t.exports=function(t){var e,r=n(t);return r.space?((e=Array(3))[0]=l(r.values[0],0,255),e[1]=l(r.values[1],0,255),e[2]=l(r.values[2],0,255),"h"===r.space[0]&&(e=o.rgb(e)),e.push(l(r.alpha,0,1)),e):[]}},function(t,e,r){"use strict";(function(e){var n=r(958),o=r(959),l=r(960);t.exports=function(t){var r,f,h=[],d=1;if("string"==typeof t)if(n[t])h=n[t].slice(),f="rgb";else if("transparent"===t)d=0,f="rgb",h=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(t)){var v=(base=t.slice(1)).length;d=1,v<=4?(h=[parseInt(base[0]+base[0],16),parseInt(base[1]+base[1],16),parseInt(base[2]+base[2],16)],4===v&&(d=parseInt(base[3]+base[3],16)/255)):(h=[parseInt(base[0]+base[1],16),parseInt(base[2]+base[3],16),parseInt(base[4]+base[5],16)],8===v&&(d=parseInt(base[6]+base[7],16)/255)),h[0]||(h[0]=0),h[1]||(h[1]=0),h[2]||(h[2]=0),f="rgb"}else if(r=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(t)){var m=r[1],y="rgb"===m,base=m.replace(/a$/,"");f=base;v="cmyk"===base?4:"gray"===base?1:3;h=r[2].trim().split(/\s*,\s*/).map((function(t,i){if(/%$/.test(t))return i===v?parseFloat(t)/100:"rgb"===base?255*parseFloat(t)/100:parseFloat(t);if("h"===base[i]){if(/deg$/.test(t))return parseFloat(t);if(void 0!==c[t])return c[t]}return parseFloat(t)})),m===base&&h.push(1),d=y||void 0===h[v]?1:h[v],h=h.slice(0,v)}else t.length>10&&/[0-9](?:\s|\/)/.test(t)&&(h=t.match(/([0-9]+)/g).map((function(t){return parseFloat(t)})),f=t.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(t))if(o(t)){var x=l(t.r,t.red,t.R,null);null!==x?(f="rgb",h=[x,l(t.g,t.green,t.G),l(t.b,t.blue,t.B)]):(f="hsl",h=[l(t.h,t.hue,t.H),l(t.s,t.saturation,t.S),l(t.l,t.lightness,t.L,t.b,t.brightness)]),d=l(t.a,t.alpha,t.opacity,1),null!=t.opacity&&(d/=100)}else(Array.isArray(t)||e.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(t))&&(h=[t[0],t[1],t[2]],f="rgb",d=4===t.length?t[3]:1);else f="rgb",h=[t>>>16,(65280&t)>>>8,255&t];return{space:f,values:h,alpha:d}};var c={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}}).call(this,r(75))},function(t,e,r){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,r){"use strict";var n=Object.prototype.toString;t.exports=function(t){var e;return"[object Object]"===n.call(t)&&(null===(e=Object.getPrototypeOf(t))||e===Object.getPrototypeOf({}))}},function(t,e){t.exports=function(){for(var i=0;i<arguments.length;i++)if(void 0!==arguments[i])return arguments[i]}},function(t,e,r){"use strict";var n=r(962);t.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e,r,n,o,l,c=t[0]/360,s=t[1]/100,f=t[2]/100;if(0===s)return[l=255*f,l,l];e=2*f-(r=f<.5?f*(1+s):f+s-f*s),o=[0,0,0];for(var i=0;i<3;i++)(n=c+1/3*-(i-1))<0?n++:n>1&&n--,l=6*n<1?e+6*(r-e)*n:2*n<1?r:3*n<2?e+(r-e)*(2/3-n)*6:e,o[i]=255*l;return o}},n.hsl=function(t){var e,r,n=t[0]/255,g=t[1]/255,b=t[2]/255,o=Math.min(n,g,b),l=Math.max(n,g,b),c=l-o;return l===o?e=0:n===l?e=(g-b)/c:g===l?e=2+(b-n)/c:b===l&&(e=4+(n-g)/c),(e=Math.min(60*e,360))<0&&(e+=360),r=(o+l)/2,[e,100*(l===o?0:r<=.5?c/(l+o):c/(2-l-o)),100*r]}},function(t,e,r){"use strict";t.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},function(t,e){t.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},function(t,e,r){"use strict";t.exports=function(t,e,r,n){n=n||t.length;for(var o=new Array(n),i=0;i<n;i++)o[i]=[t[i],e[i],r[i]];return o}},function(t,e,r){"use strict";var n,o,l=r(966),c=l.createCamera,f=l.createScene,h=r(1059),d=r(507),v=r(422),m=r(421),y=m.preserveDrawingBuffer(),x=r(426),_=r(460),w=r(485),M=r(1061),A=r(662),T=r(1062),k=r(1063),E=r(1064);function S(t,e){var r=document.createElement("div"),n=t.container;this.graphDiv=t.graphDiv;var o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.style.position="absolute",o.style.top=o.style.left="0px",o.style.width=o.style.height="100%",o.style["z-index"]=20,o.style["pointer-events"]="none",r.appendChild(o),this.svgContainer=o,r.id=t.id,r.style.position="absolute",r.style.top=r.style.left="0px",r.style.width=r.style.height="100%",n.appendChild(r),this.fullLayout=e,this.id=t.id||"scene",this.fullSceneLayout=e[this.id],this.plotArgs=[[],{},{}],this.axesOptions=T(e,e[this.id]),this.spikeOptions=k(e[this.id]),this.container=r,this.staticMode=!!t.staticPlot,this.pixelRatio=this.pixelRatio||t.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var L=S.prototype;L.prepareOptions=function(){var t={canvas:this.canvas,gl:this.gl,glOptions:{preserveDrawingBuffer:y,premultipliedAlpha:!0,antialias:!0},container:this.container,axes:this.axesOptions,spikes:this.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:this.camera,pixelRatio:this.pixelRatio};if(this.staticMode){if(!(o||(n=document.createElement("canvas"),o=h({canvas:n,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");t.gl=o,t.canvas=n}return t};var C=!0;L.tryCreatePlot=function(){var t=this.prepareOptions(),e=!0;try{this.glplot=f(t)}catch(r){if(this.staticMode||!C||y)e=!1;else{m.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{y=t.glOptions.preserveDrawingBuffer=!0,this.glplot=f(t)}catch(r){y=t.glOptions.preserveDrawingBuffer=!1,e=!1}}}return C=!1,e},L.initializeGLCamera=function(){var t=this.fullSceneLayout.camera,e="orthographic"===t.projection.type;this.camera=c(this.container,{center:[t.center.x,t.center.y,t.center.z],eye:[t.eye.x,t.eye.y,t.eye.z],up:[t.up.x,t.up.y,t.up.z],_ortho:e,zoomMin:.01,zoomMax:100,mode:"orbit"})},L.initializeGLPlot=function(){var t=this;if(t.initializeGLCamera(),!t.tryCreatePlot())return M(t);t.traces={},t.make4thDimension();var e=t.graphDiv,r=e.layout,n=function(){var e={};return t.isCameraChanged(r)&&(e[t.id+".camera"]=t.getCamera()),t.isAspectChanged(r)&&(e[t.id+".aspectratio"]=t.glplot.getAspectratio(),"manual"!==r[t.id].aspectmode&&(t.fullSceneLayout.aspectmode=r[t.id].aspectmode=e[t.id+".aspectmode"]="manual")),e},o=function(t){if(!1!==t.fullSceneLayout.dragmode){var e=n();t.saveLayout(r),t.graphDiv.emit("plotly_relayout",e)}};return t.glplot.canvas&&(t.glplot.canvas.addEventListener("mouseup",(function(){o(t)})),t.glplot.canvas.addEventListener("wheel",(function(r){if(e._context._scrollZoom.gl3d){if(t.camera._ortho){var s=r.deltaX>r.deltaY?1.1:1/1.1,n=t.glplot.getAspectratio();t.glplot.setAspectratio({x:s*n.x,y:s*n.y,z:s*n.z})}o(t)}}),!!d&&{passive:!1}),t.glplot.canvas.addEventListener("mousemove",(function(){if(!1!==t.fullSceneLayout.dragmode&&0!==t.camera.mouseListener.buttons){var e=n();t.graphDiv.emit("plotly_relayouting",e)}})),t.staticMode||t.glplot.canvas.addEventListener("webglcontextlost",(function(r){e&&e.emit&&e.emit("plotly_webglcontextlost",{event:r,layer:t.id})}),!1)),t.glplot.oncontextloss=function(){t.recoverContext()},t.glplot.onrender=function(){t.render()},!0},L.render=function(){var t,e=this,r=e.graphDiv,n=e.svgContainer,o=e.container.getBoundingClientRect();r._fullLayout._calcInverseTransform(r);var l=r._fullLayout._invScaleX,c=r._fullLayout._invScaleY,f=o.width*l,h=o.height*c;n.setAttributeNS(null,"viewBox","0 0 "+f+" "+h),n.setAttributeNS(null,"width",f),n.setAttributeNS(null,"height",h),E(e),e.glplot.axes.update(e.axesOptions);for(var d,v=Object.keys(e.traces),y=null,w=e.glplot.selection,i=0;i<v.length;++i)"skip"!==(t=e.traces[v[i]]).data.hoverinfo&&t.handlePick(w)&&(y=t),t.setContourLevels&&t.setContourLevels();function M(t,r){var n=e.fullSceneLayout[t];return x.tickText(n,n.d2l(r),"hover").text}if(null!==y){var T=A(e.glplot.cameraParams,w.dataCoordinate);t=y.data;var k,S=r._fullData[t.index],L=w.index,C={xLabel:M("xaxis",w.traceCoordinate[0]),yLabel:M("yaxis",w.traceCoordinate[1]),zLabel:M("zaxis",w.traceCoordinate[2])},O=_.castHoverinfo(S,e.fullLayout,L),R=(O||"").split("+"),D=O&&"all"===O;S.hovertemplate||D||(-1===R.indexOf("x")&&(C.xLabel=void 0),-1===R.indexOf("y")&&(C.yLabel=void 0),-1===R.indexOf("z")&&(C.zLabel=void 0),-1===R.indexOf("text")&&(w.textLabel=void 0),-1===R.indexOf("name")&&(y.name=void 0));var P=[];"cone"===t.type||"streamtube"===t.type?(C.uLabel=M("xaxis",w.traceCoordinate[3]),(D||-1!==R.indexOf("u"))&&P.push("u: "+C.uLabel),C.vLabel=M("yaxis",w.traceCoordinate[4]),(D||-1!==R.indexOf("v"))&&P.push("v: "+C.vLabel),C.wLabel=M("zaxis",w.traceCoordinate[5]),(D||-1!==R.indexOf("w"))&&P.push("w: "+C.wLabel),C.normLabel=w.traceCoordinate[6].toPrecision(3),(D||-1!==R.indexOf("norm"))&&P.push("norm: "+C.normLabel),"streamtube"===t.type&&(C.divergenceLabel=w.traceCoordinate[7].toPrecision(3),(D||-1!==R.indexOf("divergence"))&&P.push("divergence: "+C.divergenceLabel)),w.textLabel&&P.push(w.textLabel),k=P.join("<br>")):"isosurface"===t.type||"volume"===t.type?(C.valueLabel=x.tickText(e._mockAxis,e._mockAxis.d2l(w.traceCoordinate[3]),"hover").text,P.push("value: "+C.valueLabel),w.textLabel&&P.push(w.textLabel),k=P.join("<br>")):k=w.textLabel;var I={x:w.traceCoordinate[0],y:w.traceCoordinate[1],z:w.traceCoordinate[2],data:S._input,fullData:S,curveNumber:S.index,pointNumber:L};_.appendArrayPointValue(I,S,L),t._module.eventData&&(I=S._module.eventData(I,w,S,{},L));var N={points:[I]};e.fullSceneLayout.hovermode&&_.loneHover({trace:S,x:(.5+.5*T[0]/T[3])*f,y:(.5-.5*T[1]/T[3])*h,xLabel:C.xLabel,yLabel:C.yLabel,zLabel:C.zLabel,text:k,name:y.name,color:_.castHoverOption(S,L,"bgcolor")||y.color,borderColor:_.castHoverOption(S,L,"bordercolor"),fontFamily:_.castHoverOption(S,L,"font.family"),fontSize:_.castHoverOption(S,L,"font.size"),fontColor:_.castHoverOption(S,L,"font.color"),nameLength:_.castHoverOption(S,L,"namelength"),textAlign:_.castHoverOption(S,L,"align"),hovertemplate:m.castOption(S,L,"hovertemplate"),hovertemplateLabels:m.extendFlat({},I,C),eventData:[I]},{container:n,gd:r}),w.buttons&&w.distance<5?r.emit("plotly_click",N):r.emit("plotly_hover",N),d=N}else _.loneUnhover(n),r.emit("plotly_unhover",d);e.drawAnnotations(e)},L.recoverContext=function(){var t=this;t.glplot.dispose();var e=function(){t.glplot.gl.isContextLost()?requestAnimationFrame(e):t.initializeGLPlot()?t.plot.apply(t,t.plotArgs):m.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(e)};var O=["xaxis","yaxis","zaxis"];function R(t,e,r){for(var n=t.fullSceneLayout,o=0;o<3;o++){var l=O[o],c=l.charAt(0),f=n[l],h=e[c],d=e[c+"calendar"],v=e["_"+c+"length"];if(m.isArrayOrTypedArray(h))for(var y,i=0;i<(v||h.length);i++)if(m.isArrayOrTypedArray(h[i]))for(var x=0;x<h[i].length;++x)y=f.d2l(h[i][x],0,d),!isNaN(y)&&isFinite(y)&&(r[0][o]=Math.min(r[0][o],y),r[1][o]=Math.max(r[1][o],y));else y=f.d2l(h[i],0,d),!isNaN(y)&&isFinite(y)&&(r[0][o]=Math.min(r[0][o],y),r[1][o]=Math.max(r[1][o],y));else r[0][o]=Math.min(r[0][o],0),r[1][o]=Math.max(r[1][o],v-1)}}L.plot=function(t,e,r){if(this.plotArgs=[t,e,r],!this.glplot.contextLost){var data,n,i,o,l,c,f=e[this.id],h=r[this.id];this.fullLayout=e,this.fullSceneLayout=f,this.axesOptions.merge(e,f),this.spikeOptions.merge(f),this.setViewport(f),this.updateFx(f.dragmode,f.hovermode),this.camera.enableWheel=this.graphDiv._context._scrollZoom.gl3d,this.glplot.setClearColor(w(f.bgcolor)),this.setConvert(l),t?Array.isArray(t)||(t=[t]):t=[];var d=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(i=0;i<t.length;++i)!0===(data=t[i]).visible&&0!==data._length&&R(this,data,d);!function(t,e){for(var r=t.fullSceneLayout,n=r.annotations||[],o=0;o<3;o++)for(var l=O[o],c=l.charAt(0),f=r[l],h=0;h<n.length;h++){var d=n[h];if(d.visible){var v=f.r2l(d[c]);!isNaN(v)&&isFinite(v)&&(e[0][o]=Math.min(e[0][o],v),e[1][o]=Math.max(e[1][o],v))}}}(this,d);var v=[1,1,1];for(o=0;o<3;++o)d[1][o]===d[0][o]?v[o]=1:v[o]=1/(d[1][o]-d[0][o]);for(this.dataScale=v,this.convertAnnotations(this),i=0;i<t.length;++i)!0===(data=t[i]).visible&&0!==data._length&&((n=this.traces[data.uid])?n.data.type===data.type?n.update(data):(n.dispose(),n=data._module.plot(this,data),this.traces[data.uid]=n):(n=data._module.plot(this,data),this.traces[data.uid]=n),n.name=data.name);var m=Object.keys(this.traces);t:for(i=0;i<m.length;++i){for(o=0;o<t.length;++o)if(t[o].uid===m[i]&&!0===t[o].visible&&0!==t[o]._length)continue t;(n=this.traces[m[i]]).dispose(),delete this.traces[m[i]]}this.glplot.objects.sort((function(a,b){return a._trace.data.index-b._trace.data.index}));var y,x=[[0,0,0],[0,0,0]],_=[],M={};for(i=0;i<3;++i){if((c=(l=f[O[i]]).type)in M?(M[c].acc*=v[i],M[c].count+=1):M[c]={acc:v[i],count:1},l.autorange){x[0][i]=1/0,x[1][i]=-1/0;var A=this.glplot.objects,T=this.fullSceneLayout.annotations||[],k=l._name.charAt(0);for(o=0;o<A.length;o++){var E=A[o],S=E.bounds,L=E._trace.data._pad||0;"ErrorBars"===E.constructor.name&&l._lowerLogErrorBound?x[0][i]=Math.min(x[0][i],l._lowerLogErrorBound):x[0][i]=Math.min(x[0][i],S[0][i]/v[i]-L),x[1][i]=Math.max(x[1][i],S[1][i]/v[i]+L)}for(o=0;o<T.length;o++){var C=T[o];if(C.visible){var D=l.r2l(C[k]);x[0][i]=Math.min(x[0][i],D),x[1][i]=Math.max(x[1][i],D)}}if("rangemode"in l&&"tozero"===l.rangemode&&(x[0][i]=Math.min(x[0][i],0),x[1][i]=Math.max(x[1][i],0)),x[0][i]>x[1][i])x[0][i]=-1,x[1][i]=1;else{var P=x[1][i]-x[0][i];x[0][i]-=P/32,x[1][i]+=P/32}if("reversed"===l.autorange){var I=x[0][i];x[0][i]=x[1][i],x[1][i]=I}}else{var N=l.range;x[0][i]=l.r2l(N[0]),x[1][i]=l.r2l(N[1])}x[0][i]===x[1][i]&&(x[0][i]-=1,x[1][i]+=1),_[i]=x[1][i]-x[0][i],this.glplot.setBounds(i,{min:x[0][i]*v[i],max:x[1][i]*v[i]})}var z=f.aspectmode;if("cube"===z)y=[1,1,1];else if("manual"===z){var F=f.aspectratio;y=[F.x,F.y,F.z]}else{if("auto"!==z&&"data"!==z)throw new Error("scene.js aspectRatio was not one of the enumerated types");var j=[1,1,1];for(i=0;i<3;++i){var B=M[c=(l=f[O[i]]).type];j[i]=Math.pow(B.acc,1/B.count)/v[i]}y="data"===z||Math.max.apply(null,j)/Math.min.apply(null,j)<=4?j:[1,1,1]}f.aspectratio.x=h.aspectratio.x=y[0],f.aspectratio.y=h.aspectratio.y=y[1],f.aspectratio.z=h.aspectratio.z=y[2],this.glplot.setAspectratio(f.aspectratio),this.viewInitial.aspectratio||(this.viewInitial.aspectratio={x:f.aspectratio.x,y:f.aspectratio.y,z:f.aspectratio.z}),this.viewInitial.aspectmode||(this.viewInitial.aspectmode=f.aspectmode);var U=f.domain||null,H=e._size||null;if(U&&H){var V=this.container.style;V.position="absolute",V.left=H.l+U.x[0]*H.w+"px",V.top=H.t+(1-U.y[1])*H.h+"px",V.width=H.w*(U.x[1]-U.x[0])+"px",V.height=H.h*(U.y[1]-U.y[0])+"px"}this.glplot.redraw()}},L.destroy=function(){this.glplot&&(this.camera.mouseListener.enabled=!1,this.container.removeEventListener("wheel",this.camera.wheelListener),this.camera=null,this.glplot.dispose(),this.container.parentNode.removeChild(this.container),this.glplot=null)},L.getCamera=function(){var t;return this.camera.view.recalcMatrix(this.camera.view.lastT()),{up:{x:(t=this.camera).up[0],y:t.up[1],z:t.up[2]},center:{x:t.center[0],y:t.center[1],z:t.center[2]},eye:{x:t.eye[0],y:t.eye[1],z:t.eye[2]},projection:{type:!0===t._ortho?"orthographic":"perspective"}}},L.setViewport=function(t){var e,r=t.camera;this.camera.lookAt.apply(this,[[(e=r).eye.x,e.eye.y,e.eye.z],[e.center.x,e.center.y,e.center.z],[e.up.x,e.up.y,e.up.z]]),this.glplot.setAspectratio(t.aspectratio),"orthographic"===r.projection.type!==this.camera._ortho&&(this.glplot.redraw(),this.glplot.clearRGBA(),this.glplot.dispose(),this.initializeGLPlot())},L.isCameraChanged=function(t){var e=this.getCamera(),r=m.nestedProperty(t,this.id+".camera").get();function n(t,e,i,r){var n=["up","center","eye"],o=["x","y","z"];return e[n[i]]&&t[n[i]][o[r]]===e[n[i]][o[r]]}var o=!1;if(void 0===r)o=!0;else{for(var i=0;i<3;i++)for(var l=0;l<3;l++)if(!n(e,r,i,l)){o=!0;break}(!r.projection||e.projection&&e.projection.type!==r.projection.type)&&(o=!0)}return o},L.isAspectChanged=function(t){var e=this.glplot.getAspectratio(),r=m.nestedProperty(t,this.id+".aspectratio").get();return void 0===r||r.x!==e.x||r.y!==e.y||r.z!==e.z},L.saveLayout=function(t){var e,r,n,o,l,c,f=this.fullLayout,h=this.isCameraChanged(t),d=this.isAspectChanged(t),y=h||d;if(y){var x={};if(h&&(e=this.getCamera(),n=(r=m.nestedProperty(t,this.id+".camera")).get(),x[this.id+".camera"]=n),d&&(o=this.glplot.getAspectratio(),c=(l=m.nestedProperty(t,this.id+".aspectratio")).get(),x[this.id+".aspectratio"]=c),v.call("_storeDirectGUIEdit",t,f._preGUI,x),h)r.set(e),m.nestedProperty(f,this.id+".camera").set(e);if(d)l.set(o),m.nestedProperty(f,this.id+".aspectratio").set(o),this.glplot.redraw()}return y},L.updateFx=function(t,e){var r=this.camera;if(r)if("orbit"===t)r.mode="orbit",r.keyBindingMode="rotate";else if("turntable"===t){r.up=[0,0,1],r.mode="turntable",r.keyBindingMode="rotate";var n=this.graphDiv,o=n._fullLayout,l=this.fullSceneLayout.camera,c=l.up.x,f=l.up.y,h=l.up.z;if(h/Math.sqrt(c*c+f*f+h*h)<.999){var d=this.id+".camera.up",y={x:0,y:0,z:1},x={};x[d]=y;var _=n.layout;v.call("_storeDirectGUIEdit",_,o._preGUI,x),l.up=y,m.nestedProperty(_,d).set(y)}}else r.keyBindingMode=t;this.fullSceneLayout.hovermode=e},L.toImage=function(t){t||(t="png"),this.staticMode&&this.container.appendChild(n),this.glplot.redraw();var e=this.glplot.gl,r=e.drawingBufferWidth,o=e.drawingBufferHeight;e.bindFramebuffer(e.FRAMEBUFFER,null);var l=new Uint8Array(r*o*4);e.readPixels(0,0,r,o,e.RGBA,e.UNSIGNED_BYTE,l),function(t,e,r){for(var i=0,q=r-1;i<q;++i,--q)for(var n=0;n<e;++n)for(var o=0;o<4;++o){var a=4*(e*i+n)+o,b=4*(e*q+n)+o,l=t[a];t[a]=t[b],t[b]=l}}(l,r,o),function(t,e,r){for(var i=0;i<r;++i)for(var n=0;n<e;++n){var o=4*(e*i+n),a=t[o+3];if(a>0)for(var q=255/a,l=0;l<3;++l)t[o+l]=Math.min(q*t[o+l],255)}}(l,r,o);var canvas=document.createElement("canvas");canvas.width=r,canvas.height=o;var c,f=canvas.getContext("2d"),h=f.createImageData(r,o);switch(h.data.set(l),f.putImageData(h,0,0),t){case"jpeg":c=canvas.toDataURL("image/jpeg");break;case"webp":c=canvas.toDataURL("image/webp");break;default:c=canvas.toDataURL("image/png")}return this.staticMode&&this.container.removeChild(n),c},L.setConvert=function(){for(var i=0;i<3;i++){var t=this.fullSceneLayout[O[i]];x.setConvert(t,this.fullLayout),t.setScale=m.noop}},L.make4thDimension=function(){var t=this.graphDiv._fullLayout;this._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},x.setConvert(this._mockAxis,t)},t.exports=S},function(t,e,r){"use strict";var n=r(967),o=r(989),l=r(1050),c=r(1053),f=r(1055),h=r(706),d=r(1056),v=r(693),m=r(612),y=r(613),x=r(1058),_=r(616)({tablet:!0,featureDetect:!0});function w(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function M(t){var e=Math.round(Math.log(Math.abs(t))/Math.log(10));if(e<0){var base=Math.round(Math.pow(10,-e));return Math.ceil(t*base)/base}if(e>0){base=Math.round(Math.pow(10,e));return Math.ceil(t/base)*base}return Math.ceil(t)}function A(t){return"boolean"!=typeof t||t}t.exports={createScene:function(t){(t=t||{}).camera=t.camera||{};var canvas=t.canvas;if(!canvas){if(canvas=document.createElement("canvas"),t.container)t.container.appendChild(canvas);else document.body.appendChild(canvas)}var e=t.gl;e||(t.glOptions&&(_=!!t.glOptions.preserveDrawingBuffer),e=function(canvas,t){var e=null;try{(e=canvas.getContext("webgl",t))||(e=canvas.getContext("experimental-webgl",t))}catch(t){return null}return e}(canvas,t.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:_}));if(!e)throw new Error("webgl not supported");var r=t.bounds||[[-10,-10,-10],[10,10,10]],T=new w,k=h(e,e.drawingBufferWidth,e.drawingBufferHeight,{preferFloat:!_}),E=x(e),S=t.cameraObject&&!0===t.cameraObject._ortho||t.camera.projection&&"orthographic"===t.camera.projection.type||!1,L={eye:t.camera.eye||[2,0,0],center:t.camera.center||[0,0,0],up:t.camera.up||[0,1,0],zoomMin:t.camera.zoomMax||.1,zoomMax:t.camera.zoomMin||100,mode:t.camera.mode||"turntable",_ortho:S},C=t.axes||{},O=o(e,C);O.enable=!C.disable;var R=t.spikes||{},D=c(e,R),P=[],I=[],N=[],z=[],F=!0,j=!0,B=new Array(16),U=new Array(16),H={view:null,projection:B,model:U,_ortho:!1},V=(j=!0,[e.drawingBufferWidth,e.drawingBufferHeight]),Y=t.cameraObject||n(canvas,L),G={gl:e,contextLost:!1,pixelRatio:t.pixelRatio||1,canvas:canvas,selection:T,camera:Y,axes:O,axesPixels:null,spikes:D,bounds:r,objects:P,shape:V,aspect:t.aspectRatio||[1,1,1],pickRadius:t.pickRadius||10,zNear:t.zNear||.01,zFar:t.zFar||1e3,fovy:t.fovy||Math.PI/4,clearColor:t.clearColor||[0,0,0,0],autoResize:A(t.autoResize),autoBounds:A(t.autoBounds),autoScale:!!t.autoScale,autoCenter:A(t.autoCenter),clipToBounds:A(t.clipToBounds),snapToData:!!t.snapToData,onselect:t.onselect||null,onrender:t.onrender||null,onclick:t.onclick||null,cameraParams:H,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(t){this.aspect[0]=t.x,this.aspect[1]=t.y,this.aspect[2]=t.z,j=!0},setBounds:function(t,e){this.bounds[0][t]=e.min,this.bounds[1][t]=e.max},setClearColor:function(t){this.clearColor=t},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},W=[e.drawingBufferWidth/G.pixelRatio|0,e.drawingBufferHeight/G.pixelRatio|0];function X(){if(!G._stopped&&G.autoResize){var t=canvas.parentNode,e=1,r=1;t&&t!==document.body?(e=t.clientWidth,r=t.clientHeight):(e=window.innerWidth,r=window.innerHeight);var n=0|Math.ceil(e*G.pixelRatio),o=0|Math.ceil(r*G.pixelRatio);if(n!==canvas.width||o!==canvas.height){canvas.width=n,canvas.height=o;var style=canvas.style;style.position=style.position||"absolute",style.left="0px",style.top="0px",style.width=e+"px",style.height=r+"px",F=!0}}}G.autoResize&&X();function Z(){for(var t=P.length,r=z.length,i=0;i<r;++i)N[i]=0;t:for(i=0;i<t;++i){var n=P[i],o=n.pickSlots;if(o){for(var l=0;l<r;++l)if(N[l]+o<255){I[i]=l,n.setPickBase(N[l]+1),N[l]+=o;continue t}var c=f(e,V);I[i]=r,z.push(c),N.push(o),n.setPickBase(1),r+=1}else I[i]=-1}for(;r>0&&0===N[r-1];)N.pop(),z.pop().dispose()}function J(){if(G.contextLost)return!0;e.isContextLost()&&(G.contextLost=!0,G.mouseListener.enabled=!1,G.selection.object=null,G.oncontextloss&&G.oncontextloss())}window.addEventListener("resize",X),G.update=function(t){G._stopped||(t=t||{},F=!0,j=!0)},G.add=function(t){G._stopped||(t.axes=O,P.push(t),I.push(-1),F=!0,j=!0,Z())},G.remove=function(t){if(!G._stopped){var e=P.indexOf(t);e<0||(P.splice(e,1),I.pop(),F=!0,j=!0,Z())}},G.dispose=function(){if(!G._stopped&&(G._stopped=!0,window.removeEventListener("resize",X),canvas.removeEventListener("webglcontextlost",J),G.mouseListener.enabled=!1,!G.contextLost)){O.dispose(),D.dispose();for(var i=0;i<P.length;++i)P[i].dispose();k.dispose();for(i=0;i<z.length;++i)z[i].dispose();E.dispose(),e=null,O=null,D=null,P=[]}},G._mouseRotating=!1,G._prevButtons=0,G.enableMouseListeners=function(){G.mouseListener=v(canvas,(function(t,e,r){if(!G._stopped){var n=z.length,o=P.length,l=T.object;T.distance=1/0,T.mouse[0]=e,T.mouse[1]=r,T.object=null,T.screen=null,T.dataCoordinate=T.dataPosition=null;var c=!1;if(t&&G._prevButtons)G._mouseRotating=!0;else{G._mouseRotating&&(j=!0),G._mouseRotating=!1;for(var i=0;i<n;++i){var f=z[i].query(e,W[1]-r-1,G.pickRadius);if(f){if(f.distance>T.distance)continue;for(var h=0;h<o;++h){var d=P[h];if(I[h]===i){var v=d.pick(f);v&&(T.buttons=t,T.screen=f.coord,T.distance=f.distance,T.object=d,T.index=v.distance,T.dataPosition=v.position,T.dataCoordinate=v.dataCoordinate,T.data=v,c=!0)}}}}}l&&l!==T.object&&(l.highlight&&l.highlight(null),F=!0),T.object&&(T.object.highlight&&T.object.highlight(T.data),F=!0),(c=c||T.object!==l)&&G.onselect&&G.onselect(T),1&t&&!(1&G._prevButtons)&&G.onclick&&G.onclick(T),G._prevButtons=t}}))},canvas.addEventListener("webglcontextlost",J);var Q=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],K=[Q[0].slice(),Q[1].slice()];function $(){if(!J()){X();var t=G.camera.tick();H.view=G.camera.matrix,F=F||t,j=j||t,O.pixelRatio=G.pixelRatio,D.pixelRatio=G.pixelRatio;var r=P.length,n=Q[0],o=Q[1];n[0]=n[1]=n[2]=1/0,o[0]=o[1]=o[2]=-1/0;for(var i=0;i<r;++i){(N=P[i]).pixelRatio=G.pixelRatio,N.axes=G.axes,F=F||!!N.dirty,j=j||!!N.dirty;var c=N.bounds;if(c)for(var f=c[0],h=c[1],v=0;v<3;++v)n[v]=Math.min(n[v],f[v]),o[v]=Math.max(o[v],h[v])}var x=G.bounds;if(G.autoBounds)for(v=0;v<3;++v){if(o[v]<n[v])n[v]=-1,o[v]=1;else{n[v]===o[v]&&(n[v]-=1,o[v]+=1);var _=.05*(o[v]-n[v]);n[v]=n[v]-_,o[v]=o[v]+_}x[0][v]=n[v],x[1][v]=o[v]}var w=!1;for(v=0;v<3;++v)w=w||K[0][v]!==x[0][v]||K[1][v]!==x[1][v],K[0][v]=x[0][v],K[1][v]=x[1][v];if(j=j||w,F=F||w){if(w){var A=[0,0,0];for(i=0;i<3;++i)A[i]=M((x[1][i]-x[0][i])/10);O.autoTicks?O.update({bounds:x,tickSpacing:A}):O.update({bounds:x})}var L=e.drawingBufferWidth,C=e.drawingBufferHeight;V[0]=L,V[1]=C,W[0]=0|Math.max(L/G.pixelRatio,1),W[1]=0|Math.max(C/G.pixelRatio,1),function(t,e){var r=t.bounds,n=t.cameraParams,o=n.projection,l=n.model,c=t.gl.drawingBufferWidth,f=t.gl.drawingBufferHeight,h=t.zNear,d=t.zFar,v=t.fovy,x=c/f;e?(y(o,-x,x,-1,1,h,d),n._ortho=!0):(m(o,v,x,h,d),n._ortho=!1);for(var i=0;i<16;++i)l[i]=0;l[15]=1;var _=0;for(i=0;i<3;++i)_=Math.max(_,r[1][i]-r[0][i]);for(i=0;i<3;++i)t.autoScale?l[5*i]=t.aspect[i]/(r[1][i]-r[0][i]):l[5*i]=1/_,t.autoCenter&&(l[12+i]=.5*-l[5*i]*(r[0][i]+r[1][i]))}(G,S);for(i=0;i<r;++i){(N=P[i]).axesBounds=x,G.clipToBounds&&(N.clipBounds=x)}T.object&&(G.snapToData?D.position=T.dataCoordinate:D.position=T.dataPosition,D.bounds=x),j&&(j=!1,function(){if(!J()){e.colorMask(!0,!0,!0,!0),e.depthMask(!0),e.disable(e.BLEND),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL);for(var t=P.length,r=z.length,n=0;n<r;++n){var o=z[n];o.shape=W,o.begin();for(var i=0;i<t;++i)if(I[i]===n){var l=P[i];l.drawPick&&(l.pixelRatio=1,l.drawPick(H))}o.end()}}}()),G.axesPixels=l(G.axes,H,L,C),G.onrender&&G.onrender(),e.bindFramebuffer(e.FRAMEBUFFER,null),e.viewport(0,0,L,C),G.clearRGBA(),e.depthMask(!0),e.colorMask(!0,!0,!0,!0),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.disable(e.BLEND),e.disable(e.CULL_FACE);var R=!1;O.enable&&(R=R||O.isTransparent(),O.draw(H)),D.axes=O,T.object&&D.draw(H),e.disable(e.CULL_FACE);for(i=0;i<r;++i){(N=P[i]).axes=O,N.pixelRatio=G.pixelRatio,N.isOpaque&&N.isOpaque()&&N.draw(H),N.isTransparent&&N.isTransparent()&&(R=!0)}if(R){k.shape=V,k.bind(),e.clear(e.DEPTH_BUFFER_BIT),e.colorMask(!1,!1,!1,!1),e.depthMask(!0),e.depthFunc(e.LESS),O.enable&&O.isTransparent()&&O.drawTransparent(H);for(i=0;i<r;++i){(N=P[i]).isOpaque&&N.isOpaque()&&N.draw(H)}e.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.colorMask(!0,!0,!0,!0),e.depthMask(!1),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),O.isTransparent()&&O.drawTransparent(H);for(i=0;i<r;++i){var N;(N=P[i]).isTransparent&&N.isTransparent()&&N.drawTransparent(H)}e.bindFramebuffer(e.FRAMEBUFFER,null),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.disable(e.DEPTH_TEST),E.bind(),k.color[0].bind(0),E.uniforms.accumBuffer=0,d(e),e.disable(e.BLEND)}F=!1;for(i=0;i<r;++i)P[i].dirty=!1}}}return G.enableMouseListeners(),function t(){if(G._stopped||G.contextLost)return;$(),requestAnimationFrame(t)}(),G.redraw=function(){G._stopped||(F=!0,$())},G},createCamera:n}},function(t,e,r){"use strict";t.exports=function(element,t){element=element||document.body,t=t||{};var e=[.01,1/0];"distanceLimits"in t&&(e[0]=t.distanceLimits[0],e[1]=t.distanceLimits[1]);"zoomMin"in t&&(e[0]=t.zoomMin);"zoomMax"in t&&(e[1]=t.zoomMax);var view=o({center:t.center||[0,0,0],up:t.up||[0,1,0],eye:t.eye||[0,0,10],mode:t.mode||"orbit",distanceLimits:e}),r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=0,v=element.clientWidth,m=element.clientHeight,y={keyBindingMode:"rotate",enableWheel:!0,view:view,element:element,delay:t.delay||16,rotateSpeed:t.rotateSpeed||1,zoomSpeed:t.zoomSpeed||1,translateSpeed:t.translateSpeed||1,flipX:!!t.flipX,flipY:!!t.flipY,modes:view.modes,_ortho:t._ortho||t.projection&&"orthographic"===t.projection.type||!1,tick:function(){var t=n(),e=this.delay,o=t-2*e;view.idle(t-e),view.recalcMatrix(o),view.flush(t-(100+2*e));for(var l=!0,c=view.computedMatrix,i=0;i<16;++i)l=l&&r[i]===c[i],r[i]=c[i];var f=element.clientWidth===v&&element.clientHeight===m;return v=element.clientWidth,m=element.clientHeight,l?!f:(d=Math.exp(view.computedRadius[0]),!0)},lookAt:function(t,e,r){view.lookAt(view.lastT(),t,e,r)},rotate:function(t,e,r){view.rotate(view.lastT(),t,e,r)},pan:function(t,e,r){view.pan(view.lastT(),t,e,r)},translate:function(t,e,r){view.translate(view.lastT(),t,e,r)}};return Object.defineProperties(y,{matrix:{get:function(){return view.computedMatrix},set:function(t){return view.setMatrix(view.lastT(),t),view.computedMatrix},enumerable:!0},mode:{get:function(){return view.getMode()},set:function(t){var e=view.computedUp.slice(),r=view.computedEye.slice(),o=view.computedCenter.slice();if(view.setMode(t),"turntable"===t){var l=n();view._active.lookAt(l,r,o,e),view._active.lookAt(l+500,r,o,[0,0,1]),view._active.flush(l)}return view.getMode()},enumerable:!0},center:{get:function(){return view.computedCenter},set:function(t){return view.lookAt(view.lastT(),null,t),view.computedCenter},enumerable:!0},eye:{get:function(){return view.computedEye},set:function(t){return view.lookAt(view.lastT(),t),view.computedEye},enumerable:!0},up:{get:function(){return view.computedUp},set:function(t){return view.lookAt(view.lastT(),null,null,t),view.computedUp},enumerable:!0},distance:{get:function(){return d},set:function(t){return view.setDistance(view.lastT(),t),t},enumerable:!0},distanceLimits:{get:function(){return view.getDistanceLimits(e)},set:function(t){return view.setDistanceLimits(t),t},enumerable:!0}}),element.addEventListener("contextmenu",(function(t){return t.preventDefault(),!1})),y._lastX=-1,y._lastY=-1,y._lastMods={shift:!1,control:!1,alt:!1,meta:!1},y.enableMouseListeners=function(){function t(t,e,r,o){var l=y.keyBindingMode;if(!1!==l){var c="rotate"===l,f="pan"===l,h="zoom"===l,v=!!o.control,m=!!o.alt,x=!!o.shift,_=!!(1&t),w=!!(2&t),M=!!(4&t),A=1/element.clientHeight,T=A*(e-y._lastX),k=A*(r-y._lastY),E=y.flipX?1:-1,S=y.flipY?1:-1,L=Math.PI*y.rotateSpeed,C=n();if(-1!==y._lastX&&-1!==y._lastY&&((c&&_&&!v&&!m&&!x||_&&!v&&!m&&x)&&view.rotate(C,E*L*T,-S*L*k,0),(f&&_&&!v&&!m&&!x||w||_&&v&&!m&&!x)&&view.pan(C,-y.translateSpeed*T*d,y.translateSpeed*k*d,0),h&&_&&!v&&!m&&!x||M||_&&!v&&m&&!x)){var O=-y.zoomSpeed*k/window.innerHeight*(C-view.lastT())*100;view.pan(C,0,0,d*(Math.exp(O)-1))}return y._lastX=e,y._lastY=r,y._lastMods=o,!0}}y.mouseListener=l(element,t),element.addEventListener("touchstart",(function(e){var r=f(e.changedTouches[0],element);t(0,r[0],r[1],y._lastMods),t(1,r[0],r[1],y._lastMods)}),!!h&&{passive:!0}),element.addEventListener("touchmove",(function(e){var r=f(e.changedTouches[0],element);t(1,r[0],r[1],y._lastMods),e.preventDefault()}),!!h&&{passive:!1}),element.addEventListener("touchend",(function(e){t(0,y._lastX,y._lastY,y._lastMods)}),!!h&&{passive:!0}),y.wheelListener=c(element,(function(t,e){if(!1!==y.keyBindingMode&&y.enableWheel){var r=y.flipX?1:-1,o=y.flipY?1:-1,l=n();if(Math.abs(t)>Math.abs(e))view.rotate(l,0,0,-t*r*Math.PI*y.rotateSpeed/window.innerWidth);else if(!y._ortho){var c=-y.zoomSpeed*o*e/window.innerHeight*(l-view.lastT())/20;view.pan(l,0,0,d*(Math.exp(c)-1))}}}),!0)},y.enableMouseListeners(),y};var n=r(968),o=r(969),l=r(693),c=r(986),f=r(633),h=r(507)},function(t,e,r){(function(e){t.exports=e.performance&&e.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this,r(75))},function(t,e,r){"use strict";t.exports=function(t){var e=(t=t||{}).eye||[0,0,1],r=t.center||[0,0,0],f=t.up||[0,1,0],h=t.distanceLimits||[0,1/0],d=t.mode||"turntable",v=n(),m=o(),y=l();return v.setDistanceLimits(h[0],h[1]),v.lookAt(0,e,r,f),m.setDistanceLimits(h[0],h[1]),m.lookAt(0,e,r,f),y.setDistanceLimits(h[0],h[1]),y.lookAt(0,e,r,f),new c({turntable:v,orbit:m,matrix:y},d)};var n=r(970),o=r(973),l=r(975);function c(t,e){this._controllerNames=Object.keys(t),this._controllerList=this._controllerNames.map((function(e){return t[e]})),this._mode=e,this._active=t[e],this._active||(this._mode="turntable",this._active=t.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var f=c.prototype;[["flush",1],["idle",1],["lookAt",4],["rotate",4],["pan",4],["translate",4],["setMatrix",2],["setDistanceLimits",2],["setDistance",2]].forEach((function(t){for(var e=t[0],r=[],i=0;i<t[1];++i)r.push("a"+i);var code="var cc=this._controllerList;for(var i=0;i<cc.length;++i){cc[i]."+t[0]+"("+r.join()+")}";f[e]=Function.apply(null,r.concat(code))})),f.recalcMatrix=function(t){this._active.recalcMatrix(t)},f.getDistance=function(t){return this._active.getDistance(t)},f.getDistanceLimits=function(t){return this._active.getDistanceLimits(t)},f.lastT=function(){return this._active.lastT()},f.setMode=function(t){if(t!==this._mode){var e=this._controllerNames.indexOf(t);if(!(e<0)){var r=this._active,n=this._controllerList[e],o=Math.max(r.lastT(),n.lastT());r.recalcMatrix(o),n.setMatrix(o,r.computedMatrix),this._active=n,this._mode=t,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},f.getMode=function(){return this._mode}},function(t,e,r){"use strict";t.exports=function(t){var e=(t=t||{}).center||[0,0,0],r=t.up||[0,1,0],n=t.right||m(r),o=t.radius||1,l=t.theta||0,v=t.phi||0;if(e=[].slice.call(e,0,3),r=[].slice.call(r,0,3),f(r,r),n=[].slice.call(n,0,3),f(n,n),"eye"in t){var x=t.eye,_=[x[0]-e[0],x[1]-e[1],x[2]-e[2]];c(n,_,r),d(n[0],n[1],n[2])<1e-6?n=m(r):f(n,n),o=d(_[0],_[1],_[2]);var w=h(r,_)/o,rt=h(n,_)/o;v=Math.acos(w),l=Math.acos(rt)}return o=Math.log(o),new y(t.zoomMin,t.zoomMax,e,r,n,o,l,v)};var n=r(690),o=r(471),l=r(607),c=r(691),f=r(573),h=r(692);function d(t,e,r){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(r,2))}function v(t){return Math.min(1,Math.max(-1,t))}function m(t){var e=Math.abs(t[0]),r=Math.abs(t[1]),n=Math.abs(t[2]),u=[0,0,0];e>Math.max(r,n)?u[2]=1:r>Math.max(e,n)?u[0]=1:u[1]=1;for(var o=0,l=0,i=0;i<3;++i)o+=t[i]*t[i],l+=u[i]*t[i];for(i=0;i<3;++i)u[i]-=l/o*t[i];return f(u,u),u}function y(t,e,r,o,l,c,f,h){this.center=n(r),this.up=n(o),this.right=n(l),this.radius=n([c]),this.angle=n([f,h]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(t,e),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var i=0;i<16;++i)this.computedMatrix[i]=.5;this.recalcMatrix(0)}var x=y.prototype;x.setDistanceLimits=function(t,e){t=t>0?Math.log(t):-1/0,e=e>0?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},x.getDistanceLimits=function(t){var e=this.radius.bounds[0];return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},x.recalcMatrix=function(t){this.center.curve(t),this.up.curve(t),this.right.curve(t),this.radius.curve(t),this.angle.curve(t);for(var e=this.computedUp,r=this.computedRight,n=0,o=0,i=0;i<3;++i)o+=e[i]*r[i],n+=e[i]*e[i];var ul=Math.sqrt(n),l=0;for(i=0;i<3;++i)r[i]-=e[i]*o/n,l+=r[i]*r[i],e[i]/=ul;var h=Math.sqrt(l);for(i=0;i<3;++i)r[i]/=h;var v=this.computedToward;c(v,e,r),f(v,v);var m=Math.exp(this.computedRadius[0]),y=this.computedAngle[0],x=this.computedAngle[1],_=Math.cos(y),w=Math.sin(y),M=Math.cos(x),A=Math.sin(x),T=this.computedCenter,k=_*M,E=w*M,S=A,L=-_*A,C=-w*A,O=M,R=this.computedEye,D=this.computedMatrix;for(i=0;i<3;++i){var P=k*r[i]+E*v[i]+S*e[i];D[4*i+1]=L*r[i]+C*v[i]+O*e[i],D[4*i+2]=P,D[4*i+3]=0}var I=D[1],N=D[5],z=D[9],F=D[2],j=D[6],B=D[10],U=N*B-z*j,H=z*F-I*B,V=I*j-N*F,Y=d(U,H,V);U/=Y,H/=Y,V/=Y,D[0]=U,D[4]=H,D[8]=V;for(i=0;i<3;++i)R[i]=T[i]+D[2+4*i]*m;for(i=0;i<3;++i){l=0;for(var G=0;G<3;++G)l+=D[i+4*G]*R[G];D[12+i]=-l}D[15]=1},x.getMatrix=function(t,e){this.recalcMatrix(t);var r=this.computedMatrix;if(e){for(var i=0;i<16;++i)e[i]=r[i];return e}return r};var _=[0,0,0];x.rotate=function(t,e,r,n){if(this.angle.move(t,e,r),n){this.recalcMatrix(t);var o=this.computedMatrix;_[0]=o[2],_[1]=o[6],_[2]=o[10];for(var c=this.computedUp,f=this.computedRight,h=this.computedToward,i=0;i<3;++i)o[4*i]=c[i],o[4*i+1]=f[i],o[4*i+2]=h[i];l(o,o,n,_);for(i=0;i<3;++i)c[i]=o[4*i],f[i]=o[4*i+1];this.up.set(t,c[0],c[1],c[2]),this.right.set(t,f[0],f[1],f[2])}},x.pan=function(t,e,r,n){e=e||0,r=r||0,n=n||0,this.recalcMatrix(t);var o=this.computedMatrix,l=(Math.exp(this.computedRadius[0]),o[1]),c=o[5],f=o[9],ul=d(l,c,f);l/=ul,c/=ul,f/=ul;var h=o[0],v=o[4],m=o[8],y=h*l+v*c+m*f,x=d(h-=l*y,v-=c*y,m-=f*y),_=(h/=x)*e+l*r,w=(v/=x)*e+c*r,M=(m/=x)*e+f*r;this.center.move(t,_,w,M);var A=Math.exp(this.computedRadius[0]);A=Math.max(1e-4,A+n),this.radius.set(t,Math.log(A))},x.translate=function(t,e,r,n){this.center.move(t,e||0,r||0,n||0)},x.setMatrix=function(t,e,r,n){var l=1;"number"==typeof r&&(l=0|r),(l<0||l>3)&&(l=1);var c=(l+2)%3;e||(this.recalcMatrix(t),e=this.computedMatrix);var f=e[l],h=e[l+4],m=e[l+8];if(n){var y=Math.abs(f),x=Math.abs(h),_=Math.abs(m),w=Math.max(y,x,_);y===w?(f=f<0?-1:1,h=m=0):_===w?(m=m<0?-1:1,f=h=0):(h=h<0?-1:1,f=m=0)}else{var ul=d(f,h,m);f/=ul,h/=ul,m/=ul}var M,A,T=e[c],k=e[c+4],E=e[c+8],S=T*f+k*h+E*m,L=d(T-=f*S,k-=h*S,E-=m*S),C=h*(E/=L)-m*(k/=L),O=m*(T/=L)-f*E,R=f*k-h*T,D=d(C,O,R);if(C/=D,O/=D,R/=D,this.center.jump(t,J,Q,K),this.radius.idle(t),this.up.jump(t,f,h,m),this.right.jump(t,T,k,E),2===l){var P=e[1],I=e[5],N=e[9],z=P*T+I*k+N*E,F=P*C+I*O+N*R;M=H<0?-Math.PI/2:Math.PI/2,A=Math.atan2(F,z)}else{var j=e[2],B=e[6],U=e[10],H=j*f+B*h+U*m,tr=j*T+B*k+U*E,V=j*C+B*O+U*R;M=Math.asin(v(H)),A=Math.atan2(V,tr)}this.angle.jump(t,A,M),this.recalcMatrix(t);var Y=e[2],G=e[6],W=e[10],X=this.computedMatrix;o(X,e);var Z=X[15],J=X[12]/Z,Q=X[13]/Z,K=X[14]/Z,$=Math.exp(this.computedRadius[0]);this.center.jump(t,J-Y*$,Q-G*$,K-W*$)},x.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},x.idle=function(t){this.center.idle(t),this.up.idle(t),this.right.idle(t),this.radius.idle(t),this.angle.idle(t)},x.flush=function(t){this.center.flush(t),this.up.flush(t),this.right.flush(t),this.radius.flush(t),this.angle.flush(t)},x.setDistance=function(t,e){e>0&&this.radius.set(t,Math.log(e))},x.lookAt=function(t,e,r,n){this.recalcMatrix(t),e=e||this.computedEye,r=r||this.computedCenter;var o=(n=n||this.computedUp)[0],l=n[1],c=n[2],ul=d(o,l,c);if(!(ul<1e-6)){o/=ul,l/=ul,c/=ul;var f=e[0]-r[0],h=e[1]-r[1],m=e[2]-r[2],y=d(f,h,m);if(!(y<1e-6)){f/=y,h/=y,m/=y;var x=this.computedRight,_=x[0],w=x[1],M=x[2],A=o*_+l*w+c*M,T=d(_-=A*o,w-=A*l,M-=A*c);if(!(T<.01&&(T=d(_=l*m-c*h,w=c*f-o*m,M=o*h-l*f))<1e-6)){_/=T,w/=T,M/=T,this.up.set(t,o,l,c),this.right.set(t,_,w,M),this.center.set(t,r[0],r[1],r[2]),this.radius.set(t,Math.log(y));var k=l*M-c*w,E=c*_-o*M,S=o*w-l*_,L=d(k,E,S),C=o*f+l*h+c*m,tr=_*f+w*h+M*m,O=(k/=L)*f+(E/=L)*h+(S/=L)*m,R=Math.asin(v(C)),D=Math.atan2(O,tr),P=this.angle._state,I=P[P.length-1],N=P[P.length-2];I%=2*Math.PI;var z=Math.abs(I+2*Math.PI-D),F=Math.abs(I-D),j=Math.abs(I-2*Math.PI-D);z<F&&(I+=2*Math.PI),j<F&&(I-=2*Math.PI),this.angle.jump(this.angle.lastT(),I,N),this.angle.set(t,D,R)}}}}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,o,l){var c=o-1,f=o*o,h=c*c,d=(1+2*o)*h,v=o*h,m=f*(3-2*o),y=f*c;if(t.length){l||(l=new Array(t.length));for(var i=t.length-1;i>=0;--i)l[i]=d*t[i]+v*e[i]+m*r[i]+y*n[i];return l}return d*t+v*e+m*r+y*n},t.exports.derivative=function(t,e,r,n,o,l){var c=6*o*o-6*o,f=3*o*o-4*o+1,h=-6*o*o+6*o,d=3*o*o-2*o;if(t.length){l||(l=new Array(t.length));for(var i=t.length-1;i>=0;--i)l[i]=c*t[i]+f*e[i]+h*r[i]+d*n[i];return l}return c*t+f*e+h*r[i]+d*n}},function(t,e,r){"use strict";function n(t,e,r,n,o,l){var code=["function ",t,"(a,l,h,",n.join(","),"){",l?"":"var i=",r?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",o?".get(m)":"[m]"];return l?e.indexOf("c")<0?code.push(";if(x===y){return m}else if(x<=y){"):code.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):code.push(";if(",e,"){i=m;"),r?code.push("l=m+1}else{h=m-1}"):code.push("h=m-1}else{l=m+1}"),code.push("}"),l?code.push("return -1};"):code.push("return i};"),code.join("")}function o(t,e,r,o){return new Function([n("A","x"+t+"y",e,["y"],!1,o),n("B","x"+t+"y",e,["y"],!0,o),n("P","c(x,y)"+t+"0",e,["y","c"],!1,o),n("Q","c(x,y)"+t+"0",e,["y","c"],!0,o),"function dispatchBsearch",r,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",r].join(""))()}t.exports={ge:o(">=",!1,"GE"),gt:o(">",!1,"GT"),lt:o("<",!0,"LT"),le:o("<=",!0,"LE"),eq:o("-",!0,"EQ",!0)}},function(t,e,r){"use strict";t.exports=function(t){var e=(t=t||{}).center||[0,0,0],r=t.rotation||[0,0,0,1],n=t.radius||1;e=[].slice.call(e,0,3),v(r=[].slice.call(r,0,4),r);var o=new m(r,e,Math.log(n));o.setDistanceLimits(t.zoomMin,t.zoomMax),("eye"in t||"up"in t)&&o.lookAt(0,t.eye,t.center,t.up);return o};var n=r(690),o=r(537),l=r(536),c=r(471),f=r(974);function h(t,e,r){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(r,2))}function d(t,e,r,n){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(r,2)+Math.pow(n,2))}function v(t,a){var e=a[0],r=a[1],n=a[2],o=a[3],l=d(e,r,n,o);l>1e-6?(t[0]=e/l,t[1]=r/l,t[2]=n/l,t[3]=o/l):(t[0]=t[1]=t[2]=0,t[3]=1)}function m(t,e,r){this.radius=n([r]),this.center=n(e),this.rotation=n(t),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var y=m.prototype;y.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},y.recalcMatrix=function(t){this.radius.curve(t),this.center.curve(t),this.rotation.curve(t);var e=this.computedRotation;v(e,e);var r=this.computedMatrix;l(r,e);var n=this.computedCenter,o=this.computedEye,c=this.computedUp,f=Math.exp(this.computedRadius[0]);o[0]=n[0]+f*r[2],o[1]=n[1]+f*r[6],o[2]=n[2]+f*r[10],c[0]=r[1],c[1]=r[5],c[2]=r[9];for(var i=0;i<3;++i){for(var h=0,d=0;d<3;++d)h+=r[i+4*d]*o[d];r[12+i]=-h}},y.getMatrix=function(t,e){this.recalcMatrix(t);var r=this.computedMatrix;if(e){for(var i=0;i<16;++i)e[i]=r[i];return e}return r},y.idle=function(t){this.center.idle(t),this.radius.idle(t),this.rotation.idle(t)},y.flush=function(t){this.center.flush(t),this.radius.flush(t),this.rotation.flush(t)},y.pan=function(t,e,r,n){e=e||0,r=r||0,n=n||0,this.recalcMatrix(t);var o=this.computedMatrix,l=o[1],c=o[5],f=o[9],ul=h(l,c,f);l/=ul,c/=ul,f/=ul;var d=o[0],v=o[4],m=o[8],y=d*l+v*c+m*f,x=h(d-=l*y,v-=c*y,m-=f*y);d/=x,v/=x,m/=x;var _=o[2],w=o[6],M=o[10],A=_*l+w*c+M*f,T=_*d+w*v+M*m,k=h(_-=A*l+T*d,w-=A*c+T*v,M-=A*f+T*m);_/=k,w/=k,M/=k;var E=d*e+l*r,S=v*e+c*r,L=m*e+f*r;this.center.move(t,E,S,L);var C=Math.exp(this.computedRadius[0]);C=Math.max(1e-4,C+n),this.radius.set(t,Math.log(C))},y.rotate=function(t,e,r,n){this.recalcMatrix(t),e=e||0,r=r||0;var o=this.computedMatrix,l=o[0],c=o[4],f=o[8],v=o[1],m=o[5],y=o[9],x=o[2],_=o[6],w=o[10],M=e*l+r*v,A=e*c+r*m,T=e*f+r*y,k=-(_*T-w*A),E=-(w*M-x*T),S=-(x*A-_*M),L=Math.sqrt(Math.max(0,1-Math.pow(k,2)-Math.pow(E,2)-Math.pow(S,2))),C=d(k,E,S,L);C>1e-6?(k/=C,E/=C,S/=C,L/=C):(k=E=S=0,L=1);var O=this.computedRotation,R=O[0],D=O[1],P=O[2],I=O[3],N=R*L+I*k+D*S-P*E,z=D*L+I*E+P*k-R*S,F=P*L+I*S+R*E-D*k,j=I*L-R*k-D*E-P*S;if(n){k=x,E=_,S=w;var s=Math.sin(n)/h(k,E,S);k*=s,E*=s,S*=s,j=j*(L=Math.cos(e))-(N=N*L+j*k+z*S-F*E)*k-(z=z*L+j*E+F*k-N*S)*E-(F=F*L+j*S+N*E-z*k)*S}var B=d(N,z,F,j);B>1e-6?(N/=B,z/=B,F/=B,j/=B):(N=z=F=0,j=1),this.rotation.set(t,N,z,F,j)},y.lookAt=function(t,e,r,n){this.recalcMatrix(t),r=r||this.computedCenter,e=e||this.computedEye,n=n||this.computedUp;var l=this.computedMatrix;o(l,e,r,n);var c=this.computedRotation;f(c,l[0],l[1],l[2],l[4],l[5],l[6],l[8],l[9],l[10]),v(c,c),this.rotation.set(t,c[0],c[1],c[2],c[3]);for(var h=0,i=0;i<3;++i)h+=Math.pow(r[i]-e[i],2);this.radius.set(t,.5*Math.log(Math.max(h,1e-6))),this.center.set(t,r[0],r[1],r[2])},y.translate=function(t,e,r,n){this.center.move(t,e||0,r||0,n||0)},y.setMatrix=function(t,e){var r=this.computedRotation;f(r,e[0],e[1],e[2],e[4],e[5],e[6],e[8],e[9],e[10]),v(r,r),this.rotation.set(t,r[0],r[1],r[2],r[3]);var n=this.computedMatrix;c(n,e);var o=n[15];if(Math.abs(o)>1e-6){var l=n[12]/o,h=n[13]/o,d=n[14]/o;this.recalcMatrix(t);var m=Math.exp(this.computedRadius[0]);this.center.set(t,l-n[2]*m,h-n[6]*m,d-n[10]*m),this.radius.idle(t)}else this.center.idle(t),this.radius.idle(t)},y.setDistance=function(t,e){e>0&&this.radius.set(t,Math.log(e))},y.setDistanceLimits=function(t,e){t=t>0?Math.log(t):-1/0,e=e>0?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},y.getDistanceLimits=function(t){var e=this.radius.bounds;return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},y.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},y.fromJSON=function(t){var e=this.lastT(),r=t.center;r&&this.center.set(e,r[0],r[1],r[2]);var n=t.rotation;n&&this.rotation.set(e,n[0],n[1],n[2],n[3]);var o=t.distance;o&&o>0&&this.radius.set(e,Math.log(o)),this.setDistanceLimits(t.zoomMin,t.zoomMax)}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,o,l,c,f,h,d){var tr=e+l+d;if(v>0){var v=Math.sqrt(tr+1);t[0]=.5*(c-h)/v,t[1]=.5*(f-n)/v,t[2]=.5*(r-l)/v,t[3]=.5*v}else{var m=Math.max(e,l,d);v=Math.sqrt(2*m-tr+1);e>=m?(t[0]=.5*v,t[1]=.5*(o+r)/v,t[2]=.5*(f+n)/v,t[3]=.5*(c-h)/v):l>=m?(t[0]=.5*(r+o)/v,t[1]=.5*v,t[2]=.5*(h+c)/v,t[3]=.5*(f-n)/v):(t[0]=.5*(n+f)/v,t[1]=.5*(c+h)/v,t[2]=.5*v,t[3]=.5*(r-o)/v)}return t}},function(t,e,r){"use strict";var n=r(976),o=r(977),l=r(471),c=r(608),f=r(609),h=r(610),d=r(537),v=r(534),m=(r(535),r(573)),y=[0,0,0];function x(t){this._components=t.slice(),this._time=[0],this.prevMatrix=t.slice(),this.nextMatrix=t.slice(),this.computedMatrix=t.slice(),this.computedInverse=t.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}t.exports=function(t){return new x((t=t||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var _=x.prototype;_.recalcMatrix=function(t){var time=this._time,e=n.le(time,t),r=this.computedMatrix;if(!(e<0)){var c=this._components;if(e===time.length-1)for(var f=16*e,i=0;i<16;++i)r[i]=c[f++];else{var dt=time[e+1]-time[e],h=(f=16*e,this.prevMatrix),d=!0;for(i=0;i<16;++i)h[i]=c[f++];var v=this.nextMatrix;for(i=0;i<16;++i)v[i]=c[f++],d=d&&h[i]===v[i];if(dt<1e-6||d)for(i=0;i<16;++i)r[i]=h[i];else o(r,h,v,(t-time[e])/dt)}var y=this.computedUp;y[0]=r[1],y[1]=r[5],y[2]=r[9],m(y,y);var x=this.computedInverse;l(x,r);var _=this.computedEye,w=x[15];_[0]=x[12]/w,_[1]=x[13]/w,_[2]=x[14]/w;var M=this.computedCenter,A=Math.exp(this.computedRadius[0]);for(i=0;i<3;++i)M[i]=_[i]-r[2+4*i]*A}},_.idle=function(t){if(!(t<this.lastT())){for(var e=this._components,r=e.length-16,i=0;i<16;++i)e.push(e[r++]);this._time.push(t)}},_.flush=function(t){var e=n.gt(this._time,t)-2;e<0||(this._time.splice(0,e),this._components.splice(0,16*e))},_.lastT=function(){return this._time[this._time.length-1]},_.lookAt=function(t,e,r,n){this.recalcMatrix(t),e=e||this.computedEye,r=r||y,n=n||this.computedUp,this.setMatrix(t,d(this.computedMatrix,e,r,n));for(var o=0,i=0;i<3;++i)o+=Math.pow(r[i]-e[i],2);o=Math.log(Math.sqrt(o)),this.computedRadius[0]=o},_.rotate=function(t,e,r,n){this.recalcMatrix(t);var o=this.computedInverse;e&&f(o,o,e),r&&c(o,o,r),n&&h(o,o,n),this.setMatrix(t,l(this.computedMatrix,o))};var w=[0,0,0];_.pan=function(t,e,r,n){w[0]=-(e||0),w[1]=-(r||0),w[2]=-(n||0),this.recalcMatrix(t);var o=this.computedInverse;v(o,o,w),this.setMatrix(t,l(o,o))},_.translate=function(t,e,r,n){w[0]=e||0,w[1]=r||0,w[2]=n||0,this.recalcMatrix(t);var o=this.computedMatrix;v(o,o,w),this.setMatrix(t,o)},_.setMatrix=function(t,e){if(!(t<this.lastT())){this._time.push(t);for(var i=0;i<16;++i)this._components.push(e[i])}},_.setDistance=function(t,e){this.computedRadius[0]=e},_.setDistanceLimits=function(a,b){var t=this._limits;t[0]=a,t[1]=b},_.getDistanceLimits=function(t){var e=this._limits;return t?(t[0]=e[0],t[1]=e[1],t):e}},function(t,e,r){"use strict";function n(t,e,r,n,o,l){var code=["function ",t,"(a,l,h,",n.join(","),"){",l?"":"var i=",r?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",o?".get(m)":"[m]"];return l?e.indexOf("c")<0?code.push(";if(x===y){return m}else if(x<=y){"):code.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):code.push(";if(",e,"){i=m;"),r?code.push("l=m+1}else{h=m-1}"):code.push("h=m-1}else{l=m+1}"),code.push("}"),l?code.push("return -1};"):code.push("return i};"),code.join("")}function o(t,e,r,o){return new Function([n("A","x"+t+"y",e,["y"],!1,o),n("B","x"+t+"y",e,["y"],!0,o),n("P","c(x,y)"+t+"0",e,["y","c"],!1,o),n("Q","c(x,y)"+t+"0",e,["y","c"],!0,o),"function dispatchBsearch",r,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",r].join(""))()}t.exports={ge:o(">=",!1,"GE"),gt:o(">",!1,"GT"),lt:o("<",!0,"LT"),le:o("<=",!0,"LE"),eq:o("-",!0,"EQ",!0)}},function(t,e,r){var n=r(978),o=r(979),l=r(980),c=r(533),f=r(983),h=m(),d=m(),v=m();function m(){return{translate:y(),scale:y(1),skew:y(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function y(t){return[t||0,t||0,t||0]}t.exports=function(t,e,r,m){if(0===c(e)||0===c(r))return!1;var y=l(e,h.translate,h.scale,h.skew,h.perspective,h.quaternion),x=l(r,d.translate,d.scale,d.skew,d.perspective,d.quaternion);return!(!y||!x)&&(n(v.translate,h.translate,d.translate,m),n(v.skew,h.skew,d.skew,m),n(v.scale,h.scale,d.scale,m),n(v.perspective,h.perspective,d.perspective,m),f(v.quaternion,h.quaternion,d.quaternion,m),o(t,v.translate,v.scale,v.skew,v.perspective,v.quaternion),!0)}},function(t,e){t.exports=function(t,a,b,e){var r=a[0],n=a[1],o=a[2];return t[0]=r+e*(b[0]-r),t[1]=n+e*(b[1]-n),t[2]=o+e*(b[2]-o),t}},function(t,e,r){var n={identity:r(531),translate:r(534),multiply:r(472),create:r(530),scale:r(535),fromRotationTranslation:r(611)},o=(n.create(),n.create());t.exports=function(t,e,r,l,c,f){return n.identity(t),n.fromRotationTranslation(t,f,e),t[3]=c[0],t[7]=c[1],t[11]=c[2],t[15]=c[3],n.identity(o),0!==l[2]&&(o[9]=l[2],n.multiply(t,t,o)),0!==l[1]&&(o[9]=0,o[8]=l[1],n.multiply(t,t,o)),0!==l[0]&&(o[8]=0,o[4]=l[0],n.multiply(t,t,o)),n.scale(t,t,r),t}},function(t,e,r){var n=r(981),o=r(530),l=r(606),c=r(533),f=r(471),h=r(532),d={length:r(982),normalize:r(573),dot:r(692),cross:r(691)},v=o(),m=o(),y=[0,0,0,0],x=[[0,0,0],[0,0,0],[0,0,0]],_=[0,0,0];function w(t,a,b,e,r){t[0]=a[0]*e+b[0]*r,t[1]=a[1]*e+b[1]*r,t[2]=a[2]*e+b[2]*r}t.exports=function(t,e,r,o,M,A){if(e||(e=[0,0,0]),r||(r=[0,0,0]),o||(o=[0,0,0]),M||(M=[0,0,0,1]),A||(A=[0,0,0,1]),!n(v,t))return!1;if(l(m,v),m[3]=0,m[7]=0,m[11]=0,m[15]=1,Math.abs(c(m)<1e-8))return!1;var T,a,k,E,S,L,C,O=v[3],R=v[7],D=v[11],P=v[12],I=v[13],N=v[14],z=v[15];if(0!==O||0!==R||0!==D){if(y[0]=O,y[1]=R,y[2]=D,y[3]=z,!f(m,m))return!1;h(m,m),T=M,k=m,E=(a=y)[0],S=a[1],L=a[2],C=a[3],T[0]=k[0]*E+k[4]*S+k[8]*L+k[12]*C,T[1]=k[1]*E+k[5]*S+k[9]*L+k[13]*C,T[2]=k[2]*E+k[6]*S+k[10]*L+k[14]*C,T[3]=k[3]*E+k[7]*S+k[11]*L+k[15]*C}else M[0]=M[1]=M[2]=0,M[3]=1;if(e[0]=P,e[1]=I,e[2]=N,function(t,e){t[0][0]=e[0],t[0][1]=e[1],t[0][2]=e[2],t[1][0]=e[4],t[1][1]=e[5],t[1][2]=e[6],t[2][0]=e[8],t[2][1]=e[9],t[2][2]=e[10]}(x,v),r[0]=d.length(x[0]),d.normalize(x[0],x[0]),o[0]=d.dot(x[0],x[1]),w(x[1],x[1],x[0],1,-o[0]),r[1]=d.length(x[1]),d.normalize(x[1],x[1]),o[0]/=r[1],o[1]=d.dot(x[0],x[2]),w(x[2],x[2],x[0],1,-o[1]),o[2]=d.dot(x[1],x[2]),w(x[2],x[2],x[1],1,-o[2]),r[2]=d.length(x[2]),d.normalize(x[2],x[2]),o[1]/=r[2],o[2]/=r[2],d.cross(_,x[1],x[2]),d.dot(x[0],_)<0)for(var i=0;i<3;i++)r[i]*=-1,x[i][0]*=-1,x[i][1]*=-1,x[i][2]*=-1;return A[0]=.5*Math.sqrt(Math.max(1+x[0][0]-x[1][1]-x[2][2],0)),A[1]=.5*Math.sqrt(Math.max(1-x[0][0]+x[1][1]-x[2][2],0)),A[2]=.5*Math.sqrt(Math.max(1-x[0][0]-x[1][1]+x[2][2],0)),A[3]=.5*Math.sqrt(Math.max(1+x[0][0]+x[1][1]+x[2][2],0)),x[2][1]>x[1][2]&&(A[0]=-A[0]),x[0][2]>x[2][0]&&(A[1]=-A[1]),x[1][0]>x[0][1]&&(A[2]=-A[2]),!0}},function(t,e){t.exports=function(t,e){var r=e[15];if(0===r)return!1;for(var n=1/r,i=0;i<16;i++)t[i]=e[i]*n;return!0}},function(t,e){t.exports=function(a){var t=a[0],e=a[1],r=a[2];return Math.sqrt(t*t+e*e+r*r)}},function(t,e,r){t.exports=r(984)},function(t,e){t.exports=function(t,a,b,e){var r,n,o,l,c,f=a[0],h=a[1],d=a[2],v=a[3],m=b[0],y=b[1],x=b[2],_=b[3];(n=f*m+h*y+d*x+v*_)<0&&(n=-n,m=-m,y=-y,x=-x,_=-_);1-n>1e-6?(r=Math.acos(n),o=Math.sin(r),l=Math.sin((1-e)*r)/o,c=Math.sin(e*r)/o):(l=1-e,c=e);return t[0]=l*f+c*m,t[1]=l*h+c*y,t[2]=l*d+c*x,t[3]=l*v+c*_,t}},function(t,e,r){"use strict";function n(t){return t.target||t.srcElement||window}e.buttons=function(t){if("object"==typeof t){if("buttons"in t)return t.buttons;if("which"in t){if(2===(b=t.which))return 4;if(3===b)return 2;if(b>0)return 1<<b-1}else if("button"in t){var b;if(1===(b=t.button))return 4;if(2===b)return 2;if(b>=0)return 1<<b}}return 0},e.element=n,e.x=function(t){if("object"==typeof t){if("offsetX"in t)return t.offsetX;var e=n(t).getBoundingClientRect();return t.clientX-e.left}return 0},e.y=function(t){if("object"==typeof t){if("offsetY"in t)return t.offsetY;var e=n(t).getBoundingClientRect();return t.clientY-e.top}return 0}},function(t,e,r){"use strict";var n=r(987);t.exports=function(element,t,e){"function"==typeof element&&(e=!!t,t=element,element=window);var r=n("ex",element),o=function(n){e&&n.preventDefault();var o=n.deltaX||0,l=n.deltaY||0,c=n.deltaZ||0,f=1;switch(n.deltaMode){case 1:f=r;break;case 2:f=window.innerHeight}if(l*=f,c*=f,(o*=f)||l||c)return t(o,l,c,n)};return element.addEventListener("wheel",o),o}},function(t,e,r){"use strict";var n=r(988);t.exports=l;function o(element,t){var e=n(getComputedStyle(element).getPropertyValue(t));return e[0]*l(e[1],element)}function l(t,element){switch(element=element||document.body,t=(t||"px").trim().toLowerCase(),element!==window&&element!==document||(element=document.body),t){case"%":return element.clientHeight/100;case"ch":case"ex":return function(t,element){var e=document.createElement("div");e.style["font-size"]="128"+t,element.appendChild(e);var r=o(e,"font-size")/128;return element.removeChild(e),r}(t,element);case"em":return o(element,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return 96;case"cm":return 96/2.54;case"mm":return 96/25.4;case"pt":return 96/72;case"pc":return 16}return 1}},function(t,e){t.exports=function(t,e){e||(e=[0,""]),t=String(t);var r=parseFloat(t,10);return e[0]=r,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},function(t,e,r){"use strict";t.exports=function(t,e){var r=new v(t);return r.update(e),r};var n=r(990),o=r(1046),l=r(1047),c=r(704),f=r(1049),h=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function d(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a}function v(t){this.gl=t,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=l(t)}var m=v.prototype;function y(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}m.update=function(t){function e(e,r,n){if(n in t){var o,l=t[n],c=this[n];(e?Array.isArray(l)&&Array.isArray(l[0]):Array.isArray(l))?this[n]=o=[r(l[0]),r(l[1]),r(l[2])]:this[n]=o=[r(l),r(l),r(l)];for(var i=0;i<3;++i)if(o[i]!==c[i])return!0}return!1}t=t||{};var r,l=e.bind(this,!1,Number),c=e.bind(this,!1,Boolean),h=e.bind(this,!1,String),d=e.bind(this,!0,(function(t){if(Array.isArray(t)){if(3===t.length)return[+t[0],+t[1],+t[2],1];if(4===t.length)return[+t[0],+t[1],+t[2],+t[3]]}return[0,0,0,1]})),v=!1,m=!1;if("bounds"in t)for(var y=t.bounds,i=0;i<2;++i)for(var x=0;x<3;++x)y[i][x]!==this.bounds[i][x]&&(m=!0),this.bounds[i][x]=y[i][x];if("ticks"in t){r=t.ticks,v=!0,this.autoTicks=!1;for(i=0;i<3;++i)this.tickSpacing[i]=0}else l("tickSpacing")&&(this.autoTicks=!0,m=!0);if(this._firstInit&&("ticks"in t||"tickSpacing"in t||(this.autoTicks=!0),m=!0,v=!0,this._firstInit=!1),m&&this.autoTicks&&(r=f.create(this.bounds,this.tickSpacing),v=!0),v){for(i=0;i<3;++i)r[i].sort((function(a,b){return a.x-b.x}));f.equal(r,this.ticks)?v=!1:this.ticks=r}c("tickEnable"),h("tickFont")&&(v=!0),l("tickSize"),l("tickAngle"),l("tickPad"),d("tickColor");var _=h("labels");h("labelFont")&&(_=!0),c("labelEnable"),l("labelSize"),l("labelPad"),d("labelColor"),c("lineEnable"),c("lineMirror"),l("lineWidth"),d("lineColor"),c("lineTickEnable"),c("lineTickMirror"),l("lineTickLength"),l("lineTickWidth"),d("lineTickColor"),c("gridEnable"),l("gridWidth"),d("gridColor"),c("zeroEnable"),d("zeroLineColor"),l("zeroLineWidth"),c("backgroundEnable"),d("backgroundColor"),this._text?this._text&&(_||v)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=n(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&v&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=o(this.gl,this.bounds,this.ticks))};var x=[new y,new y,new y];function _(t,i,e,r,n){for(var o=t.primalOffset,l=t.primalMinor,c=t.mirrorOffset,f=t.mirrorMinor,h=r[i],d=0;d<3;++d)if(i!==d){var a=o,b=c,v=l,m=f;h&1<<d&&(a=c,b=o,v=f,m=l),a[d]=e[0][d],b[d]=e[1][d],n[d]>0?(v[d]=-1,m[d]=0):(v[d]=0,m[d]=1)}}var w=[0,0,0],M={model:h,view:h,projection:h,_ortho:!1};m.isOpaque=function(){return!0},m.isTransparent=function(){return!1},m.drawTransparent=function(t){};var A=[0,0,0],T=[0,0,0],k=[0,0,0];m.draw=function(t){t=t||M;for(var e=this.gl,r=t.model||h,view=t.view||h,n=t.projection||h,o=this.bounds,l=t._ortho||!1,f=c(r,view,n,o,l),v=f.cubeEdges,m=f.axis,y=view[12],E=view[13],S=view[14],L=view[15],C=(l?2:1)*this.pixelRatio*(n[3]*y+n[7]*E+n[11]*S+n[15]*L)/e.drawingBufferHeight,i=0;i<3;++i)this.lastCubeProps.cubeEdges[i]=v[i],this.lastCubeProps.axis[i]=m[i];var O=x;for(i=0;i<3;++i)_(x[i],i,this.bounds,v,m);e=this.gl;var R,D=w;for(i=0;i<3;++i)this.backgroundEnable[i]?D[i]=m[i]:D[i]=0;this._background.draw(r,view,n,o,D,this.backgroundColor),this._lines.bind(r,view,n,this);for(i=0;i<3;++i){var P=[0,0,0];m[i]>0?P[i]=o[1][i]:P[i]=o[0][i];for(var I=0;I<2;++I){var u=(i+1+I)%3,N=(i+1+(1^I))%3;this.gridEnable[u]&&this._lines.drawGrid(u,N,this.bounds,P,this.gridColor[u],this.gridWidth[u]*this.pixelRatio)}for(I=0;I<2;++I){u=(i+1+I)%3,N=(i+1+(1^I))%3;this.zeroEnable[N]&&Math.min(o[0][N],o[1][N])<=0&&Math.max(o[0][N],o[1][N])>=0&&this._lines.drawZero(u,N,this.bounds,P,this.zeroLineColor[N],this.zeroLineWidth[N]*this.pixelRatio)}}for(i=0;i<3;++i){this.lineEnable[i]&&this._lines.drawAxisLine(i,this.bounds,O[i].primalOffset,this.lineColor[i],this.lineWidth[i]*this.pixelRatio),this.lineMirror[i]&&this._lines.drawAxisLine(i,this.bounds,O[i].mirrorOffset,this.lineColor[i],this.lineWidth[i]*this.pixelRatio);var z=d(A,O[i].primalMinor),F=d(T,O[i].mirrorMinor),j=this.lineTickLength;for(I=0;I<3;++I){var B=C/r[5*I];z[I]*=j[I]*B,F[I]*=j[I]*B}this.lineTickEnable[i]&&this._lines.drawAxisTicks(i,O[i].primalOffset,z,this.lineTickColor[i],this.lineTickWidth[i]*this.pixelRatio),this.lineTickMirror[i]&&this._lines.drawAxisTicks(i,O[i].mirrorOffset,F,this.lineTickColor[i],this.lineTickWidth[i]*this.pixelRatio)}this._lines.unbind(),this._text.bind(r,view,n,this.pixelRatio);var U,H;function V(i){(H=[0,0,0])[i]=1}function Y(i,t,e){var r=(i+1)%3,n=(i+2)%3,o=t[r],l=t[n],c=e[r],f=e[n];o>0&&f>0||o>0&&f<0||o<0&&f>0||o<0&&f<0?V(r):(l>0&&c>0||l>0&&c<0||l<0&&c>0||l<0&&c<0)&&V(n)}for(i=0;i<3;++i){var G=O[i].primalMinor,W=O[i].mirrorMinor,X=d(k,O[i].primalOffset);for(I=0;I<3;++I)this.lineTickEnable[i]&&(X[I]+=C*G[I]*Math.max(this.lineTickLength[I],0)/r[5*I]);var Z=[0,0,0];if(Z[i]=1,this.tickEnable[i]){-3600===this.tickAngle[i]?(this.tickAngle[i]=0,this.tickAlign[i]="auto"):this.tickAlign[i]=-1,U=1,"auto"===(R=[this.tickAlign[i],.5,U])[0]?R[0]=0:R[0]=parseInt(""+R[0]),H=[0,0,0],Y(i,G,W);for(I=0;I<3;++I)X[I]+=C*G[I]*this.tickPad[I]/r[5*I];this._text.drawTicks(i,this.tickSize[i],this.tickAngle[i],X,this.tickColor[i],Z,H,R)}if(this.labelEnable[i]){U=0,H=[0,0,0],this.labels[i].length>4&&(V(i),U=1),"auto"===(R=[this.labelAlign[i],.5,U])[0]?R[0]=0:R[0]=parseInt(""+R[0]);for(I=0;I<3;++I)X[I]+=C*G[I]*this.labelPad[I]/r[5*I];X[i]+=.5*(o[0][i]+o[1][i]),this._text.drawLabel(i,this.labelSize[i],this.labelAngle[i],X,this.labelColor[i],[0,0,0],H,R)}}this._text.unbind()},m.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},function(t,e,r){"use strict";(function(e){t.exports=function(t,e,r,l,f,h){var v=n(t),m=o(t,[{buffer:v,size:3}]),y=c(t);y.attributes.position.location=0;var x=new d(t,y,v,m);return x.update(e,r,l,f,h),x};var n=r(451),o=r(453),l=r(694),c=r(577).text,f=window||e.global||{},h=f.__TEXT_CACHE||{};f.__TEXT_CACHE={};function d(t,e,r,n){this.gl=t,this.shader=e,this.buffer=r,this.vao=n,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var v=d.prototype,m=[0,0];v.bind=function(t,view,e,r){this.vao.bind(),this.shader.bind();var n=this.shader.uniforms;n.model=t,n.view=view,n.projection=e,n.pixelScale=r,m[0]=this.gl.drawingBufferWidth,m[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=m},v.unbind=function(){this.vao.unbind()},v.update=function(t,e,r,n,o){var data=[];function c(t,text,e,r,n,o){var c=h[e];c||(c=h[e]={});var f=c[text];f||(f=c[text]=function(text,t){try{return l(text,t)}catch(t){return console.warn('error vectorizing text:"'+text+'" error:',t),{cells:[],positions:[]}}}(text,{triangles:!0,font:e,textAlign:"center",textBaseline:"middle",lineSpacing:n,styletags:o}));for(var d=(r||12)/12,v=f.positions,m=f.cells,i=0,y=m.length;i<y;++i)for(var x=m[i],_=2;_>=0;--_){var p=v[x[_]];data.push(d*p[0],-d*p[1],t)}}for(var f=[0,0,0],d=[0,0,0],v=[0,0,0],m=[0,0,0],y={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},x=0;x<3;++x){v[x]=data.length/3|0,c(.5*(t[0][x]+t[1][x]),e[x],r[x],12,1.25,y),m[x]=(data.length/3|0)-v[x],f[x]=data.length/3|0;for(var i=0;i<n[x].length;++i)n[x][i].text&&c(n[x][i].x,n[x][i].text,n[x][i].font||o,n[x][i].fontSize||12,1.25,y);d[x]=(data.length/3|0)-f[x]}this.buffer.update(data),this.tickOffset=f,this.tickCount=d,this.labelOffset=v,this.labelCount=m},v.drawTicks=function(t,e,r,n,o,l,c,f){this.tickCount[t]&&(this.shader.uniforms.axis=l,this.shader.uniforms.color=o,this.shader.uniforms.angle=r,this.shader.uniforms.scale=e,this.shader.uniforms.offset=n,this.shader.uniforms.alignDir=c,this.shader.uniforms.alignOpt=f,this.vao.draw(this.gl.TRIANGLES,this.tickCount[t],this.tickOffset[t]))},v.drawLabel=function(t,e,r,n,o,l,c,f){this.labelCount[t]&&(this.shader.uniforms.axis=l,this.shader.uniforms.color=o,this.shader.uniforms.angle=r,this.shader.uniforms.scale=e,this.shader.uniforms.offset=n,this.shader.uniforms.alignDir=c,this.shader.uniforms.alignOpt=f,this.vao.draw(this.gl.TRIANGLES,this.labelCount[t],this.labelOffset[t]))},v.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}}).call(this,r(334))},function(t,e,r){t.exports=function(t,canvas,e,r){var n=64,l=1.25,c={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};r&&(r.size&&r.size>0&&(n=r.size),r.lineSpacing&&r.lineSpacing>0&&(l=r.lineSpacing),r.styletags&&r.styletags.breaklines&&(c.breaklines=!!r.styletags.breaklines),r.styletags&&r.styletags.bolds&&(c.bolds=!!r.styletags.bolds),r.styletags&&r.styletags.italics&&(c.italics=!!r.styletags.italics),r.styletags&&r.styletags.subscripts&&(c.subscripts=!!r.styletags.subscripts),r.styletags&&r.styletags.superscripts&&(c.superscripts=!!r.styletags.superscripts));return e.font=[r.fontStyle,r.fontVariant,r.fontWeight,n+"px",r.font].filter((function(t){return t})).join(" "),e.textAlign="start",e.textBaseline="alphabetic",e.direction="ltr",y(function(canvas,t,e,r,n,l){e=e.replace(/\n/g,""),e=!0===l.breaklines?e.replace(/\<br\>/g,"\n"):e.replace(/\<br\>/g," ");var c="",map=[];for(v=0;v<e.length;++v)map[v]=c;!0===l.bolds&&(map=d("b","b|",e,map));!0===l.italics&&(map=d("i","i|",e,map));!0===l.superscripts&&(map=d("sup","+1",e,map));!0===l.subscripts&&(map=d("sub","-1",e,map));var f=[],h="";for(v=0;v<e.length;++v)null!==map[v]&&(h+=e[v],f.push(map[v]));var i,v,m,y,x,_=h.split("\n"),w=_.length,M=Math.round(n*r),A=r,T=2*r,k=0,E=w*M+T;canvas.height<E&&(canvas.height=E);t.fillStyle="#000",t.fillRect(0,0,canvas.width,canvas.height),t.fillStyle="#fff";var S=0,L="";function C(){if(""!==L){var e=t.measureText(L).width;t.fillText(L,A+m,T+y),m+=e}}function O(){return Math.round(x)+"px "}function R(e,r){var n=""+t.font;if(!0===l.subscripts){var o=e.indexOf("-"),c=r.indexOf("-"),f=o>-1?parseInt(e[1+o]):0,h=c>-1?parseInt(r[1+c]):0;f!==h&&(n=n.replace(O(),"?px "),x*=Math.pow(.75,h-f),n=n.replace("?px ",O())),y+=.25*M*(h-f)}if(!0===l.superscripts){var d=e.indexOf("+"),v=r.indexOf("+"),m=d>-1?parseInt(e[1+d]):0,_=v>-1?parseInt(r[1+v]):0;m!==_&&(n=n.replace(O(),"?px "),x*=Math.pow(.75,_-m),n=n.replace("?px ",O())),y-=.25*M*(_-m)}if(!0===l.bolds){var w=e.indexOf("b|")>-1,A=r.indexOf("b|")>-1;!w&&A&&(n=T?n.replace("italic ","italic bold "):"bold "+n),w&&!A&&(n=n.replace("bold ",""))}if(!0===l.italics){var T=e.indexOf("i|")>-1,k=r.indexOf("i|")>-1;!T&&k&&(n="italic "+n),T&&!k&&(n=n.replace("italic ",""))}t.font=n}for(i=0;i<w;++i){var D=_[i]+"\n";for(m=0,y=i*M,x=r,L="",v=0;v<D.length;++v){var style=v+S<f.length?f[v+S]:f[f.length-1];c===style?L+=D[v]:(C(),L=D[v],void 0!==style&&(R(c,style),c=style))}C(),S+=D.length;var P=0|Math.round(m+2*A);k<P&&(k=P)}var I=k,N=T+M*w;return o(t.getImageData(0,0,I,N).data,[N,I,4]).pick(-1,-1,0).transpose(1,0)}(canvas,e,t,n,l,c),r,n)},t.exports.processPixels=y;var n=r(695),o=r(452),l=r(1e3),c=r(1004),f=r(1026),h=r(1032);function d(t,e,r,map){for(var n="<"+t+">",o="</"+t+">",l=n.length,c=o.length,f="+"===e[0]||"-"===e[0],a=0,b=-c;a>-1&&-1!==(a=r.indexOf(n,a))&&-1!==(b=r.indexOf(o,a+l))&&!(b<=a);){for(var i=a;i<b+c;++i)if(i<a+l||i>=b)map[i]=null,r=r.substr(0,i)+" "+r.substr(i+1);else if(null!==map[i]){var h=map[i].indexOf(e[0]);-1===h?map[i]+=e:f&&(map[i]=map[i].substr(0,h+1)+(1+parseInt(map[i][h+1]))+map[i].substr(h+2))}var d=a+l,v=r.substr(d,b-d).indexOf(n);a=-1!==v?v:b+c}return map}function v(t,e){var r=n(t,128);return e?l(r.cells,r.positions,.25):{edges:r.cells,positions:r.positions}}function m(t,e,r,n){var o=v(t,n),l=function(t,e,r){for(var n=e.textAlign||"start",o=e.textBaseline||"alphabetic",l=[1<<30,1<<30],c=[0,0],f=t.length,i=0;i<f;++i)for(var p=t[i],h=0;h<2;++h)l[h]=0|Math.min(l[h],p[h]),c[h]=0|Math.max(c[h],p[h]);var d=0;switch(n){case"center":d=-.5*(l[0]+c[0]);break;case"right":case"end":d=-c[0];break;case"left":case"start":d=-l[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+n+"'")}var v=0;switch(o){case"hanging":case"top":v=-l[1];break;case"middle":v=-.5*(l[1]+c[1]);break;case"alphabetic":case"ideographic":v=-3*r;break;case"bottom":v=-c[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+o+"'")}var m=1/r;return"lineHeight"in e?m*=+e.lineHeight:"width"in e?m=e.width/(c[0]-l[0]):"height"in e&&(m=e.height/(c[1]-l[1])),t.map((function(p){return[m*(p[0]+d),m*(p[1]+v)]}))}(o.positions,e,r),d=o.edges,m="ccw"===e.orientation;if(c(l,d),e.polygons||e.polygon||e.polyline){for(var y=h(d,l),x=new Array(y.length),i=0;i<y.length;++i){for(var _=y[i],w=new Array(_.length),M=0;M<_.length;++M){for(var A=_[M],T=new Array(A.length),k=0;k<A.length;++k)T[k]=l[A[k]].slice();m&&T.reverse(),w[M]=T}x[i]=w}return x}return e.triangles||e.triangulate||e.triangle?{cells:f(l,d,{delaunay:!1,exterior:!1,interior:!0}),positions:l}:{edges:d,positions:l}}function y(t,e,r){try{return m(t,e,r,!0)}catch(t){}try{return m(t,e,r,!1)}catch(t){}return e.polygons||e.polyline||e.polygon?[]:e.triangles||e.triangulate||e.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},function(t,e,r){"use strict";var n=r(439);function o(i){return"a"+i}function data(i){return"d"+i}function l(i,t){return"c"+i+"_"+t}function c(i){return"s"+i}function f(i,t){return"t"+i+"_"+t}function h(i){return"o"+i}function d(i){return"x"+i}function v(i){return"p"+i}function m(i,t){return"d"+i+"_"+t}function y(i){return"i"+i}function x(i,t){return"u"+i+"_"+t}function _(t){return"b"+t}function w(t){return"y"+t}function M(t){return"e"+t}function A(i){return"v"+i}t.exports=function(t){function e(t){throw new Error("ndarray-extract-contour: "+t)}"object"!=typeof t&&e("Must specify arguments");var r=t.order;Array.isArray(r)||e("Must specify order");var k=t.arrayArguments||1;k<1&&e("Must have at least one array argument");var E=t.scalarArguments||0;E<0&&e("Scalar arg count must be > 0");"function"!=typeof t.vertex&&e("Must specify vertex creation function");"function"!=typeof t.cell&&e("Must specify cell creation function");"function"!=typeof t.phase&&e("Must specify phase function");for(var S=t.getters||[],L=new Array(k),i=0;i<k;++i)S.indexOf(i)>=0?L[i]=!0:L[i]=!1;return function(t,e,r,k,E,S){var L=S.length,C=E.length;if(C<2)throw new Error("ndarray-extract-contour: Dimension must be at least 2");for(var O="extractContour"+E.join("_"),code=[],R=[],D=[],i=0;i<L;++i)D.push(o(i));for(i=0;i<k;++i)D.push(d(i));for(i=0;i<C;++i)R.push(c(i)+"="+o(0)+".shape["+i+"]|0");for(i=0;i<L;++i){R.push(data(i)+"="+o(i)+".data",h(i)+"="+o(i)+".offset|0");for(var P=0;P<C;++P)R.push(f(i,P)+"="+o(i)+".stride["+P+"]|0")}for(i=0;i<L;++i){R.push(v(i)+"="+h(i)),R.push(l(i,0));for(P=1;P<1<<C;++P){for(var I=[],N=0;N<C;++N)P&1<<N&&I.push("-"+f(i,N));R.push(m(i,P)+"=("+I.join("")+")|0"),R.push(l(i,P)+"=0")}}for(i=0;i<L;++i)for(P=0;P<C;++P){var z=[f(i,E[P])];P>0&&z.push(f(i,E[P-1])+"*"+c(E[P-1])),R.push(x(i,E[P])+"=("+z.join("-")+")|0")}for(i=0;i<C;++i)R.push(y(i)+"=0");R.push("N=0");var F=["2"];for(i=C-2;i>=0;--i)F.push(c(E[i]));R.push("Q=("+F.join("*")+")|0","P=mallocUint32(Q)","V=mallocUint32(Q)","X=0"),R.push(_(0)+"=0");for(P=1;P<1<<C;++P){var j=[],B=[];for(N=0;N<C;++N)P&1<<N&&(0===B.length?j.push("1"):j.unshift(B.join("*"))),B.push(c(E[N]));var U="";j[0].indexOf(c(E[C-2]))<0&&(U="-");var H=T(C,P,E);R.push(M(H)+"=(-"+j.join("-")+")|0",w(H)+"=("+U+j.join("-")+")|0",_(H)+"=0")}function V(i,t){code.push("for(",y(E[i]),"=",t,";",y(E[i]),"<",c(E[i]),";","++",y(E[i]),"){")}function Y(i){for(var t=0;t<L;++t)code.push(v(t),"+=",x(t,E[i]),";");code.push("}")}function G(){for(var t=1;t<1<<C;++t)code.push("T","=",M(t),";",M(t),"=",w(t),";",w(t),"=","T",";")}R.push(A(0)+"=0","T=0"),function t(i,mask){if(i<0)!function(mask){for(var i=0;i<L;++i)S[i]?code.push(l(i,0),"=",data(i),".get(",v(i),");"):code.push(l(i,0),"=",data(i),"[",v(i),"];");var t=[];for(i=0;i<L;++i)t.push(l(i,0));for(i=0;i<k;++i)t.push(d(i));code.push(_(0),"=","P","[","X","]=phase(",t.join(),");");for(var e=1;e<1<<C;++e)code.push(_(e),"=","P","[","X","+",M(e),"];");var r=[];for(e=1;e<1<<C;++e)r.push("("+_(0)+"!=="+_(e)+")");code.push("if(",r.join("||"),"){");var n=[];for(i=0;i<C;++i)n.push(y(i));for(i=0;i<L;++i){n.push(l(i,0));for(e=1;e<1<<C;++e)S[i]?code.push(l(i,e),"=",data(i),".get(",v(i),"+",m(i,e),");"):code.push(l(i,e),"=",data(i),"[",v(i),"+",m(i,e),"];"),n.push(l(i,e))}for(i=0;i<1<<C;++i)n.push(_(i));for(i=0;i<k;++i)n.push(d(i));code.push("vertex(",n.join(),");",A(0),"=","V","[","X","]=","N","++;");var base=(1<<C)-1,o=_(base);for(e=0;e<C;++e)if(0==(mask&~(1<<e))){for(var c=base^1<<e,f=_(c),h=[],x=c;x>0;x=x-1&c)h.push("V[X+"+M(x)+"]");h.push(A(0));for(x=0;x<L;++x)1&e?h.push(l(x,base),l(x,c)):h.push(l(x,c),l(x,base));1&e?h.push(o,f):h.push(f,o);for(x=0;x<k;++x)h.push(d(x));code.push("if(",o,"!==",f,"){","face(",h.join(),")}")}code.push("}","X","+=1;")}(mask);else{!function(t){for(var i=t-1;i>=0;--i)V(i,0);var e=[];for(i=0;i<L;++i)S[i]?e.push(data(i)+".get("+v(i)+")"):e.push(data(i)+"["+v(i)+"]");for(i=0;i<k;++i)e.push(d(i));for(code.push("P","[","X","++]=phase(",e.join(),");"),i=0;i<t;++i)Y(i);for(var r=0;r<L;++r)code.push(v(r),"+=",x(r,E[t]),";")}(i),code.push("if(",c(E[i]),">0){",y(E[i]),"=1;"),t(i-1,mask|1<<E[i]);for(var e=0;e<L;++e)code.push(v(e),"+=",x(e,E[i]),";");i===C-1&&(code.push("X","=0;"),G()),V(i,2),t(i-1,mask),i===C-1&&(code.push("if(",y(E[C-1]),"&1){","X","=0;}"),G()),Y(i),code.push("}")}}(C-1,0),code.push("freeUint32(","V",");freeUint32(","P",");");var W=["'use strict';","function ",O,"(",D.join(),"){","var ",R.join(),";",code.join(""),"}","return ",O].join("");return new Function("vertex","face","phase","mallocUint32","freeUint32",W)(t,e,r,n.mallocUint32,n.freeUint32)}(t.vertex,t.cell,t.phase,E,r,L)};function T(t,mask,e){for(var r=0,i=0;i<t;++i)mask&1<<i&&(r|=1<<e[i]);return r}},function(t,e,r){"use strict";t.exports=function(t){if(t<0)return[];if(0===t)return[[0]];for(var e=0|Math.round(l(t+1)),r=[],i=0;i<e;++i){for(var p=n.unrank(t,i),c=[0],f=0,h=0;h<p.length;++h)f+=1<<p[h],c.push(f);o(p)<1&&(c[0]=f,c[t]=0),r.push(c)}return r};var n=r(994),o=r(996),l=r(997)},function(t,e,r){"use strict";var n=r(439),o=r(995);e.rank=function(t){var e=t.length;switch(e){case 0:case 1:return 0;case 2:return t[1]}var s,r,i,p=n.mallocUint32(e),l=n.mallocUint32(e),c=0;for(o(t,l),i=0;i<e;++i)p[i]=t[i];for(i=e-1;i>0;--i)r=l[i],s=p[i],p[i]=p[r],p[r]=s,l[i]=l[s],l[s]=r,c=(c+s)*i;return n.freeUint32(l),n.freeUint32(p),c},e.unrank=function(t,e,p){switch(t){case 0:return p||[];case 1:return p?(p[0]=0,p):[0];case 2:return p?(e?(p[0]=0,p[1]=1):(p[0]=1,p[1]=0),p):e?[0,1]:[1,0]}var s,r,i,n=1;for((p=p||new Array(t))[0]=0,i=1;i<t;++i)p[i]=i,n=n*i|0;for(i=t-1;i>0;--i)e=e-(s=e/n|0)*n|0,n=n/i|0,r=0|p[i],p[i]=0|p[s],p[s]=0|r;return p}},function(t,e,r){"use strict";t.exports=function(t,e){e=e||new Array(t.length);for(var i=0;i<t.length;++i)e[t[i]]=i;return e}},function(t,e,r){"use strict";t.exports=function(p){var t=p.length;if(t<32){for(var e=1,i=0;i<t;++i)for(var r=0;r<i;++r)if(p[i]<p[r])e=-e;else if(p[i]===p[r])return 0;return e}var o=n.mallocUint8(t);for(i=0;i<t;++i)o[i]=0;for(e=1,i=0;i<t;++i)if(!o[i]){var l=1;o[i]=1;for(r=p[i];r!==i;r=p[r]){if(o[r])return n.freeUint8(o),0;l+=1,o[r]=1}1&l||(e=-e)}return n.freeUint8(o),e};var n=r(439)},function(t,e){var p=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],r=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function n(t){if(t<0)return Number("0/0");for(var e=r[0],i=r.length-1;i>0;--i)e+=r[i]/(t+i);var n=t+607/128+.5;return.5*Math.log(2*Math.PI)+(t+.5)*Math.log(n)-n+Math.log(e)-Math.log(t)}t.exports=function t(e){if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*t(1-e));if(e>100)return Math.exp(n(e));e-=1;for(var r=p[0],i=1;i<9;i++)r+=p[i]/(e+i);var o=e+7+.5;return Math.sqrt(2*Math.PI)*Math.pow(o,e+.5)*Math.exp(-o)*r},t.exports.log=n},function(t,e,r){"use strict";t.exports=function(t,e){var r=[];return e=+e||0,n(t.hi(t.shape[0]-1),r,e),r};var n=r(999)},function(t,e,r){t.exports=r(514)({args:["array",{offset:[1],array:0},"scalar","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\n        var _inline_1_da = _inline_1_arg0_ - _inline_1_arg3_\n        var _inline_1_db = _inline_1_arg1_ - _inline_1_arg3_\n        if((_inline_1_da >= 0) !== (_inline_1_db >= 0)) {\n          _inline_1_arg2_.push(_inline_1_arg4_[0] + 0.5 + 0.5 * (_inline_1_da + _inline_1_db) / (_inline_1_da - _inline_1_db))\n        }\n      }",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg3_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:["_inline_1_da","_inline_1_db"]},funcName:"zeroCrossings"})},function(t,e,r){"use strict";t.exports=function(t,e,r){for(var l=e.length,c=t.length,f=new Array(l),h=new Array(l),d=new Array(l),v=new Array(l),i=0;i<l;++i)f[i]=h[i]=-1,d[i]=1/0,v[i]=!1;for(i=0;i<c;++i){var m=t[i];if(2!==m.length)throw new Error("Input must be a graph");var s=m[1],y=m[0];-1!==h[y]?h[y]=-2:h[y]=s,-1!==f[s]?f[s]=-2:f[s]=y}function x(i){if(v[i])return 1/0;var base,a,b,area,t,s=f[i],r=h[i];return s<0||r<0?1/0:(base=e[i],a=e[s],b=e[r],area=Math.abs(n(base,a,b)),t=Math.sqrt(Math.pow(a[0]-b[0],2)+Math.pow(a[1]-b[1],2)),area/t)}function _(i,t){var a=L[i],b=L[t];L[i]=b,L[t]=a,C[a]=t,C[b]=i}function w(i){return d[L[i]]}function M(i){return 1&i?i-1>>1:(i>>1)-1}function A(i){for(var t=w(i);;){var e=t,r=2*i+1,n=2*(i+1),o=i;if(r<O){var l=w(r);l<e&&(o=r,e=l)}if(n<O)w(n)<e&&(o=n);if(o===i)return i;_(i,o),i=o}}function T(i){for(var t=w(i);i>0;){var e=M(i);if(e>=0)if(t<w(e)){_(i,e),i=e;continue}return i}}function k(){if(O>0){var head=L[0];return _(0,O-1),O-=1,A(0),head}return-1}function E(i,t){var a=L[i];return d[a]===t?i:(d[a]=-1/0,T(i),k(),d[a]=t,T((O+=1)-1))}function S(i){if(!v[i]){v[i]=!0;var s=f[i],t=h[i];f[t]>=0&&(f[t]=s),h[s]>=0&&(h[s]=t),C[s]>=0&&E(C[s],x(s)),C[t]>=0&&E(C[t],x(t))}}var L=[],C=new Array(l);for(i=0;i<l;++i){(d[i]=x(i))<1/0?(C[i]=L.length,L.push(i)):C[i]=-1}var O=L.length;for(i=O>>1;i>=0;--i)A(i);for(;;){var R=k();if(R<0||d[R]>r)break;S(R)}var D=[];for(i=0;i<l;++i)v[i]||(C[i]=D.length,D.push(e[i].slice()));D.length;function P(t,e){if(t[e]<0)return e;var r=e,n=e;do{var o=t[n];if(!v[n]||o<0||o===n)break;if(o=t[n=o],!v[n]||o<0||o===n)break;n=o,r=t[r]}while(r!==n);for(var l=e;l!==n;l=t[l])t[l]=n;return n}var I=[];return t.forEach((function(t){var e=P(f,t[0]),r=P(h,t[1]);if(e>=0&&r>=0&&e!==r){var n=C[e],o=C[r];n!==o&&I.push([n,o])}})),o.unique(o.normalize(I)),{positions:D,edges:I}};var n=r(448),o=r(1001)},function(t,e,r){"use strict";var n=r(1002),o=r(1003);function l(a,b){var t=a.length,e=a.length-b.length,r=Math.min;if(e)return e;switch(t){case 0:return 0;case 1:return a[0]-b[0];case 2:return(l=a[0]+a[1]-b[0]-b[1])||r(a[0],a[1])-r(b[0],b[1]);case 3:var n=a[0]+a[1],o=b[0]+b[1];if(l=n+a[2]-(o+b[2]))return l;var l,c=r(a[0],a[1]),f=r(b[0],b[1]);return(l=r(c,a[2])-r(f,b[2]))||r(c+a[2],n)-r(f+b[2],o);default:var h=a.slice(0);h.sort();var d=b.slice(0);d.sort();for(var i=0;i<t;++i)if(e=h[i]-d[i])return e;return 0}}function c(a,b){return l(a[0],b[0])}function f(t,e){if(e){for(var r=t.length,n=new Array(r),i=0;i<r;++i)n[i]=[t[i],e[i]];n.sort(c);for(i=0;i<r;++i)t[i]=n[i][0],e[i]=n[i][1];return t}return t.sort(l),t}function h(t){if(0===t.length)return[];for(var e=1,r=t.length,i=1;i<r;++i){var a=t[i];if(l(a,t[i-1])){if(i===e){e++;continue}t[e++]=a}}return t.length=e,t}function d(t,e){for(var r=0,n=t.length-1,o=-1;r<=n;){var c=r+n>>1,s=l(t[c],e);s<=0?(0===s&&(o=c),r=c+1):s>0&&(n=c-1)}return o}function v(t,e){for(var r=new Array(t.length),i=0,o=r.length;i<o;++i)r[i]=[];for(var b=[],c=(i=0,e.length);i<c;++i)for(var f=e[i],h=f.length,v=1,m=1<<h;v<m;++v){b.length=n.popCount(v);for(var y=0,x=0;x<h;++x)v&1<<x&&(b[y++]=f[x]);var _=d(t,b);if(!(_<0))for(;r[_++].push(i),!(_>=t.length||0!==l(t[_],b)););}return r}function m(t,e){if(e<0)return[];for(var r=[],o=(1<<e+1)-1,i=0;i<t.length;++i)for(var l=t[i],c=o;c<1<<l.length;c=n.nextCombination(c)){for(var b=new Array(e+1),h=0,d=0;d<l.length;++d)c&1<<d&&(b[h++]=l[d]);r.push(b)}return f(r)}e.dimension=function(t){for(var e=0,r=Math.max,i=0,n=t.length;i<n;++i)e=r(e,t[i].length);return e-1},e.countVertices=function(t){for(var e=-1,r=Math.max,i=0,n=t.length;i<n;++i)for(var o=t[i],l=0,c=o.length;l<c;++l)e=r(e,o[l]);return e+1},e.cloneCells=function(t){for(var e=new Array(t.length),i=0,r=t.length;i<r;++i)e[i]=t[i].slice(0);return e},e.compareCells=l,e.normalize=f,e.unique=h,e.findCell=d,e.incidence=v,e.dual=function(t,e){if(!e)return v(h(m(t,0)),t);for(var r=new Array(e),i=0;i<e;++i)r[i]=[];i=0;for(var n=t.length;i<n;++i)for(var o=t[i],l=0,c=o.length;l<c;++l)r[o[l]].push(i);return r},e.explode=function(t){for(var e=[],i=0,r=t.length;i<r;++i)for(var n=t[i],o=0|n.length,l=1,c=1<<o;l<c;++l){for(var b=[],h=0;h<o;++h)l>>>h&1&&b.push(n[h]);e.push(b)}return f(e)},e.skeleton=m,e.boundary=function(t){for(var e=[],i=0,r=t.length;i<r;++i)for(var n=t[i],o=0,l=n.length;o<l;++o){for(var b=new Array(n.length-1),c=0,h=0;c<l;++c)c!==o&&(b[h++]=n[c]);e.push(b)}return f(e)},e.connectedComponents=function(t,e){return e?function(t,e){for(var r=new o(e),i=0;i<t.length;++i)for(var n=t[i],l=0;l<n.length;++l)for(var c=l+1;c<n.length;++c)r.link(n[l],n[c]);var f=[],h=r.ranks;for(i=0;i<h.length;++i)h[i]=-1;for(i=0;i<t.length;++i){var d=r.find(t[i][0]);h[d]<0?(h[d]=f.length,f.push([t[i].slice(0)])):f[h[d]].push(t[i].slice(0))}return f}(t,e):function(t){for(var e=h(f(m(t,0))),r=new o(e.length),i=0;i<t.length;++i)for(var n=t[i],l=0;l<n.length;++l)for(var c=d(e,[n[l]]),v=l+1;v<n.length;++v)r.link(c,d(e,[n[v]]));var y=[],x=r.ranks;for(i=0;i<x.length;++i)x[i]=-1;for(i=0;i<t.length;++i){var _=r.find(d(e,[t[i][0]]));x[_]<0?(x[_]=y.length,y.push([t[i].slice(0)])):y[x[_]].push(t[i].slice(0))}return y}(t)}},function(t,e,r){"use strict";function n(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var mask=t>>31;return(t^mask)-mask},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=n,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var o=new Array(256);!function(t){for(var i=0;i<256;++i){var e=i,r=i,s=7;for(e>>>=1;e;e>>>=1)r<<=1,r|=1&e,--s;t[i]=r<<s&255}}(o),e.reverse=function(t){return o[255&t]<<24|o[t>>>8&255]<<16|o[t>>>16&255]<<8|o[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},function(t,e,r){"use strict";function n(t){this.roots=new Array(t),this.ranks=new Array(t);for(var i=0;i<t;++i)this.roots[i]=i,this.ranks[i]=0}t.exports=n,n.prototype.length=function(){return this.roots.length},n.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},n.prototype.find=function(t){for(var e=this.roots;e[t]!==t;){var r=e[t];e[t]=e[r],t=r}return t},n.prototype.link=function(t,e){var r=this.find(t),n=this.find(e);if(r!==n){var o=this.ranks,l=this.roots,c=o[r],f=o[n];c<f?l[r]=n:f<c?l[n]=r:(l[n]=r,++o[r])}}},function(t,e,r){"use strict";t.exports=function(t,e,r){var n;if(r){n=e;for(var o=new Array(e.length),i=0;i<e.length;++i){var l=e[i];o[i]=[l[0],l[1],r[i]]}e=o}var c=function(t,e,r){var n=_(t,[],x(t));return A(e,n,r),!!n}(t,e,!!r);for(;T(t,e,!!r);)c=!0;if(r&&c){n.length=0,r.length=0;for(i=0;i<e.length;++i){l=e[i];n.push([l[0],l[1]]),r.push(l[2])}}return c};var n=r(684),o=r(1005),l=r(1010),c=r(574),f=r(1014),h=r(1015),d=r(1018),v=r(1019),m=r(1020);function y(t){var e=h(t);return[v(e,-1/0),v(e,1/0)]}function x(t){for(var e=new Array(t.length),i=0;i<t.length;++i){var p=t[i];e[i]=[v(p[0],-1/0),v(p[1],-1/0),v(p[0],1/0),v(p[1],1/0)]}return e}function _(t,e,r){for(var l=e.length,c=new n(l),f=[],i=0;i<e.length;++i){var p=e[i],h=y(p[0]),d=y(p[1]);f.push([v(h[0],-1/0),v(d[0],-1/0),v(h[1],1/0),v(d[1],1/0)])}o(f,(function(i,t){c.link(i,t)}));var m=!0,x=new Array(l);for(i=0;i<l;++i){(w=c.find(i))!==i&&(m=!1,t[w]=[Math.min(t[i][0],t[w][0]),Math.min(t[i][1],t[w][1])])}if(m)return null;var _=0;for(i=0;i<l;++i){var w;(w=c.find(i))===i?(x[i]=_,t[_++]=t[i]):x[i]=-1}t.length=_;for(i=0;i<l;++i)x[i]<0&&(x[i]=x[c.find(i)]);return x}function w(a,b){return a[0]-b[0]||a[1]-b[1]}function M(a,b){var t=a[0]-b[0]||a[1]-b[1];return t||(a[2]<b[2]?-1:a[2]>b[2]?1:0)}function A(t,e,r){if(0!==t.length){if(e)for(var i=0;i<t.length;++i){var a=e[(n=t[i])[0]],b=e[n[1]];n[0]=Math.min(a,b),n[1]=Math.max(a,b)}else for(i=0;i<t.length;++i){var n;a=(n=t[i])[0],b=n[1];n[0]=Math.min(a,b),n[1]=Math.max(a,b)}r?t.sort(M):t.sort(w);var o=1;for(i=1;i<t.length;++i){var l=t[i-1],c=t[i];(c[0]!==l[0]||c[1]!==l[1]||r&&c[2]!==l[2])&&(t[o++]=c)}t.length=o}}function T(t,e,r){var n=function(t,e){for(var r=new Array(e.length),i=0;i<e.length;++i){var n=e[i],a=t[n[0]],b=t[n[1]];r[i]=[v(Math.min(a[0],b[0]),-1/0),v(Math.min(a[1],b[1]),-1/0),v(Math.max(a[0],b[0]),1/0),v(Math.max(a[1],b[1]),1/0)]}return r}(t,e),y=function(t,e,r){var n=[];return o(r,(function(i,r){var o=e[i],c=e[r];if(o[0]!==c[0]&&o[0]!==c[1]&&o[1]!==c[0]&&o[1]!==c[1]){var a=t[o[0]],b=t[o[1]],f=t[c[0]],h=t[c[1]];l(a,b,f,h)&&n.push([i,r])}})),n}(t,e,n),w=x(t),M=function(t,e,r,n){var c=[];return o(r,n,(function(i,r){var n=e[i];if(n[0]!==r&&n[1]!==r){var p=t[r],a=t[n[0]],b=t[n[1]];l(a,b,p,p)&&c.push([i,r])}})),c}(t,e,n,w),T=_(t,function(t,e,r,n,o){var i,l,v=t.map((function(p){return[c(p[0]),c(p[1])]}));for(i=0;i<r.length;++i){var y=r[i];l=y[0];var x=y[1],_=e[l],w=e[x],M=m(d(t[_[0]]),d(t[_[1]]),d(t[w[0]]),d(t[w[1]]));if(M){var A=t.length;t.push([h(M[0]),h(M[1])]),v.push(M),n.push([l,A],[x,A])}}for(n.sort((function(a,b){if(a[0]!==b[0])return a[0]-b[0];var u=v[a[1]],t=v[b[1]];return f(u[0],t[0])||f(u[1],t[1])})),i=n.length-1;i>=0;--i){var T=e[l=(C=n[i])[0]],s=T[0],k=T[1],a=t[s],b=t[k];if((a[0]-b[0]||a[1]-b[1])<0){var E=s;s=k,k=E}T[0]=s;var S,L=T[1]=C[1];for(o&&(S=T[2]);i>0&&n[i-1][0]===l;){var C,O=(C=n[--i])[1];o?e.push([L,O,S]):e.push([L,O]),L=O}o?e.push([L,k,S]):e.push([L,k])}return v}(t,e,y,M,r));return A(e,T,r),!!T||(y.length>0||M.length>0)}},function(t,e,r){"use strict";t.exports=function(t,e,r){switch(arguments.length){case 1:return m(t);case 2:return"function"==typeof e?d(t,t,e,!0):y(t,e);case 3:return d(t,e,r,!1);default:throw new Error("box-intersect: Invalid arguments")}};var n,o=r(439),l=r(696),c=r(1007);function f(t,e){for(var r=0;r<t;++r)if(!(e[r]<=e[r+t]))return!0;return!1}function h(t,e,data,r){for(var n=0,o=0,i=0,l=t.length;i<l;++i){var b=t[i];if(!f(e,b)){for(var c=0;c<2*e;++c)data[n++]=b[c];r[o++]=i}}return o}function d(t,e,r,n){var f=t.length,d=e.length;if(!(f<=0||d<=0)){var v=t[0].length>>>1;if(!(v<=0)){var m,y=o.mallocDouble(2*v*f),x=o.mallocInt32(f);if((f=h(t,v,y,x))>0){if(1===v&&n)l.init(f),m=l.sweepComplete(v,r,0,f,y,x,0,f,y,x);else{var _=o.mallocDouble(2*v*d),w=o.mallocInt32(d);(d=h(e,v,_,w))>0&&(l.init(f+d),m=1===v?l.sweepBipartite(v,r,0,f,y,x,0,d,_,w):c(v,r,n,f,y,x,d,_,w),o.free(_),o.free(w))}o.free(y),o.free(x)}return m}}}function v(i,t){n.push([i,t])}function m(t){return n=[],d(t,t,v,!0),n}function y(t,e){return n=[],d(t,e,v,!1),n}},function(t,e,r){"use strict";t.exports=function(data,t){t<=128?n(0,t-1,data):function t(e,r,data){var v=(r-e+1)/6|0,m=e+v,y=r-v,x=e+r>>1,_=x-v,w=x+v,M=m,A=_,T=x,k=w,E=y,S=e+1,L=r-1,C=0;h(M,A,data)&&(C=M,M=A,A=C);h(k,E,data)&&(C=k,k=E,E=C);h(M,T,data)&&(C=M,M=T,T=C);h(A,T,data)&&(C=A,A=T,T=C);h(M,k,data)&&(C=M,M=k,k=C);h(T,k,data)&&(C=T,T=k,k=C);h(A,E,data)&&(C=A,A=E,E=C);h(A,T,data)&&(C=A,A=T,T=C);h(k,E,data)&&(C=k,k=E,E=C);for(var O=data[2*A],R=data[2*A+1],D=data[2*k],P=data[2*k+1],I=2*M,N=2*T,z=2*E,F=2*m,j=2*x,B=2*y,U=0;U<2;++U){var H=data[I+U],V=data[N+U],Y=data[z+U];data[F+U]=H,data[j+U]=V,data[B+U]=Y}l(_,e,data),l(w,r,data);for(var G=S;G<=L;++G)if(d(G,O,R,data))G!==S&&o(G,S,data),++S;else if(!d(G,D,P,data))for(;;){if(d(L,D,P,data)){d(L,O,R,data)?(c(G,S,L,data),++S,--L):(o(G,L,data),--L);break}if(--L<G)break}f(e,S-1,O,R,data),f(r,L+1,D,P,data),S-2-e<=32?n(e,S-2,data):t(e,S-2,data);r-(L+2)<=32?n(L+2,r,data):t(L+2,r,data);L-S<=32?n(S,L,data):t(S,L,data)}(0,t-1,data)};function n(t,e,data){for(var r=2*(t+1),i=t+1;i<=e;++i){for(var a=data[r++],b=data[r++],n=i,o=r-2;n-- >t;){var l=data[o-2],c=data[o-1];if(l<a)break;if(l===a&&c<b)break;data[o]=l,data[o+1]=c,o-=2}data[o]=a,data[o+1]=b}}function o(i,t,data){t*=2;var e=data[i*=2],r=data[i+1];data[i]=data[t],data[i+1]=data[t+1],data[t]=e,data[t+1]=r}function l(i,t,data){t*=2,data[i*=2]=data[t],data[i+1]=data[t+1]}function c(i,t,e,data){t*=2,e*=2;var r=data[i*=2],n=data[i+1];data[i]=data[t],data[i+1]=data[t+1],data[t]=data[e],data[t+1]=data[e+1],data[e]=r,data[e+1]=n}function f(i,t,e,r,data){t*=2,data[i*=2]=data[t],data[t]=e,data[i+1]=data[t+1],data[t+1]=r}function h(i,t,data){t*=2;var e=data[i*=2],r=data[t];return!(e<r)&&(e!==r||data[i+1]>data[t+1])}function d(i,t,b,data){var e=data[i*=2];return e<t||e===t&&data[i+1]<b}},function(t,e,r){"use strict";t.exports=function(t,e,r,l,v,L,C,O,R){!function(t,e){var r=8*o.log2(e+1)*(t+1)|0,l=o.nextPow2(6*r);A.length<l&&(n.free(A),A=n.mallocInt32(l));var c=o.nextPow2(2*r);T.length<c&&(n.free(T),T=n.mallocDouble(c))}(t,l+C);var D,P=0,I=2*t;k(P++,0,0,l,0,C,r?16:0,-1/0,1/0),r||k(P++,0,0,C,0,l,1,-1/0,1/0);for(;P>0;){var N=6*(P-=1),z=A[N],F=A[N+1],j=A[N+2],B=A[N+3],U=A[N+4],H=A[N+5],V=2*P,Y=T[V],G=T[V+1],W=1&H,X=!!(16&H),Z=v,J=L,Q=O,K=R;if(W&&(Z=O,J=R,Q=v,K=L),!(2&H&&(j=x(t,z,F,j,Z,J,G),F>=j)||4&H&&(F=_(t,z,F,j,Z,J,Y))>=j)){var $=j-F,tt=U-B;if(X){if(t*$*($+tt)<1<<22){if(void 0!==(D=h.scanComplete(t,z,e,F,j,Z,J,B,U,Q,K)))return D;continue}}else{if(t*Math.min($,tt)<128){if(void 0!==(D=c(t,z,e,W,F,j,Z,J,B,U,Q,K)))return D;continue}if(t*$*tt<1<<22){if(void 0!==(D=h.scanBipartite(t,z,e,W,F,j,Z,J,B,U,Q,K)))return D;continue}}var et=m(t,z,F,j,Z,J,Y,G);if(F<et)if(t*(et-F)<128){if(void 0!==(D=f(t,z+1,e,F,et,Z,J,B,U,Q,K)))return D}else if(z===t-2){if(void 0!==(D=W?h.sweepBipartite(t,e,B,U,Q,K,F,et,Z,J):h.sweepBipartite(t,e,F,et,Z,J,B,U,Q,K)))return D}else k(P++,z+1,F,et,B,U,W,-1/0,1/0),k(P++,z+1,B,U,F,et,1^W,-1/0,1/0);if(et<j){var nt=d(t,z,B,U,Q,K),it=Q[I*nt+z],at=y(t,z,nt,U,Q,K,it);if(at<U&&k(P++,z,et,j,at,U,(4|W)+(X?16:0),it,G),B<nt&&k(P++,z,et,j,B,nt,(2|W)+(X?16:0),Y,it),nt+1===at){if(void 0!==(D=X?S(t,z,e,et,j,Z,J,nt,Q,K[nt]):E(t,z,e,W,et,j,Z,J,nt,Q,K[nt])))return D}else if(nt<at){var ot;if(X){if(ot=w(t,z,et,j,Z,J,it),et<ot){var st=y(t,z,et,ot,Z,J,it);if(z===t-2){if(et<st&&void 0!==(D=h.sweepComplete(t,e,et,st,Z,J,nt,at,Q,K)))return D;if(st<ot&&void 0!==(D=h.sweepBipartite(t,e,st,ot,Z,J,nt,at,Q,K)))return D}else et<st&&k(P++,z+1,et,st,nt,at,16,-1/0,1/0),st<ot&&(k(P++,z+1,st,ot,nt,at,0,-1/0,1/0),k(P++,z+1,nt,at,st,ot,1,-1/0,1/0))}}else ot=W?M(t,z,et,j,Z,J,it):w(t,z,et,j,Z,J,it),et<ot&&(z===t-2?D=W?h.sweepBipartite(t,e,nt,at,Q,K,et,ot,Z,J):h.sweepBipartite(t,e,et,ot,Z,J,nt,at,Q,K):(k(P++,z+1,et,ot,nt,at,W,-1/0,1/0),k(P++,z+1,nt,at,et,ot,1^W,-1/0,1/0)))}}}}};var n=r(439),o=r(465),l=r(1008),c=l.partial,f=l.full,h=r(696),d=r(1009),v=r(697),m=v("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),y=v("lo===p0",["p0"]),x=v("lo<p0",["p0"]),_=v("hi<=p0",["p0"]),w=v("lo<=p0&&p0<=hi",["p0"]),M=v("lo<p0&&p0<=hi",["p0"]),A=n.mallocInt32(1024),T=n.mallocDouble(1024);function k(t,e,r,n,o,l,c,f,h){var d=6*t;A[d]=e,A[d+1]=r,A[d+2]=n,A[d+3]=o,A[d+4]=l,A[d+5]=c;var v=2*t;T[v]=f,T[v+1]=h}function E(t,e,r,n,o,l,c,f,h,d,v){var m=2*t,y=h*m,x=d[y+e];t:for(var i=o,_=o*m;i<l;++i,_+=m){var w=c[_+e],M=c[_+e+t];if(!(x<w||M<x)&&(!n||x!==w)){for(var A,T=f[i],k=e+1;k<t;++k){w=c[_+k],M=c[_+k+t];var E=d[y+k],S=d[y+k+t];if(M<E||S<w)continue t}if(void 0!==(A=n?r(v,T):r(T,v)))return A}}}function S(t,e,r,n,o,l,c,f,h,d){var v=2*t,m=f*v,y=h[m+e];t:for(var i=n,x=n*v;i<o;++i,x+=v){var _=c[i];if(_!==d){var w=l[x+e],M=l[x+e+t];if(!(y<w||M<y)){for(var A=e+1;A<t;++A){w=l[x+A],M=l[x+A+t];var T=h[m+A],k=h[m+A+t];if(M<T||k<w)continue t}var E=r(_,d);if(void 0!==E)return E}}}}},function(t,e,r){"use strict";var n=["d","ax","vv","rs","re","rb","ri","bs","be","bb","bi"];function o(t){var e="bruteForce"+(t?"Full":"Partial"),r=[],o=n.slice();t||o.splice(3,0,"fp");var code=["function "+e+"("+o.join()+"){"];function l(e,o){var l=function(t,e,r){var o="bruteForce"+(t?"Red":"Blue")+(e?"Flip":"")+(r?"Full":""),code=["function ",o,"(",n.join(),"){","var ","es","=2*","d",";"],l="for(var i=rs,rp=es*rs;i<re;++i,rp+=es){var x0=rb[ax+rp],x1=rb[ax+rp+d],xi=ri[i];",c="for(var j=bs,bp=es*bs;j<be;++j,bp+=es){var y0=bb[ax+bp],"+(r?"y1=bb[ax+bp+d],":"")+"yi=bi[j];";return t?code.push(l,"Q",":",c):code.push(c,"Q",":",l),r?code.push("if(y1<x0||x1<y0)continue;"):e?code.push("if(y0<=x0||x1<y0)continue;"):code.push("if(y0<x0||x1<y0)continue;"),code.push("for(var k=ax+1;k<d;++k){var r0=rb[k+rp],r1=rb[k+d+rp],b0=bb[k+bp],b1=bb[k+d+bp];if(r1<b0||b1<r0)continue Q;}var rv=vv("),e?code.push("yi,xi"):code.push("xi,yi"),code.push(");if(rv!==void 0)return rv;}}}"),{name:o,code:code.join("")}}(e,o,t);r.push(l.code),code.push("return "+l.name+"("+n.join()+");")}code.push("if(re-rs>be-bs){"),t?(l(!0,!1),code.push("}else{"),l(!1,!1)):(code.push("if(fp){"),l(!0,!0),code.push("}else{"),l(!0,!1),code.push("}}else{if(fp){"),l(!1,!0),code.push("}else{"),l(!1,!1),code.push("}")),code.push("}}return "+e);var c=r.join("")+code.join("");return new Function(c)()}e.partial=o(!1),e.full=o(!0)},function(t,e,r){"use strict";t.exports=function(t,e,r,l,c,f){if(l<=r+1)return r;var h=r,d=l,v=l+r>>>1,m=2*t,y=v,x=c[m*v+e];for(;h<d;){if(d-h<8){o(t,e,h,d,c,f),x=c[m*v+e];break}var _=d-h,w=Math.random()*_+h|0,M=c[m*w+e],A=Math.random()*_+h|0,T=c[m*A+e],k=Math.random()*_+h|0,E=c[m*k+e];M<=T?E>=T?(y=A,x=T):M>=E?(y=w,x=M):(y=k,x=E):T>=E?(y=A,x=T):E>=M?(y=w,x=M):(y=k,x=E);for(var S=m*(d-1),L=m*y,i=0;i<m;++i,++S,++L){var C=c[S];c[S]=c[L],c[L]=C}var O=f[d-1];f[d-1]=f[y],f[y]=O,y=n(t,e,h,d-1,c,f,x);for(S=m*(d-1),L=m*y,i=0;i<m;++i,++S,++L){C=c[S];c[S]=c[L],c[L]=C}O=f[d-1];if(f[d-1]=f[y],f[y]=O,v<y){for(d=y-1;h<d&&c[m*(d-1)+e]===x;)d-=1;d+=1}else{if(!(y<v))break;for(h=y+1;h<d&&c[m*h+e]===x;)h+=1}}return n(t,e,r,v,c,f,c[m*v+e])};var n=r(697)("lo<p0",["p0"]);function o(t,e,r,n,o,l){for(var c=2*t,f=c*(r+1)+e,i=r+1;i<n;++i,f+=c)for(var h=o[f],d=i,v=c*(i-1);d>r&&o[v+e]>h;--d,v-=c){for(var m=v,y=v+c,x=0;x<c;++x,++m,++y){var _=o[m];o[m]=o[y],o[y]=_}var w=l[d];l[d]=l[d-1],l[d-1]=w}}},function(t,e,r){"use strict";t.exports=function(t,e,r,o){var l=n(t,r,o),c=n(e,r,o);if(l>0&&c>0||l<0&&c<0)return!1;var f=n(r,t,e),h=n(o,t,e);if(f>0&&h>0||f<0&&h<0)return!1;if(0===l&&0===c&&0===f&&0===h)return function(t,e,r,n){for(var o=0;o<2;++o){var l=t[o],c=e[o],f=Math.min(l,c),h=Math.max(l,c),d=r[o],v=n[o],m=Math.min(d,v);if(Math.max(d,v)<f||h<m)return!1}return!0}(t,e,r,o);return!0};var n=r(448)[3]},function(t,e,r){"use strict";var n=r(698);t.exports=function(t){return Array.isArray(t)&&2===t.length&&n(t[0])&&n(t[1])}},,function(t,e,r){"use strict";var n=r(518);t.exports=function(t){return new n(t)}},function(t,e,r){"use strict";t.exports=function(a,b){return a[0].mul(b[1]).cmp(b[0].mul(a[1]))}},function(t,e,r){"use strict";var n=r(1016),o=r(1017);t.exports=function(t){var a=t[0],b=t[1];if(0===a.cmpn(0))return 0;var e=a.abs().divmod(b.abs()),r=e.div,l=n(r),c=e.mod,f=a.negative!==b.negative?-1:1;if(0===c.cmpn(0))return f*l;if(l){var s=o(l)+4,h=n(c.ushln(s).divRound(b));return f*(l+h*Math.pow(2,-s))}var d=b.bitLength()-c.bitLength()+53;h=n(c.ushln(d).divRound(b));return d<1023?f*h*Math.pow(2,-d):(h*=Math.pow(2,-1023),f*h*Math.pow(2,1023-d))}},function(t,e,r){"use strict";var n=r(576);t.exports=function(b){var t=b.length,e=b.words,r=0;if(1===t)r=e[0];else if(2===t)r=e[0]+67108864*e[1];else for(var i=0;i<t;i++){var o=e[i];r+=o*Math.pow(67108864,i)}return n(b)*r}},function(t,e,r){"use strict";var n=r(575),o=r(465).countTrailingZeros;t.exports=function(t){var e=o(n.lo(t));if(e<32)return e;var r=o(n.hi(t));if(r>20)return 52;return r+32}},function(t,e,r){"use strict";t.exports=function(t){for(var e=new Array(t.length),i=0;i<t.length;++i)e[i]=n(t[i]);return e};var n=r(574)},function(t,e,r){"use strict";var n=r(575),o=Math.pow(2,-1074);t.exports=function(t,e){if(isNaN(t)||isNaN(e))return NaN;if(t===e)return t;if(0===t)return e<0?-o:o;var r=n.hi(t),l=n.lo(t);e>t==t>0?l===-1>>>0?(r+=1,l=0):l+=1:0===l?(l=-1>>>0,r-=1):l-=1;return n.pack(l,r)}},function(t,e,r){"use strict";t.exports=function(a,b,t,e){var r=f(b,a),n=f(e,t),l=v(r,n);if(0===c(l))return null;var m=f(a,t),y=v(n,m),x=o(y,l),s=d(r,x);return h(a,s)};var n=r(701),o=r(700),l=r(702),c=r(1021),f=r(1022),h=r(1023),d=r(1025);function v(a,b){return l(n(a[0],b[1]),n(a[1],b[0]))}},function(t,e,r){"use strict";var n=r(576);t.exports=function(t){return n(t[0])*n(t[1])}},function(t,e,r){"use strict";var n=r(702);t.exports=function(a,b){for(var t=a.length,e=new Array(t),i=0;i<t;++i)e[i]=n(a[i],b[i]);return e}},function(t,e,r){"use strict";var n=r(1024);t.exports=function(a,b){for(var t=a.length,e=new Array(t),i=0;i<t;++i)e[i]=n(a[i],b[i]);return e}},function(t,e,r){"use strict";var n=r(497);t.exports=function(a,b){return n(a[0].mul(b[1]).add(b[0].mul(a[1])),a[1].mul(b[1]))}},function(t,e,r){"use strict";var n=r(574),o=r(701);t.exports=function(a,t){for(var s=n(t),e=a.length,r=new Array(e),i=0;i<e;++i)r[i]=o(a[i],s);return r}},function(t,e,r){"use strict";var n=r(1027),o=r(1028),l=r(1029),c=r(1031);function f(t){return[Math.min(t[0],t[1]),Math.max(t[0],t[1])]}function h(a,b){return a[0]-b[0]||a[1]-b[1]}function d(t,e,r){return e in t?t[e]:r}t.exports=function(t,e,r){Array.isArray(e)?(r=r||{},e=e||[]):(r=e||{},e=[]);var v=!!d(r,"delaunay",!0),m=!!d(r,"interior",!0),y=!!d(r,"exterior",!0),x=!!d(r,"infinity",!1);if(!m&&!y||0===t.length)return[];var _=n(t,e);if(v||m!==y||x){for(var w=o(t.length,function(t){return t.map(f).sort(h)}(e)),i=0;i<_.length;++i){var M=_[i];w.addTriangle(M[0],M[1],M[2])}return v&&l(t,w),y?m?x?c(w,0,x):w.cells():c(w,1,x):c(w,-1)}return _}},function(t,e,r){"use strict";var n=r(486),o=r(448)[3];function l(a,b,t,e,r){this.a=a,this.b=b,this.idx=t,this.lowerIds=e,this.upperIds=r}function c(a,b,t,e){this.a=a,this.b=b,this.type=t,this.idx=e}function f(a,b){var t=a.a[0]-b.a[0]||a.a[1]-b.a[1]||a.type-b.type;return t||(0!==a.type&&(t=o(a.a,a.b,b.b))?t:a.idx-b.idx)}function h(t,p){return o(t.a,t.b,p)}function d(t,e,r,p,l){for(var c=n.lt(e,p,h),f=n.gt(e,p,h),i=c;i<f;++i){for(var d=e[i],v=d.lowerIds,m=v.length;m>1&&o(r[v[m-2]],r[v[m-1]],p)>0;)t.push([v[m-1],v[m-2],l]),m-=1;v.length=m,v.push(l);var y=d.upperIds;for(m=y.length;m>1&&o(r[y[m-2]],r[y[m-1]],p)<0;)t.push([y[m-2],y[m-1],l]),m-=1;y.length=m,y.push(l)}}function v(t,e){var r;return(r=t.a[0]<e.a[0]?o(t.a,t.b,e.a):o(e.b,e.a,t.a))?r:(r=e.b[0]<t.b[0]?o(t.a,t.b,e.b):o(e.b,e.a,t.b))||t.idx-e.idx}function m(t,e,r){var o=n.le(t,r,v),c=t[o],f=c.upperIds,h=f[f.length-1];c.upperIds=[h],t.splice(o+1,0,new l(r.a,r.b,r.idx,[h],f))}function y(t,e,r){var o=r.a;r.a=r.b,r.b=o;var l=n.eq(t,r,v),c=t[l];t[l-1].upperIds=c.upperIds,t.splice(l,1)}t.exports=function(t,e){for(var r=t.length,n=e.length,o=[],i=0;i<r;++i)o.push(new c(t[i],null,0,i));for(i=0;i<n;++i){var h=e[i],a=t[h[0]],b=t[h[1]];a[0]<b[0]?o.push(new c(a,b,2,i),new c(b,a,1,i)):a[0]>b[0]&&o.push(new c(b,a,2,i),new c(a,b,1,i))}o.sort(f);for(var v=o[0].a[0]-(1+Math.abs(o[0].a[0]))*Math.pow(2,-52),x=[new l([v,1],[v,0],-1,[],[],[],[])],_=[],w=(i=0,o.length);i<w;++i){var M=o[i],A=M.type;0===A?d(_,x,t,M.a,M.idx):2===A?m(x,t,M):y(x,t,M)}return _}},function(t,e,r){"use strict";var n=r(486);function o(t,e){this.stars=t,this.edges=e}t.exports=function(t,e){for(var r=new Array(t),i=0;i<t;++i)r[i]=[];return new o(r,e)};var l=o.prototype;function c(t,e,r){for(var i=1,n=t.length;i<n;i+=2)if(t[i-1]===e&&t[i]===r)return t[i-1]=t[n-2],t[i]=t[n-1],void(t.length=n-2)}l.isConstraint=function(){var t=[0,0];function e(a,b){return a[0]-b[0]||a[1]-b[1]}return function(i,r){return t[0]=Math.min(i,r),t[1]=Math.max(i,r),n.eq(this.edges,t,e)>=0}}(),l.removeTriangle=function(i,t,e){var r=this.stars;c(r[i],t,e),c(r[t],e,i),c(r[e],i,t)},l.addTriangle=function(i,t,e){var r=this.stars;r[i].push(t,e),r[t].push(e,i),r[e].push(i,t)},l.opposite=function(t,i){for(var e=this.stars[i],r=1,n=e.length;r<n;r+=2)if(e[r]===t)return e[r-1];return-1},l.flip=function(i,t){var a=this.opposite(i,t),b=this.opposite(t,i);this.removeTriangle(i,t,a),this.removeTriangle(t,i,b),this.addTriangle(i,b,a),this.addTriangle(t,a,b)},l.edges=function(){for(var t=this.stars,e=[],i=0,r=t.length;i<r;++i)for(var n=t[i],o=0,l=n.length;o<l;o+=2)e.push([n[o],n[o+1]]);return e},l.cells=function(){for(var t=this.stars,e=[],i=0,r=t.length;i<r;++i)for(var n=t[i],o=0,l=n.length;o<l;o+=2){var s=n[o],c=n[o+1];i<Math.min(s,c)&&e.push([i,s,c])}return e}},function(t,e,r){"use strict";var n=r(1030)[4];r(486);function o(t,e,r,a,b,o){var l=e.opposite(a,b);if(!(l<0)){if(b<a){var c=a;a=b,b=c,c=o,o=l,l=c}e.isConstraint(a,b)||n(t[a],t[b],t[o],t[l])<0&&r.push(a,b)}}t.exports=function(t,e){for(var r=[],l=t.length,c=e.stars,a=0;a<l;++a)for(var f=c[a],h=1;h<f.length;h+=2){if(!((b=f[h])<a)&&!e.isConstraint(a,b)){for(var d=f[h-1],v=-1,m=1;m<f.length;m+=2)if(f[m-1]===b){v=f[m];break}v<0||n(t[a],t[b],t[d],t[v])<0&&r.push(a,b)}}for(;r.length>0;){for(var b=r.pop(),i=(a=r.pop(),d=-1,v=-1,f=c[a],1);i<f.length;i+=2){var s=f[i-1],y=f[i];s===b?v=y:y===b&&(d=s)}d<0||v<0||(n(t[a],t[b],t[d],t[v])>=0||(e.flip(a,b),o(t,e,r,d,a,v),o(t,e,r,a,v,d),o(t,e,r,v,b,d),o(t,e,r,b,d,v)))}}},function(t,e,r){"use strict";var n=r(484),o=r(466),l=r(682),c=r(517);function f(t,e){for(var r=new Array(t.length-1),i=1;i<t.length;++i)for(var n=r[i-1]=new Array(t.length-1),o=0,l=0;o<t.length;++o)o!==e&&(n[l++]=t[i][o]);return r}function h(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",h(t.slice(0,e)),",",h(t.slice(e)),")"].join("")}function d(a,b){if("m"===a.charAt(0)){if("w"===b.charAt(0)){var t=a.split("[");return["w",b.substr(1),"m",t[0].substr(1)].join("")}return["prod(",a,",",b,")"].join("")}return d(b,a)}function v(t){if(2===t.length)return[["diff(",d(t[0][0],t[1][1]),",",d(t[1][0],t[0][1]),")"].join("")];for(var e=[],i=0;i<t.length;++i)e.push(["scale(",h(v(f(t,i))),",",(s=i,!0&s?"-":""),t[0][i],")"].join(""));return e;var s}function m(t,e){for(var r=[],i=0;i<e-2;++i)r.push(["prod(m",t,"[",i,"],m",t,"[",i,"])"].join(""));return h(r)}function y(t){for(var e=[],r=[],d=function(t){for(var e=new Array(t),i=0;i<t;++i){e[i]=new Array(t);for(var r=0;r<t;++r)e[i][r]=["m",r,"[",t-i-2,"]"].join("")}return e}(t),i=0;i<t;++i)d[0][i]="1",d[t-1][i]="w"+i;for(i=0;i<t;++i)0==(1&i)?e.push.apply(e,v(f(d,i))):r.push.apply(r,v(f(d,i)));var y=h(e),x=h(r),_="exactInSphere"+t,w=[];for(i=0;i<t;++i)w.push("m"+i);var code=["function ",_,"(",w.join(),"){"];for(i=0;i<t;++i){code.push("var w",i,"=",m(i,t),";");for(var M=0;M<t;++M)M!==i&&code.push("var w",i,"m",M,"=scale(w",i,",m",M,"[0]);")}return code.push("var p=",y,",n=",x,",d=diff(p,n);return d[d.length-1];}return ",_),new Function("sum","diff","prod","scale",code.join(""))(o,l,n,c)}var x=[function(){return 0},function(){return 0},function(){return 0}];function _(t){var e=x[t.length];return e||(e=x[t.length]=y(t.length)),e.apply(void 0,t)}!function(){for(;x.length<=6;)x.push(y(x.length));for(var e=[],r=["slow"],i=0;i<=6;++i)e.push("a"+i),r.push("o"+i);var code=["function testInSphere(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(i=2;i<=6;++i)code.push("case ",i,":return o",i,"(",e.slice(0,i).join(),");");code.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return testInSphere"),r.push(code.join(""));var n=Function.apply(void 0,r);for(t.exports=n.apply(void 0,[_].concat(x)),i=0;i<=6;++i)t.exports[i]=x[i]}()},function(t,e,r){"use strict";var n,o=r(486);function l(t,e,r,n,o,l,c){this.cells=t,this.neighbor=e,this.flags=n,this.constraint=r,this.active=o,this.next=l,this.boundary=c}function c(a,b){return a[0]-b[0]||a[1]-b[1]||a[2]-b[2]}t.exports=function(t,e,r){var n=function(t,e){for(var r=t.cells(),n=r.length,i=0;i<n;++i){var o=(M=r[i])[0],f=M[1],h=M[2];f<h?f<o&&(M[0]=f,M[1]=h,M[2]=o):h<o&&(M[0]=h,M[1]=o,M[2]=f)}r.sort(c);var d=new Array(n);for(i=0;i<d.length;++i)d[i]=0;var v=[],m=[],y=new Array(3*n),x=new Array(3*n),_=null;e&&(_=[]);var w=new l(r,y,x,d,v,m,_);for(i=0;i<n;++i)for(var M=r[i],A=0;A<3;++A){o=M[A],f=M[(A+1)%3];var a=y[3*i+A]=w.locate(f,o,t.opposite(f,o)),b=x[3*i+A]=t.isConstraint(o,f);a<0&&(b?m.push(i):(v.push(i),d[i]=1),e&&_.push([f,o,-1]))}return w}(t,r);if(0===e)return r?n.cells.concat(n.boundary):n.cells;var o=1,f=n.active,h=n.next,d=n.flags,v=n.cells,m=n.constraint,y=n.neighbor;for(;f.length>0||h.length>0;){for(;f.length>0;){var x=f.pop();if(d[x]!==-o){d[x]=o;v[x];for(var _=0;_<3;++_){var w=y[3*x+_];w>=0&&0===d[w]&&(m[3*x+_]?h.push(w):(f.push(w),d[w]=o))}}}var M=h;h=f,f=M,h.length=0,o=-o}var A=function(t,e,r){for(var n=0,i=0;i<t.length;++i)e[i]===r&&(t[n++]=t[i]);return t.length=n,t}(v,d,e);if(r)return A.concat(n.boundary);return A},l.prototype.locate=(n=[0,0,0],function(a,b,t){var e=a,r=b,l=t;return b<t?b<a&&(e=b,r=t,l=a):t<a&&(e=t,r=a,l=b),e<0?-1:(n[0]=e,n[1]=r,n[2]=l,o.eq(this.cells,n,c))})},function(t,e,r){"use strict";t.exports=function(t,e){var r=d(t,e);t=r[0];for(var m=(e=r[1]).length,y=(t.length,n(t,e.length)),i=0;i<m;++i)if(y[i].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var x=o(t,e);var _=(x=x.filter((function(t){for(var r=t.length,area=[0],n=0;n<r;++n){var a=e[t[n]],b=e[t[(n+1)%r]],o=c(-a[0],a[1]),l=c(-a[0],b[1]),h=c(b[0],a[1]),d=c(b[0],b[1]);area=f(area,f(f(o,l),f(h,d)))}return area[area.length-1]>0}))).length,w=new Array(_),M=new Array(_);for(i=0;i<_;++i){w[i]=i;var A=new Array(_),T=x[i].map((function(t){return e[t]})),k=l([T]),E=0;t:for(var S=0;S<_;++S)if(A[S]=0,i!==S){for(var L=(G=x[S]).length,C=0;C<L;++C){var O=k(e[G[C]]);if(0!==O){O<0&&(A[S]=1,E+=1);continue t}}A[S]=1,E+=1}M[i]=[E,i,A]}M.sort((function(a,b){return b[0]-a[0]}));for(i=0;i<_;++i){var R=(A=M[i])[1],D=A[2];for(S=0;S<_;++S)D[S]&&(w[S]=R)}var P=function(t){for(var e=new Array(t),i=0;i<t;++i)e[i]=[];return e}(_);for(i=0;i<_;++i)P[i].push(w[i]),P[w[i]].push(i);var I={},N=v(m,!1);for(i=0;i<_;++i)for(L=(G=x[i]).length,S=0;S<L;++S){var a=G[S],b=G[(S+1)%L],z=Math.min(a,b)+":"+Math.max(a,b);if(z in I){var F=I[z];P[F].push(i),P[i].push(F),N[a]=N[b]=!0}else I[z]=i}function j(t){for(var e=t.length,i=0;i<e;++i)if(!N[t[i]])return!1;return!0}var B=[],U=v(_,-1);for(i=0;i<_;++i)w[i]!==i||j(x[i])?U[i]=-1:(B.push(i),U[i]=0);r=[];for(;B.length>0;){var H=B.pop(),V=P[H];h(V,(function(a,b){return a-b}));var polyline,Y=V.length,p=U[H];if(0===p){var G=x[H];polyline=[G]}for(i=0;i<Y;++i){var W=V[i];if(!(U[W]>=0))if(U[W]=1^p,B.push(W),0===p)j(G=x[W])||(G.reverse(),polyline.push(G))}0===p&&r.push(polyline)}return r};var n=r(703),o=r(1033),l=r(1037),c=r(484),f=r(466),h=r(515),d=r(1045);function v(t,e){for(var r=new Array(t),i=0;i<t;++i)r[i]=e;return r}},function(t,e,r){"use strict";t.exports=function(t,e){for(var r=0|e.length,o=t.length,l=[new Array(r),new Array(r)],i=0;i<r;++i)l[0][i]=[],l[1][i]=[];for(i=0;i<o;++i){var c=t[i];l[0][c[0]].push(c),l[1][c[1]].push(c)}var f=[];for(i=0;i<r;++i)l[0][i].length+l[1][i].length===0&&f.push([i]);function h(t,i){var a=l[i][t[i]];a.splice(a.indexOf(t),1)}function d(a,b,t){for(var r,o,c,i=0;i<2;++i)if(l[i][b].length>0){r=l[i][b][0],c=i;break}o=r[1^c];for(var f=0;f<2;++f)for(var d=l[f][b],v=0;v<d.length;++v){var m=d[v],p=m[1^f];n(e[a],e[b],e[o],e[p])>0&&(r=m,o=p,c=f)}return t||r&&h(r,c),o}function v(t,r){var o=l[r][t][0],c=[t];h(o,r);for(var u=o[1^r];;){for(;u!==t;)c.push(u),u=d(c[c.length-2],u,!1);if(l[0][t].length+l[1][t].length===0)break;var a=c[c.length-1],b=t,f=c[1],v=d(a,b,!0);if(n(e[a],e[b],e[f],e[v])<0)break;c.push(t),u=d(a,b)}return c}function m(t,e){return e[1]===e[e.length-1]}for(i=0;i<r;++i)for(var y=0;y<2;++y){for(var x=[];l[y][i].length>0;){l[0][i].length;var _=v(i,y);m(0,_)?x.push.apply(x,_):(x.length>0&&f.push(x),x=_)}x.length>0&&f.push(x)}return f};var n=r(1034)},function(t,e,r){"use strict";t.exports=function(a,b,t,e){var r=n(b,t,e);if(0===r){var l=o(n(a,b,t)),c=o(n(a,b,e));if(l===c){if(0===l){var f=h(a,b,t),d=h(a,b,e);return f===d?0:f?1:-1}return 0}return 0===c?l>0||h(a,b,e)?-1:1:0===l?c>0||h(a,b,t)?1:-1:o(c-l)}var v=n(a,b,t);return v>0?r>0&&n(a,b,e)>0?1:-1:v<0?r>0||n(a,b,e)>0?1:-1:n(a,b,e)>0||h(a,b,t)?1:-1};var n=r(448),o=r(1035),l=r(681),c=r(1036),f=r(466);function h(a,b,t){var e=l(a[0],-b[0]),r=l(a[1],-b[1]),n=l(t[0],-b[0]),o=l(t[1],-b[1]),h=f(c(e,n),c(r,o));return h[h.length-1]>=0}},function(t,e,r){"use strict";t.exports=function(t){return t<0?-1:t>0?1:0}},function(t,e,r){"use strict";var n=r(466),o=r(517);t.exports=function(a,b){if(1===a.length)return o(b,a[0]);if(1===b.length)return o(a,b[0]);if(0===a.length||0===b.length)return[0];var t=[0];if(a.length<b.length)for(var i=0;i<a.length;++i)t=n(t,o(b,a[i]));else for(i=0;i<b.length;++i)t=n(t,o(a,b[i]));return t}},function(t,e,r){t.exports=function(t){for(var e=t.length,r=[],l=[],i=0;i<e;++i)for(var f=t[i],v=f.length,s=v-1,m=0;m<v;s=m++){var a=f[s],b=f[m];a[0]===b[0]?l.push([a,b]):r.push([a,b])}if(0===r.length)return 0===l.length?d:(y=h(l),function(p){return y(p[0],p[1])?0:1});var y;var x=o(r),_=function(t,e){return function(p){var r=c.le(e,p[0]);if(r<0)return 1;var o=t[r];if(!o){if(!(r>0&&e[r]===p[0]))return 1;o=t[r-1]}for(var l=1;o;){var s=o.key,f=n(p,s[0],s[1]);if(s[0][0]<s[1][0])if(f<0)o=o.left;else{if(!(f>0))return 0;l=-1,o=o.right}else if(f>0)o=o.left;else{if(!(f<0))return 0;l=1,o=o.right}}return l}}(x.slabs,x.coordinates);return 0===l.length?_:function(t,e){return function(p){return t(p[0],p[1])?0:e(p)}}(h(l),_)};var n=r(448)[3],o=r(1038),l=r(1042),c=r(1044);function f(){return!0}function h(t){for(var table={},i=0;i<t.length;++i){var s=t[i],e=s[0][0],r=s[0][1],n=s[1][1],p=[Math.min(r,n),Math.max(r,n)];e in table?table[e].push(p):table[e]=[p]}var o={},c=Object.keys(table);for(i=0;i<c.length;++i){var h=table[c[i]];o[c[i]]=l(h)}return function(table){return function(t,e){var r=table[t];return!!r&&!!r.queryPoint(e,f)}}(o)}function d(p){return 1}},function(t,e,r){"use strict";t.exports=function(t){for(var e=t.length,r=2*e,n=new Array(r),i=0;i<e;++i){var s=t[i],l=s[0][0]<s[1][0];n[2*i]=new m(s[0][0],s,l,i),n[2*i+1]=new m(s[1][0],s,!l,i)}n.sort((function(a,b){var t=a.x-b.x;return t||((t=a.create-b.create)||Math.min(a.segment[0][1],a.segment[1][1])-Math.min(b.segment[0][1],b.segment[1][1]))}));var h=o(c),d=[],y=[],x=[];for(i=0;i<r;){for(var _=n[i].x,w=[];i<r;){var M=n[i];if(M.x!==_)break;i+=1,M.segment[0][0]===M.x&&M.segment[1][0]===M.x?M.create&&(M.segment[0][1]<M.segment[1][1]?(w.push(new v(M.segment[0][1],M.index,!0,!0)),w.push(new v(M.segment[1][1],M.index,!1,!1))):(w.push(new v(M.segment[1][1],M.index,!0,!1)),w.push(new v(M.segment[0][1],M.index,!1,!0)))):h=M.create?h.insert(M.segment,M.index):h.remove(M.segment)}d.push(h.root),y.push(_),x.push(w)}return new f(d,y,x)};var n=r(1039),o=r(1040),l=r(448),c=r(1041);function f(t,e,r){this.slabs=t,this.coordinates=e,this.horizontal=r}function h(t,e){return t.y-e}function d(t,p){for(var e=null;t;){var r,n,o=t.key;o[0][0]<o[1][0]?(r=o[0],n=o[1]):(r=o[1],n=o[0]);var c=l(r,n,p);if(c<0)t=t.left;else if(c>0)if(p[0]!==o[1][0])e=t,t=t.right;else{if(f=d(t.right,p))return f;t=t.left}else{if(p[0]!==o[1][0])return t;var f;if(f=d(t.right,p))return f;t=t.left}}return e}function v(t,e,r,n){this.y=t,this.index=e,this.start=r,this.closed=n}function m(t,e,r,n){this.x=t,this.segment=e,this.create=r,this.index=n}f.prototype.castUp=function(p){var t=n.le(this.coordinates,p[0]);if(t<0)return-1;this.slabs[t];var e=d(this.slabs[t],p),r=-1;if(e&&(r=e.value),this.coordinates[t]===p[0]){var o=null;if(e&&(o=e.key),t>0){var f=d(this.slabs[t-1],p);f&&(o?c(f.key,o)>0&&(o=f.key,r=f.value):(r=f.value,o=f.key))}var v=this.horizontal[t];if(v.length>0){var m=n.ge(v,p[1],h);if(m<v.length){var y=v[m];if(p[1]===y.y){if(y.closed)return y.index;for(;m<v.length-1&&v[m+1].y===p[1];)if((y=v[m+=1]).closed)return y.index;if(y.y===p[1]&&!y.start){if((m+=1)>=v.length)return r;y=v[m]}}if(y.start)if(o){var x=l(o[0],o[1],[p[0],y.y]);o[0][0]>o[1][0]&&(x=-x),x>0&&(r=y.index)}else r=y.index;else y.y!==p[1]&&(r=y.index)}}}return r}},function(t,e,r){"use strict";function n(t,e,r,n,o,l){var code=["function ",t,"(a,l,h,",n.join(","),"){",l?"":"var i=",r?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",o?".get(m)":"[m]"];return l?e.indexOf("c")<0?code.push(";if(x===y){return m}else if(x<=y){"):code.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):code.push(";if(",e,"){i=m;"),r?code.push("l=m+1}else{h=m-1}"):code.push("h=m-1}else{l=m+1}"),code.push("}"),l?code.push("return -1};"):code.push("return i};"),code.join("")}function o(t,e,r,o){return new Function([n("A","x"+t+"y",e,["y"],!1,o),n("B","x"+t+"y",e,["y"],!0,o),n("P","c(x,y)"+t+"0",e,["y","c"],!1,o),n("Q","c(x,y)"+t+"0",e,["y","c"],!0,o),"function dispatchBsearch",r,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",r].join(""))()}t.exports={ge:o(">=",!1,"GE"),gt:o(">",!1,"GT"),lt:o("<",!0,"LT"),le:o("<=",!0,"LE"),eq:o("-",!0,"EQ",!0)}},function(t,e,r){"use strict";t.exports=function(t){return new f(t||w,null)};function n(t,e,r,n,o,l){this._color=t,this.key=e,this.value=r,this.left=n,this.right=o,this._count=l}function o(t){return new n(t._color,t.key,t.value,t.left,t.right,t._count)}function l(t,e){return new n(t,e.key,e.value,e.left,e.right,e._count)}function c(t){t._count=1+(t.left?t.left._count:0)+(t.right?t.right._count:0)}function f(t,e){this._compare=t,this.root=e}var h=f.prototype;function d(t,e){var r;if(e.left&&(r=d(t,e.left)))return r;return(r=t(e.key,e.value))||(e.right?d(t,e.right):void 0)}function v(t,e,r,n){if(e(t,n.key)<=0){var o;if(n.left)if(o=v(t,e,r,n.left))return o;if(o=r(n.key,n.value))return o}if(n.right)return v(t,e,r,n.right)}function m(t,e,r,n,o){var l,c=r(t,o.key),f=r(e,o.key);if(c<=0){if(o.left&&(l=m(t,e,r,n,o.left)))return l;if(f>0&&(l=n(o.key,o.value)))return l}if(f>0&&o.right)return m(t,e,r,n,o.right)}function y(t,e){this.tree=t,this._stack=e}Object.defineProperty(h,"keys",{get:function(){var t=[];return this.forEach((function(e,r){t.push(e)})),t}}),Object.defineProperty(h,"values",{get:function(){var t=[];return this.forEach((function(e,r){t.push(r)})),t}}),Object.defineProperty(h,"length",{get:function(){return this.root?this.root._count:0}}),h.insert=function(t,e){for(var r=this._compare,o=this.root,h=[],d=[];o;){var v=r(t,o.key);h.push(o),d.push(v),o=v<=0?o.left:o.right}h.push(new n(0,t,e,null,null,1));for(var s=h.length-2;s>=0;--s){o=h[s];d[s]<=0?h[s]=new n(o._color,o.key,o.value,h[s+1],o.right,o._count+1):h[s]=new n(o._color,o.key,o.value,o.left,h[s+1],o._count+1)}for(s=h.length-1;s>1;--s){var p=h[s-1];o=h[s];if(1===p._color||1===o._color)break;var m=h[s-2];if(m.left===p)if(p.left===o){if(!(y=m.right)||0!==y._color){if(m._color=0,m.left=p.right,p._color=1,p.right=m,h[s-2]=p,h[s-1]=o,c(m),c(p),s>=3)(x=h[s-3]).left===m?x.left=p:x.right=p;break}p._color=1,m.right=l(1,y),m._color=0,s-=1}else{if(!(y=m.right)||0!==y._color){if(p.right=o.left,m._color=0,m.left=o.right,o._color=1,o.left=p,o.right=m,h[s-2]=o,h[s-1]=p,c(m),c(p),c(o),s>=3)(x=h[s-3]).left===m?x.left=o:x.right=o;break}p._color=1,m.right=l(1,y),m._color=0,s-=1}else if(p.right===o){if(!(y=m.left)||0!==y._color){if(m._color=0,m.right=p.left,p._color=1,p.left=m,h[s-2]=p,h[s-1]=o,c(m),c(p),s>=3)(x=h[s-3]).right===m?x.right=p:x.left=p;break}p._color=1,m.left=l(1,y),m._color=0,s-=1}else{var y;if(!(y=m.left)||0!==y._color){var x;if(p.left=o.right,m._color=0,m.right=o.left,o._color=1,o.right=p,o.left=m,h[s-2]=o,h[s-1]=p,c(m),c(p),c(o),s>=3)(x=h[s-3]).right===m?x.right=o:x.left=o;break}p._color=1,m.left=l(1,y),m._color=0,s-=1}}return h[0]._color=1,new f(r,h[0])},h.forEach=function(t,e,r){if(this.root)switch(arguments.length){case 1:return d(t,this.root);case 2:return v(e,this._compare,t,this.root);case 3:if(this._compare(e,r)>=0)return;return m(e,r,this._compare,t,this.root)}},Object.defineProperty(h,"begin",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.left;return new y(this,t)}}),Object.defineProperty(h,"end",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.right;return new y(this,t)}}),h.at=function(t){if(t<0)return new y(this,[]);for(var e=this.root,r=[];;){if(r.push(e),e.left){if(t<e.left._count){e=e.left;continue}t-=e.left._count}if(!t)return new y(this,r);if(t-=1,!e.right)break;if(t>=e.right._count)break;e=e.right}return new y(this,[])},h.ge=function(t){for(var e=this._compare,r=this.root,n=[],o=0;r;){var l=e(t,r.key);n.push(r),l<=0&&(o=n.length),r=l<=0?r.left:r.right}return n.length=o,new y(this,n)},h.gt=function(t){for(var e=this._compare,r=this.root,n=[],o=0;r;){var l=e(t,r.key);n.push(r),l<0&&(o=n.length),r=l<0?r.left:r.right}return n.length=o,new y(this,n)},h.lt=function(t){for(var e=this._compare,r=this.root,n=[],o=0;r;){var l=e(t,r.key);n.push(r),l>0&&(o=n.length),r=l<=0?r.left:r.right}return n.length=o,new y(this,n)},h.le=function(t){for(var e=this._compare,r=this.root,n=[],o=0;r;){var l=e(t,r.key);n.push(r),l>=0&&(o=n.length),r=l<0?r.left:r.right}return n.length=o,new y(this,n)},h.find=function(t){for(var e=this._compare,r=this.root,n=[];r;){var o=e(t,r.key);if(n.push(r),0===o)return new y(this,n);r=o<=0?r.left:r.right}return new y(this,[])},h.remove=function(t){var e=this.find(t);return e?e.remove():this},h.get=function(t){for(var e=this._compare,r=this.root;r;){var n=e(t,r.key);if(0===n)return r.value;r=n<=0?r.left:r.right}};var x=y.prototype;function _(t,e){t.key=e.key,t.value=e.value,t.left=e.left,t.right=e.right,t._color=e._color,t._count=e._count}function w(a,b){return a<b?-1:a>b?1:0}Object.defineProperty(x,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(x,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),x.clone=function(){return new y(this.tree,this._stack.slice())},x.remove=function(){var t=this._stack;if(0===t.length)return this.tree;var e=new Array(t.length),r=t[t.length-1];e[e.length-1]=new n(r._color,r.key,r.value,r.left,r.right,r._count);for(var i=t.length-2;i>=0;--i){(r=t[i]).left===t[i+1]?e[i]=new n(r._color,r.key,r.value,e[i+1],r.right,r._count):e[i]=new n(r._color,r.key,r.value,r.left,e[i+1],r._count)}if((r=e[e.length-1]).left&&r.right){var h=e.length;for(r=r.left;r.right;)e.push(r),r=r.right;var d=e[h-1];e.push(new n(r._color,d.key,d.value,r.left,r.right,r._count)),e[h-1].key=r.key,e[h-1].value=r.value;for(i=e.length-2;i>=h;--i)r=e[i],e[i]=new n(r._color,r.key,r.value,r.left,e[i+1],r._count);e[h-1].left=e[h]}if(0===(r=e[e.length-1])._color){var p=e[e.length-2];p.left===r?p.left=null:p.right===r&&(p.right=null),e.pop();for(i=0;i<e.length;++i)e[i]._count--;return new f(this.tree._compare,e[0])}if(r.left||r.right){r.left?_(r,r.left):r.right&&_(r,r.right),r._color=1;for(i=0;i<e.length-1;++i)e[i]._count--;return new f(this.tree._compare,e[0])}if(1===e.length)return new f(this.tree._compare,null);for(i=0;i<e.length;++i)e[i]._count--;var v=e[e.length-2];return function(t){for(var e,p,s,r,i=t.length-1;i>=0;--i){if(e=t[i],0===i)return void(e._color=1);if((p=t[i-1]).left===e){if((s=p.right).right&&0===s.right._color){if(r=(s=p.right=o(s)).right=o(s.right),p.right=s.left,s.left=p,s.right=r,s._color=p._color,e._color=1,p._color=1,r._color=1,c(p),c(s),i>1)(n=t[i-2]).left===p?n.left=s:n.right=s;return void(t[i-1]=s)}if(s.left&&0===s.left._color){if(r=(s=p.right=o(s)).left=o(s.left),p.right=r.left,s.left=r.right,r.left=p,r.right=s,r._color=p._color,p._color=1,s._color=1,e._color=1,c(p),c(s),c(r),i>1)(n=t[i-2]).left===p?n.left=r:n.right=r;return void(t[i-1]=r)}if(1===s._color){if(0===p._color)return p._color=1,void(p.right=l(0,s));p.right=l(0,s);continue}s=o(s),p.right=s.left,s.left=p,s._color=p._color,p._color=0,c(p),c(s),i>1&&((n=t[i-2]).left===p?n.left=s:n.right=s),t[i-1]=s,t[i]=p,i+1<t.length?t[i+1]=e:t.push(e),i+=2}else{if((s=p.left).left&&0===s.left._color){if(r=(s=p.left=o(s)).left=o(s.left),p.left=s.right,s.right=p,s.left=r,s._color=p._color,e._color=1,p._color=1,r._color=1,c(p),c(s),i>1)(n=t[i-2]).right===p?n.right=s:n.left=s;return void(t[i-1]=s)}if(s.right&&0===s.right._color){if(r=(s=p.left=o(s)).right=o(s.right),p.left=r.right,s.right=r.left,r.right=p,r.left=s,r._color=p._color,p._color=1,s._color=1,e._color=1,c(p),c(s),c(r),i>1)(n=t[i-2]).right===p?n.right=r:n.left=r;return void(t[i-1]=r)}if(1===s._color){if(0===p._color)return p._color=1,void(p.left=l(0,s));p.left=l(0,s);continue}var n;s=o(s),p.left=s.right,s.right=p,s._color=p._color,p._color=0,c(p),c(s),i>1&&((n=t[i-2]).right===p?n.right=s:n.left=s),t[i-1]=s,t[i]=p,i+1<t.length?t[i+1]=e:t.push(e),i+=2}}}(e),v.left===r?v.left=null:v.right=null,new f(this.tree._compare,e[0])},Object.defineProperty(x,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(x,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(x,"index",{get:function(){var t=0,e=this._stack;if(0===e.length){var r=this.tree.root;return r?r._count:0}e[e.length-1].left&&(t=e[e.length-1].left._count);for(var s=e.length-2;s>=0;--s)e[s+1]===e[s].right&&(++t,e[s].left&&(t+=e[s].left._count));return t},enumerable:!0}),x.next=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.right)for(e=e.right;e;)t.push(e),e=e.left;else for(t.pop();t.length>0&&t[t.length-1].right===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(x,"hasNext",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].right)return!0;for(var s=t.length-1;s>0;--s)if(t[s-1].left===t[s])return!0;return!1}}),x.update=function(t){var e=this._stack;if(0===e.length)throw new Error("Can't update empty node!");var r=new Array(e.length),o=e[e.length-1];r[r.length-1]=new n(o._color,o.key,t,o.left,o.right,o._count);for(var i=e.length-2;i>=0;--i)(o=e[i]).left===e[i+1]?r[i]=new n(o._color,o.key,o.value,r[i+1],o.right,o._count):r[i]=new n(o._color,o.key,o.value,o.left,r[i+1],o._count);return new f(this.tree._compare,r[0])},x.prev=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.left)for(e=e.left;e;)t.push(e),e=e.right;else for(t.pop();t.length>0&&t[t.length-1].left===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(x,"hasPrev",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].left)return!0;for(var s=t.length-1;s>0;--s)if(t[s-1].right===t[s])return!0;return!1}})},function(t,e,r){"use strict";t.exports=function(b,a){var t,e,r,br;if(a[0][0]<a[1][0])t=a[0],e=a[1];else{if(!(a[0][0]>a[1][0]))return o(a,b);t=a[1],e=a[0]}if(b[0][0]<b[1][0])r=b[0],br=b[1];else{if(!(b[0][0]>b[1][0]))return-o(b,a);r=b[1],br=b[0]}var l=n(t,e,br),c=n(t,e,r);if(l<0){if(c<=0)return l}else if(l>0){if(c>=0)return l}else if(c)return c;if(l=n(br,r,e),c=n(br,r,t),l<0){if(c<=0)return l}else if(l>0){if(c>=0)return l}else if(c)return c;return e[0]-br[0]};var n=r(448);function o(a,b){var t,br,e,r;if(b[0][0]<b[1][0])t=b[0],br=b[1];else{if(!(b[0][0]>b[1][0])){var o=Math.min(a[0][1],a[1][1]),l=Math.max(a[0][1],a[1][1]),c=Math.min(b[0][1],b[1][1]),f=Math.max(b[0][1],b[1][1]);return l<c?l-c:o>f?o-f:l-f}t=b[1],br=b[0]}a[0][1]<a[1][1]?(e=a[0],r=a[1]):(e=a[1],r=a[0]);var h=n(br,t,e);return h||((h=n(br,t,r))||r-br)}},function(t,e,r){"use strict";var n=r(1043);function o(t,e,r,n,o){this.mid=t,this.left=e,this.right=r,this.leftPoints=n,this.rightPoints=o,this.count=(e?e.count:0)+(r?r.count:0)+n.length}t.exports=function(t){if(!t||0===t.length)return new A(null);return new A(M(t))};var l=o.prototype;function c(a,b){a.mid=b.mid,a.left=b.left,a.right=b.right,a.leftPoints=b.leftPoints,a.rightPoints=b.rightPoints,a.count=b.count}function f(t,e){var r=M(e);t.mid=r.mid,t.left=r.left,t.right=r.right,t.leftPoints=r.leftPoints,t.rightPoints=r.rightPoints,t.count=r.count}function h(t,e){var r=t.intervals([]);r.push(e),f(t,r)}function d(t,e){var r=t.intervals([]),n=r.indexOf(e);return n<0?0:(r.splice(n,1),f(t,r),1)}function v(t,e,r){for(var i=0;i<t.length&&t[i][0]<=e;++i){var n=r(t[i]);if(n)return n}}function m(t,e,r){for(var i=t.length-1;i>=0&&t[i][1]>=e;--i){var n=r(t[i]);if(n)return n}}function y(t,e){for(var i=0;i<t.length;++i){var r=e(t[i]);if(r)return r}}function x(a,b){return a-b}function _(a,b){var t=a[0]-b[0];return t||a[1]-b[1]}function w(a,b){var t=a[1]-b[1];return t||a[0]-b[0]}function M(t){if(0===t.length)return null;for(var e=[],i=0;i<t.length;++i)e.push(t[i][0],t[i][1]);e.sort(x);var r=e[e.length>>1],n=[],l=[],c=[];for(i=0;i<t.length;++i){var s=t[i];s[1]<r?n.push(s):r<s[0]?l.push(s):c.push(s)}var f=c,h=c.slice();return f.sort(_),h.sort(w),new o(r,M(n),M(l),f,h)}function A(t){this.root=t}l.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t},l.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?h(this,t):this.left.insert(t):this.left=M([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?h(this,t):this.right.insert(t):this.right=M([t]);else{var r=n.ge(this.leftPoints,t,_),o=n.ge(this.rightPoints,t,w);this.leftPoints.splice(r,0,t),this.rightPoints.splice(o,0,t)}},l.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(e-1)?d(this,t):2===(l=this.left.remove(t))?(this.left=null,this.count-=1,1):(1===l&&(this.count-=1),l):0;if(t[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(e-1)?d(this,t):2===(l=this.right.remove(t))?(this.right=null,this.count-=1,1):(1===l&&(this.count-=1),l):0;if(1===this.count)return this.leftPoints[0]===t?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===t){if(this.left&&this.right){for(var p=this,r=this.left;r.right;)p=r,r=r.right;if(p===this)r.right=this.right;else{var o=this.left,l=this.right;p.count-=r.count,p.right=r.left,r.left=o,r.right=l}c(this,r),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?c(this,this.left):c(this,this.right);return 1}for(o=n.ge(this.leftPoints,t,_);o<this.leftPoints.length&&this.leftPoints[o][0]===t[0];++o)if(this.leftPoints[o]===t){this.count-=1,this.leftPoints.splice(o,1);for(l=n.ge(this.rightPoints,t,w);l<this.rightPoints.length&&this.rightPoints[l][1]===t[1];++l)if(this.rightPoints[l]===t)return this.rightPoints.splice(l,1),1}return 0},l.queryPoint=function(t,e){if(t<this.mid){if(this.left)if(r=this.left.queryPoint(t,e))return r;return v(this.leftPoints,t,e)}if(t>this.mid){var r;if(this.right)if(r=this.right.queryPoint(t,e))return r;return m(this.rightPoints,t,e)}return y(this.leftPoints,e)},l.queryInterval=function(t,e,r){var n;if(t<this.mid&&this.left&&(n=this.left.queryInterval(t,e,r)))return n;if(e>this.mid&&this.right&&(n=this.right.queryInterval(t,e,r)))return n;return e<this.mid?v(this.leftPoints,e,r):t>this.mid?m(this.rightPoints,t,r):y(this.leftPoints,r)};var T=A.prototype;T.insert=function(t){this.root?this.root.insert(t):this.root=new o(t[0],null,null,[t],[t])},T.remove=function(t){if(this.root){var e=this.root.remove(t);return 2===e&&(this.root=null),0!==e}return!1},T.queryPoint=function(p,t){if(this.root)return this.root.queryPoint(p,t)},T.queryInterval=function(t,e,r){if(t<=e&&this.root)return this.root.queryInterval(t,e,r)},Object.defineProperty(T,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(T,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},function(t,e,r){"use strict";function n(t,e,r,n,o,l){var code=["function ",t,"(a,l,h,",n.join(","),"){",l?"":"var i=",r?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",o?".get(m)":"[m]"];return l?e.indexOf("c")<0?code.push(";if(x===y){return m}else if(x<=y){"):code.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):code.push(";if(",e,"){i=m;"),r?code.push("l=m+1}else{h=m-1}"):code.push("h=m-1}else{l=m+1}"),code.push("}"),l?code.push("return -1};"):code.push("return i};"),code.join("")}function o(t,e,r,o){return new Function([n("A","x"+t+"y",e,["y"],!1,o),n("B","x"+t+"y",e,["y"],!0,o),n("P","c(x,y)"+t+"0",e,["y","c"],!1,o),n("Q","c(x,y)"+t+"0",e,["y","c"],!0,o),"function dispatchBsearch",r,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",r].join(""))()}t.exports={ge:o(">=",!1,"GE"),gt:o(">",!1,"GT"),lt:o("<",!0,"LT"),le:o("<=",!0,"LE"),eq:o("-",!0,"EQ",!0)}},function(t,e,r){"use strict";function n(t,e,r,n,o,l){var code=["function ",t,"(a,l,h,",n.join(","),"){",l?"":"var i=",r?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",o?".get(m)":"[m]"];return l?e.indexOf("c")<0?code.push(";if(x===y){return m}else if(x<=y){"):code.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):code.push(";if(",e,"){i=m;"),r?code.push("l=m+1}else{h=m-1}"):code.push("h=m-1}else{l=m+1}"),code.push("}"),l?code.push("return -1};"):code.push("return i};"),code.join("")}function o(t,e,r,o){return new Function([n("A","x"+t+"y",e,["y"],!1,o),n("B","x"+t+"y",e,["y"],!0,o),n("P","c(x,y)"+t+"0",e,["y","c"],!1,o),n("Q","c(x,y)"+t+"0",e,["y","c"],!0,o),"function dispatchBsearch",r,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",r].join(""))()}t.exports={ge:o(">=",!1,"GE"),gt:o(">",!1,"GT"),lt:o("<",!0,"LT"),le:o("<=",!0,"LE"),eq:o("-",!0,"EQ",!0)}},function(t,e,r){"use strict";t.exports=function(t,e){for(var r=n(t,e.length),o=new Array(e.length),l=new Array(e.length),c=[],i=0;i<e.length;++i){var f=r[i].length;l[i]=f,o[i]=!0,f<=1&&c.push(i)}for(;c.length>0;){var h=c.pop();o[h]=!1;var d=r[h];for(i=0;i<d.length;++i){var u=d[i];0==--l[u]&&c.push(u)}}var v=new Array(e.length),m=[];for(i=0;i<e.length;++i)if(o[i]){h=m.length;v[i]=h,m.push(e[i])}else v[i]=-1;var y=[];for(i=0;i<t.length;++i){var x=t[i];o[x[0]]&&o[x[1]]&&y.push([v[x[0]],v[x[1]]])}return[y,m]};var n=r(703)},function(t,e,r){"use strict";t.exports=function(t,e,r){var c=[],f=[0,0,0],h=[0,0,0],d=[0,0,0],v=[0,0,0];c.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var i=0;i<3;++i){for(var m=c.length/3|0,y=0;y<r[i].length;++y){var _=+r[i][y].x;c.push(_,0,1,_,1,1,_,0,-1,_,0,-1,_,1,1,_,1,-1)}var w=c.length/3|0;f[i]=m,h[i]=w-m;m=c.length/3|0;for(var M=0;M<r[i].length;++M){_=+r[i][M].x;c.push(_,0,1,_,1,1,_,0,-1,_,0,-1,_,1,1,_,1,-1)}w=c.length/3|0;d[i]=m,v[i]=w-m}var A=n(t,new Float32Array(c)),T=o(t,[{buffer:A,type:t.FLOAT,size:3,stride:0,offset:0}]),k=l(t);return k.attributes.position.location=0,new x(t,A,T,k,h,f,v,d)};var n=r(451),o=r(453),l=r(577).line,c=[0,0,0],f=[0,0,0],h=[0,0,0],d=[0,0,0],v=[1,1];function m(a){return a[0]=a[1]=a[2]=0,a}function y(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a}function x(t,e,r,n,o,l,c,f){this.gl=t,this.vertBuffer=e,this.vao=r,this.shader=n,this.tickCount=o,this.tickOffset=l,this.gridCount=c,this.gridOffset=f}var _=x.prototype;_.bind=function(t,view,e){this.shader.bind(),this.shader.uniforms.model=t,this.shader.uniforms.view=view,this.shader.uniforms.projection=e,v[0]=this.gl.drawingBufferWidth,v[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=v,this.vao.bind()},_.unbind=function(){this.vao.unbind()},_.drawAxisLine=function(t,e,r,n,o){var l=m(f);this.shader.uniforms.majorAxis=f,l[t]=e[1][t]-e[0][t],this.shader.uniforms.minorAxis=l;var c,v=y(d,r);v[t]+=e[0][t],this.shader.uniforms.offset=v,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=n,(c=m(h))[(t+2)%3]=1,this.shader.uniforms.screenAxis=c,this.vao.draw(this.gl.TRIANGLES,6),(c=m(h))[(t+1)%3]=1,this.shader.uniforms.screenAxis=c,this.vao.draw(this.gl.TRIANGLES,6)},_.drawAxisTicks=function(t,e,r,n,o){if(this.tickCount[t]){var l=m(c);l[t]=1,this.shader.uniforms.majorAxis=l,this.shader.uniforms.offset=e,this.shader.uniforms.minorAxis=r,this.shader.uniforms.color=n,this.shader.uniforms.lineWidth=o;var f=m(h);f[t]=1,this.shader.uniforms.screenAxis=f,this.vao.draw(this.gl.TRIANGLES,this.tickCount[t],this.tickOffset[t])}},_.drawGrid=function(i,t,e,r,n,o){if(this.gridCount[i]){var l=m(f);l[t]=e[1][t]-e[0][t],this.shader.uniforms.minorAxis=l;var v=y(d,r);v[t]+=e[0][t],this.shader.uniforms.offset=v;var x=m(c);x[i]=1,this.shader.uniforms.majorAxis=x;var _=m(h);_[i]=1,this.shader.uniforms.screenAxis=_,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=n,this.vao.draw(this.gl.TRIANGLES,this.gridCount[i],this.gridOffset[i])}},_.drawZero=function(t,i,e,r,n,o){var l=m(f);this.shader.uniforms.majorAxis=l,l[t]=e[1][t]-e[0][t],this.shader.uniforms.minorAxis=l;var c=y(d,r);c[t]+=e[0][t],this.shader.uniforms.offset=c;var v=m(h);v[i]=1,this.shader.uniforms.screenAxis=v,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=n,this.vao.draw(this.gl.TRIANGLES,6)},_.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},function(t,e,r){"use strict";t.exports=function(t){for(var e=[],r=[],f=0,h=0;h<3;++h)for(var u=(h+1)%3,d=(h+2)%3,v=[0,0,0],m=[0,0,0],s=-1;s<=1;s+=2){r.push(f,f+2,f+1,f+1,f+2,f+3),v[h]=s,m[h]=s;for(var i=-1;i<=1;i+=2){v[u]=i;for(var y=-1;y<=1;y+=2)v[d]=y,e.push(v[0],v[1],v[2],m[0],m[1],m[2]),f+=1}var x=u;u=d,d=x}var _=n(t,new Float32Array(e)),w=n(t,new Uint16Array(r),t.ELEMENT_ARRAY_BUFFER),M=o(t,[{buffer:_,type:t.FLOAT,size:3,offset:0,stride:24},{buffer:_,type:t.FLOAT,size:3,offset:12,stride:24}],w),A=l(t);return A.attributes.position.location=0,A.attributes.normal.location=1,new c(t,_,M,A)};var n=r(451),o=r(453),l=r(577).bg;function c(t,e,r,n){this.gl=t,this.buffer=e,this.vao=r,this.shader=n}var f=c.prototype;f.draw=function(t,view,e,r,n,o){for(var l=!1,i=0;i<3;++i)l=l||n[i];if(l){var c=this.gl;c.enable(c.POLYGON_OFFSET_FILL),c.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:t,view:view,projection:e,bounds:r,enable:n,colors:o},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),c.disable(c.POLYGON_OFFSET_FILL)}},f.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},function(t,e,r){"use strict";var n=r(484),o=r(466);t.exports=function(a,b){for(var t=n(a[0],b[0]),i=1;i<a.length;++i)t=o(t,n(a[i],b[i]));return t}},function(t,e,r){"use strict";function n(t,i){var e=t+"",u=e.indexOf("."),r=0;u>=0&&(r=e.length-u-1);var n=Math.pow(10,r),o=Math.round(t*i*n),l=o+"";if(l.indexOf("e")>=0)return l;var c=o/n,f=o%n;o<0?(c=0|-Math.ceil(c),f=0|-f):(c=0|Math.floor(c),f|=0);var h=""+c;if(o<0&&(h="-"+h),r){for(var d=""+f;d.length<r;)d="0"+d;return h+"."+d}return h}e.create=function(t,e){for(var r=[],o=0;o<3;++o){for(var l=[],c=(t[0][o],t[1][o],0);c*e[o]<=t[1][o];++c)l.push({x:c*e[o],text:n(e[o],c)});for(c=-1;c*e[o]>=t[0][o];--c)l.push({x:c*e[o],text:n(e[o],c)});r.push(l)}return r},e.equal=function(t,e){for(var i=0;i<3;++i){if(t[i].length!==e[i].length)return!1;for(var r=0;r<t[i].length;++r){var a=t[i][r],b=e[i][r];if(a.x!==b.x||a.text!==b.text||a.font!==b.font||a.fontColor!==b.fontColor||a.fontSize!==b.fontSize||a.dx!==b.dx||a.dy!==b.dy)return!1}}return!0}},function(t,e,r){"use strict";t.exports=function(t,e,r,h,m){var y=e.model||d,view=e.view||d,x=e.projection||d,A=e._ortho||!1,T=t.bounds,k=(m=m||l(y,view,x,T,A)).axis;c(v,view,y),c(v,x,v);for(var E=w,i=0;i<3;++i)E[i].lo=1/0,E[i].hi=-1/0,E[i].pixelsPerDataUnit=1/0;var S=n(f(v,v));f(v,v);for(var L=0;L<3;++L){var u=(L+1)%3,C=(L+2)%3,O=M;t:for(i=0;i<2;++i){var R=[];if(k[L]<0!=!!i){O[L]=T[i][L];for(var D=0;D<2;++D){O[u]=T[D^i][u];for(var P=0;P<2;++P)O[C]=T[P^D^i][C],R.push(O.slice())}var I=A?5:4;for(D=I;D===I;++D){if(0===R.length)continue t;R=o.positive(R,S[D])}for(D=0;D<R.length;++D){C=R[D];var N=_(M,v,C,r,h);for(P=0;P<3;++P)E[P].lo=Math.min(E[P].lo,C[P]),E[P].hi=Math.max(E[P].hi,C[P]),P!==L&&(E[P].pixelsPerDataUnit=Math.min(E[P].pixelsPerDataUnit,Math.abs(N[P])))}}}}return E};var n=r(1051),o=r(705),l=r(704),c=r(472),f=r(532),h=r(1052),d=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),v=new Float32Array(16);function m(t,e,r){this.lo=t,this.hi=e,this.pixelsPerDataUnit=r}var y=[0,0,0,1],x=[0,0,0,1];function _(t,e,r,n,o){for(var i=0;i<3;++i){for(var p=y,q=x,l=0;l<3;++l)q[l]=p[l]=r[l];q[3]=p[3]=1,q[i]+=1,h(q,q,e),q[3]<0&&(t[i]=1/0),p[i]-=1,h(p,p,e),p[3]<0&&(t[i]=1/0);var c=(p[0]/p[3]-q[0]/q[3])*n,f=(p[1]/p[3]-q[1]/q[3])*o;t[i]=.25*Math.sqrt(c*c+f*f)}return t}var w=[new m(1/0,-1/0,1/0),new m(1/0,-1/0,1/0),new m(1/0,-1/0,1/0)],M=[0,0,0]},function(t,e,r){"use strict";t.exports=function(t,e,r){var n=e||0,o=r||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[n*t[12]+t[8],n*t[13]+t[9],n*t[14]+t[10],n*t[15]+t[11]],[o*t[12]-t[8],o*t[13]-t[9],o*t[14]-t[10],o*t[15]-t[11]]]}},function(t,e){t.exports=function(t,a,e){var r=a[0],n=a[1],o=a[2],l=a[3];return t[0]=e[0]*r+e[4]*n+e[8]*o+e[12]*l,t[1]=e[1]*r+e[5]*n+e[9]*o+e[13]*l,t[2]=e[2]*r+e[6]*n+e[10]*o+e[14]*l,t[3]=e[3]*r+e[7]*n+e[11]*o+e[15]*l,t}},function(t,e,r){"use strict";var n=r(451),o=r(453),l=r(1054);t.exports=function(t,e){var data=[];function line(t,e,r,i,n,o){var l=[t,e,r,0,0,0,1];l[i+3]=1,l[i]=n,data.push.apply(data,l),l[6]=-1,data.push.apply(data,l),l[i]=o,data.push.apply(data,l),data.push.apply(data,l),l[6]=1,data.push.apply(data,l),l[i]=n,data.push.apply(data,l)}line(0,0,0,0,0,1),line(0,0,0,1,0,1),line(0,0,0,2,0,1),line(1,0,0,1,-1,1),line(1,0,0,2,-1,1),line(0,1,0,0,-1,1),line(0,1,0,2,-1,1),line(0,0,1,0,-1,1),line(0,0,1,1,-1,1);var r=n(t,data),c=o(t,[{type:t.FLOAT,buffer:r,size:3,offset:0,stride:28},{type:t.FLOAT,buffer:r,size:3,offset:12,stride:28},{type:t.FLOAT,buffer:r,size:1,offset:24,stride:28}]),h=l(t);h.attributes.position.location=0,h.attributes.color.location=1,h.attributes.weight.location=2;var d=new f(t,r,c,h);return d.update(e),d};var c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(t,e,r,n){this.gl=t,this.buffer=e,this.vao=r,this.shader=n,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var h=f.prototype,d=[0,0,0],v=[0,0,0],m=[0,0];h.isTransparent=function(){return!1},h.drawTransparent=function(t){},h.draw=function(t){var e=this.gl,r=this.vao,n=this.shader;r.bind(),n.bind();var o,l=t.model||c,view=t.view||c,f=t.projection||c;this.axes&&(o=this.axes.lastCubeProps.axis);for(var h=d,y=v,i=0;i<3;++i)o&&o[i]<0?(h[i]=this.bounds[0][i],y[i]=this.bounds[1][i]):(h[i]=this.bounds[1][i],y[i]=this.bounds[0][i]);m[0]=e.drawingBufferWidth,m[1]=e.drawingBufferHeight,n.uniforms.model=l,n.uniforms.view=view,n.uniforms.projection=f,n.uniforms.coordinates=[this.position,h,y],n.uniforms.colors=this.colors,n.uniforms.screenShape=m;for(i=0;i<3;++i)n.uniforms.lineWidth=this.lineWidth[i]*this.pixelRatio,this.enabled[i]&&(r.draw(e.TRIANGLES,6,6*i),this.drawSides[i]&&r.draw(e.TRIANGLES,12,18+12*i));r.unbind()},h.update=function(t){t&&("bounds"in t&&(this.bounds=t.bounds),"position"in t&&(this.position=t.position),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"colors"in t&&(this.colors=t.colors),"enabled"in t&&(this.enabled=t.enabled),"drawSides"in t&&(this.drawSides=t.drawSides))},h.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},function(t,e,r){"use strict";var n=r(467),o=r(464),l=n(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),c=n(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);t.exports=function(t){return o(t,l,c,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},function(t,e,r){"use strict";t.exports=function(t,e){var r=e[0],l=e[1],c=n(t,r,l,{}),f=o.mallocUint8(r*l*4);return new h(t,c,f)};var n=r(706),o=r(439),l=r(452),c=r(465).nextPow2;function f(t,e,r,n,o){this.coord=[t,e],this.id=r,this.value=n,this.distance=o}function h(t,e,r){this.gl=t,this.fbo=e,this.buffer=r,this._readTimeout=null;var n=this;this._readCallback=function(){n.gl&&(e.bind(),t.readPixels(0,0,e.shape[0],e.shape[1],t.RGBA,t.UNSIGNED_BYTE,n.buffer),n._readTimeout=null)}}var d=h.prototype;Object.defineProperty(d,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(t){if(this.gl){this.fbo.shape=t;var e=this.fbo.shape[0],r=this.fbo.shape[1];if(r*e*4>this.buffer.length){o.free(this.buffer);for(var n=this.buffer=o.mallocUint8(c(r*e*4)),i=0;i<r*e*4;++i)n[i]=255}return t}}}),d.begin=function(){var t=this.gl;this.shape;t&&(this.fbo.bind(),t.clearColor(1,1,1,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT))},d.end=function(){var t=this.gl;t&&(t.bindFramebuffer(t.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},d.query=function(t,e,r){if(!this.gl)return null;var n=this.fbo.shape.slice();t|=0,e|=0,"number"!=typeof r&&(r=1);var o=0|Math.min(Math.max(t-r,0),n[0]),c=0|Math.min(Math.max(t+r,0),n[0]),h=0|Math.min(Math.max(e-r,0),n[1]),d=0|Math.min(Math.max(e+r,0),n[1]);if(c<=o||d<=h)return null;var v=[c-o,d-h],m=l(this.buffer,[v[0],v[1],4],[4,4*n[0],1],4*(o+n[0]*h)),y=function(t,e,r){for(var n=1e8,o=-1,l=-1,c=t.shape[0],f=t.shape[1],i=0;i<c;i++)for(var h=0;h<f;h++){var d=t.get(i,h,0),g=t.get(i,h,1),b=t.get(i,h,2),a=t.get(i,h,3);if(d<255||g<255||b<255||a<255){var v=e-i,m=r-h,y=v*v+m*m;y<n&&(n=y,o=i,l=h)}}return[o,l,n]}(m.hi(v[0],v[1],1),r,r),x=y[0],_=y[1];return x<0||Math.pow(this.radius,2)<y[2]?null:new f(x+o|0,_+h|0,m.get(x,_,0),[m.get(x,_,1),m.get(x,_,2),m.get(x,_,3)],Math.sqrt(y[2]))},d.dispose=function(){this.gl&&(this.fbo.dispose(),o.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},function(t,e,r){"use strict";var n="undefined"==typeof WeakMap?r(1057):WeakMap,o=r(451),l=r(453),c=new n;t.exports=function(t){var e=c.get(t),r=e&&(e._triangleBuffer.handle||e._triangleBuffer.buffer);if(!r||!t.isBuffer(r)){var n=o(t,new Float32Array([-1,-1,-1,4,4,-1]));(e=l(t,[{buffer:n,type:t.FLOAT,size:2}]))._triangleBuffer=n,c.set(t,e)}e.bind(),t.drawArrays(t.TRIANGLES,0,3),e.unbind()}},function(t,e){!function(){"use strict";if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=w);var e=!1;if("function"==typeof WeakMap){var r=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var n=new r,o=Object.freeze({});if(n.set(o,1),1===n.get(o))return void(t.exports=WeakMap);e=!0}}Object.prototype.hasOwnProperty;var l=Object.getOwnPropertyNames,c=Object.defineProperty,f=Object.isExtensible,h="weakmap:ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var d=new ArrayBuffer(25),v=new Uint8Array(d);crypto.getRandomValues(v),h="weakmap:rand:"+Array.prototype.map.call(v,(function(t){return(t%36).toString(36)})).join("")+"___"}if(c(Object,"getOwnPropertyNames",{value:function(t){return l(t).filter(M)}}),"getPropertyNames"in Object){var m=Object.getPropertyNames;c(Object,"getPropertyNames",{value:function(t){return m(t).filter(M)}})}!function(){var t=Object.freeze;c(Object,"freeze",{value:function(e){return A(e),t(e)}});var e=Object.seal;c(Object,"seal",{value:function(t){return A(t),e(t)}});var r=Object.preventExtensions;c(Object,"preventExtensions",{value:function(t){return A(t),r(t)}})}();var y=!1,x=0,_=function(){this instanceof _||k();var t=[],e=[],r=x++;return Object.create(_.prototype,{get___:{value:T((function(n,o){var l,c=A(n);return c?r in c?c[r]:o:(l=t.indexOf(n))>=0?e[l]:o}))},has___:{value:T((function(e){var n=A(e);return n?r in n:t.indexOf(e)>=0}))},set___:{value:T((function(n,o){var l,c=A(n);return c?c[r]=o:(l=t.indexOf(n))>=0?e[l]=o:(l=t.length,e[l]=o,t[l]=n),this}))},delete___:{value:T((function(n){var o,l,c=A(n);return c?r in c&&delete c[r]:!((o=t.indexOf(n))<0)&&(l=t.length-1,t[o]=void 0,e[o]=e[l],t[o]=t[l],t.length=l,e.length=l,!0)}))}})};_.prototype=Object.create(Object.prototype,{get:{value:function(t,e){return this.get___(t,e)},writable:!0,configurable:!0},has:{value:function(t){return this.has___(t)},writable:!0,configurable:!0},set:{value:function(t,e){return this.set___(t,e)},writable:!0,configurable:!0},delete:{value:function(t){return this.delete___(t)},writable:!0,configurable:!0}}),"function"==typeof r?function(){function n(){this instanceof _||k();var t,n=new r,o=void 0,l=!1;return t=e?function(t,e){return n.set(t,e),n.has(t)||(o||(o=new _),o.set(t,e)),this}:function(t,e){if(l)try{n.set(t,e)}catch(r){o||(o=new _),o.set___(t,e)}else n.set(t,e);return this},Object.create(_.prototype,{get___:{value:T((function(t,e){return o?n.has(t)?n.get(t):o.get___(t,e):n.get(t,e)}))},has___:{value:T((function(t){return n.has(t)||!!o&&o.has___(t)}))},set___:{value:T(t)},delete___:{value:T((function(t){var e=!!n.delete(t);return o&&o.delete___(t)||e}))},permitHostObjects___:{value:T((function(t){if(t!==w)throw new Error("bogus call to permitHostObjects___");l=!0}))}})}e&&"undefined"!=typeof Proxy&&(Proxy=void 0),n.prototype=_.prototype,t.exports=n,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),t.exports=_)}function w(map){map.permitHostObjects___&&map.permitHostObjects___(w)}function M(t){return!("weakmap:"==t.substr(0,"weakmap:".length)&&"___"===t.substr(t.length-3))}function A(t){if(t!==Object(t))throw new TypeError("Not an object: "+t);var e=t[h];if(e&&e.key===t)return e;if(f(t)){e={key:t};try{return c(t,h,{value:e,writable:!1,enumerable:!1,configurable:!1}),e}catch(t){return}}}function T(t){return t.prototype=null,Object.freeze(t)}function k(){y||"undefined"==typeof console||(y=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},function(t,e,r){var n=r(467),o=r(464),l=n(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),c=n(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);t.exports=function(t){return o(t,l,c,null,[{name:"position",type:"vec2"}])}},function(t,e,r){var n=r(1060);t.exports=function(t){return n("webgl",t)}},function(t,e){t.exports=function(t,e){if("string"!=typeof t)throw new TypeError("must specify type string");if(e=e||{},"undefined"==typeof document&&!e.canvas)return null;var canvas=e.canvas||document.createElement("canvas");"number"==typeof e.width&&(canvas.width=e.width);"number"==typeof e.height&&(canvas.height=e.height);var r,n=e;try{var o=[t];0===t.indexOf("webgl")&&o.push("experimental-"+t);for(var i=0;i<o.length;i++)if(r=canvas.getContext(o[i],n))return r}catch(t){r=null}return r||null}},function(t,e,r){"use strict";var n=r(425),o=function(){};t.exports=function(t){for(var e in t)"function"==typeof t[e]&&(t[e]=o);t.destroy=function(){t.container.parentNode.removeChild(t.container)};var div=document.createElement("div");div.className="no-webgl",div.style.cursor="pointer",div.style.fontSize="24px",div.style.color=n.defaults[0],div.style.position="absolute",div.style.left=div.style.top="0px",div.style.width=div.style.height="100%",div.style["background-color"]=n.lightLine,div.style["z-index"]=30;var p=document.createElement("p");return p.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",p.style.position="relative",p.style.top="50%",p.style.left="50%",p.style.height="30%",p.style.width="50%",p.style.margin="-15% 0 0 -25%",div.appendChild(p),t.container.appendChild(div),t.container.style.background="#FFFFFF",t.container.onclick=function(){window.open("https://get.webgl.org")},!1}},function(t,e,r){"use strict";var n=r(485),o=r(421),l=["xaxis","yaxis","zaxis"];function c(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}c.prototype.merge=function(t,e){for(var i=0;i<3;++i){var r=e[l[i]];r.visible?(this.labels[i]=t._meta?o.templateString(r.title.text,t._meta):r.title.text,"font"in r.title&&(r.title.font.color&&(this.labelColor[i]=n(r.title.font.color)),r.title.font.family&&(this.labelFont[i]=r.title.font.family),r.title.font.size&&(this.labelSize[i]=r.title.font.size)),"showline"in r&&(this.lineEnable[i]=r.showline),"linecolor"in r&&(this.lineColor[i]=n(r.linecolor)),"linewidth"in r&&(this.lineWidth[i]=r.linewidth),"showgrid"in r&&(this.gridEnable[i]=r.showgrid),"gridcolor"in r&&(this.gridColor[i]=n(r.gridcolor)),"gridwidth"in r&&(this.gridWidth[i]=r.gridwidth),"log"===r.type?this.zeroEnable[i]=!1:"zeroline"in r&&(this.zeroEnable[i]=r.zeroline),"zerolinecolor"in r&&(this.zeroLineColor[i]=n(r.zerolinecolor)),"zerolinewidth"in r&&(this.zeroLineWidth[i]=r.zerolinewidth),"ticks"in r&&r.ticks?this.lineTickEnable[i]=!0:this.lineTickEnable[i]=!1,"ticklen"in r&&(this.lineTickLength[i]=this._defaultLineTickLength[i]=r.ticklen),"tickcolor"in r&&(this.lineTickColor[i]=n(r.tickcolor)),"tickwidth"in r&&(this.lineTickWidth[i]=r.tickwidth),"tickangle"in r&&(this.tickAngle[i]="auto"===r.tickangle?-3600:Math.PI*-r.tickangle/180),"showticklabels"in r&&(this.tickEnable[i]=r.showticklabels),"tickfont"in r&&(r.tickfont.color&&(this.tickColor[i]=n(r.tickfont.color)),r.tickfont.family&&(this.tickFont[i]=r.tickfont.family),r.tickfont.size&&(this.tickSize[i]=r.tickfont.size)),"mirror"in r?-1!==["ticks","all","allticks"].indexOf(r.mirror)?(this.lineTickMirror[i]=!0,this.lineMirror[i]=!0):!0===r.mirror?(this.lineTickMirror[i]=!1,this.lineMirror[i]=!0):(this.lineTickMirror[i]=!1,this.lineMirror[i]=!1):this.lineMirror[i]=!1,"showbackground"in r&&!1!==r.showbackground?(this.backgroundEnable[i]=!0,this.backgroundColor[i]=n(r.backgroundcolor)):this.backgroundEnable[i]=!1):(this.tickEnable[i]=!1,this.labelEnable[i]=!1,this.lineEnable[i]=!1,this.lineTickEnable[i]=!1,this.gridEnable[i]=!1,this.zeroEnable[i]=!1,this.backgroundEnable[i]=!1)}},t.exports=function(t,e){var r=new c;return r.merge(t,e),r}},function(t,e,r){"use strict";var n=r(485),o=["xaxis","yaxis","zaxis"];function l(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}l.prototype.merge=function(t){for(var i=0;i<3;++i){var e=t[o[i]];e.visible?(this.enabled[i]=e.showspikes,this.colors[i]=n(e.spikecolor),this.drawSides[i]=e.spikesides,this.lineWidth[i]=e.spikethickness):(this.enabled[i]=!1,this.drawSides[i]=!1)}},t.exports=function(t){var e=new l;return e.merge(t),e}},function(t,e,r){"use strict";t.exports=function(t){for(var e=t.axesOptions,r=t.glplot.axesPixels,f=t.fullSceneLayout,h=[[],[],[]],i=0;i<3;++i){var d=f[l[i]];if(d._length=(r[i].hi-r[i].lo)*r[i].pixelsPerDataUnit/t.dataScale[i],Math.abs(d._length)===1/0||isNaN(d._length))h[i]=[];else{d._input_range=d.range.slice(),d.range[0]=r[i].lo/t.dataScale[i],d.range[1]=r[i].hi/t.dataScale[i],d._m=1/(t.dataScale[i]*r[i].pixelsPerDataUnit),d.range[0]===d.range[1]&&(d.range[0]-=1,d.range[1]+=1);var v=d.tickmode;if("auto"===d.tickmode){d.tickmode="linear";var m=d.nticks||o.constrain(d._length/40,4,9);n.autoTicks(d,Math.abs(d.range[1]-d.range[0])/m)}for(var y=n.calcTicks(d,{msUTC:!0}),x=0;x<y.length;++x)y[x].x=y[x].x*t.dataScale[i],"date"===d.type&&(y[x].text=y[x].text.replace(/\<br\>/g," "));h[i]=y,d.tickmode=v}}e.ticks=h;for(i=0;i<3;++i){c[i]=.5*(t.glplot.bounds[0][i]+t.glplot.bounds[1][i]);for(x=0;x<2;++x)e.bounds[x][i]=t.glplot.bounds[x][i]}t.contourLevels=function(t){for(var e=new Array(3),i=0;i<3;++i){for(var r=t[i],n=new Array(r.length),o=0;o<r.length;++o)n[o]=r[o].x;e[i]=n}return e}(h)};var n=r(426),o=r(421),l=["xaxis","yaxis","zaxis"],c=[0,0,0]},function(t,e,r){"use strict";t.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},function(t,e,r){"use strict";var n=r(421),o=r(425),l=r(422),c=r(1067),f=r(1068),h=r(707),d=r(503).getSubplotData;function v(t,e,r,n){for(var c=r("bgcolor"),h=o.combine(c,n.paper_bgcolor),v=["up","center","eye"],m=0;m<v.length;m++)r("camera."+v[m]+".x"),r("camera."+v[m]+".y"),r("camera."+v[m]+".z");r("camera.projection.type");var y=!!r("aspectratio.x")&&!!r("aspectratio.y")&&!!r("aspectratio.z"),x=r("aspectmode",y?"manual":"auto");y||(t.aspectratio=e.aspectratio={x:1,y:1,z:1},"manual"===x&&(e.aspectmode="auto"),t.aspectmode=e.aspectmode);var _=d(n.fullData,"gl3d",n.id);f(t,e,{font:n.font,scene:n.id,data:_,bgColor:h,calendar:n.calendar,autotypenumbersDflt:n.autotypenumbersDflt,fullLayout:n.fullLayout}),l.getComponentMethod("annotations3d","handleDefaults")(t,e,n);var w=n.getDfltFromLayout("dragmode");if(!1!==w&&!w)if(w="orbit",t.camera&&t.camera.up){var M=t.camera.up.x,A=t.camera.up.y,T=t.camera.up.z;0!==T&&(M&&A&&T?T/Math.sqrt(M*M+A*A+T*T)>.999&&(w="turntable"):w="turntable")}else w="turntable";r("dragmode",w),r("hovermode",n.getDfltFromLayout("hovermode"))}t.exports=function(t,e,r){var o=e._basePlotModules.length>1;c(t,e,r,{type:"gl3d",attributes:h,handleDefaults:v,fullLayout:e,font:e.font,fullData:r,getDfltFromLayout:function(e){if(!o)return n.validate(t[e],h[e])?t[e]:void 0},autotypenumbersDflt:e.autotypenumbers,paper_bgcolor:e.paper_bgcolor,calendar:e.calendar})}},function(t,e,r){"use strict";var n=r(421),o=r(428),l=r(566).defaults;t.exports=function(t,e,r,c){var f,h,d=c.type,v=c.attributes,m=c.handleDefaults,y=c.partition||"x",x=e._subplots[d],_=x.length,w=_&&x[0].replace(/\d+$/,"");function M(t,e){return n.coerce(f,h,v,t,e)}for(var i=0;i<_;i++){var A=x[i];f=t[A]?t[A]:t[A]={},h=o.newContainer(e,A,w),M("uirevision",e.uirevision);var T={};T[y]=[i/_,(i+1)/_],l(h,e,M,T),c.id=A,m(f,h,M,c)}}},function(t,e,r){"use strict";var n=r(443).mix,o=r(421),l=r(428),c=r(708),f=r(658),h=r(557),d=["xaxis","yaxis","zaxis"];t.exports=function(t,e,r){var v,m;function y(t,e){return o.coerce(v,m,c,t,e)}for(var x=0;x<d.length;x++){var _=d[x];v=t[_]||{},(m=l.newContainer(e,_))._id=_[0]+r.scene,m._name=_,f(v,m,y,r),h(v,m,y,{font:r.font,letter:_[0],data:r.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelposition:!0,bgColor:r.bgColor,calendar:r.calendar},r.fullLayout),y("gridcolor",n(m.color,r.bgColor,13600/187).toRgbString()),y("title.text",_[0]),m.setScale=o.noop,y("showspikes")&&(y("spikesides"),y("spikethickness"),y("spikecolor",m.color)),y("showaxeslabels"),y("showbackground")&&y("backgroundcolor")}}},function(t,e,r){"use strict";t.exports=r(650)},function(t,e,r){"use strict";t.exports=r(1071)},function(t,e,r){"use strict";t.exports={plot:r(1072),attributes:r(710),markerSymbols:r(578),supplyDefaults:r(1082),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:r(1083),moduleType:"trace",name:"scatter3d",basePlotModule:r(572),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},function(t,e,r){"use strict";var n=r(1073),o=r(1075),l=r(1079),c=r(673),f=r(570),h=r(421),d=r(485),v=r(571).formatColor,m=r(629),y=r(709),x=r(578),_=r(426),w=r(459).appendArrayPointValue,M=r(1081);function A(t,e){this.scene=t,this.uid=e,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var T=A.prototype;function k(a){return null==a?0:a.indexOf("left")>-1?-1:a.indexOf("right")>-1?1:0}function E(a){return null==a?0:a.indexOf("top")>-1?-1:a.indexOf("bottom")>-1?1:0}function S(t,e){return e(4*t)}function L(t){return x[t]}function C(t,e,r,n,o){var l=null;if(h.isArrayOrTypedArray(t)){l=[];for(var i=0;i<e;i++)void 0===t[i]?l[i]=n:l[i]=r(t[i],o)}else l=r(t,h.identity);return l}function O(t,data){var e,r,n,o,i,text,l=[],c=t.fullSceneLayout,f=t.dataScale,y=c.xaxis,x=c.yaxis,A=c.zaxis,marker=data.marker,line=data.line,T=data.x||[],O=data.y||[],R=data.z||[],D=T.length,P=data.xcalendar,I=data.ycalendar,N=data.zcalendar;for(i=0;i<D;i++)e=y.d2l(T[i],0,P)*f[0],r=x.d2l(O[i],0,I)*f[1],n=A.d2l(R[i],0,N)*f[2],l[i]=[e,r,n];if(Array.isArray(data.text))text=data.text;else if(void 0!==data.text)for(text=new Array(D),i=0;i<D;i++)text[i]=data.text;function z(t,e){var r=c[t];return _.tickText(r,r.d2l(e),!0).text}var F=data.texttemplate;if(F){var j=t.fullLayout._d3locale,B=Array.isArray(F),U=B?Math.min(F.length,D):D,H=B?function(i){return F[i]}:function(){return F};for(text=new Array(U),i=0;i<U;i++){var V={x:T[i],y:O[i],z:R[i]},Y={xLabel:z("xaxis",T[i]),yLabel:z("yaxis",O[i]),zLabel:z("zaxis",R[i])},G={};w(G,data,i);var meta=data._meta||{};text[i]=h.texttemplateString(H(i),Y,j,G,V,meta)}}if(o={position:l,mode:data.mode,text:text},"line"in data&&(o.lineColor=v(line,1,D),o.lineWidth=line.width,o.lineDashes=line.dash),"marker"in data){var W=m(data);o.scatterColor=v(marker,1,D),o.scatterSize=C(marker.size,D,S,20,W),o.scatterMarker=C(marker.symbol,D,L,"●"),o.scatterLineWidth=marker.line.width,o.scatterLineColor=v(marker.line,1,D),o.scatterAngle=0}"textposition"in data&&(o.textOffset=function(t){var e=[0,0];if(Array.isArray(t))for(var i=0;i<t.length;i++)e[i]=[0,0],t[i]&&(e[i][0]=k(t[i]),e[i][1]=E(t[i]));else e[0]=k(t),e[1]=E(t);return e}(data.textposition),o.textColor=v(data.textfont,1,D),o.textSize=C(data.textfont.size,D,h.identity,12),o.textFont=data.textfont.family,o.textAngle=0);var X=["x","y","z"];for(o.project=[!1,!1,!1],o.projectScale=[1,1,1],o.projectOpacity=[1,1,1],i=0;i<3;++i){var Z=data.projection[X[i]];(o.project[i]=Z.show)&&(o.projectOpacity[i]=Z.opacity,o.projectScale[i]=Z.scale)}o.errorBounds=M(data,f,c);var J=function(t){for(var e=[0,0,0],r=[[0,0,0],[0,0,0],[0,0,0]],n=[1,1,1],i=0;i<3;i++){var o=t[i];o&&!1!==o.copy_zstyle&&!1!==t[2].visible&&(o=t[2]),o&&o.visible&&(e[i]=o.width/2,r[i]=d(o.color),n[i]=o.thickness)}return{capSize:e,color:r,lineWidth:n}}([data.error_x,data.error_y,data.error_z]);return o.errorColor=J.color,o.errorLineWidth=J.lineWidth,o.errorCapSize=J.capSize,o.delaunayAxis=data.surfaceaxis,o.delaunayColor=d(data.surfacecolor),o}function R(t){if(h.isArrayOrTypedArray(t)){var e=t[0];return h.isArrayOrTypedArray(e)&&(t=e),"rgb("+t.slice(0,3).map((function(t){return Math.round(255*t)}))+")"}return null}function D(t){return h.isArrayOrTypedArray(t)?4===t.length&&"number"==typeof t[0]?R(t):t.map(R):null}T.handlePick=function(t){if(t.object&&(t.object===this.linePlot||t.object===this.delaunayMesh||t.object===this.textMarkers||t.object===this.scatterPlot)){var e=t.index=t.data.index;return t.object.highlight&&t.object.highlight(null),this.scatterPlot&&(t.object=this.scatterPlot,this.scatterPlot.highlight(t.data)),t.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[e]||0===this.textLabels[e])&&(t.textLabel=this.textLabels[e]):t.textLabel=this.textLabels),t.traceCoordinate=[this.data.x[e],this.data.y[e],this.data.z[e]],!0}},T.update=function(data){var t,e,r,h,d=this.scene.glplot.gl,v=y.solid;this.data=data;var m=O(this.scene,data);"mode"in m&&(this.mode=m.mode),"lineDashes"in m&&m.lineDashes in y&&(v=y[m.lineDashes]),this.color=D(m.scatterColor)||D(m.lineColor),this.dataPoints=m.position,t={gl:this.scene.glplot.gl,position:m.position,color:m.lineColor,lineWidth:m.lineWidth||1,dashes:v[0],dashScale:v[1],opacity:data.opacity,connectGaps:data.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(t):(this.linePlot=n(t),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var x=data.opacity;if(data.marker&&data.marker.opacity&&(x*=data.marker.opacity),e={gl:this.scene.glplot.gl,position:m.position,color:m.scatterColor,size:m.scatterSize,glyph:m.scatterMarker,opacity:x,orthographic:!0,lineWidth:m.scatterLineWidth,lineColor:m.scatterLineColor,project:m.project,projectScale:m.projectScale,projectOpacity:m.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(e):(this.scatterPlot=o(e),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),h={gl:this.scene.glplot.gl,position:m.position,glyph:m.text,color:m.textColor,size:m.textSize,angle:m.textAngle,alignment:m.textOffset,font:m.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:data.opacity},this.textLabels=data.hovertext||data.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(h):(this.textMarkers=o(h),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),r={gl:this.scene.glplot.gl,position:m.position,color:m.errorColor,error:m.errorBounds,lineWidth:m.errorLineWidth,capSize:m.errorCapSize,opacity:data.opacity},this.errorBars?m.errorBounds?this.errorBars.update(r):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):m.errorBounds&&(this.errorBars=l(r),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),m.delaunayAxis>=0){var _=function(t,e,r){var i,u=(r+1)%3,n=(r+2)%3,o=[],l=[];for(i=0;i<t.length;++i){var p=t[i];!isNaN(p[u])&&isFinite(p[u])&&!isNaN(p[n])&&isFinite(p[n])&&(o.push([p[u],p[n]]),l.push(i))}var c=f(o);for(i=0;i<c.length;++i)for(var h=c[i],d=0;d<h.length;++d)h[d]=l[h[d]];return{positions:t,cells:c,meshColor:e}}(m.position,m.delaunayColor,m.delaunayAxis);_.opacity=data.opacity,this.delaunayMesh?this.delaunayMesh.update(_):(_.gl=d,this.delaunayMesh=c(_),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},T.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},t.exports=function(t,data){var e=new A(t,data.uid);return e.update(data),e}},function(t,e,r){"use strict";t.exports=function(t){var e=t.gl||t.scene&&t.scene.gl,r=m(e);r.attributes.position.location=0,r.attributes.nextPosition.location=1,r.attributes.arcLength.location=2,r.attributes.lineWidth.location=3,r.attributes.color.location=4;var c=y(e);c.attributes.position.location=0,c.attributes.nextPosition.location=1,c.attributes.arcLength.location=2,c.attributes.lineWidth.location=3,c.attributes.color.location=4;for(var f=n(e),h=o(e,[{buffer:f,size:3,offset:0,stride:48},{buffer:f,size:3,offset:12,stride:48},{buffer:f,size:1,offset:24,stride:48},{buffer:f,size:1,offset:28,stride:48},{buffer:f,size:4,offset:32,stride:48}]),v=d(new Array(1024),[256,1,4]),i=0;i<1024;++i)v.data[i]=255;var x=l(e,v);x.wrap=e.REPEAT;var _=new A(e,r,c,f,h,x);return _.update(t),_};var n=r(451),o=r(453),l=r(516),c=new Uint8Array(4),f=new Float32Array(c.buffer);var h=r(486),d=r(452),v=r(1074),m=v.createShader,y=v.createPickShader,x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _(a,b){for(var s=0,i=0;i<3;++i){var t=a[i]-b[i];s+=t*t}return Math.sqrt(s)}function w(t){for(var e=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],i=0;i<3;++i)e[0][i]=Math.max(t[0][i],e[0][i]),e[1][i]=Math.min(t[1][i],e[1][i]);return e}function M(t,e,r,n){this.arcLength=t,this.position=e,this.index=r,this.dataCoordinate=n}function A(t,e,r,n,o,l){this.gl=t,this.shader=e,this.pickShader=r,this.buffer=n,this.vao=o,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=l,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var T=A.prototype;T.isTransparent=function(){return this.hasAlpha},T.isOpaque=function(){return!this.hasAlpha},T.pickSlots=1,T.setPickBase=function(t){this.pickId=t},T.drawTransparent=T.draw=function(t){if(this.vertexCount){var e=this.gl,r=this.shader,n=this.vao;r.bind(),r.uniforms={model:t.model||x,view:t.view||x,projection:t.projection||x,clipBounds:w(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[e.drawingBufferWidth,e.drawingBufferHeight],pixelRatio:this.pixelRatio},n.bind(),n.draw(e.TRIANGLE_STRIP,this.vertexCount),n.unbind()}},T.drawPick=function(t){if(this.vertexCount){var e=this.gl,r=this.pickShader,n=this.vao;r.bind(),r.uniforms={model:t.model||x,view:t.view||x,projection:t.projection||x,pickId:this.pickId,clipBounds:w(this.clipBounds),screenShape:[e.drawingBufferWidth,e.drawingBufferHeight],pixelRatio:this.pixelRatio},n.bind(),n.draw(e.TRIANGLE_STRIP,this.vertexCount),n.unbind()}},T.update=function(t){var i,e;this.dirty=!0;var r=!!t.connectGaps;"dashScale"in t&&(this.dashScale=t.dashScale),this.hasAlpha=!1,"opacity"in t&&(this.opacity=+t.opacity,this.opacity<1&&(this.hasAlpha=!0));var n=[],o=[],l=[],c=0,f=0,v=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],m=t.position||t.positions;if(m){var y=t.color||t.colors||[0,0,0,1],x=t.lineWidth||1,w=!1;t:for(i=1;i<m.length;++i){var M,A,T,a=m[i-1],b=m[i];for(o.push(c),l.push(a.slice()),e=0;e<3;++e){if(isNaN(a[e])||isNaN(b[e])||!isFinite(a[e])||!isFinite(b[e])){if(!r&&n.length>0){for(var k=0;k<24;++k)n.push(n[n.length-12]);f+=2,w=!0}continue t}v[0][e]=Math.min(v[0][e],a[e],b[e]),v[1][e]=Math.max(v[1][e],a[e],b[e])}Array.isArray(y[0])?(M=y.length>i-1?y[i-1]:y.length>0?y[y.length-1]:[0,0,0,1],A=y.length>i?y[i]:y.length>0?y[y.length-1]:[0,0,0,1]):M=A=y,3===M.length&&(M=[M[0],M[1],M[2],1]),3===A.length&&(A=[A[0],A[1],A[2],1]),!this.hasAlpha&&M[3]<1&&(this.hasAlpha=!0),T=Array.isArray(x)?x.length>i-1?x[i-1]:x.length>0?x[x.length-1]:[0,0,0,1]:x;var E=c;if(c+=_(a,b),w){for(e=0;e<2;++e)n.push(a[0],a[1],a[2],b[0],b[1],b[2],E,T,M[0],M[1],M[2],M[3]);f+=2,w=!1}n.push(a[0],a[1],a[2],b[0],b[1],b[2],E,T,M[0],M[1],M[2],M[3],a[0],a[1],a[2],b[0],b[1],b[2],E,-T,M[0],M[1],M[2],M[3],b[0],b[1],b[2],a[0],a[1],a[2],c,-T,A[0],A[1],A[2],A[3],b[0],b[1],b[2],a[0],a[1],a[2],c,T,A[0],A[1],A[2],A[3]),f+=4}}if(this.buffer.update(n),o.push(c),l.push(m[m.length-1].slice()),this.bounds=v,this.vertexCount=f,this.points=l,this.arcLength=o,"dashes"in t){var S=t.dashes.slice();for(S.unshift(0),i=1;i<S.length;++i)S[i]=S[i-1]+S[i];var L=d(new Array(1024),[256,1,4]);for(i=0;i<256;++i){for(e=0;e<4;++e)L.set(i,0,e,0);1&h.le(S,S[S.length-1]*i/255)?L.set(i,0,0,0):L.set(i,0,0,255)}this.texture.setPixels(L)}},T.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},T.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=function(t,e,r,n){return c[0]=n,c[1]=r,c[2]=e,c[3]=t,f[0]}(t.value[0],t.value[1],t.value[2],0),r=h.le(this.arcLength,e);if(r<0)return null;if(r===this.arcLength.length-1)return new M(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),r);for(var a=this.points[r],b=this.points[Math.min(r+1,this.points.length-1)],n=(e-this.arcLength[r])/(this.arcLength[r+1]-this.arcLength[r]),o=1-n,l=[0,0,0],i=0;i<3;++i)l[i]=o*a[i]+n*b[i];var d=Math.min(n<.5?r:r+1,this.points.length-1);return new M(e,l,d,this.points[d])}},function(t,e,r){var n=r(467),o=r(464),l=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),c=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),f=n(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\nvec4 packFloat(float v) {\n  float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  float e = floor(log2(av));\n  float m = av * pow(2.0, -e) - 1.0;\n\n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n\n  //Unpack exponent\n  float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0;\n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\n}"]),h=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];e.createShader=function(t){return o(t,l,c,null,h)},e.createPickShader=function(t){return o(t,l,f,null,h)}},function(t,e,r){"use strict";var n=r(602),o=r(451),l=r(453),c=r(439),f=r(472),h=r(1076),d=r(1077),v=r(1078),m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function y(t,e){var r=t[0],n=t[1],o=t[2],l=t[3];return t[0]=e[0]*r+e[4]*n+e[8]*o+e[12]*l,t[1]=e[1]*r+e[5]*n+e[9]*o+e[13]*l,t[2]=e[2]*r+e[6]*n+e[10]*o+e[14]*l,t[3]=e[3]*r+e[7]*n+e[11]*o+e[15]*l,t}function x(p,t,e,r){return y(r,r),y(r,r),y(r,r)}function _(t,e){this.index=t,this.dataCoordinate=this.position=e}function w(a){return!0===a||a>1?1:a}function M(t,e,r,n,o,l,c,f,h,d,v,m){this.gl=t,this.pixelRatio=1,this.shader=e,this.orthoShader=r,this.projectShader=n,this.pointBuffer=o,this.colorBuffer=l,this.glyphBuffer=c,this.idBuffer=f,this.vao=h,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[2/3,2/3,2/3],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=d,this.pickOrthoShader=v,this.pickProjectShader=m,this.points=[],this._selectResult=new _(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}t.exports=function(t){var e=t.gl,r=h.createPerspective(e),n=h.createOrtho(e),c=h.createProject(e),f=h.createPickPerspective(e),d=h.createPickOrtho(e),v=h.createPickProject(e),m=o(e),y=o(e),x=o(e),_=o(e),w=l(e,[{buffer:m,size:3,type:e.FLOAT},{buffer:y,size:4,type:e.FLOAT},{buffer:x,size:2,type:e.FLOAT},{buffer:_,size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),A=new M(e,r,n,c,m,y,x,_,w,f,d,v);return A.update(t),A};var A=M.prototype;A.pickSlots=1,A.setPickBase=function(t){this.pickId=t},A.isTransparent=function(){if(this.hasAlpha)return!0;for(var i=0;i<3;++i)if(this.axesProject[i]&&this.projectHasAlpha)return!0;return!1},A.isOpaque=function(){if(!this.hasAlpha)return!0;for(var i=0;i<3;++i)if(this.axesProject[i]&&!this.projectHasAlpha)return!0;return!1};var T=[0,0],k=[0,0,0],E=[0,0,0],S=[0,0,0,1],L=[0,0,0,1],C=m.slice(),O=[0,0,0],R=[[0,0,0],[0,0,0]];function D(a){return a[0]=a[1]=a[2]=0,a}function P(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=1,t}function I(t,e,i,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[i]=r,t}function N(t,e,r,n){var o,l=e.axesProject,c=e.gl,h=t.uniforms,d=r.model||m,view=r.view||m,v=r.projection||m,y=e.axesBounds,_=function(t){for(var e=R,i=0;i<2;++i)for(var r=0;r<3;++r)e[i][r]=Math.max(Math.min(t[i][r],1e8),-1e8);return e}(e.clipBounds);o=e.axes&&e.axes.lastCubeProps?e.axes.lastCubeProps.axis:[1,1,1],T[0]=2/c.drawingBufferWidth,T[1]=2/c.drawingBufferHeight,t.bind(),h.view=view,h.projection=v,h.screenSize=T,h.highlightId=e.highlightId,h.highlightScale=e.highlightScale,h.clipBounds=_,h.pickGroup=e.pickId/255,h.pixelRatio=n;for(var i=0;i<3;++i)if(l[i]){h.scale=e.projectScale[i],h.opacity=e.projectOpacity[i];for(var w=C,M=0;M<16;++M)w[M]=0;for(M=0;M<4;++M)w[5*M]=1;w[5*i]=0,o[i]<0?w[12+i]=y[0][i]:w[12+i]=y[1][i],f(w,d,w),h.model=w;var u=(i+1)%3,A=(i+2)%3,N=D(k),z=D(E);N[u]=1,z[A]=1;var F=x(0,0,0,P(S,N)),j=x(0,0,0,P(L,z));if(Math.abs(F[1])>Math.abs(j[1])){var B=F;F=j,j=B,B=N,N=z,z=B;var U=u;u=A,A=U}F[0]<0&&(N[u]=-1),j[1]>0&&(z[A]=-1);var H=0,V=0;for(M=0;M<4;++M)H+=Math.pow(d[4*u+M],2),V+=Math.pow(d[4*A+M],2);N[u]/=Math.sqrt(H),z[A]/=Math.sqrt(V),h.axes[0]=N,h.axes[1]=z,h.fragClipBounds[0]=I(O,_[0],i,-1e8),h.fragClipBounds[1]=I(O,_[1],i,1e8),e.vao.bind(),e.vao.draw(c.TRIANGLES,e.vertexCount),e.lineWidth>0&&(c.lineWidth(e.lineWidth*n),e.vao.draw(c.LINES,e.lineVertexCount,e.vertexCount)),e.vao.unbind()}}var z=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function F(t,e,r,n,o,l,c){var f=r.gl;if((l===r.projectHasAlpha||c)&&N(e,r,n,o),l===r.hasAlpha||c){t.bind();var h=t.uniforms;h.model=n.model||m,h.view=n.view||m,h.projection=n.projection||m,T[0]=2/f.drawingBufferWidth,T[1]=2/f.drawingBufferHeight,h.screenSize=T,h.highlightId=r.highlightId,h.highlightScale=r.highlightScale,h.fragClipBounds=z,h.clipBounds=r.axes.bounds,h.opacity=r.opacity,h.pickGroup=r.pickId/255,h.pixelRatio=o,r.vao.bind(),r.vao.draw(f.TRIANGLES,r.vertexCount),r.lineWidth>0&&(f.lineWidth(r.lineWidth*o),r.vao.draw(f.LINES,r.lineVertexCount,r.vertexCount)),r.vao.unbind()}}function j(t,e,r,o){var l;l=Array.isArray(t)?e<t.length?t[e]:void 0:t,l=v(l);var c=!0;n(l)&&(l="▼",c=!1);var glyph=d(l,r,o);return{mesh:glyph[0],lines:glyph[1],bounds:glyph[2],visible:c}}A.draw=function(t){F(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,t,this.pixelRatio,!1,!1)},A.drawTransparent=function(t){F(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,t,this.pixelRatio,!0,!1)},A.drawPick=function(t){F(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,t,1,!0,!0)},A.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=t.value[2]+(t.value[1]<<8)+(t.value[0]<<16);if(e>=this.pointCount||e<0)return null;var r=this.points[e],n=this._selectResult;n.index=e;for(var i=0;i<3;++i)n.position[i]=n.dataCoordinate[i]=r[i];return n},A.highlight=function(t){if(t){var e=t.index,r=255&e,n=e>>8&255,o=e>>16&255;this.highlightId=[r/255,n/255,o/255,0]}else this.highlightId=[1,1,1,1]},A.update=function(t){if("perspective"in(t=t||{})&&(this.useOrtho=!t.perspective),"orthographic"in t&&(this.useOrtho=!!t.orthographic),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"project"in t)if(Array.isArray(t.project))this.axesProject=t.project;else{var e=!!t.project;this.axesProject=[e,e,e]}if("projectScale"in t)if(Array.isArray(t.projectScale))this.projectScale=t.projectScale.slice();else{var s=+t.projectScale;this.projectScale=[s,s,s]}if(this.projectHasAlpha=!1,"projectOpacity"in t){if(Array.isArray(t.projectOpacity))this.projectOpacity=t.projectOpacity.slice();else{s=+t.projectOpacity;this.projectOpacity=[s,s,s]}for(var i=0;i<3;++i)this.projectOpacity[i]=w(this.projectOpacity[i]),this.projectOpacity[i]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in t&&(this.opacity=w(t.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var r,n,o=t.position,l=t.font||"normal",f=t.alignment||[0,0];if(2===f.length)r=f[0],n=f[1];else{r=[],n=[];for(i=0;i<f.length;++i)r[i]=f[i][0],n[i]=f[i][1]}var h=[1/0,1/0,1/0],d=[-1/0,-1/0,-1/0],v=t.glyph,m=t.color,y=t.size,x=t.angle,_=t.lineColor,M=-1,A=0,T=0,k=0;if(o.length){k=o.length;t:for(i=0;i<k;++i){for(var E=o[i],S=0;S<3;++S)if(isNaN(E[S])||!isFinite(E[S]))continue t;var L=(Y=j(v,i,l,this.pixelRatio)).mesh,C=Y.lines,O=Y.bounds;A+=3*L.cells.length,T+=2*C.edges.length}}var R=A+T,D=c.mallocFloat(3*R),P=c.mallocFloat(4*R),I=c.mallocFloat(2*R),N=c.mallocUint32(R);if(R>0){var z=0,F=A,B=[0,0,0,1],U=[0,0,0,1],H=Array.isArray(m)&&Array.isArray(m[0]),V=Array.isArray(_)&&Array.isArray(_[0]);t:for(i=0;i<k;++i){M+=1;for(E=o[i],S=0;S<3;++S){if(isNaN(E[S])||!isFinite(E[S]))continue t;d[S]=Math.max(d[S],E[S]),h[S]=Math.min(h[S],E[S])}L=(Y=j(v,i,l,this.pixelRatio)).mesh,C=Y.lines,O=Y.bounds;var Y,G=Y.visible;if(G)if(Array.isArray(m)){if(3===(W=H?i<m.length?m[i]:[0,0,0,0]:m).length){for(S=0;S<3;++S)B[S]=W[S];B[3]=1}else if(4===W.length){for(S=0;S<4;++S)B[S]=W[S];!this.hasAlpha&&W[3]<1&&(this.hasAlpha=!0)}}else B[0]=B[1]=B[2]=0,B[3]=1;else B=[1,1,1,0];if(G)if(Array.isArray(_)){var W;if(3===(W=V?i<_.length?_[i]:[0,0,0,0]:_).length){for(S=0;S<3;++S)U[S]=W[S];U[S]=1}else if(4===W.length){for(S=0;S<4;++S)U[S]=W[S];!this.hasAlpha&&W[3]<1&&(this.hasAlpha=!0)}}else U[0]=U[1]=U[2]=0,U[3]=1;else U=[1,1,1,0];var X=.5;G?Array.isArray(y)?X=i<y.length?+y[i]:12:y?X=+y:this.useOrtho&&(X=12):X=0;var Z=0;Array.isArray(x)?Z=i<x.length?+x[i]:0:x&&(Z=+x);var J=Math.cos(Z),Q=Math.sin(Z);for(E=o[i],S=0;S<3;++S)d[S]=Math.max(d[S],E[S]),h[S]=Math.min(h[S],E[S]);var K=r,$=n;K=0;Array.isArray(r)?K=i<r.length?r[i]:0:r&&(K=r);$=0;Array.isArray(n)?$=i<n.length?n[i]:0:n&&($=n);var tt=[K*=K>0?1-O[0][0]:K<0?1+O[1][0]:1,$*=$>0?1-O[0][1]:$<0?1+O[1][1]:1],et=L.cells||[],nt=L.positions||[];for(S=0;S<et.length;++S)for(var it=et[S],at=0;at<3;++at){for(var ot=0;ot<3;++ot)D[3*z+ot]=E[ot];for(ot=0;ot<4;++ot)P[4*z+ot]=B[ot];N[z]=M;var p=nt[it[at]];I[2*z]=X*(J*p[0]-Q*p[1]+tt[0]),I[2*z+1]=X*(Q*p[0]+J*p[1]+tt[1]),z+=1}for(et=C.edges,nt=C.positions,S=0;S<et.length;++S)for(it=et[S],at=0;at<2;++at){for(ot=0;ot<3;++ot)D[3*F+ot]=E[ot];for(ot=0;ot<4;++ot)P[4*F+ot]=U[ot];N[F]=M;p=nt[it[at]];I[2*F]=X*(J*p[0]-Q*p[1]+tt[0]),I[2*F+1]=X*(Q*p[0]+J*p[1]+tt[1]),F+=1}}}this.bounds=[h,d],this.points=o,this.pointCount=o.length,this.vertexCount=A,this.lineVertexCount=T,this.pointBuffer.update(D),this.colorBuffer.update(P),this.glyphBuffer.update(I),this.idBuffer.update(N),c.free(D),c.free(P),c.free(I),c.free(N)},A.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},function(t,e,r){var n=r(464),o=r(467),l=o(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),c=o(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),f=o(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),h=o(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),d=o(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),v=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],m={vertex:l,fragment:h,attributes:v},y={vertex:c,fragment:h,attributes:v},x={vertex:f,fragment:h,attributes:v},_={vertex:l,fragment:d,attributes:v},w={vertex:c,fragment:d,attributes:v},M={vertex:f,fragment:d,attributes:v};function A(t,e){var r=n(t,e),o=r.attributes;return o.position.location=0,o.color.location=1,o.glyph.location=2,o.id.location=3,r}e.createPerspective=function(t){return A(t,m)},e.createOrtho=function(t){return A(t,y)},e.createProject=function(t){return A(t,x)},e.createPickPerspective=function(t){return A(t,_)},e.createPickOrtho=function(t){return A(t,w)},e.createPickProject=function(t){return A(t,M)}},function(t,e,r){"use strict";var n=r(694);t.exports=function(symbol,t,e){var r=o[t];r||(r=o[t]={});if(symbol in r)return r[symbol];var l={textAlign:"center",textBaseline:"middle",lineHeight:1,font:t,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},c=n(symbol,l);l.triangles=!1;var i,f,h=n(symbol,l);if(e&&1!==e){for(i=0;i<c.positions.length;++i)for(f=0;f<c.positions[i].length;++f)c.positions[i][f]/=e;for(i=0;i<h.positions.length;++i)for(f=0;f<h.positions[i].length;++f)h.positions[i][f]/=e}var d=[[1/0,1/0],[-1/0,-1/0]],v=h.positions.length;for(i=0;i<v;++i){var p=h.positions[i];for(f=0;f<2;++f)d[0][f]=Math.min(d[0][f],p[f]),d[1][f]=Math.max(d[1][f],p[f])}return r[symbol]=[c,h,d]};var o={}},function(t,e,r){"use strict";t.exports=function(a){return a||0===a?a.toString():""}},function(t,e,r){"use strict";t.exports=function(t){var e=t.gl,r=n(e),c=o(e,[{buffer:r,type:e.FLOAT,size:3,offset:0,stride:40},{buffer:r,type:e.FLOAT,size:4,offset:12,stride:40},{buffer:r,type:e.FLOAT,size:3,offset:28,stride:40}]),h=l(e);h.attributes.position.location=0,h.attributes.color.location=1,h.attributes.offset.location=2;var d=new f(e,r,c,h);return d.update(t),d};var n=r(451),o=r(453),l=r(1080),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(t,e,r,n){this.gl=t,this.shader=n,this.buffer=e,this.vao=r,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var h=f.prototype;function d(t,e){for(var i=0;i<3;++i)t[0][i]=Math.min(t[0][i],e[i]),t[1][i]=Math.max(t[1][i],e[i])}h.isOpaque=function(){return!this.hasAlpha},h.isTransparent=function(){return this.hasAlpha},h.drawTransparent=h.draw=function(t){var e=this.gl,r=this.shader.uniforms;this.shader.bind();var view=r.view=t.view||c,n=r.projection=t.projection||c;r.model=t.model||c,r.clipBounds=this.clipBounds,r.opacity=this.opacity;var o=view[12],l=view[13],f=view[14],h=view[15],d=(t._ortho||!1?2:1)*this.pixelRatio*(n[3]*o+n[7]*l+n[11]*f+n[15]*h)/e.drawingBufferHeight;this.vao.bind();for(var i=0;i<3;++i)e.lineWidth(this.lineWidth[i]*this.pixelRatio),r.capSize=this.capSize[i]*d,this.lineCount[i]&&e.drawArrays(e.LINES,this.lineOffset[i],this.lineCount[i]);this.vao.unbind()};var v=function(){for(var table=new Array(3),t=0;t<3;++t){for(var e=[],r=1;r<=2;++r)for(var s=-1;s<=1;s+=2){var n=[0,0,0];n[(r+t)%3]=s,e.push(n)}table[t]=e}return table}();function m(t,e,r,n){for(var o=v[n],i=0;i<o.length;++i){var l=o[i];t.push(e[0],e[1],e[2],r[0],r[1],r[2],r[3],l[0],l[1],l[2])}return o.length}h.update=function(t){"lineWidth"in(t=t||{})&&(this.lineWidth=t.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in t&&(this.capSize=t.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in t&&(this.opacity=+t.opacity,this.opacity<1&&(this.hasAlpha=!0));var e=t.color||[[0,0,0],[0,0,0],[0,0,0]],r=t.position,n=t.error;if(Array.isArray(e[0])||(e=[e,e,e]),r&&n){var o=[],l=r.length,c=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var f=0;f<3;++f){this.lineOffset[f]=c;t:for(var i=0;i<l;++i){for(var p=r[i],h=0;h<3;++h)if(isNaN(p[h])||!isFinite(p[h]))continue t;var v=n[i],y=e[f];if(Array.isArray(y[0])&&(y=e[i]),3===y.length?y=[y[0],y[1],y[2],1]:4===y.length&&(y=[y[0],y[1],y[2],y[3]],!this.hasAlpha&&y[3]<1&&(this.hasAlpha=!0)),!isNaN(v[0][f])&&!isNaN(v[1][f])){var x;if(v[0][f]<0)(x=p.slice())[f]+=v[0][f],o.push(p[0],p[1],p[2],y[0],y[1],y[2],y[3],0,0,0,x[0],x[1],x[2],y[0],y[1],y[2],y[3],0,0,0),d(this.bounds,x),c+=2+m(o,x,y,f);if(v[1][f]>0)(x=p.slice())[f]+=v[1][f],o.push(p[0],p[1],p[2],y[0],y[1],y[2],y[3],0,0,0,x[0],x[1],x[2],y[0],y[1],y[2],y[3],0,0,0),d(this.bounds,x),c+=2+m(o,x,y,f)}}this.lineCount[f]=c-this.lineOffset[f]}this.buffer.update(o)}},h.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},function(t,e,r){"use strict";var n=r(467),o=r(464),l=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),c=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);t.exports=function(t){return o(t,l,c,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},function(t,e,r){"use strict";var n=r(422);function o(data,t,e,r){if(!t||!t.visible)return null;for(var o=n.getComponentMethod("errorbars","makeComputeError")(t),l=new Array(data.length),i=0;i<data.length;i++){var c=o(+data[i],i);if("log"===r.type){var f=r.c2l(data[i]),h=data[i]-c[0],d=data[i]+c[1];if(l[i]=[(r.c2l(h,!0)-f)*e,(r.c2l(d,!0)-f)*e],h>0){var v=r.c2l(h);r._lowerLogErrorBound||(r._lowerLogErrorBound=v),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,v)}}else l[i]=[-c[0]*e,c[1]*e]}return l}t.exports=function(data,t,e){var r=[o(data.x,data.error_x,t[0],e.xaxis),o(data.y,data.error_y,t[1],e.yaxis),o(data.z,data.error_z,t[2],e.zaxis)],n=function(t){for(var i=0;i<t.length;i++)if(t[i])return t[i].length;return 0}(r);if(0===n)return null;for(var l=new Array(n),i=0;i<n;i++){for(var c=[[0,0,0],[0,0,0]],f=0;f<3;f++)if(r[f])for(var h=0;h<2;h++)c[h][f]=r[f][i][h];l[i]=c}return l}},function(t,e,r){"use strict";var n=r(422),o=r(421),l=r(442),c=r(652),f=r(653),h=r(654),d=r(710);t.exports=function(t,e,r,v){function m(r,n){return o.coerce(t,e,d,r,n)}if(function(t,e,r,o){var l=0,c=r("x"),f=r("y"),h=r("z");n.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y","z"],o),c&&f&&h&&(l=Math.min(c.length,f.length,h.length),e._length=e._xlength=e._ylength=e._zlength=l);return l}(t,e,m,v)){m("text"),m("hovertext"),m("hovertemplate"),m("mode"),l.hasLines(e)&&(m("connectgaps"),f(t,e,r,v,m)),l.hasMarkers(e)&&c(t,e,r,v,m,{noSelect:!0}),l.hasText(e)&&(m("texttemplate"),h(t,e,v,m,{noSelect:!0}));var y=(e.line||{}).color,x=(e.marker||{}).color;m("surfaceaxis")>=0&&m("surfacecolor",y||x);for(var _=["x","y","z"],i=0;i<3;++i){var w="projection."+_[i];m(w+".show")&&(m(w+".opacity"),m(w+".scale"))}var M=n.getComponentMethod("errorbars","supplyDefaults");M(t,e,y||x||r,{axis:"z"}),M(t,e,y||x||r,{axis:"y",inherit:"z"}),M(t,e,y||x||r,{axis:"x",inherit:"z"})}else e.visible=!1}},function(t,e,r){"use strict";var n=r(555),o=r(656);t.exports=function(t,e){var r=[{x:!1,y:!1,trace:e,t:{}}];return n(r,e),o(t,e),r}},function(t,e,r){"use strict";t.exports=r(1085)},function(t,e,r){"use strict";t.exports={attributes:r(711),supplyDefaults:r(1087),calc:r(1092),plot:r(1101).plot,style:r(1109),colorbar:r(1111),hoverPoints:r(1112),moduleType:"trace",name:"contour",basePlotModule:r(556),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},function(t,e,r){"use strict";var n=r(473),o=r(449),l=r(474).hovertemplateAttrs,c=r(462),f=(r(482).FORMAT_LINK,r(429).extendFlat);t.exports=f({z:{valType:"data_array",editType:"calc"},x:f({},n.x,{impliedEdits:{xtype:"array"}}),x0:f({},n.x0,{impliedEdits:{xtype:"scaled"}}),dx:f({},n.dx,{impliedEdits:{xtype:"scaled"}}),y:f({},n.y,{impliedEdits:{ytype:"array"}}),y0:f({},n.y0,{impliedEdits:{ytype:"scaled"}}),dy:f({},n.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:f({},n.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:f({},n.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:f({},n.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:f({},n.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:f({},n.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:f({},n.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},zhoverformat:{valType:"string",dflt:"",editType:"none"},hovertemplate:l(),showlegend:f({},o.showlegend,{dflt:!1})},{transforms:void 0},c("",{cLetter:"z",autoColorDflt:!1}))},function(t,e,r){"use strict";var n=r(421),o=r(1088),l=r(651),c=r(1089),f=r(1090),h=r(1091),d=r(711);t.exports=function(t,e,r,v){function m(r,o){return n.coerce(t,e,d,r,o)}if(o(t,e,m,v)){l(t,e,v,m),m("text"),m("hovertext"),m("hovertemplate"),m("hoverongaps");var y="constraint"===m("contours.type");m("connectgaps",n.isArray1D(e.z)),y?c(t,e,m,v,r):(f(t,e,m,(function(r){return n.coerce2(t,e,d,r)})),h(t,e,m,v))}else e.visible=!1}},function(t,e,r){"use strict";var n=r(424),o=r(421),l=r(422);function c(t,e){var r=e(t);return"scaled"===(r?e(t+"type","array"):"scaled")&&(e(t+"0"),e("d"+t)),r}t.exports=function(t,e,r,f,h,d){var v,m,y=r("z");if(h=h||"x",d=d||"y",void 0===y||!y.length)return 0;if(o.isArray1D(t.z)){v=r(h),m=r(d);var x=o.minRowLength(v),_=o.minRowLength(m);if(0===x||0===_)return 0;e._length=Math.min(x,_,y.length)}else{if(v=c(h,r),m=c(d,r),!function(t){for(var e,r=!0,l=!1,c=!1,i=0;i<t.length;i++){if(e=t[i],!o.isArrayOrTypedArray(e)){r=!1;break}e.length>0&&(l=!0);for(var f=0;f<e.length;f++)if(n(e[f])){c=!0;break}}return r&&l&&c}(y))return 0;r("transpose"),e._length=null}return"heatmapgl"===t.type||"contourgl"===t.type||l.getComponentMethod("calendars","handleTraceDefaults")(t,e,[h,d],f),!0}},function(t,e,r){"use strict";var n=r(424),o=r(712),l=r(425),c=l.addOpacity,f=l.opacity,h=r(579),d=h.CONSTRAINT_REDUCTION,v=h.COMPARISON_OPS2;t.exports=function(t,e,r,l,h,m){var y,x,_,w=e.contours,M=r("contours.operation");(w._operation=d[M],function(t,e){var r;-1===v.indexOf(e.operation)?(t("contours.value",[0,1]),Array.isArray(e.value)?e.value.length>2?e.value=e.value.slice(2):0===e.length?e.value=[0,1]:e.length<2?(r=parseFloat(e.value[0]),e.value=[r,r+1]):e.value=[parseFloat(e.value[0]),parseFloat(e.value[1])]:n(e.value)&&(r=parseFloat(e.value),e.value=[r,r+1])):(t("contours.value",0),n(e.value)||(Array.isArray(e.value)?e.value=parseFloat(e.value[0]):e.value=0))}(r,w),"="===M?y=w.showlines=!0:(y=r("contours.showlines"),_=r("fillcolor",c((t.line||{}).color||h,.5))),y)&&(x=r("line.color",_&&f(_)?c(e.fillcolor,1):h),r("line.width",2),r("line.dash"));r("line.smoothing"),o(r,l,x,m)}},function(t,e,r){"use strict";t.exports=function(t,e,r,n){var o=n("contours.start"),l=n("contours.end"),c=!1===o||!1===l,f=r("contours.size");!(c?e.autocontour=!0:r("autocontour",!1))&&f||r("ncontours")}},function(t,e,r){"use strict";var n=r(475),o=r(712);t.exports=function(t,e,r,l,c){var f,h=r("contours.coloring"),d="";"fill"===h&&(f=r("contours.showlines")),!1!==f&&("lines"!==h&&(d=r("line.color","#000")),r("line.width",.5),r("line.dash")),"none"!==h&&(!0!==t.showlegend&&(e.showlegend=!1),e._dfltShowLegend=!1,n(t,e,l,r,{prefix:"",cLetter:"z"})),r("line.smoothing"),o(r,l,d,c)}},function(t,e,r){"use strict";var n=r(447),o=r(1093),l=r(1100),c=r(519);t.exports=function(t,e){var r=o(t,e),f=r[0].z;l(e,f);var h,d=e.contours,v=n.extractOpts(e);if("heatmap"===d.coloring&&v.auto&&!1===e.autocontour){var m=d.start,y=c(d),x=d.size||1,_=Math.floor((y-m)/x)+1;isFinite(x)||(x=1,_=1);var w=m-x/2;h=[w,w+_*x]}else h=f;return n.calc(t,e,{vals:h,cLetter:"z"}),r}},function(t,e,r){"use strict";var n=r(422),o=r(421),l=r(426),c=r(554),f=r(1094),h=r(495),d=r(1097),v=r(1098),m=r(717),y=r(718),x=r(1099),_=r(430).BADNUM;function w(a){for(var b=[],t=a.length,i=0;i<t;i++){var e=a[i];e!==_&&b.push(e)}return b}t.exports=function(t,e){var r,M,A,T,k,E,S,L,C,i,O,R=l.getFromId(t,e.xaxis||"x"),D=l.getFromId(t,e.yaxis||"y"),P=n.traceIs(e,"contour"),I=n.traceIs(e,"histogram"),N=n.traceIs(e,"gl2d"),z=P?"best":e.zsmooth;if(R._minDtick=0,D._minDtick=0,I)T=(O=f(t,e)).orig_x,r=O.x,M=O.x0,A=O.dx,L=O.orig_y,k=O.y,E=O.y0,S=O.dy,C=O.z;else{var F=e.z;o.isArray1D(F)?(d(e,R,D,"x","y",["z"]),r=e._x,k=e._y,F=e._z):(T=e.x?R.makeCalcdata(e,"x"):[],L=e.y?D.makeCalcdata(e,"y"):[],r=c(e,R,"x",T),k=c(e,D,"y",L),e._x=r,e._y=k),M=e.x0,A=e.dx,E=e.y0,S=e.dy,C=v(F,e,R,D)}function j(t){z=e._input.zsmooth=e.zsmooth=!1,o.warn('cannot use zsmooth: "fast": '+t)}if((R.rangebreaks||D.rangebreaks)&&(C=function(t,e,r){for(var n=[],o=-1,i=0;i<r.length;i++)if(e[i]!==_){o++,n[o]=[];for(var l=0;l<r[i].length;l++)t[l]!==_&&n[o].push(r[i][l])}return n}(r,k,C),I||(r=w(r),k=w(k),e._x=r,e._y=k)),I||!P&&!e.connectgaps||(e._emptypoints=y(C),m(C,e._emptypoints)),"fast"===z)if("log"===R.type||"log"===D.type)j("log axis found");else if(!I){if(r.length){var B=(r[r.length-1]-r[0])/(r.length-1),U=Math.abs(B/100);for(i=0;i<r.length-1;i++)if(Math.abs(r[i+1]-r[i]-B)>U){j("x scale is not linear");break}}if(k.length&&"fast"===z){var H=(k[k.length-1]-k[0])/(k.length-1),V=Math.abs(H/100);for(i=0;i<k.length-1;i++)if(Math.abs(k[i+1]-k[i]-H)>V){j("y scale is not linear");break}}}var Y=o.maxRowLength(C),G="scaled"===e.xtype?"":r,W=x(e,G,M,A,Y,R),X="scaled"===e.ytype?"":k,Z=x(e,X,E,S,C.length,D);N||(e._extremes[R._id]=l.findExtremes(R,W),e._extremes[D._id]=l.findExtremes(D,Z));var J={x:W,y:Z,z:C,text:e._text||e.text,hovertext:e._hovertext||e.hovertext};if(e.xperiodalignment&&T&&(J.orig_x=T),e.yperiodalignment&&L&&(J.orig_y=L),G&&G.length===W.length-1&&(J.xCenter=G),X&&X.length===Z.length-1&&(J.yCenter=X),I&&(J.xRanges=O.xRanges,J.yRanges=O.yRanges,J.pts=O.pts),P||h(t,e,{vals:C,cLetter:"z"}),P&&e.contours&&"heatmap"===e.contours.coloring){var Q={type:"contour"===e.type?"heatmap":"histogram2d",xcalendar:e.xcalendar,ycalendar:e.ycalendar};J.xfill=x(Q,G,M,A,Y,R),J.yfill=x(Q,X,E,S,C.length,D)}return[J]}},function(t,e,r){"use strict";var n=r(421),o=r(426),l=r(713),c=r(714),f=r(715),h=r(716),d=r(1095).calcAllAutoBins;function v(t,e,r,n){var i,o=new Array(t);if(n)for(i=0;i<t;i++)o[i]=1/(e[i+1]-e[i]);else{var l=1/r;for(i=0;i<t;i++)o[i]=l}return o}function m(t,e){return{start:t(e.start),end:t(e.end),size:e.size}}function y(t,e,r,n,o,l){var i,c=t.length-1,f=new Array(c),d=h(r,n,t,o,l);for(i=0;i<c;i++){var v=(e||[])[i];f[i]=void 0===v?[d(t[i]),d(t[i+1],!0)]:[v,v]}return f}t.exports=function(t,e){var i,r,h,x,_=o.getFromId(t,e.xaxis),w=o.getFromId(t,e.yaxis),M=e.xcalendar,A=e.ycalendar,T=function(t){return _.r2c(t,0,M)},k=function(t){return w.r2c(t,0,A)},E=d(t,e,_,"x"),S=E[0],L=E[1],C=d(t,e,w,"y"),O=C[0],R=C[1],D=e._length;L.length>D&&L.splice(D,L.length-D),R.length>D&&R.splice(D,R.length-D);var P=[],I=[],N=[],z="string"==typeof S.size,F="string"==typeof O.size,j=[],B=[],U=z?j:S,H=F?B:O,V=0,Y=[],G=[],W=e.histnorm,X=e.histfunc,Z=-1!==W.indexOf("density"),J="max"===X||"min"===X?null:0,Q=l.count,K=c[W],$=!1,tt=[],et=[],nt="z"in e?e.z:"marker"in e&&Array.isArray(e.marker.color)?e.marker.color:"";nt&&"count"!==X&&($="avg"===X,Q=l[X]);var it=S.size,at=T(S.start),ot=T(S.end)+(at-o.tickIncrement(at,it,!1,M))/1e6;for(i=at;i<ot;i=o.tickIncrement(i,it,!1,M))I.push(J),j.push(i),$&&N.push(0);j.push(i);var st,lt=I.length,ut=(i-at)/lt,ct=(st=at+ut/2,_.c2r(st,0,M)),ft=O.size,ht=k(O.start),pt=k(O.end)+(ht-o.tickIncrement(ht,ft,!1,A))/1e6;for(i=ht;i<pt;i=o.tickIncrement(i,ft,!1,A)){P.push(I.slice()),B.push(i);var gt=new Array(lt);for(r=0;r<lt;r++)gt[r]=[];G.push(gt),$&&Y.push(N.slice())}B.push(i);var vt=P.length,mt=(i-ht)/vt,yt=function(t){return w.c2r(t,0,A)}(ht+mt/2);Z&&(tt=v(I.length,U,ut,z),et=v(P.length,H,mt,F)),z||"date"!==_.type||(U=m(T,U)),F||"date"!==w.type||(H=m(k,H));var xt=!0,bt=!0,_t=new Array(lt),wt=new Array(vt),Mt=1/0,At=1/0,Tt=1/0,kt=1/0;for(i=0;i<D;i++){var Et=L[i],St=R[i];h=n.findBin(Et,U),x=n.findBin(St,H),h>=0&&h<lt&&x>=0&&x<vt&&(V+=Q(h,i,P[x],nt,Y[x]),G[x][h].push(i),xt&&(void 0===_t[h]?_t[h]=Et:_t[h]!==Et&&(xt=!1)),bt&&(void 0===wt[x]?wt[x]=St:wt[x]!==St&&(bt=!1)),Mt=Math.min(Mt,Et-j[h]),At=Math.min(At,j[h+1]-Et),Tt=Math.min(Tt,St-B[x]),kt=Math.min(kt,B[x+1]-St))}if($)for(x=0;x<vt;x++)V+=f(P[x],Y[x]);if(K)for(x=0;x<vt;x++)K(P[x],V,tt,et[x]);return{x:L,xRanges:y(j,xt&&_t,Mt,At,_,M),x0:ct,dx:ut,y:R,yRanges:y(B,bt&&wt,Tt,kt,w,A),y0:yt,dy:mt,z:P,pts:G}}},function(t,e,r){"use strict";var n=r(424),o=r(421),l=r(422),c=r(426),f=r(1096),h=r(713),d=r(714),v=r(715),m=r(716);function y(t,e,r,f,h){var i,d,v,m,x,_,w,M=f+"bins",A=t._fullLayout,T=e["_"+f+"bingroup"],k=A._histogramBinOpts[T],E="overlay"===A.barmode,S=function(t){return r.r2c(t,0,m)},L=function(t){return r.c2r(t,0,m)},C="date"===r.type?function(t){return t||0===t?o.cleanDate(t,null,m):null}:function(t){return n(t)?Number(t):null};function O(t,e,r){e[t+"Found"]?(e[t]=C(e[t]),null===e[t]&&(e[t]=r[t])):(_[t]=e[t]=r[t],o.nestedProperty(d[0],M+"."+t).set(r[t]))}if(e["_"+f+"autoBinFinished"])delete e["_"+f+"autoBinFinished"];else{d=k.traces;var R=[],D=!0,P=!1,I=!1;for(i=0;i<d.length;i++)if((v=d[i]).visible){var N=k.dirs[i];x=v["_"+N+"pos0"]=r.makeCalcdata(v,N),R=o.concat(R,x),delete v["_"+f+"autoBinFinished"],!0===e.visible&&(D?D=!1:(delete v._autoBin,v["_"+f+"autoBinFinished"]=1),l.traceIs(v,"2dMap")&&(P=!0),"histogram2dcontour"===v.type&&(I=!0))}m=d[0][f+"calendar"];var z=c.autoBin(R,r,k.nbins,P,m,k.sizeFound&&k.size),F=d[0]._autoBin={};if(_=F[k.dirs[0]]={},I&&(k.size||(z.start=L(c.tickIncrement(S(z.start),z.size,!0,m))),void 0===k.end&&(z.end=L(c.tickIncrement(S(z.end),z.size,!1,m)))),E&&!l.traceIs(e,"2dMap")&&0===z._dataSpan&&"category"!==r.type&&"multicategory"!==r.type){if(h)return[z,x,!0];z=function(t,e,r,n,l){var i,c,f,h=t._fullLayout,d=function(t,e){for(var r=e.xaxis,n=e.yaxis,o=e.orientation,l=[],c=t._fullData,i=0;i<c.length;i++){var f=c[i];"histogram"===f.type&&!0===f.visible&&f.orientation===o&&f.xaxis===r&&f.yaxis===n&&l.push(f)}return l}(t,e),v=!1,m=1/0,x=[e];for(i=0;i<d.length;i++)if((c=d[i])===e)v=!0;else if(v){var _=y(t,c,r,n,!0),w=_[0],M=_[2];c["_"+n+"autoBinFinished"]=1,c["_"+n+"pos0"]=_[1],M?x.push(c):m=Math.min(m,w.size)}else f=h._histogramBinOpts[c["_"+n+"bingroup"]],m=Math.min(m,f.size||c[l].size);var A=new Array(x.length);for(i=0;i<x.length;i++)for(var T=x[i]["_"+n+"pos0"],k=0;k<T.length;k++)if(void 0!==T[k]){A[i]=T[k];break}isFinite(m)||(m=o.distinctVals(A).minDiff);for(i=0;i<x.length;i++){var E=(c=x[i])[n+"calendar"],S={start:r.c2r(A[i]-m/2,0,E),end:r.c2r(A[i]+m/2,0,E),size:m};c._input[l]=c[l]=S,(f=h._histogramBinOpts[c["_"+n+"bingroup"]])&&o.extendFlat(f,S)}return e[l]}(t,e,r,f,M)}(w=v.cumulative||{}).enabled&&"include"!==w.currentbin&&("decreasing"===w.direction?z.start=L(c.tickIncrement(S(z.start),z.size,!0,m)):z.end=L(c.tickIncrement(S(z.end),z.size,!1,m))),k.size=z.size,k.sizeFound||(_.size=z.size,o.nestedProperty(d[0],M+".size").set(z.size)),O("start",k,z),O("end",k,z)}x=e["_"+f+"pos0"],delete e["_"+f+"pos0"];var j=e._input[M]||{},B=o.extendFlat({},k),U=k.start,H=r.r2l(j.start),V=void 0!==H;if((k.startFound||V)&&H!==r.r2l(U)){var Y=V?H:o.aggNums(Math.min,null,x),G={type:"category"===r.type||"multicategory"===r.type?"linear":r.type,r2l:r.r2l,dtick:k.size,tick0:U,calendar:m,range:[Y,c.tickIncrement(Y,k.size,!1,m)].map(r.l2r)},W=c.tickFirst(G);W>r.r2l(Y)&&(W=c.tickIncrement(W,k.size,!0,m)),B.start=r.l2r(W),V||o.nestedProperty(e,M+".start").set(B.start)}var X=k.end,Z=r.r2l(j.end),J=void 0!==Z;if((k.endFound||J)&&Z!==r.r2l(X)){var Q=J?Z:o.aggNums(Math.max,null,x);B.end=r.l2r(Q),J||o.nestedProperty(e,M+".start").set(B.end)}var K="autobin"+f;return!1===e._input[K]&&(e._input[M]=o.extendFlat({},e[M]||{}),delete e._input[K],delete e[K]),[B,x]}t.exports={calc:function(t,e){var i,r,l,x,_=[],w=[],M=c.getFromId(t,"h"===e.orientation?e.yaxis:e.xaxis),A="h"===e.orientation?"y":"x",T={x:"y",y:"x"}[A],k=e[A+"calendar"],E=e.cumulative,S=y(t,e,M,A),L=S[0],C=S[1],O="string"==typeof L.size,R=[],D=O?R:L,P=[],I=[],N=[],z=0,F=e.histnorm,j=e.histfunc,B=-1!==F.indexOf("density");E.enabled&&B&&(F=F.replace(/ ?density$/,""),B=!1);var U,H="max"===j||"min"===j?null:0,V=h.count,Y=d[F],G=!1,W=function(t){return M.r2c(t,0,k)};for(o.isArrayOrTypedArray(e[T])&&"count"!==j&&(U=e[T],G="avg"===j,V=h[j]),i=W(L.start),l=W(L.end)+(i-c.tickIncrement(i,L.size,!1,k))/1e6;i<l&&_.length<1e6&&(r=c.tickIncrement(i,L.size,!1,k),_.push((i+r)/2),w.push(H),N.push([]),R.push(i),B&&P.push(1/(r-i)),G&&I.push(0),!(r<=i));)i=r;R.push(i),O||"date"!==M.type||(D={start:W(D.start),end:W(D.end),size:D.size}),t._fullLayout._roundFnOpts||(t._fullLayout._roundFnOpts={});var X=e["_"+A+"bingroup"],Z={leftGap:1/0,rightGap:1/0};X&&(t._fullLayout._roundFnOpts[X]||(t._fullLayout._roundFnOpts[X]=Z),Z=t._fullLayout._roundFnOpts[X]);var J,Q=w.length,K=!0,$=Z.leftGap,tt=Z.rightGap,et={};for(i=0;i<C.length;i++){var nt=C[i];(x=o.findBin(nt,D))>=0&&x<Q&&(z+=V(x,i,w,U,I),K&&N[x].length&&nt!==C[N[x][0]]&&(K=!1),N[x].push(i),et[i]=x,$=Math.min($,nt-R[x]),tt=Math.min(tt,R[x+1]-nt))}Z.leftGap=$,Z.rightGap=tt,K||(J=function(e,r){return function(){var n=t._fullLayout._roundFnOpts[X];return m(n.leftGap,n.rightGap,R,M,k)(e,r)}}),G&&(z=v(w,I)),Y&&Y(w,z,P),E.enabled&&function(t,e,r){var i,n,o;function l(i){o=t[i],t[i]/=2}function c(i){n=t[i],t[i]=o+n/2,o+=n}if("half"===r)if("increasing"===e)for(l(0),i=1;i<t.length;i++)c(i);else for(l(t.length-1),i=t.length-2;i>=0;i--)c(i);else if("increasing"===e){for(i=1;i<t.length;i++)t[i]+=t[i-1];"exclude"===r&&(t.unshift(0),t.pop())}else{for(i=t.length-2;i>=0;i--)t[i]+=t[i+1];"exclude"===r&&(t.push(0),t.shift())}}(w,E.direction,E.currentbin);var it=Math.min(_.length,w.length),at=[],ot=0,st=it-1;for(i=0;i<it;i++)if(w[i]){ot=i;break}for(i=it-1;i>=ot;i--)if(w[i]){st=i;break}for(i=ot;i<=st;i++)if(n(_[i])&&n(w[i])){var lt={p:_[i],s:w[i],b:0};E.enabled||(lt.pts=N[i],K?lt.ph0=lt.ph1=N[i].length?C[N[i][0]]:_[i]:(e._computePh=!0,lt.ph0=J(R[i]),lt.ph1=J(R[i+1],!0))),at.push(lt)}return 1===at.length&&(at[0].width1=c.tickIncrement(at[0].p,L.size,!1,k)-at[0].p),f(at,e),o.isArrayOrTypedArray(e.selectedpoints)&&o.tagSelected(at,e,et),at},calcAllAutoBins:y}},function(t,e,r){"use strict";var n=r(421);t.exports=function(t,e){for(var i=0;i<t.length;i++)t[i].i=i;n.mergeArray(e.text,t,"tx"),n.mergeArray(e.hovertext,t,"htx");var marker=e.marker;if(marker){n.mergeArray(marker.opacity,t,"mo",!0),n.mergeArray(marker.color,t,"mc");var r=marker.line;r&&(n.mergeArray(r.color,t,"mlc"),n.mergeArrayCastPositive(r.width,t,"mlw"))}}},function(t,e,r){"use strict";var n=r(421),o=r(430).BADNUM,l=r(554);t.exports=function(t,e,r,c,f,h){var d=t._length,v=e.makeCalcdata(t,c),m=r.makeCalcdata(t,f);v=l(t,e,c,v),m=l(t,r,f,m);var i,y,text,x,_=t.text,w=void 0!==_&&n.isArray1D(_),M=t.hovertext,A=void 0!==M&&n.isArray1D(M),T=n.distinctVals(v),k=T.vals,E=n.distinctVals(m),S=E.vals,L=[],C=S.length,O=k.length;for(i=0;i<h.length;i++)L[i]=n.init2dArray(C,O);w&&(text=n.init2dArray(C,O)),A&&(x=n.init2dArray(C,O));var R=n.init2dArray(C,O);for(i=0;i<d;i++)if(v[i]!==o&&m[i]!==o){var D=n.findBin(v[i]+T.minDiff/2,k),P=n.findBin(m[i]+E.minDiff/2,S);for(y=0;y<h.length;y++){var I=t[h[y]];L[y][P][D]=I[i],R[P][D]=i}w&&(text[P][D]=_[i]),A&&(x[P][D]=M[i])}for(t["_"+c]=k,t["_"+f]=S,y=0;y<h.length;y++)t["_"+h[y]]=L[y];w&&(t._text=text),A&&(t._hovertext=x),e&&"category"===e.type&&(t["_"+c+"CategoryMap"]=k.map((function(t){return e._categories[t]}))),r&&"category"===r.type&&(t["_"+f+"CategoryMap"]=S.map((function(t){return r._categories[t]}))),t._after2before=R}},function(t,e,r){"use strict";var n=r(424),o=r(421),l=r(430).BADNUM;t.exports=function(t,e,r,c){var f,h,d,v,i,m;function y(t){if(n(t))return+t}if(e&&e.transpose){for(f=0,i=0;i<t.length;i++)f=Math.max(f,t[i].length);if(0===f)return!1;d=function(t){return t.length},v=function(t,i,e){return(t[e]||[])[i]}}else f=t.length,d=function(t,i){return t[i].length},v=function(t,i,e){return(t[i]||[])[e]};var x=function(t,i,e){return i===l||e===l?l:v(t,i,e)};function _(t){if(e&&"carpet"!==e.type&&"contourcarpet"!==e.type&&t&&"category"===t.type&&e["_"+t._id.charAt(0)].length){var r=t._id.charAt(0),n={},c=e["_"+r+"CategoryMap"]||e[r];for(i=0;i<c.length;i++)n[c[i]]=i;return function(i){var e=n[t._categories[i]];return e+1?e:l}}return o.identity}var w=_(r),M=_(c);c&&"category"===c.type&&(f=c._categories.length);var A=new Array(f);for(i=0;i<f;i++)for(h=r&&"category"===r.type?r._categories.length:d(t,i),A[i]=new Array(h),m=0;m<h;m++)A[i][m]=y(x(t,M(i),w(m)));return A}},function(t,e,r){"use strict";var n=r(422),o=r(421).isArrayOrTypedArray;t.exports=function(t,e,r,l,c,f){var h,d,i,v=[],m=n.traceIs(t,"contour"),y=n.traceIs(t,"histogram"),x=n.traceIs(t,"gl2d");if(o(e)&&e.length>1&&!y&&"category"!==f.type){var _=e.length;if(!(_<=c))return m?e.slice(0,c):e.slice(0,c+1);if(m||x)v=e.slice(0,c);else if(1===c)v=[e[0]-.5,e[0]+.5];else{for(v=[1.5*e[0]-.5*e[1]],i=1;i<_;i++)v.push(.5*(e[i-1]+e[i]));v.push(1.5*e[_-1]-.5*e[_-2])}if(_<c){var w=v[v.length-1],M=w-v[v.length-2];for(i=_;i<c;i++)w+=M,v.push(w)}}else{var A=t[f._id.charAt(0)+"calendar"];if(y)h=f.r2c(r,0,A);else if(o(e)&&1===e.length)h=e[0];else if(void 0===r)h=0;else{h=("log"===f.type?f.d2c:f.r2c)(r,0,A)}for(d=l||1,i=m||x?0:-.5;i<c;i++)v.push(h+d*i)}return v}},function(t,e,r){"use strict";var n=r(426),o=r(421);function l(t,e,r){var o={type:"linear",range:[t,e]};return n.autoTicks(o,(e-t)/(r||15)),o}t.exports=function(t,e){var r=t.contours;if(t.autocontour){var c=t.zmin,f=t.zmax;(t.zauto||void 0===c)&&(c=o.aggNums(Math.min,null,e)),(t.zauto||void 0===f)&&(f=o.aggNums(Math.max,null,e));var h=l(c,f,t.ncontours);r.size=h.dtick,r.start=n.tickFirst(h),h.range.reverse(),r.end=n.tickFirst(h),r.start===c&&(r.start+=r.size),r.end===f&&(r.end-=r.size),r.start>r.end&&(r.start=r.end=(r.start+r.end)/2),t._input.contours||(t._input.contours={}),o.extendFlat(t._input.contours,{start:r.start,end:r.end,size:r.size}),t._input.autocontour=!0}else if("constraint"!==r.type){var d,v=r.start,m=r.end,y=t._input.contours;if(v>m&&(r.start=y.start=m,m=r.end=y.end=v,v=r.start),!(r.size>0))d=v===m?1:l(v,m,t.ncontours).dtick,y.size=r.size=d}}},function(t,e,r){"use strict";var n=r(423),o=r(421),l=r(427),c=r(447),f=r(440),h=r(426),d=r(505),v=r(1102),m=r(1103),y=r(1104),x=r(1105),_=r(1107),w=r(1108),M=r(580),A=M.LABELOPTIMIZER;function T(t,e){var r,n,c,f,h,d,v,m="",i=0,y=t.edgepaths.map((function(t,i){return i})),x=!0;function _(t){return Math.abs(t[1]-e[2][1])<.01}function w(t){return Math.abs(t[0]-e[0][0])<.01}function M(t){return Math.abs(t[0]-e[2][0])<.01}for(;y.length;){for(d=l.smoothopen(t.edgepaths[i],t.smoothing),m+=x?d:d.replace(/^M/,"L"),y.splice(y.indexOf(i),1),r=t.edgepaths[i][t.edgepaths[i].length-1],f=-1,c=0;c<4;c++){if(!r){o.log("Missing end?",i,t);break}for(v=r,Math.abs(v[1]-e[0][1])<.01&&!M(r)?n=e[1]:w(r)?n=e[0]:_(r)?n=e[3]:M(r)&&(n=e[2]),h=0;h<t.edgepaths.length;h++){var A=t.edgepaths[h][0];Math.abs(r[0]-n[0])<.01?Math.abs(r[0]-A[0])<.01&&(A[1]-r[1])*(n[1]-A[1])>=0&&(n=A,f=h):Math.abs(r[1]-n[1])<.01?Math.abs(r[1]-A[1])<.01&&(A[0]-r[0])*(n[0]-A[0])>=0&&(n=A,f=h):o.log("endpt to newendpt is not vert. or horz.",r,n,A)}if(r=n,f>=0)break;m+="L"+n}if(f===t.edgepaths.length){o.log("unclosed perimeter path");break}i=f,(x=-1===y.indexOf(i))&&(i=y[0],m+="Z")}for(i=0;i<t.paths.length;i++)m+=l.smoothclosed(t.paths[i],t.smoothing);return m}function k(t,e,r,n){var l=e.width/2,c=e.height/2,f=t.x,h=t.y,d=t.theta,v=Math.cos(d)*l,m=Math.sin(d)*l,y=(f>n.center?n.right-f:f-n.left)/(v+Math.abs(Math.sin(d)*c)),x=(h>n.middle?n.bottom-h:h-n.top)/(Math.abs(m)+Math.cos(d)*c);if(y<1||x<1)return 1/0;var _=A.EDGECOST*(1/(y-1)+1/(x-1));_+=A.ANGLECOST*d*d;for(var w=f-v,M=h-m,T=f+v,k=h+m,i=0;i<r.length;i++){var E=r[i],S=Math.cos(E.theta)*E.width/2,L=Math.sin(E.theta)*E.width/2,C=2*o.segmentDistance(w,M,T,k,E.x-S,E.y-L,E.x+S,E.y+L)/(e.height+E.height),O=E.level===e.level,R=O?A.SAMELEVELDISTANCE:1;if(C<=R)return 1/0;_+=A.NEIGHBORCOST*(O?A.SAMELEVELFACTOR:1)/(C-R)}return _}function E(t){var i,e,r=t.trace._emptypoints,n=[],o=t.z.length,l=t.z[0].length,c=[];for(i=0;i<l;i++)c.push(1);for(i=0;i<o;i++)n.push(c.slice());for(i=0;i<r.length;i++)n[(e=r[i])[0]][e[1]]=0;return t.zmask=n,n}e.plot=function(t,r,c,f){var h=r.xaxis,d=r.yaxis;o.makeTraceGroups(f,c,"contour").each((function(c){var f=n.select(this),A=c[0],k=A.trace,S=A.x,L=A.y,C=k.contours,O=x(C,r,A),R=o.ensureSingle(f,"g","heatmapcoloring"),D=[];"heatmap"===C.coloring&&(D=[c]),v(t,r,D,R),m(O),y(O);var P=h.c2p(S[0],!0),I=h.c2p(S[S.length-1],!0),N=d.c2p(L[0],!0),z=d.c2p(L[L.length-1],!0),F=[[P,z],[I,z],[I,N],[P,N]],j=O;"constraint"===C.type&&(j=_(O,C._operation)),function(t,e,r){var n=o.ensureSingle(t,"g","contourbg").selectAll("path").data("fill"===r.coloring?[0]:[]);n.enter().append("path"),n.exit().remove(),n.attr("d","M"+e.join("L")+"Z").style("stroke","none")}(f,F,C),function(t,e,r,l){var c="fill"===l.coloring||"constraint"===l.type&&"="!==l._operation,f="M"+r.join("L")+"Z";c&&w(e,l);var h=o.ensureSingle(t,"g","contourfill").selectAll("path").data(c?e:[]);h.enter().append("path"),h.exit().remove(),h.each((function(t){var e=(t.prefixBoundary?f:"")+T(t,r);e?n.select(this).attr("d",e).style("stroke","none"):n.select(this).remove()}))}(f,j,F,C),function(t,r,c,f,h){var d=o.ensureSingle(t,"g","contourlines"),v=!1!==h.showlines,m=h.showlabels,y=v&&m,x=e.createLines(d,v||m,r),_=e.createLineClip(d,y,c,f.trace.uid),w=t.selectAll("g.contourlabels").data(m?[0]:[]);if(w.exit().remove(),w.enter().append("g").classed("contourlabels",!0),m){var A=[],T=[];o.clearLocationCache();var k=e.labelFormatter(c,f),E=l.tester.append("text").attr("data-notex",1).call(l.font,h.labelfont),S=r[0].xaxis,L=r[0].yaxis,C=S._length,O=L._length,R=S.range,D=L.range,P=o.aggNums(Math.min,null,f.x),I=o.aggNums(Math.max,null,f.x),N=o.aggNums(Math.min,null,f.y),z=o.aggNums(Math.max,null,f.y),F=Math.max(S.c2p(P,!0),0),j=Math.min(S.c2p(I,!0),C),B=Math.max(L.c2p(z,!0),0),U=Math.min(L.c2p(N,!0),O),H={};R[0]<R[1]?(H.left=F,H.right=j):(H.left=j,H.right=F),D[0]<D[1]?(H.top=B,H.bottom=U):(H.top=U,H.bottom=B),H.middle=(H.top+H.bottom)/2,H.center=(H.left+H.right)/2,A.push([[H.left,H.top],[H.right,H.top],[H.right,H.bottom],[H.left,H.bottom]]);var V=Math.sqrt(C*C+O*O),Y=M.LABELDISTANCE*V/Math.max(1,r.length/M.LABELINCREASE);x.each((function(t){var r=e.calcTextOpts(t.level,k,E,c);n.select(this).selectAll("path").each((function(){var t=o.getVisibleSegment(this,H,r.height/2);if(t&&!(t.len<(r.width+r.height)*M.LABELMIN))for(var n=Math.min(Math.ceil(t.len/Y),M.LABELMAX),i=0;i<n;i++){var l=e.findBestTextLocation(this,t,r,T,H);if(!l)break;e.addLabelData(l,r,T,A)}}))})),E.remove(),e.drawLabels(w,T,c,_,y?A:null)}m&&!v&&x.remove()}(f,O,t,A,C),function(t,e,r,n,c){var f=n.trace,h=r._fullLayout._clips,d="clip"+f.uid,v=h.selectAll("#"+d).data(f.connectgaps?[]:[0]);if(v.enter().append("clipPath").classed("contourclip",!0).attr("id",d),v.exit().remove(),!1===f.connectgaps){var x={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:e.xaxis,yaxis:e.yaxis,x:n.x,y:n.y,z:E(n),smoothing:0};m([x]),y([x]),w([x],{type:"levels"}),o.ensureSingle(v,"path","").attr("d",(x.prefixBoundary?"M"+c.join("L")+"Z":"")+T(x,c))}else d=null;l.setClipUrl(t,d,r)}(f,r,t,A,F)}))},e.createLines=function(t,e,r){var n=r[0].smoothing,o=t.selectAll("g.contourlevel").data(e?r:[]);if(o.exit().remove(),o.enter().append("g").classed("contourlevel",!0),e){var c=o.selectAll("path.openline").data((function(t){return t.pedgepaths||t.edgepaths}));c.exit().remove(),c.enter().append("path").classed("openline",!0),c.attr("d",(function(t){return l.smoothopen(t,n)})).style("stroke-miterlimit",1).style("vector-effect","non-scaling-stroke");var f=o.selectAll("path.closedline").data((function(t){return t.ppaths||t.paths}));f.exit().remove(),f.enter().append("path").classed("closedline",!0),f.attr("d",(function(t){return l.smoothclosed(t,n)})).style("stroke-miterlimit",1).style("vector-effect","non-scaling-stroke")}return o},e.createLineClip=function(t,e,r,n){var o=e?"clipline"+n:null,c=r._fullLayout._clips.selectAll("#"+o).data(e?[0]:[]);return c.exit().remove(),c.enter().append("clipPath").classed("contourlineclip",!0).attr("id",o),l.setClipUrl(t,o,r),c},e.labelFormatter=function(t,e){var r=t._fullLayout,n=e.trace,o=n.contours,l={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(o.labelformat)l.tickformat=o.labelformat,d(l,r);else{var f=c.extractOpts(n);if(f&&f.colorbar&&f.colorbar._axis)l=f.colorbar._axis;else{if("constraint"===o.type){var v=o.value;Array.isArray(v)?l.range=[v[0],v[v.length-1]]:l.range=[v,v]}else l.range=[o.start,o.end],l.nticks=(o.end-o.start)/o.size;l.range[0]===l.range[1]&&(l.range[1]+=l.range[0]||1),l.nticks||(l.nticks=1e3),d(l,r),h.prepTicks(l),l._tmin=null,l._tmax=null}}return function(t){return h.tickText(l,t).text}},e.calcTextOpts=function(t,e,r,n){var text=e(t);r.text(text).call(f.convertToTspans,n);var o=r.node(),c=l.bBox(o,!0);return{text:text,width:c.width,height:c.height,fontSize:+o.style["font-size"].replace("px",""),level:t,dy:(c.top+c.bottom)/2}},e.findBestTextLocation=function(path,t,e,r,n){var l,c,f,h,d,v=e.width;t.isClosed?(c=t.len/A.INITIALSEARCHPOINTS,l=t.min+c/2,f=t.max):(c=(t.len-v)/(A.INITIALSEARCHPOINTS+1),l=t.min+c+v/2,f=t.max-(c+v)/2);for(var m=1/0,y=0;y<A.ITERATIONS;y++){for(var p=l;p<f;p+=c){var x=o.getTextLocation(path,t.total,p,v),_=k(x,e,r,n);_<m&&(m=_,d=x,h=p)}if(m>2*A.MAXCOST)break;y&&(c/=2),f=(l=h-c/2)+1.5*c}if(m<=A.MAXCOST)return d},e.addLabelData=function(t,e,r,n){var o=e.fontSize,l=e.width+o/3,c=Math.max(0,e.height-o/3),f=t.x,h=t.y,d=t.theta,v=Math.sin(d),m=Math.cos(d),y=function(t,e){return[f+t*m-e*v,h+t*v+e*m]},x=[y(-l/2,-c/2),y(-l/2,c/2),y(l/2,c/2),y(l/2,-c/2)];r.push({text:e.text,x:f,y:h,dy:e.dy,theta:d,level:e.level,width:l,height:c}),n.push(x)},e.drawLabels=function(t,e,r,l,c){var h=t.selectAll("text").data(e,(function(t){return t.text+","+t.x+","+t.y+","+t.theta}));if(h.exit().remove(),h.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each((function(t){var e=t.x+Math.sin(t.theta)*t.dy,o=t.y-Math.cos(t.theta)*t.dy;n.select(this).text(t.text).attr({x:e,y:o,transform:"rotate("+180*t.theta/Math.PI+" "+e+" "+o+")"}).call(f.convertToTspans,r)})),c){for(var d="",i=0;i<c.length;i++)d+="M"+c[i].join("L")+"Z";o.ensureSingle(l,"path","").attr("d",d)}}},function(t,e,r){"use strict";var n=r(423),o=r(443),l=r(422),c=r(421),f=r(447).makeColorScaleFuncFromTrace,h=r(463);function d(t,e){var r=e.length-2,n=c.constrain(c.findBin(t,e),0,r),o=e[n],l=e[n+1],f=c.constrain(n+(t-o)/(l-o)-.5,0,r),h=Math.round(f),d=Math.abs(f-h);return f&&f!==r&&d?{bin0:h,frac:d,bin1:Math.round(h+d/(f-h))}:{bin0:h,bin1:h,frac:0}}function v(t,e){var r=e.length-1,n=c.constrain(c.findBin(t,e),0,r),o=e[n],l=(t-o)/(e[n+1]-o)||0;return l<=0?{bin0:n,bin1:n,frac:0}:l<.5?{bin0:n,bin1:n+1,frac:l}:{bin0:n+1,bin1:n,frac:1-l}}function m(t,e,r){t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=Math.round(255*r[3])}t.exports=function(t,e,r,y){var x=e.xaxis,_=e.yaxis;c.makeTraceGroups(y,r,"hm").each((function(e){var r,y,w,M,A,i,T=n.select(this),k=e[0],E=k.trace,S=k.z,L=k.x,C=k.y,O=k.xCenter,R=k.yCenter,D=l.traceIs(E,"contour"),P=D?"best":E.zsmooth,I=S.length,N=c.maxRowLength(S),z=!1,F=!1;for(i=0;void 0===r&&i<L.length-1;)r=x.c2p(L[i]),i++;for(i=L.length-1;void 0===y&&i>0;)y=x.c2p(L[i]),i--;for(y<r&&(w=y,y=r,r=w,z=!0),i=0;void 0===M&&i<C.length-1;)M=_.c2p(C[i]),i++;for(i=C.length-1;void 0===A&&i>0;)A=_.c2p(C[i]),i--;if(A<M&&(w=M,M=A,A=w,F=!0),D&&(O=L,R=C,L=k.xfill,C=k.yfill),"fast"!==P){var j="best"===P?0:.5;r=Math.max(-j*x._length,r),y=Math.min((1+j)*x._length,y),M=Math.max(-j*_._length,M),A=Math.min((1+j)*_._length,A)}var B=Math.round(y-r),U=Math.round(A-M);if(B<=0||U<=0){T.selectAll("image").data([]).exit().remove()}else{var H,V;"fast"===P?(H=N,V=I):(H=B,V=U);var canvas=document.createElement("canvas");canvas.width=H,canvas.height=V;var Y,G,W=canvas.getContext("2d"),X=f(E,{noNumericCheck:!0,returnArray:!0});"fast"===P?(Y=z?function(t){return N-1-t}:c.identity,G=F?function(t){return I-1-t}:c.identity):(Y=function(t){return c.constrain(Math.round(x.c2p(L[t])-r),0,B)},G=function(t){return c.constrain(Math.round(_.c2p(C[t])-M),0,U)});var Z,J,Q,K,$,tt=G(0),et=[tt,tt],nt=z?0:1,it=F?0:1,at=0,ot=0,st=0,lt=0;if(P){var ut,ct=0;try{ut=new Uint8Array(B*U*4)}catch(t){ut=new Array(B*U*4)}if("best"===P){var ft,ht,pt,gt=O||L,vt=R||C,mt=new Array(gt.length),yt=new Array(vt.length),xt=new Array(B),bt=O?v:d,_t=R?v:d;for(i=0;i<gt.length;i++)mt[i]=Math.round(x.c2p(gt[i])-r);for(i=0;i<vt.length;i++)yt[i]=Math.round(_.c2p(vt[i])-M);for(i=0;i<B;i++)xt[i]=bt(i,mt);for(J=0;J<U;J++)for(ht=S[(ft=_t(J,yt)).bin0],pt=S[ft.bin1],i=0;i<B;i++,ct+=4)m(ut,ct,$=Rt(ht,pt,xt[i],ft))}else for(J=0;J<I;J++)for(K=S[J],et=G(J),i=0;i<B;i++)$=Ot(K[i],1),m(ut,ct=4*(et*B+Y(i)),$);var wt=W.createImageData(B,U);try{wt.data.set(ut)}catch(t){var Mt=wt.data,At=Mt.length;for(J=0;J<At;J++)Mt[J]=ut[J]}W.putImageData(wt,0,0)}else{var Tt=E.xgap,kt=E.ygap,Et=Math.floor(Tt/2),St=Math.floor(kt/2);for(J=0;J<I;J++)if(K=S[J],et.reverse(),et[it]=G(J+1),et[0]!==et[1]&&void 0!==et[0]&&void 0!==et[1])for(Z=[Q=Y(0),Q],i=0;i<N;i++)Z.reverse(),Z[nt]=Y(i+1),Z[0]!==Z[1]&&void 0!==Z[0]&&void 0!==Z[1]&&($=Ot(K[i],(Z[1]-Z[0])*(et[1]-et[0])),W.fillStyle="rgba("+$.join(",")+")",W.fillRect(Z[0]+Et,et[0]+St,Z[1]-Z[0]-Tt,et[1]-et[0]-kt))}ot=Math.round(ot/at),st=Math.round(st/at),lt=Math.round(lt/at);var Lt=o("rgb("+ot+","+st+","+lt+")");t._hmpixcount=(t._hmpixcount||0)+at,t._hmlumcount=(t._hmlumcount||0)+at*Lt.getLuminance();var Ct=T.selectAll("image").data(e);Ct.enter().append("svg:image").attr({xmlns:h.svg,preserveAspectRatio:"none"}),Ct.attr({height:U,width:B,x:r,y:M,"xlink:href":canvas.toDataURL("image/png")})}function Ot(t,e){if(void 0!==t){var r=X(t);return r[0]=Math.round(r[0]),r[1]=Math.round(r[1]),r[2]=Math.round(r[2]),at+=e,ot+=r[0]*e,st+=r[1]*e,lt+=r[2]*e,r}return[0,0,0,0]}function Rt(t,e,r,n){var o=t[r.bin0];if(void 0===o)return Ot(void 0,1);var l,c=t[r.bin1],f=e[r.bin0],h=e[r.bin1],d=c-o||0,v=f-o||0;return l=void 0===c?void 0===h?0:void 0===f?2*(h-o):2*(2*h-f-o)/3:void 0===h?void 0===f?0:2*(2*o-c-f)/3:void 0===f?2*(2*h-c-o)/3:h+o-c-f,Ot(o+r.frac*d+n.frac*(v+r.frac*l))}}))}},function(t,e,r){"use strict";var n=r(580);function o(t,e){var r=(e[0][0]>t?0:1)+(e[0][1]>t?0:2)+(e[1][1]>t?0:4)+(e[1][0]>t?0:8);return 5===r||10===r?t>(e[0][0]+e[0][1]+e[1][0]+e[1][1])/4?5===r?713:1114:5===r?104:208:15===r?0:r}t.exports=function(t){var e,r,l,c,label,f,h,d,i,v=t[0].z,m=v.length,y=v[0].length,x=2===m||2===y;for(r=0;r<m-1;r++)for(c=[],0===r&&(c=c.concat(n.BOTTOMSTART)),r===m-2&&(c=c.concat(n.TOPSTART)),e=0;e<y-1;e++)for(l=c.slice(),0===e&&(l=l.concat(n.LEFTSTART)),e===y-2&&(l=l.concat(n.RIGHTSTART)),label=e+","+r,f=[[v[r][e],v[r][e+1]],[v[r+1][e],v[r+1][e+1]]],i=0;i<t.length;i++)(h=o((d=t[i]).level,f))&&(d.crossings[label]=h,-1!==l.indexOf(h)&&(d.starts.push([e,r]),x&&-1!==l.indexOf(h,l.indexOf(h)+1)&&d.starts.push([e,r])))}},function(t,e,r){"use strict";var n=r(421),o=r(580);function l(t,e,r,n){return Math.abs(t[0]-e[0])<r&&Math.abs(t[1]-e[1])<n}function c(t,e,r,c,h){var d,v=e.join(","),m=t.crossings[v],y=function(t,e,r){var n=0,l=0;t>20&&e?208===t||1114===t?n=0===r[0]?1:-1:l=0===r[1]?1:-1:-1!==o.BOTTOMSTART.indexOf(t)?l=1:-1!==o.LEFTSTART.indexOf(t)?n=1:-1!==o.TOPSTART.indexOf(t)?l=-1:n=-1;return[n,l]}(m,r,e),x=[f(t,e,[-y[0],-y[1]])],_=t.z.length,w=t.z[0].length,M=e.slice(),A=y.slice();for(d=0;d<1e4;d++){if(m>20?(m=o.CHOOSESADDLE[m][(y[0]||y[1])<0?0:1],t.crossings[v]=o.SADDLEREMAINDER[m]):delete t.crossings[v],!(y=o.NEWDELTA[m])){n.log("Found bad marching index:",m,e,t.level);break}x.push(f(t,e,y)),e[0]+=y[0],e[1]+=y[1],v=e.join(","),l(x[x.length-1],x[x.length-2],c,h)&&x.pop();var T=y[0]&&(e[0]<0||e[0]>w-2)||y[1]&&(e[1]<0||e[1]>_-2);if(e[0]===M[0]&&e[1]===M[1]&&y[0]===A[0]&&y[1]===A[1]||r&&T)break;m=t.crossings[v]}1e4===d&&n.log("Infinite loop in contour?");var k,E,S,L,C,O,R,i,D,P,I,N,z,F,j,B=l(x[0],x[x.length-1],c,h),U=0,H=.2*t.smoothing,V=[],Y=0;for(d=1;d<x.length;d++)N=x[d],z=x[d-1],F=void 0,j=void 0,F=N[2]-z[2],j=N[3]-z[3],U+=R=Math.sqrt(F*F+j*j),V.push(R);var G=U/V.length*H;function W(i){return x[i%x.length]}for(d=x.length-2;d>=Y;d--)if((k=V[d])<G){for(S=0,E=d-1;E>=Y&&k+V[E]<G;E--)k+=V[E];if(B&&d===x.length-2)for(S=0;S<E&&k+V[S]<G;S++)k+=V[S];C=d-E+S+1,O=Math.floor((d+E+S+2)/2),L=B||d!==x.length-2?B||-1!==E?C%2?W(O):[(W(O)[0]+W(O+1)[0])/2,(W(O)[1]+W(O+1)[1])/2]:x[0]:x[x.length-1],x.splice(E+1,d-E+1,L),d=E+1,S&&(Y=S),B&&(d===x.length-2?x[S]=x[x.length-1]:0===d&&(x[x.length-1]=x[0]))}for(x.splice(0,Y),d=0;d<x.length;d++)x[d].length=2;if(!(x.length<2))if(B)x.pop(),t.paths.push(x);else{r||n.log("Unclosed interior contour?",t.level,M.join(","),x.join("L"));var X=!1;for(i=0;i<t.edgepaths.length;i++)if(P=t.edgepaths[i],!X&&l(P[0],x[x.length-1],c,h)){x.pop(),X=!0;var Z=!1;for(D=0;D<t.edgepaths.length;D++)if(l((I=t.edgepaths[D])[I.length-1],x[0],c,h)){Z=!0,x.shift(),t.edgepaths.splice(i,1),D===i?t.paths.push(x.concat(I)):(D>i&&D--,t.edgepaths[D]=I.concat(x,P));break}Z||(t.edgepaths[i]=x.concat(P))}for(i=0;i<t.edgepaths.length&&!X;i++)l((P=t.edgepaths[i])[P.length-1],x[0],c,h)&&(x.shift(),t.edgepaths[i]=P.concat(x),X=!0);X||t.edgepaths.push(x)}}function f(t,e,r){var n=e[0]+Math.max(r[0],0),o=e[1]+Math.max(r[1],0),l=t.z[o][n],c=t.xaxis,f=t.yaxis;if(r[1]){var h=(t.level-l)/(t.z[o][n+1]-l);return[c.c2p((1-h)*t.x[n]+h*t.x[n+1],!0),f.c2p(t.y[o],!0),n+h,o]}var d=(t.level-l)/(t.z[o+1][n]-l);return[c.c2p(t.x[n],!0),f.c2p((1-d)*t.y[o]+d*t.y[o+1],!0),n,o+d]}t.exports=function(t,e,r){var o,i,l,f;for(e=e||.01,r=r||.01,i=0;i<t.length;i++){for(l=t[i],f=0;f<l.starts.length;f++)c(l,l.starts[f],"edge",e,r);for(o=0;Object.keys(l.crossings).length&&o<1e4;)o++,c(l,Object.keys(l.crossings)[0].split(",").map(Number),void 0,e,r);1e4===o&&n.log("Infinite loop in contour?")}}},function(t,e,r){"use strict";var n=r(421),o=r(1106),l=r(519);t.exports=function(t,e,r){for(var c="constraint"===t.type?o[t._operation](t.value):t,f=c.size,h=[],d=l(c),v=r.trace._carpetTrace,m=v?{xaxis:v.aaxis,yaxis:v.baxis,x:r.a,y:r.b}:{xaxis:e.xaxis,yaxis:e.yaxis,x:r.x,y:r.y},y=c.start;y<d;y+=f)if(h.push(n.extendFlat({level:y,crossings:{},starts:[],edgepaths:[],paths:[],z:r.z,smoothing:r.trace.line.smoothing},m)),h.length>1e3){n.warn("Too many contours, clipping at 1000",t);break}return h}},function(t,e,r){"use strict";var n=r(579),o=r(424);function l(t,e){var r,l=Array.isArray(e);function c(t){return o(t)?+t:null}return-1!==n.COMPARISON_OPS2.indexOf(t)?r=c(l?e[0]:e):-1!==n.INTERVAL_OPS.indexOf(t)?r=l?[c(e[0]),c(e[1])]:[c(e),c(e)]:-1!==n.SET_OPS.indexOf(t)&&(r=l?e.map(c):[c(e)]),r}function c(t){return function(e){e=l(t,e);var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return{start:r,end:n,size:n-r}}}function f(t){return function(e){return{start:e=l(t,e),end:1/0,size:1/0}}}t.exports={"[]":c("[]"),"][":c("]["),">":f(">"),"<":f("<"),"=":f("=")}},function(t,e,r){"use strict";var n=r(421);function o(t){return n.extendFlat({},t,{edgepaths:n.extendDeep([],t.edgepaths),paths:n.extendDeep([],t.paths),starts:n.extendDeep([],t.starts)})}t.exports=function(t,e){var i,r,l,c=function(t){return t.reverse()},f=function(t){return t};switch(e){case"=":case"<":return t;case">":for(1!==t.length&&n.warn("Contour data invalid for the specified inequality operation."),r=t[0],i=0;i<r.edgepaths.length;i++)r.edgepaths[i]=c(r.edgepaths[i]);for(i=0;i<r.paths.length;i++)r.paths[i]=c(r.paths[i]);for(i=0;i<r.starts.length;i++)r.starts[i]=c(r.starts[i]);return t;case"][":var h=c;c=f,f=h;case"[]":for(2!==t.length&&n.warn("Contour data invalid for the specified inequality range operation."),r=o(t[0]),l=o(t[1]),i=0;i<r.edgepaths.length;i++)r.edgepaths[i]=c(r.edgepaths[i]);for(i=0;i<r.paths.length;i++)r.paths[i]=c(r.paths[i]);for(i=0;i<r.starts.length;i++)r.starts[i]=c(r.starts[i]);for(;l.edgepaths.length;)r.edgepaths.push(f(l.edgepaths.shift()));for(;l.paths.length;)r.paths.push(f(l.paths.shift()));for(;l.starts.length;)r.starts.push(f(l.starts.shift()));return[r]}}},function(t,e,r){"use strict";t.exports=function(t,e){var i,r=t[0],n=r.z;switch(e.type){case"levels":var o=Math.min(n[0][0],n[0][1]);for(i=0;i<t.length;i++){var l=t[i];l.prefixBoundary=!l.edgepaths.length&&(o>l.level||l.starts.length&&o===l.level)}break;case"constraint":if(r.prefixBoundary=!1,r.edgepaths.length)return;var c=r.x.length,f=r.y.length,h=-1/0,d=1/0;for(i=0;i<f;i++)d=Math.min(d,n[i][0]),d=Math.min(d,n[i][c-1]),h=Math.max(h,n[i][0]),h=Math.max(h,n[i][c-1]);for(i=1;i<c-1;i++)d=Math.min(d,n[0][i]),d=Math.min(d,n[f-1][i]),h=Math.max(h,n[0][i]),h=Math.max(h,n[f-1][i]);var v,m,y=e.value;switch(e._operation){case">":y>h&&(r.prefixBoundary=!0);break;case"<":(y<d||r.starts.length&&y===d)&&(r.prefixBoundary=!0);break;case"[]":v=Math.min(y[0],y[1]),((m=Math.max(y[0],y[1]))<d||v>h||r.starts.length&&m===d)&&(r.prefixBoundary=!0);break;case"][":v=Math.min(y[0],y[1]),m=Math.max(y[0],y[1]),v<d&&m>h&&(r.prefixBoundary=!0)}}}},function(t,e,r){"use strict";var n=r(423),o=r(427),l=r(1110),c=r(719);t.exports=function(t){var e=n.select(t).selectAll("g.contour");e.style("opacity",(function(t){return t[0].trace.opacity})),e.each((function(t){var e=n.select(this),r=t[0].trace,l=r.contours,line=r.line,f=l.size||1,h=l.start,d="constraint"===l.type,v=!d&&"lines"===l.coloring,m=!d&&"fill"===l.coloring,y=v||m?c(r):null;e.selectAll("g.contourlevel").each((function(t){n.select(this).selectAll("path").call(o.lineGroupStyle,line.width,v?y(t.level):line.color,line.dash)}));var x=l.labelfont;if(e.selectAll("g.contourlabels text").each((function(t){o.font(n.select(this),{family:x.family,size:x.size,color:x.color||(v?y(t.level):line.color)})})),d)e.selectAll("g.contourfill path").style("fill",r.fillcolor);else if(m){var _;e.selectAll("g.contourfill path").style("fill",(function(t){return void 0===_&&(_=t.level),y(t.level+.5*f)})),void 0===_&&(_=h),e.selectAll("g.contourbg path").style("fill",y(_-.5*f))}})),l(t)}},function(t,e,r){"use strict";var n=r(423);t.exports=function(t){n.select(t).selectAll(".hm image").style("opacity",(function(t){return t.trace.opacity}))}},function(t,e,r){"use strict";var n=r(447),o=r(719),l=r(519);t.exports={min:"zmin",max:"zmax",calc:function(t,e,r){var c=e.contours,line=e.line,f=c.size||1,h=c.coloring,d=o(e,{isColorbar:!0});if("heatmap"===h){var v=n.extractOpts(e);r._fillgradient=v.reversescale?n.flipScale(v.colorscale):v.colorscale,r._zrange=[v.min,v.max]}else"fill"===h&&(r._fillcolor=d);r._line={color:"lines"===h?d:line.color,width:!1!==c.showlines?line.width:0,dash:line.dash},r._levels={start:c.start,end:l(c),size:f}}}},function(t,e,r){"use strict";var n=r(425),o=r(1113);t.exports=function(t,e,r,l,c){var f=o(t,e,r,l,c,!0);return f&&f.forEach((function(t){var e=t.trace;"constraint"===e.contours.type&&(e.fillcolor&&n.opacity(e.fillcolor)?t.color=n.addOpacity(e.fillcolor,1):e.contours.showlines&&n.opacity(e.line.color)&&(t.color=n.addOpacity(e.line.color,1)))})),f}},function(t,e,r){"use strict";var n=r(460),o=r(421),l=r(426),c=r(447).extractOpts;t.exports=function(t,e,r,f,h,d){var v,m,y,x,_=t.cd[0],w=_.trace,M=t.xa,A=t.ya,T=_.x,k=_.y,E=_.z,S=_.xCenter,L=_.yCenter,C=_.zmask,O=w.zhoverformat,R=T,D=k;if(!1!==t.index){try{y=Math.round(t.index[1]),x=Math.round(t.index[0])}catch(e){return void o.error("Error hovering on heatmap, pointNumber must be [row,col], found:",t.index)}if(y<0||y>=E[0].length||x<0||x>E.length)return}else{if(n.inbox(e-T[0],e-T[T.length-1],0)>0||n.inbox(r-k[0],r-k[k.length-1],0)>0)return;if(d){var P;for(R=[2*T[0]-T[1]],P=1;P<T.length;P++)R.push((T[P]+T[P-1])/2);for(R.push([2*T[T.length-1]-T[T.length-2]]),D=[2*k[0]-k[1]],P=1;P<k.length;P++)D.push((k[P]+k[P-1])/2);D.push([2*k[k.length-1]-k[k.length-2]])}y=Math.max(0,Math.min(R.length-2,o.findBin(e,R))),x=Math.max(0,Math.min(D.length-2,o.findBin(r,D)))}var I,N,z=M.c2p(T[y]),F=M.c2p(T[y+1]),j=A.c2p(k[x]),B=A.c2p(k[x+1]);d?(I=_.orig_x||T,N=_.orig_y||k,F=z,v=I[y],B=j,m=N[x]):(I=_.orig_x||S||T,N=_.orig_y||L||k,v=S?I[y]:(I[y]+I[y+1])/2,m=L?N[x]:(N[x]+N[x+1])/2,M&&"category"===M.type&&(v=T[y]),A&&"category"===A.type&&(m=k[x]),w.zsmooth&&(z=F=M.c2p(v),j=B=A.c2p(m)));var U=E[x][y];if(C&&!C[x][y]&&(U=void 0),void 0!==U||w.hoverongaps){var text;Array.isArray(_.hovertext)&&Array.isArray(_.hovertext[x])?text=_.hovertext[x][y]:Array.isArray(_.text)&&Array.isArray(_.text[x])&&(text=_.text[x][y]);var H=c(w),V={type:"linear",range:[H.min,H.max],hoverformat:O,_separators:M._separators,_numFormat:M._numFormat},Y=l.tickText(V,U,"hover").text;return[o.extendFlat(t,{index:w._after2before?w._after2before[x][y]:[x,y],distance:t.maxHoverDistance,spikeDistance:t.maxSpikeDistance,x0:z,x1:F,y0:j,y1:B,xLabelVal:v,yLabelVal:m,zLabelVal:U,zLabel:Y,text:text})]}}},function(t,e,r){"use strict";t.exports=r(1115)},function(t,e,r){"use strict";t.exports={attributes:r(567),supplyDefaults:r(1116).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:r(1117),plot:r(1118),moduleType:"trace",name:"surface",basePlotModule:r(572),categories:["gl3d","2dMap","showLegend"],meta:{}}},function(t,e,r){"use strict";var n=r(422),o=r(421),l=r(475),c=r(567);function f(t,e,r,n){var o=n("opacityscale");"max"===o?e.opacityscale=[[0,.1],[1,1]]:"min"===o?e.opacityscale=[[0,1],[1,.1]]:"extremes"===o?e.opacityscale=function(t,e){for(var r=[],i=0;i<32;i++){var u=i/31,n=e+(1-e)*(1-Math.pow(Math.sin(t*u*Math.PI),2));r.push([u,Math.max(0,Math.min(1,n))])}return r}(1,.1):function(t){var e=0;if(!Array.isArray(t)||t.length<2)return!1;if(!t[0]||!t[t.length-1])return!1;if(0!=+t[0][0]||1!=+t[t.length-1][0])return!1;for(var i=0;i<t.length;i++){var r=t[i];if(2!==r.length||+r[0]<e)return!1;e=+r[0]}return!0}(o)||(e.opacityscale=void 0)}function h(t,e,r){e in t&&!(r in t)&&(t[r]=t[e])}t.exports={supplyDefaults:function(t,e,r,d){var i,v;function m(r,n){return o.coerce(t,e,c,r,n)}var y=m("x"),x=m("y"),_=m("z");if(!_||!_.length||y&&y.length<1||x&&x.length<1)e.visible=!1;else{e._xlength=Array.isArray(y)&&o.isArrayOrTypedArray(y[0])?_.length:_[0].length,e._ylength=_.length,n.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y","z"],d),m("text"),m("hovertext"),m("hovertemplate"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach((function(t){m(t)}));var w=m("surfacecolor"),M=["x","y","z"];for(i=0;i<3;++i){var A="contours."+M[i],T=m(A+".show"),k=m(A+".highlight");if(T||k)for(v=0;v<3;++v)m(A+".project."+M[v]);T&&(m(A+".color"),m(A+".width"),m(A+".usecolormap")),k&&(m(A+".highlightcolor"),m(A+".highlightwidth")),m(A+".start"),m(A+".end"),m(A+".size")}w||(h(t,"zmin","cmin"),h(t,"zmax","cmax"),h(t,"zauto","cauto")),l(t,e,d,m,{prefix:"",cLetter:"c"}),f(t,e,d,m),e._length=null}},opacityscaleDefaults:f}},function(t,e,r){"use strict";var n=r(495);t.exports=function(t,e){e.surfacecolor?n(t,e,{vals:e.surfacecolor,containerStr:"",cLetter:"c"}):n(t,e,{vals:e.z,containerStr:"",cLetter:"c"})}},function(t,e,r){"use strict";var n=r(1119),o=r(452),l=r(1124).d2,c=r(717),f=r(718),h=r(421).isArrayOrTypedArray,d=r(571).parseColorScale,v=r(485),m=r(447).extractOpts;function y(t,e,r){this.scene=t,this.uid=r,this.surface=e,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var x=y.prototype;x.getXat=function(a,b,t,e){var r=h(this.data.x)?h(this.data.x[0])?this.data.x[b][a]:this.data.x[a]:a;return void 0===t?r:e.d2l(r,0,t)},x.getYat=function(a,b,t,e){var r=h(this.data.y)?h(this.data.y[0])?this.data.y[b][a]:this.data.y[b]:b;return void 0===t?r:e.d2l(r,0,t)},x.getZat=function(a,b,t,e){var r=this.data.z[b][a];return null===r&&this.data.connectgaps&&this.data._interpolatedZ&&(r=this.data._interpolatedZ[b][a]),void 0===t?r:e.d2l(r,0,t)},x.handlePick=function(t){if(t.object===this.surface){var e=(t.data.index[0]-1)/this.dataScaleX-1,r=(t.data.index[1]-1)/this.dataScaleY-1,n=Math.max(Math.min(Math.round(e),this.data.z[0].length-1),0),o=Math.max(Math.min(Math.round(r),this.data._ylength-1),0);t.index=[n,o],t.traceCoordinate=[this.getXat(n,o),this.getYat(n,o),this.getZat(n,o)],t.dataCoordinate=[this.getXat(n,o,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(n,o,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(n,o,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var i=0;i<3;i++){var l=t.dataCoordinate[i];null!=l&&(t.dataCoordinate[i]*=this.scene.dataScale[i])}var text=this.data.hovertext||this.data.text;return Array.isArray(text)&&text[o]&&void 0!==text[o][n]?t.textLabel=text[o][n]:t.textLabel=text||"",t.data.dataCoordinate=t.dataCoordinate.slice(),this.surface.highlight(t.data),this.scene.glplot.spikes.position=t.dataCoordinate,!0}};var _=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function w(a,b){if(a<b)return 0;for(var t=0;0===Math.floor(a%b);)a/=b,t++;return t}function M(a){for(var t=[],i=0;i<_.length;i++){var b=_[i];t.push(w(a,b))}return t}function A(a){for(var t=M(a),e=a,i=0;i<_.length;i++)if(t[i]>0){e=_[i];break}return e}function T(a,b){if(!(a<1||b<1)){for(var t=M(a),e=M(b),r=1,i=0;i<_.length;i++)r*=Math.pow(_[i],Math.max(t[i],e[i]));return r}}x.calcXnums=function(t){var i,e=[];for(i=1;i<t;i++){var a=this.getXat(i-1,0),b=this.getXat(i,0);e[i-1]=b!==a&&null!=a&&null!=b?Math.abs(b-a):0}var r=0;for(i=1;i<t;i++)r+=e[i-1];for(i=1;i<t;i++)0===e[i-1]?e[i-1]=1:e[i-1]=Math.round(r/e[i-1]);return e},x.calcYnums=function(t){var i,e=[];for(i=1;i<t;i++){var a=this.getYat(0,i-1),b=this.getYat(0,i);e[i-1]=b!==a&&null!=a&&null!=b?Math.abs(b-a):0}var r=0;for(i=1;i<t;i++)r+=e[i-1];for(i=1;i<t;i++)0===e[i-1]?e[i-1]=1:e[i-1]=Math.round(r/e[i-1]);return e};var k=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],E=k[9],S=k[13];function L(t,e,r){var n=r[8]+r[2]*e[0]+r[5]*e[1];return t[0]=(r[6]+r[0]*e[0]+r[3]*e[1])/n,t[1]=(r[7]+r[1]*e[0]+r[4]*e[1])/n,t}function C(t,e,r){return function(t,e,r,n){for(var o=[0,0],c=t.shape[0],f=t.shape[1],i=0;i<c;i++)for(var h=0;h<f;h++)r(o,[i,h],n),t.set(i,h,l(e,o[0],o[1]))}(t,e,L,r),t}function O(t,e){for(var r=!1,n=0;n<t.length;n++)if(e===t[n]){r=!0;break}!1===r&&t.push(e)}x.estimateScale=function(t,e){for(var r=1+function(t){if(0!==t.length){for(var e=1,i=0;i<t.length;i++)e=T(e,t[i]);return e}}(0===e?this.calcXnums(t):this.calcYnums(t));r<E;)r*=2;for(;r>S;)r--,r/=A(r),++r<E&&(r=S);var n=Math.round(r/t);return n>1?n:1},x.refineCoords=function(t){for(var e=this.dataScaleX,r=this.dataScaleY,n=t[0].shape[0],l=t[0].shape[1],c=0|Math.floor(t[0].shape[0]*e+1),f=0|Math.floor(t[0].shape[1]*r+1),h=1+n+1,d=1+l+1,v=o(new Float32Array(h*d),[h,d]),m=[1/e,0,0,0,1/r,0,0,0,1],i=0;i<t.length;++i){this.surface.padField(v,t[i]);var y=o(new Float32Array(c*f),[c,f]);C(y,v,m),t[i]=y}},x.setContourLevels=function(){var i,t,e,r=[[],[],[]],n=[!1,!1,!1],o=!1;for(i=0;i<3;++i)if(this.showContour[i]&&(o=!0,this.contourSize[i]>0&&null!==this.contourStart[i]&&null!==this.contourEnd[i]&&this.contourEnd[i]>this.contourStart[i]))for(n[i]=!0,t=this.contourStart[i];t<this.contourEnd[i];t+=this.contourSize[i])e=t*this.scene.dataScale[i],O(r[i],e);if(o){var l=[[],[],[]];for(i=0;i<3;++i)this.showContour[i]&&(l[i]=n[i]?r[i]:this.scene.contourLevels[i]);this.surface.update({levels:l})}},x.update=function(data){var i,t,e,r,n=this.scene,l=n.fullSceneLayout,h=this.surface,y=d(data),x=n.dataScale,_=data.z[0].length,w=data._ylength,M=n.contourLevels;this.data=data;var A=[];for(i=0;i<3;i++)for(A[i]=[],t=0;t<_;t++)A[i][t]=[];for(t=0;t<_;t++)for(e=0;e<w;e++)A[0][t][e]=this.getXat(t,e,data.xcalendar,l.xaxis),A[1][t][e]=this.getYat(t,e,data.ycalendar,l.yaxis),A[2][t][e]=this.getZat(t,e,data.zcalendar,l.zaxis);if(data.connectgaps)for(data._emptypoints=f(A[2]),c(A[2],data._emptypoints),data._interpolatedZ=[],t=0;t<_;t++)for(data._interpolatedZ[t]=[],e=0;e<w;e++)data._interpolatedZ[t][e]=A[2][t][e];for(i=0;i<3;i++)for(t=0;t<_;t++)for(e=0;e<w;e++)null==(r=A[i][t][e])?A[i][t][e]=NaN:r=A[i][t][e]*=x[i];for(i=0;i<3;i++)for(t=0;t<_;t++)for(e=0;e<w;e++)null!=(r=A[i][t][e])&&(this.minValues[i]>r&&(this.minValues[i]=r),this.maxValues[i]<r&&(this.maxValues[i]=r));for(i=0;i<3;i++)this.objectOffset[i]=.5*(this.minValues[i]+this.maxValues[i]);for(i=0;i<3;i++)for(t=0;t<_;t++)for(e=0;e<w;e++)null!=(r=A[i][t][e])&&(A[i][t][e]-=this.objectOffset[i]);var T=[o(new Float32Array(_*w),[_,w]),o(new Float32Array(_*w),[_,w]),o(new Float32Array(_*w),[_,w])];for(i=0;i<3;i++)for(t=0;t<_;t++)for(e=0;e<w;e++)T[i].set(t,e,A[i][t][e]);A=[];var k={colormap:y,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!data.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:data.opacityscale,opacity:data.opacity},E=m(data);if(k.intensityBounds=[E.min,E.max],data.surfacecolor){var L=o(new Float32Array(_*w),[_,w]);for(t=0;t<_;t++)for(e=0;e<w;e++)L.set(t,e,data.surfacecolor[e][t]);T.push(L)}else k.intensityBounds[0]*=x[2],k.intensityBounds[1]*=x[2];(S<T[0].shape[0]||S<T[0].shape[1])&&(this.refineData=!1),!0===this.refineData&&(this.dataScaleX=this.estimateScale(T[0].shape[0],0),this.dataScaleY=this.estimateScale(T[0].shape[1],1),1===this.dataScaleX&&1===this.dataScaleY||this.refineCoords(T)),data.surfacecolor&&(k.intensity=T.pop());var C=[!0,!0,!0],O=["x","y","z"];for(i=0;i<3;++i){var R=data.contours[O[i]];C[i]=R.highlight,k.showContour[i]=R.show||R.highlight,k.showContour[i]&&(k.contourProject[i]=[R.project.x,R.project.y,R.project.z],R.show?(this.showContour[i]=!0,k.levels[i]=M[i],h.highlightColor[i]=k.contourColor[i]=v(R.color),R.usecolormap?h.highlightTint[i]=k.contourTint[i]=0:h.highlightTint[i]=k.contourTint[i]=1,k.contourWidth[i]=R.width,this.contourStart[i]=R.start,this.contourEnd[i]=R.end,this.contourSize[i]=R.size):(this.showContour[i]=!1,this.contourStart[i]=null,this.contourEnd[i]=null,this.contourSize[i]=0),R.highlight&&(k.dynamicColor[i]=v(R.highlightcolor),k.dynamicWidth[i]=R.highlightwidth))}(function(t){var e=t[0].rgb,r=t[t.length-1].rgb;return e[0]===r[0]&&e[1]===r[1]&&e[2]===r[2]&&e[3]===r[3]})(y)&&(k.vertexColor=!0),k.objectOffset=this.objectOffset,k.coords=T,h.update(k),h.visible=data.visible,h.enableDynamic=C,h.enableHighlight=C,h.snapToData=!0,"lighting"in data&&(h.ambientLight=data.lighting.ambient,h.diffuseLight=data.lighting.diffuse,h.specularLight=data.lighting.specular,h.roughness=data.lighting.roughness,h.fresnel=data.lighting.fresnel),"lightposition"in data&&(h.lightPosition=[data.lightposition.x,data.lightposition.y,data.lightposition.z])},x.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},t.exports=function(t,data){var e=t.glplot.gl,r=n({gl:e}),o=new y(t,r,data.uid);return r._trace=o,o.update(data),t.glplot.add(r),o}},function(t,e,r){"use strict";t.exports=function(t){var e=t.gl,r=T(e),n=E(e),f=k(e),h=S(e),d=o(e),v=l(e,[{buffer:d,size:4,stride:40,offset:0},{buffer:d,size:3,stride:40,offset:16},{buffer:d,size:3,stride:40,offset:28}]),m=o(e),y=l(e,[{buffer:m,size:4,stride:20,offset:0},{buffer:m,size:1,stride:20,offset:16}]),x=o(e),_=l(e,[{buffer:x,size:2,type:e.FLOAT}]),w=c(e,1,256,e.RGBA,e.UNSIGNED_BYTE);w.minFilter=e.LINEAR,w.magFilter=e.LINEAR;var M=new D(e,[0,0],[[0,0,0],[0,0,0]],r,n,d,v,w,f,h,m,y,x,_,[0,0,0]),A={levels:[[],[],[]]};for(var L in t)A[L]=t[L];return A.colormap=A.colormap||"jet",M.update(A),M};var n=r(465),o=r(451),l=r(453),c=r(516),f=r(439),h=r(679),d=r(569),v=r(1120),m=r(452),y=r(695),x=r(472),_=r(471),w=r(486),M=r(1122),A=r(1123),T=A.createShader,k=A.createContourShader,E=A.createPickShader,S=A.createPickContourShader,L=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],C=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],O=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function R(t,e,r,n,o){this.position=t,this.index=e,this.uv=r,this.level=n,this.dataCoordinate=o}!function(){for(var i=0;i<3;++i){var p=O[i],t=(i+2)%3;p[(i+1)%3+0]=1,p[t+3]=1,p[i+6]=1}}();function D(t,e,r,n,o,l,c,h,d,v,y,x,_,w,M){this.gl=t,this.shape=e,this.bounds=r,this.objectOffset=M,this.intensityBounds=[],this._shader=n,this._pickShader=o,this._coordinateBuffer=l,this._vao=c,this._colorMap=h,this._contourShader=d,this._contourPickShader=v,this._contourBuffer=y,this._contourVAO=x,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new R([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=_,this._dynamicVAO=w,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[m(f.mallocFloat(1024),[0,0]),m(f.mallocFloat(1024),[0,0]),m(f.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var P=D.prototype;P.genColormap=function(t,e){var r=!1,n=v([h({colormap:t,nshades:256,format:"rgba"}).map((function(t,i){var a=e?function(t,e){if(!e)return 1;if(!e.length)return 1;for(var i=0;i<e.length;++i){if(e.length<2)return 1;if(e[i][0]===t)return e[i][1];if(e[i][0]>t&&i>0){var r=(e[i][0]-t)/(e[i][0]-e[i-1][0]);return e[i][1]*(1-r)+r*e[i-1][1]}}return 1}(i/255,e):t[3];return a<1&&(r=!0),[t[0],t[1],t[2],255*a]}))]);return d.divseq(n,255),this.hasAlphaScale=r,n},P.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},P.isOpaque=function(){return!this.isTransparent()},P.pickSlots=1,P.setPickBase=function(t){this.pickId=t};var I=[0,0,0],N={showSurface:!1,showContour:!1,projections:[L.slice(),L.slice(),L.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function z(t,e){var i,r,n,o=e.axes&&e.axes.lastCubeProps.axis||I,l=e.showSurface,c=e.showContour;for(i=0;i<3;++i)for(l=l||e.surfaceProject[i],r=0;r<3;++r)c=c||e.contourProject[i][r];for(i=0;i<3;++i){var f=N.projections[i];for(r=0;r<16;++r)f[r]=0;for(r=0;r<4;++r)f[5*r]=1;f[5*i]=0,f[12+i]=e.axesBounds[+(o[i]>0)][i],x(f,t.model,f);var h=N.clipBounds[i];for(n=0;n<2;++n)for(r=0;r<3;++r)h[n][r]=t.clipBounds[n][r];h[0][i]=-1e8,h[1][i]=1e8}return N.showSurface=l,N.showContour=c,N}var F={model:L,view:L,projection:L,inverseModel:L.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},j=L.slice(),B=[1,0,0,0,1,0,0,0,1];function U(t,e){t=t||{};var r=this.gl;r.disable(r.CULL_FACE),this._colorMap.bind(0);var n=F;n.model=t.model||L,n.view=t.view||L,n.projection=t.projection||L,n.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],n.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],n.objectOffset=this.objectOffset,n.contourColor=this.contourColor[0],n.inverseModel=_(n.inverseModel,n.model);for(var i=0;i<2;++i)for(var o=n.clipBounds[i],l=0;l<3;++l)o[l]=Math.min(Math.max(this.clipBounds[i][l],-1e8),1e8);n.kambient=this.ambientLight,n.kdiffuse=this.diffuseLight,n.kspecular=this.specularLight,n.roughness=this.roughness,n.fresnel=this.fresnel,n.opacity=this.opacity,n.height=0,n.permutation=B,n.vertexColor=this.vertexColor;var c=j;for(x(c,n.view,n.model),x(c,n.projection,c),_(c,c),i=0;i<3;++i)n.eyePosition[i]=c[12+i]/c[15];var f=c[15];for(i=0;i<3;++i)f+=this.lightPosition[i]*c[4*i+3];for(i=0;i<3;++i){var s=c[12+i];for(l=0;l<3;++l)s+=c[4*l+i]*this.lightPosition[l];n.lightPosition[i]=s/f}var h=z(n,this);if(h.showSurface){for(this._shader.bind(),this._shader.uniforms=n,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(r.TRIANGLES,this._vertexCount),i=0;i<3;++i)this.surfaceProject[i]&&this.vertexCount&&(this._shader.uniforms.model=h.projections[i],this._shader.uniforms.clipBounds=h.clipBounds[i],this._vao.draw(r.TRIANGLES,this._vertexCount));this._vao.unbind()}if(h.showContour){var d=this._contourShader;n.kambient=1,n.kdiffuse=0,n.kspecular=0,n.opacity=1,d.bind(),d.uniforms=n;var v=this._contourVAO;for(v.bind(),i=0;i<3;++i)for(d.uniforms.permutation=O[i],r.lineWidth(this.contourWidth[i]*this.pixelRatio),l=0;l<this.contourLevels[i].length;++l)l===this.highlightLevel[i]?(d.uniforms.contourColor=this.highlightColor[i],d.uniforms.contourTint=this.highlightTint[i]):0!==l&&l-1!==this.highlightLevel[i]||(d.uniforms.contourColor=this.contourColor[i],d.uniforms.contourTint=this.contourTint[i]),this._contourCounts[i][l]&&(d.uniforms.height=this.contourLevels[i][l],v.draw(r.LINES,this._contourCounts[i][l],this._contourOffsets[i][l]));for(i=0;i<3;++i)for(d.uniforms.model=h.projections[i],d.uniforms.clipBounds=h.clipBounds[i],l=0;l<3;++l)if(this.contourProject[i][l]){d.uniforms.permutation=O[l],r.lineWidth(this.contourWidth[l]*this.pixelRatio);for(var m=0;m<this.contourLevels[l].length;++m)m===this.highlightLevel[l]?(d.uniforms.contourColor=this.highlightColor[l],d.uniforms.contourTint=this.highlightTint[l]):0!==m&&m-1!==this.highlightLevel[l]||(d.uniforms.contourColor=this.contourColor[l],d.uniforms.contourTint=this.contourTint[l]),this._contourCounts[l][m]&&(d.uniforms.height=this.contourLevels[l][m],v.draw(r.LINES,this._contourCounts[l][m],this._contourOffsets[l][m]))}for(v.unbind(),(v=this._dynamicVAO).bind(),i=0;i<3;++i)if(0!==this._dynamicCounts[i])for(d.uniforms.model=n.model,d.uniforms.clipBounds=n.clipBounds,d.uniforms.permutation=O[i],r.lineWidth(this.dynamicWidth[i]*this.pixelRatio),d.uniforms.contourColor=this.dynamicColor[i],d.uniforms.contourTint=this.dynamicTint[i],d.uniforms.height=this.dynamicLevel[i],v.draw(r.LINES,this._dynamicCounts[i],this._dynamicOffsets[i]),l=0;l<3;++l)this.contourProject[l][i]&&(d.uniforms.model=h.projections[l],d.uniforms.clipBounds=h.clipBounds[l],v.draw(r.LINES,this._dynamicCounts[i],this._dynamicOffsets[i]));v.unbind()}}P.draw=function(t){return U.call(this,t,!1)},P.drawTransparent=function(t){return U.call(this,t,!0)};var H={model:L,view:L,projection:L,inverseModel:L,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function V(param,t){return Array.isArray(param)?[t(param[0]),t(param[1]),t(param[2])]:[t(param),t(param),t(param)]}function Y(t){return Array.isArray(t)?3===t.length?[t[0],t[1],t[2],1]:[t[0],t[1],t[2],t[3]]:[0,0,0,1]}function G(param){if(Array.isArray(param)){if(Array.isArray(param))return[Y(param[0]),Y(param[1]),Y(param[2])];var t=Y(param);return[t.slice(),t.slice(),t.slice()]}}P.drawPick=function(t){t=t||{};var e=this.gl;e.disable(e.CULL_FACE);var r=H;r.model=t.model||L,r.view=t.view||L,r.projection=t.projection||L,r.shape=this._field[2].shape,r.pickId=this.pickId/255,r.lowerBound=this.bounds[0],r.upperBound=this.bounds[1],r.objectOffset=this.objectOffset,r.permutation=B;for(var i=0;i<2;++i)for(var n=r.clipBounds[i],o=0;o<3;++o)n[o]=Math.min(Math.max(this.clipBounds[i][o],-1e8),1e8);var l=z(r,this);if(l.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=r,this._vao.bind(),this._vao.draw(e.TRIANGLES,this._vertexCount),i=0;i<3;++i)this.surfaceProject[i]&&(this._pickShader.uniforms.model=l.projections[i],this._pickShader.uniforms.clipBounds=l.clipBounds[i],this._vao.draw(e.TRIANGLES,this._vertexCount));this._vao.unbind()}if(l.showContour){var c=this._contourPickShader;c.bind(),c.uniforms=r;var f=this._contourVAO;for(f.bind(),o=0;o<3;++o)for(e.lineWidth(this.contourWidth[o]*this.pixelRatio),c.uniforms.permutation=O[o],i=0;i<this.contourLevels[o].length;++i)this._contourCounts[o][i]&&(c.uniforms.height=this.contourLevels[o][i],f.draw(e.LINES,this._contourCounts[o][i],this._contourOffsets[o][i]));for(i=0;i<3;++i)for(c.uniforms.model=l.projections[i],c.uniforms.clipBounds=l.clipBounds[i],o=0;o<3;++o)if(this.contourProject[i][o]){c.uniforms.permutation=O[o],e.lineWidth(this.contourWidth[o]*this.pixelRatio);for(var h=0;h<this.contourLevels[o].length;++h)this._contourCounts[o][h]&&(c.uniforms.height=this.contourLevels[o][h],f.draw(e.LINES,this._contourCounts[o][h],this._contourOffsets[o][h]))}f.unbind()}},P.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=this._field[2].shape,r=this._pickResult,n=e[0]*(t.value[0]+(t.value[2]>>4)/16)/255,o=Math.floor(n),l=n-o,c=e[1]*(t.value[1]+(15&t.value[2])/16)/255,f=Math.floor(c),h=c-f;o+=1,f+=1;var d=r.position;d[0]=d[1]=d[2]=0;for(var v=0;v<2;++v)for(var s=v?l:1-l,m=0;m<2;++m)for(var y=o+v,x=f+m,_=s*(m?h:1-h),i=0;i<3;++i)d[i]+=this._field[i].get(y,x)*_;for(var M=this._pickResult.level,A=0;A<3;++A)if(M[A]=w.le(this.contourLevels[A],d[A]),M[A]<0)this.contourLevels[A].length>0&&(M[A]=0);else if(M[A]<this.contourLevels[A].length-1){var a=this.contourLevels[A][M[A]],b=this.contourLevels[A][M[A]+1];Math.abs(a-d[A])>Math.abs(b-d[A])&&(M[A]+=1)}for(r.index[0]=l<.5?o:o+1,r.index[1]=h<.5?f:f+1,r.uv[0]=n/e[0],r.uv[1]=c/e[1],i=0;i<3;++i)r.dataCoordinate[i]=this._field[i].get(r.index[0],r.index[1]);return r},P.padField=function(t,e){var r=e.shape.slice(),n=t.shape.slice();d.assign(t.lo(1,1).hi(r[0],r[1]),e),d.assign(t.lo(1).hi(r[0],1),e.hi(r[0],1)),d.assign(t.lo(1,n[1]-1).hi(r[0],1),e.lo(0,r[1]-1).hi(r[0],1)),d.assign(t.lo(0,1).hi(1,r[1]),e.hi(1)),d.assign(t.lo(n[0]-1,1).hi(1,r[1]),e.lo(r[0]-1)),t.set(0,0,e.get(0,0)),t.set(0,n[1]-1,e.get(0,r[1]-1)),t.set(n[0]-1,0,e.get(r[0]-1,0)),t.set(n[0]-1,n[1]-1,e.get(r[0]-1,r[1]-1))},P.update=function(t){t=t||{},this.objectOffset=t.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in t&&(this.contourWidth=V(t.contourWidth,Number)),"showContour"in t&&(this.showContour=V(t.showContour,Boolean)),"showSurface"in t&&(this.showSurface=!!t.showSurface),"contourTint"in t&&(this.contourTint=V(t.contourTint,Boolean)),"contourColor"in t&&(this.contourColor=G(t.contourColor)),"contourProject"in t&&(this.contourProject=V(t.contourProject,(function(t){return V(t,Boolean)}))),"surfaceProject"in t&&(this.surfaceProject=t.surfaceProject),"dynamicColor"in t&&(this.dynamicColor=G(t.dynamicColor)),"dynamicTint"in t&&(this.dynamicTint=V(t.dynamicTint,Number)),"dynamicWidth"in t&&(this.dynamicWidth=V(t.dynamicWidth,Number)),"opacity"in t&&(this.opacity=t.opacity),"opacityscale"in t&&(this.opacityscale=t.opacityscale),"colorBounds"in t&&(this.colorBounds=t.colorBounds),"vertexColor"in t&&(this.vertexColor=t.vertexColor?1:0),"colormap"in t&&this._colorMap.setPixels(this.genColormap(t.colormap,this.opacityscale));var e=t.field||t.coords&&t.coords[2]||null,r=!1;if(e||(e=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in t||"coords"in t){var o=(e.shape[0]+2)*(e.shape[1]+2);o>this._field[2].data.length&&(f.freeFloat(this._field[2].data),this._field[2].data=f.mallocFloat(n.nextPow2(o))),this._field[2]=m(this._field[2].data,[e.shape[0]+2,e.shape[1]+2]),this.padField(this._field[2],e),this.shape=e.shape.slice();for(var l=this.shape,i=0;i<2;++i)this._field[2].size>this._field[i].data.length&&(f.freeFloat(this._field[i].data),this._field[i].data=f.mallocFloat(this._field[2].size)),this._field[i]=m(this._field[i].data,[l[0]+2,l[1]+2]);if(t.coords){var c=t.coords;if(!Array.isArray(c)||3!==c.length)throw new Error("gl-surface: invalid coordinates for x/y");for(i=0;i<2;++i){var h=c[i];for(w=0;w<2;++w)if(h.shape[w]!==l[w])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[i],h)}}else if(t.ticks){var d=t.ticks;if(!Array.isArray(d)||2!==d.length)throw new Error("gl-surface: invalid ticks");for(i=0;i<2;++i){var v=d[i];if((Array.isArray(v)||v.length)&&(v=m(v)),v.shape[0]!==l[i])throw new Error("gl-surface: invalid tick length");var x=m(v.data,l);x.stride[i]=v.stride[0],x.stride[1^i]=0,this.padField(this._field[i],x)}}else{for(i=0;i<2;++i){var _=[0,0];_[i]=1,this._field[i]=m(this._field[i].data,[l[0]+2,l[1]+2],_,0)}this._field[0].set(0,0,0);for(var w=0;w<l[0];++w)this._field[0].set(w+1,0,w);for(this._field[0].set(l[0]+1,0,l[0]-1),this._field[1].set(0,0,0),w=0;w<l[1];++w)this._field[1].set(0,w+1,w);this._field[1].set(0,l[1]+1,l[1]-1)}var A=this._field,T=m(f.mallocFloat(3*A[2].size*2),[3,l[0]+2,l[1]+2,2]);for(i=0;i<3;++i)M(T.pick(i),A[i],"mirror");var k=m(f.mallocFloat(3*A[2].size),[l[0]+2,l[1]+2,3]);for(i=0;i<l[0]+2;++i)for(w=0;w<l[1]+2;++w){var E=T.get(0,i,w,0),S=T.get(0,i,w,1),L=T.get(1,i,w,0),O=T.get(1,i,w,1),R=T.get(2,i,w,0),D=T.get(2,i,w,1),P=L*D-O*R,I=R*S-D*E,N=E*O-S*L,z=Math.sqrt(P*P+I*I+N*N);z<1e-8?(z=Math.max(Math.abs(P),Math.abs(I),Math.abs(N)))<1e-8?(N=1,I=P=0,z=1):z=1/z:z=1/Math.sqrt(z),k.set(i,w,0,P*z),k.set(i,w,1,I*z),k.set(i,w,2,N*z)}f.free(T.data);var F=[1/0,1/0,1/0],j=[-1/0,-1/0,-1/0],B=1/0,U=-1/0,H=(l[0]-1)*(l[1]-1)*6,Y=f.mallocFloat(n.nextPow2(10*H)),W=0,X=0;for(i=0;i<l[0]-1;++i)t:for(w=0;w<l[1]-1;++w){for(var Z=0;Z<2;++Z)for(var J=0;J<2;++J)for(var Q=0;Q<3;++Q){var K=this._field[Q].get(1+i+Z,1+w+J);if(isNaN(K)||!isFinite(K))continue t}for(Q=0;Q<6;++Q){var $=i+C[Q][0],tt=w+C[Q][1],et=this._field[0].get($+1,tt+1),nt=this._field[1].get($+1,tt+1);K=this._field[2].get($+1,tt+1),P=k.get($+1,tt+1,0),I=k.get($+1,tt+1,1),N=k.get($+1,tt+1,2),t.intensity&&(it=t.intensity.get($,tt));var it=t.intensity?t.intensity.get($,tt):K+this.objectOffset[2];Y[W++]=$,Y[W++]=tt,Y[W++]=et,Y[W++]=nt,Y[W++]=K,Y[W++]=0,Y[W++]=it,Y[W++]=P,Y[W++]=I,Y[W++]=N,F[0]=Math.min(F[0],et+this.objectOffset[0]),F[1]=Math.min(F[1],nt+this.objectOffset[1]),F[2]=Math.min(F[2],K+this.objectOffset[2]),B=Math.min(B,it),j[0]=Math.max(j[0],et+this.objectOffset[0]),j[1]=Math.max(j[1],nt+this.objectOffset[1]),j[2]=Math.max(j[2],K+this.objectOffset[2]),U=Math.max(U,it),X+=1}}for(t.intensityBounds&&(B=+t.intensityBounds[0],U=+t.intensityBounds[1]),i=6;i<W;i+=10)Y[i]=(Y[i]-B)/(U-B);this._vertexCount=X,this._coordinateBuffer.update(Y.subarray(0,W)),f.freeFloat(Y),f.free(k.data),this.bounds=[F,j],this.intensity=t.intensity||this._field[2],this.intensityBounds[0]===B&&this.intensityBounds[1]===U||(r=!0),this.intensityBounds=[B,U]}if("levels"in t){var at=t.levels;for(at=Array.isArray(at[0])?at.slice():[[],[],at],i=0;i<3;++i)at[i]=at[i].slice(),at[i].sort((function(a,b){return a-b}));for(i=0;i<3;++i)for(w=0;w<at[i].length;++w)at[i][w]-=this.objectOffset[i];t:for(i=0;i<3;++i){if(at[i].length!==this.contourLevels[i].length){r=!0;break}for(w=0;w<at[i].length;++w)if(at[i][w]!==this.contourLevels[i][w]){r=!0;break t}}this.contourLevels=at}if(r){A=this._field,l=this.shape;for(var ot=[],st=0;st<3;++st){var lt=this.contourLevels[st],ut=[],ct=[],ft=[0,0,0];for(i=0;i<lt.length;++i){var ht=y(this._field[st],lt[i]);ut.push(ot.length/5|0),X=0;t:for(w=0;w<ht.cells.length;++w){var pt=ht.cells[w];for(Q=0;Q<2;++Q){var p=ht.positions[pt[Q]],gt=p[0],vt=0|Math.floor(gt),mt=gt-vt,yt=p[1],xt=0|Math.floor(yt),bt=yt-xt,_t=!1;e:for(var wt=0;wt<3;++wt){ft[wt]=0;var Mt=(st+wt+1)%3;for(Z=0;Z<2;++Z){var s=Z?mt:1-mt;for($=0|Math.min(Math.max(vt+Z,0),l[0]),J=0;J<2;++J){var At=J?bt:1-bt;if(tt=0|Math.min(Math.max(xt+J,0),l[1]),K=wt<2?this._field[Mt].get($,tt):(this.intensity.get($,tt)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(K)||isNaN(K)){_t=!0;break e}var Tt=s*At;ft[wt]+=Tt*K}}}if(_t){if(Q>0){for(var kt=0;kt<5;++kt)ot.pop();X-=1}continue t}ot.push(ft[0],ft[1],p[0],p[1],ft[2]),X+=1}}ct.push(X)}this._contourOffsets[st]=ut,this._contourCounts[st]=ct}var Et=f.mallocFloat(ot.length);for(i=0;i<ot.length;++i)Et[i]=ot[i];this._contourBuffer.update(Et),f.freeFloat(Et)}},P.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var i=0;i<3;++i)f.freeFloat(this._field[i].data)},P.highlight=function(t){var i,e;if(!t)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(i=0;i<3;++i)this.enableHighlight[i]?this.highlightLevel[i]=t.level[i]:this.highlightLevel[i]=-1;for(e=this.snapToData?t.dataCoordinate:t.position,i=0;i<3;++i)e[i]-=this.objectOffset[i];if(this.enableDynamic[0]&&e[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&e[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&e[2]!==this.dynamicLevel[2]){for(var r=0,n=this.shape,o=f.mallocFloat(12*n[0]*n[1]),l=0;l<3;++l)if(this.enableDynamic[l]){this.dynamicLevel[l]=e[l];var u=(l+1)%3,c=(l+2)%3,h=this._field[l],g=this._field[u],d=this._field[c],v=y(h,e[l]),m=v.cells,x=v.positions;for(this._dynamicOffsets[l]=r,i=0;i<m.length;++i)for(var _=m[i],w=0;w<2;++w){var p=x[_[w]],M=+p[0],A=0|M,T=0|Math.min(A+1,n[0]),k=M-A,E=1-k,S=+p[1],L=0|S,C=0|Math.min(L+1,n[1]),O=S-L,R=1-O,D=E*R,P=E*O,I=k*R,N=k*O,z=D*g.get(A,L)+P*g.get(A,C)+I*g.get(T,L)+N*g.get(T,C),F=D*d.get(A,L)+P*d.get(A,C)+I*d.get(T,L)+N*d.get(T,C);if(isNaN(z)||isNaN(F)){w&&(r-=1);break}o[2*r+0]=z,o[2*r+1]=F,r+=1}this._dynamicCounts[l]=r-this._dynamicOffsets[l]}else this.dynamicLevel[l]=NaN,this._dynamicCounts[l]=0;this._dynamicBuffer.update(o.subarray(0,2*r)),f.freeFloat(o)}}},function(t,e,r){"use strict";var n=r(452),o=r(1121);t.exports=function(t,e){for(var r=[],l=t,c=1;Array.isArray(l);)r.push(l.length),c*=l.length,l=l[0];return 0===r.length?n():(e||(e=n(new Float64Array(c),r)),o(e,t),e)}},function(t,e,r){t.exports=r(514)({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},function(t,e,r){"use strict";t.exports=function(t,e,r){if(Array.isArray(r)){if(r.length!==e.dimension)throw new Error("ndarray-gradient: invalid boundary conditions")}else r=n(e.dimension,"string"==typeof r?r:"clamp");if(t.dimension!==e.dimension+1)throw new Error("ndarray-gradient: output dimension must be +1 input dimension");if(t.shape[e.dimension]!==e.dimension)throw new Error("ndarray-gradient: output shape must match input shape");for(var i=0;i<e.dimension;++i)if(t.shape[i]!==e.shape[i])throw new Error("ndarray-gradient: shape mismatch");if(0===e.size)return t;if(e.dimension<=0)return t.set(0),t;return function(t){var e=t.join();if(w=c[e])return w;var r=t.length,code=["function gradient(dst,src){var s=src.shape.slice();"];function n(e){for(var n=r-e.length,o=[],l=[],c=[],i=0;i<r;++i)e.indexOf(i+1)>=0?c.push("0"):e.indexOf(-(i+1))>=0?c.push("s["+i+"]-1"):(c.push("-1"),o.push("1"),l.push("s["+i+"]-2"));var f=".lo("+o.join()+").hi("+l.join()+")";if(0===o.length&&(f=""),n>0){code.push("if(1");for(i=0;i<r;++i)e.indexOf(i+1)>=0||e.indexOf(-(i+1))>=0||code.push("&&s[",i,"]>2");code.push("){grad",n,"(src.pick(",c.join(),")",f);for(i=0;i<r;++i)e.indexOf(i+1)>=0||e.indexOf(-(i+1))>=0||code.push(",dst.pick(",c.join(),",",i,")",f);code.push(");")}for(i=0;i<e.length;++i){var h=Math.abs(e[i])-1,d="dst.pick("+c.join()+","+h+")"+f;switch(t[h]){case"clamp":var v=c.slice(),m=c.slice();e[i]<0?v[h]="s["+h+"]-2":m[h]="1",0===n?code.push("if(s[",h,"]>1){dst.set(",c.join(),",",h,",0.5*(src.get(",v.join(),")-src.get(",m.join(),")))}else{dst.set(",c.join(),",",h,",0)};"):code.push("if(s[",h,"]>1){diff(",d,",src.pick(",v.join(),")",f,",src.pick(",m.join(),")",f,");}else{zero(",d,");};");break;case"mirror":0===n?code.push("dst.set(",c.join(),",",h,",0);"):code.push("zero(",d,");");break;case"wrap":var y=c.slice(),x=c.slice();e[i]<0?(y[h]="s["+h+"]-2",x[h]="0"):(y[h]="s["+h+"]-1",x[h]="1"),0===n?code.push("if(s[",h,"]>2){dst.set(",c.join(),",",h,",0.5*(src.get(",y.join(),")-src.get(",x.join(),")))}else{dst.set(",c.join(),",",h,",0)};"):code.push("if(s[",h,"]>2){diff(",d,",src.pick(",y.join(),")",f,",src.pick(",x.join(),")",f,");}else{zero(",d,");};");break;default:throw new Error("ndarray-gradient: Invalid boundary condition")}}n>0&&code.push("};")}for(var i=0;i<1<<r;++i){for(var o=[],f=0;f<r;++f)i&1<<f&&o.push(f+1);for(var m=0;m<1<<o.length;++m){var y=o.slice();for(f=0;f<o.length;++f)m&1<<f&&(y[f]=-y[f]);n(y)}}code.push("return dst;};return gradient");var x=["diff","zero"],_=[h,d];for(i=1;i<=r;++i)x.push("grad"+i),_.push(v(i));x.push(code.join(""));var w=Function.apply(void 0,x).apply(void 0,_);return l[e]=w,w}(r)(t,e)};var n=r(568),o=r(514),l={},c={},f={body:"",args:[],thisVars:[],localVars:[]},h=o({args:["array","array","array"],pre:f,post:f,body:{args:[{name:"out",lvalue:!0,rvalue:!1,count:1},{name:"left",lvalue:!1,rvalue:!0,count:1},{name:"right",lvalue:!1,rvalue:!0,count:1}],body:"out=0.5*(left-right)",thisVars:[],localVars:[]},funcName:"cdiff"}),d=o({args:["array"],pre:f,post:f,body:{args:[{name:"out",lvalue:!0,rvalue:!1,count:1}],body:"out=0",thisVars:[],localVars:[]},funcName:"zero"});function v(t){if(t in l)return l[t];for(var code=[],i=0;i<t;++i)code.push("out",i,"s=0.5*(inp",i,"l-inp",i,"r);");var e=["array"],r=["junk"];for(i=0;i<t;++i){e.push("array"),r.push("out"+i+"s");var c=n(t);c[i]=-1,e.push({array:0,offset:c.slice()}),c[i]=1,e.push({array:0,offset:c.slice()}),r.push("inp"+i+"l","inp"+i+"r")}return l[t]=o({args:e,pre:f,post:f,body:{body:code.join(""),args:r.map((function(t){return{name:t,lvalue:0===t.indexOf("out"),rvalue:0===t.indexOf("inp"),count:"junk"!==t|0}})),thisVars:[],localVars:[]},funcName:"fdTemplate"+t})}},function(t,e,r){var n=r(464),o=r(467),l=o(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),c=o(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (\n    kill > 0.0 ||\n    vColor.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)\n  ) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color — in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),f=o(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),h=o(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);e.createShader=function(t){var e=n(t,l,c,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e.attributes.normal.location=2,e},e.createPickShader=function(t){var e=n(t,l,h,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e.attributes.normal.location=2,e},e.createContourShader=function(t){var e=n(t,f,c,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e},e.createPickContourShader=function(t){var e=n(t,f,h,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e}},function(t,e,r){"use strict";function n(t,e){var r=Math.floor(e),n=e-r,o=0<=r&&r<t.shape[0],l=0<=r+1&&r+1<t.shape[0];return(1-n)*(o?+t.get(r):0)+n*(l?+t.get(r+1):0)}function o(t,e,r){var n=Math.floor(e),o=e-n,l=0<=n&&n<t.shape[0],c=0<=n+1&&n+1<t.shape[0],f=Math.floor(r),h=r-f,d=0<=f&&f<t.shape[1],v=0<=f+1&&f+1<t.shape[1],m=l&&d?t.get(n,f):0,y=l&&v?t.get(n,f+1):0;return(1-h)*((1-o)*m+o*(c&&d?t.get(n+1,f):0))+h*((1-o)*y+o*(c&&v?t.get(n+1,f+1):0))}function l(t,e,r,n){var o=Math.floor(e),l=e-o,c=0<=o&&o<t.shape[0],f=0<=o+1&&o+1<t.shape[0],h=Math.floor(r),d=r-h,v=0<=h&&h<t.shape[1],m=0<=h+1&&h+1<t.shape[1],y=Math.floor(n),x=n-y,_=0<=y&&y<t.shape[2],w=0<=y+1&&y+1<t.shape[2],M=c&&v&&_?t.get(o,h,y):0,A=c&&m&&_?t.get(o,h+1,y):0,T=f&&v&&_?t.get(o+1,h,y):0,k=f&&m&&_?t.get(o+1,h+1,y):0,E=c&&v&&w?t.get(o,h,y+1):0,S=c&&m&&w?t.get(o,h+1,y+1):0;return(1-x)*((1-d)*((1-l)*M+l*T)+d*((1-l)*A+l*k))+x*((1-d)*((1-l)*E+l*(f&&v&&w?t.get(o+1,h,y+1):0))+d*((1-l)*S+l*(f&&m&&w?t.get(o+1,h+1,y+1):0)))}function c(t){var i,e,r=0|t.shape.length,n=new Array(r),o=new Array(r),l=new Array(r),c=new Array(r);for(i=0;i<r;++i)e=+arguments[i+1],n[i]=Math.floor(e),o[i]=e-n[i],l[i]=0<=n[i]&&n[i]<t.shape[i],c[i]=0<=n[i]+1&&n[i]+1<t.shape[i];var f,h,d,v=0;t:for(i=0;i<1<<r;++i){for(h=1,d=t.offset,f=0;f<r;++f)if(i&1<<f){if(!c[f])continue t;h*=o[f],d+=t.stride[f]*(n[f]+1)}else{if(!l[f])continue t;h*=1-o[f],d+=t.stride[f]*n[f]}v+=h*t.data[d]}return v}t.exports=function(t,e,r,f){switch(t.shape.length){case 0:return 0;case 1:return n(t,e);case 2:return o(t,e,r);case 3:return l(t,e,r,f);default:return c.apply(void 0,arguments)}},t.exports.d1=n,t.exports.d2=o,t.exports.d3=l},function(t,e,r){"use strict";t.exports=r(1126)},function(t,e,r){"use strict";var n=r(1127),o=r(421),l=r(430),c=l.EPOCHJD,f=l.ONEDAY,h={valType:"enumerated",values:Object.keys(n.calendars),editType:"calc",dflt:"gregorian"},d=function(t,e,r,n){var l={};return l[r]=h,o.coerce(t,e,l,r,n)},v={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:"##",w:"##",c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};var m={};function y(t){var e=m[t];return e||(e=m[t]=n.instance(t))}function x(t){return o.extendFlat({},h,{description:t})}function _(t){return"Sets the calendar system to use with `"+t+"` date data."}var w={xcalendar:x(_("x"))},M=o.extendFlat({},w,{ycalendar:x(_("y"))}),A=o.extendFlat({},M,{zcalendar:x(_("z"))}),T=x(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));t.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:M,bar:M,box:M,heatmap:M,contour:M,histogram:M,histogram2d:M,histogram2dcontour:M,scatter3d:A,surface:A,mesh3d:A,scattergl:M,ohlc:w,candlestick:w},layout:{calendar:x(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:T},yaxis:{calendar:T},scene:{xaxis:{calendar:T},yaxis:{calendar:T},zaxis:{calendar:T}},polar:{radialaxis:{calendar:T}}},transforms:{filter:{valuecalendar:x(["Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:x(["Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:h,handleDefaults:d,handleTraceDefaults:function(t,e,r,n){for(var i=0;i<r.length;i++)d(t,e,r[i]+"calendar",n.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:y,worldCalFmt:function(t,e,r){for(var n,o,l,h,d,m=Math.floor((e+.05)/f)+c,x=y(r).fromJD(m),i=0;-1!==(i=t.indexOf("%",i));)"0"===(n=t.charAt(i+1))||"-"===n||"_"===n?(l=3,o=t.charAt(i+2),"_"===n&&(n="-")):(o=n,n="0",l=2),(h=v[o])?(d="##"===h?"##":x.formatDate(h[n]),t=t.substr(0,i)+d+t.substr(i+l),i+=d.length):i+=l;return t}}},function(t,e,r){"use strict";t.exports=r(435),r(1128),r(1129),r(1130),r(1131),r(1132),r(1133),r(1134),r(1135),r(1136),r(1137),r(1138),r(1139),r(1140),r(1141),r(1142)},function(t,e,r){var n=r(436),main=r(435);n(main.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),main.local=main.regionalOptions[""],n(main.cdate.prototype,{formatDate:function(t,e){return"string"!=typeof t&&(e=t,t=""),this._calendar.formatDate(t||"",this,e)}}),n(main.baseCalendar.prototype,{UNIX_EPOCH:main.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:main.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(t,e,r){if("string"!=typeof t&&(r=e,e=t,t=""),!e)return"";if(e.calendar()!==this)throw main.local.invalidFormat||main.regionalOptions[""].invalidFormat;t=t||this.local.dateFormat;for(var n,o,l,c,f=(r=r||{}).dayNamesShort||this.local.dayNamesShort,h=r.dayNames||this.local.dayNames,d=r.monthNumbers||this.local.monthNumbers,v=r.monthNamesShort||this.local.monthNamesShort,m=r.monthNames||this.local.monthNames,y=(r.calculateWeek||this.local.calculateWeek,function(e,r){for(var n=1;E+n<t.length&&t.charAt(E+n)===e;)n++;return E+=n-1,Math.floor(n/(r||1))>1}),x=function(t,e,r,n){var o=""+e;if(y(t,n))for(;o.length<r;)o="0"+o;return o},_=this,w=function(t){return"function"==typeof d?d.call(_,t,y("m")):T(x("m",t.month(),2))},M=function(t,e){return e?"function"==typeof m?m.call(_,t):m[t.month()-_.minMonth]:"function"==typeof v?v.call(_,t):v[t.month()-_.minMonth]},A=this.local.digits,T=function(t){return r.localNumbers&&A?A(t):t},output="",k=!1,E=0;E<t.length;E++)if(k)"'"!==t.charAt(E)||y("'")?output+=t.charAt(E):k=!1;else switch(t.charAt(E)){case"d":output+=T(x("d",e.day(),2));break;case"D":output+=(n="D",o=e.dayOfWeek(),l=f,c=h,y(n)?c[o]:l[o]);break;case"o":output+=x("o",e.dayOfYear(),3);break;case"w":output+=x("w",e.weekOfYear(),2);break;case"m":output+=w(e);break;case"M":output+=M(e,y("M"));break;case"y":output+=y("y",2)?e.year():(e.year()%100<10?"0":"")+e.year()%100;break;case"Y":y("Y",2),output+=e.formatYear();break;case"J":output+=e.toJD();break;case"@":output+=(e.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":output+=(e.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":y("'")?output+="'":k=!0;break;default:output+=t.charAt(E)}return output},parseDate:function(t,e,r){if(null==e)throw main.local.invalidArguments||main.regionalOptions[""].invalidArguments;if(""===(e="object"==typeof e?e.toString():e+""))return null;t=t||this.local.dateFormat;var n=(r=r||{}).shortYearCutoff||this.shortYearCutoff;n="string"!=typeof n?n:this.today().year()%100+parseInt(n,10);for(var o=r.dayNamesShort||this.local.dayNamesShort,l=r.dayNames||this.local.dayNames,c=r.parseMonth||this.local.parseMonth,f=r.monthNumbers||this.local.monthNumbers,h=r.monthNamesShort||this.local.monthNamesShort,d=r.monthNames||this.local.monthNames,v=-1,m=-1,y=-1,x=-1,_=-1,w=!1,M=!1,A=function(e,r){for(var n=1;R+n<t.length&&t.charAt(R+n)===e;)n++;return R+=n-1,Math.floor(n/(r||1))>1},T=function(t,r){var n=A(t,r),o=[2,3,n?4:2,n?4:2,10,11,20]["oyYJ@!".indexOf(t)+1],l=new RegExp("^-?\\d{1,"+o+"}"),c=e.substring(O).match(l);if(!c)throw(main.local.missingNumberAt||main.regionalOptions[""].missingNumberAt).replace(/\{0\}/,O);return O+=c[0].length,parseInt(c[0],10)},k=this,E=function(){if("function"==typeof f){A("m");var t=f.call(k,e.substring(O));return O+=t.length,t}return T("m")},S=function(t,r,n,o){for(var l=A(t,o)?n:r,i=0;i<l.length;i++)if(e.substr(O,l[i].length).toLowerCase()===l[i].toLowerCase())return O+=l[i].length,i+k.minMonth;throw(main.local.unknownNameAt||main.regionalOptions[""].unknownNameAt).replace(/\{0\}/,O)},L=function(){if("function"==typeof d){var t=A("M")?d.call(k,e.substring(O)):h.call(k,e.substring(O));return O+=t.length,t}return S("M",h,d)},C=function(){if(e.charAt(O)!==t.charAt(R))throw(main.local.unexpectedLiteralAt||main.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,O);O++},O=0,R=0;R<t.length;R++)if(M)"'"!==t.charAt(R)||A("'")?C():M=!1;else switch(t.charAt(R)){case"d":x=T("d");break;case"D":S("D",o,l);break;case"o":_=T("o");break;case"w":T("w");break;case"m":y=E();break;case"M":y=L();break;case"y":var D=R;w=!A("y",2),R=D,m=T("y",2);break;case"Y":m=T("Y",2);break;case"J":v=T("J")+.5,"."===e.charAt(O)&&(O++,T("J"));break;case"@":v=T("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":v=T("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":O=e.length;break;case"'":A("'")?C():M=!0;break;default:C()}if(O<e.length)throw main.local.unexpectedText||main.regionalOptions[""].unexpectedText;if(-1===m?m=this.today().year():m<100&&w&&(m+=-1===n?1900:this.today().year()-this.today().year()%100-(m<=n?0:100)),"string"==typeof y&&(y=c.call(this,m,y)),_>-1){y=1,x=_;for(var P=this.daysInMonth(m,y);x>P;P=this.daysInMonth(m,y))y++,x-=P}return v>-1?this.fromJD(v):this.newDate(m,y,x)},determineDate:function(t,e,r,n,o){r&&"object"!=typeof r&&(o=n,n=r,r=null),"string"!=typeof n&&(o=n,n="");var l=this;return e=e?e.newDate():null,t=null==t?e:"string"==typeof t?function(t){try{return l.parseDate(n,t,o)}catch(t){}for(var e=((t=t.toLowerCase()).match(/^c/)&&r?r.newDate():null)||l.today(),pattern=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,c=pattern.exec(t);c;)e.add(parseInt(c[1],10),c[2]||"d"),c=pattern.exec(t);return e}(t):"number"==typeof t?isNaN(t)||t===1/0||t===-1/0?e:l.today().add(t,"d"):l.newDate(t)}})},function(t,e,r){var main=r(435),n=r(436),o=main.instance();function l(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}l.prototype=new main.baseCalendar,n(l.prototype,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(t,e){if("string"==typeof t){var r=t.match(f);return r?r[0]:""}var n=this._validateYear(t),o=t.month(),l=""+this.toChineseMonth(n,o);return e&&l.length<2&&(l="0"+l),this.isIntercalaryMonth(n,o)&&(l+="i"),l},monthNames:function(t){if("string"==typeof t){var e=t.match(h);return e?e[0]:""}var r=this._validateYear(t),n=t.month(),o=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][this.toChineseMonth(r,n)-1];return this.isIntercalaryMonth(r,n)&&(o="闰"+o),o},monthNamesShort:function(t){if("string"==typeof t){var e=t.match(d);return e?e[0]:""}var r=this._validateYear(t),n=t.month(),o=["一","二","三","四","五","六","七","八","九","十","十一","十二"][this.toChineseMonth(r,n)-1];return this.isIntercalaryMonth(r,n)&&(o="闰"+o),o},parseMonth:function(t,e){t=this._validateYear(t);var r,n=parseInt(e);if(isNaN(n))"闰"===e[0]&&(r=!0,e=e.substring(1)),"月"===e[e.length-1]&&(e=e.substring(0,e.length-1)),n=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(e);else{var i=e[e.length-1];r="i"===i||"I"===i}return this.toMonthIndex(t,n,r)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(t,e){if(t.year&&(t=t.year()),"number"!=typeof t||t<1888||t>2111)throw e.replace(/\{0\}/,this.local.name);return t},toMonthIndex:function(t,e,r){var n=this.intercalaryMonth(t);if(r&&e!==n||e<1||e>12)throw main.local.invalidMonth.replace(/\{0\}/,this.local.name);return n?!r&&e<=n?e-1:e:e-1},toChineseMonth:function(t,e){t.year&&(e=(t=t.year()).month());var r=this.intercalaryMonth(t);if(e<0||e>(r?12:11))throw main.local.invalidMonth.replace(/\{0\}/,this.local.name);return r?e<r?e+1:e:e+1},intercalaryMonth:function(t){return t=this._validateYear(t),v[t-v[0]]>>13},isIntercalaryMonth:function(t,e){t.year&&(e=(t=t.year()).month());var r=this.intercalaryMonth(t);return!!r&&r===e},leapYear:function(t){return 0!==this.intercalaryMonth(t)},weekOfYear:function(t,e,r){var n,l=this._validateYear(t,main.local.invalidyear),c=m[l-m[0]],f=c>>9&4095,h=c>>5&15,d=31&c;(n=o.newDate(f,h,d)).add(4-(n.dayOfWeek()||7),"d");var v=this.toJD(t,e,r)-n.toJD();return 1+Math.floor(v/7)},monthsInYear:function(t){return this.leapYear(t)?13:12},daysInMonth:function(t,e){t.year&&(e=t.month(),t=t.year()),t=this._validateYear(t);var r=v[t-v[0]];if(e>(r>>13?12:11))throw main.local.invalidMonth.replace(/\{0\}/,this.local.name);return r&1<<12-e?30:29},weekDay:function(t,e,r){return(this.dayOfWeek(t,e,r)||7)<6},toJD:function(t,e,r){var n=this._validate(t,c,r,main.local.invalidDate);t=this._validateYear(n.year()),e=n.month(),r=n.day();var l=this.isIntercalaryMonth(t,e),c=this.toChineseMonth(t,e),f=function(t,e,r,n,o){var l,c,f;if("object"==typeof t)c=t,l=e||{};else{var h;if(!("number"==typeof t&&t>=1888&&t<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof e&&e>=1&&e<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof r&&r>=1&&r<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof n?(h=!1,l=n):(h=!!n,l=o||{}),c={year:t,month:e,day:r,isIntercalary:h}}f=c.day-1;var d,y=v[c.year-v[0]],x=y>>13;d=x&&(c.month>x||c.isIntercalary)?c.month:c.month-1;for(var i=0;i<d;i++){f+=y&1<<12-i?30:29}var _=m[c.year-m[0]],w=new Date(_>>9&4095,(_>>5&15)-1,(31&_)+f);return l.year=w.getFullYear(),l.month=1+w.getMonth(),l.day=w.getDate(),l}(t,c,r,l);return o.toJD(f.year,f.month,f.day)},fromJD:function(t){var e=o.fromJD(t),r=function(t,e,r,n){var o,l;if("object"==typeof t)o=t,l=e||{};else{if(!("number"==typeof t&&t>=1888&&t<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof e&&e>=1&&e<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof r&&r>=1&&r<=31))throw new Error("Solar day outside range 1 - 31");o={year:t,month:e,day:r},l=n||{}}var c=m[o.year-m[0]],f=o.year<<9|o.month<<5|o.day;l.year=f>=c?o.year:o.year-1,c=m[l.year-m[0]];var h,d=new Date(c>>9&4095,(c>>5&15)-1,31&c),y=new Date(o.year,o.month-1,o.day);h=Math.round((y-d)/864e5);var i,x=v[l.year-v[0]];for(i=0;i<13;i++){var _=x&1<<12-i?30:29;if(h<_)break;h-=_}var w=x>>13;!w||i<w?(l.isIntercalary=!1,l.month=1+i):i===w?(l.isIntercalary=!0,l.month=i):(l.isIntercalary=!1,l.month=i);return l.day=1+h,l}(e.year(),e.month(),e.day()),n=this.toMonthIndex(r.year,r.month,r.isIntercalary);return this.newDate(r.year,n,r.day)},fromString:function(t){var e=t.match(c),r=this._validateYear(+e[1]),n=+e[2],o=!!e[3],l=this.toMonthIndex(r,n,o),f=+e[4];return this.newDate(r,l,f)},add:function(t,e,r){var n=t.year(),o=t.month(),c=this.isIntercalaryMonth(n,o),f=this.toChineseMonth(n,o),h=Object.getPrototypeOf(l.prototype).add.call(this,t,e,r);if("y"===r){var d=h.year(),v=h.month(),m=this.isIntercalaryMonth(d,f),y=c&&m?this.toMonthIndex(d,f,!0):this.toMonthIndex(d,f,!1);y!==v&&h.month(y)}return h}});var c=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,f=/^\d?\d[iI]?/m,h=/^闰?十?[一二三四五六七八九]?月/m,d=/^闰?十?[一二三四五六七八九]?/m;main.calendars.chinese=l;var v=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],m=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},function(t,e,r){var main=r(435),n=r(436);function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}o.prototype=new main.baseCalendar,n(o.prototype,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,main.local.invalidYear);return(t=e.year()+(e.year()<0?1:0))%4==3||t%4==-1},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,main.local.invalidYear||main.regionalOptions[""].invalidYear),13},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var r=this._validate(t,e,this.minDay,main.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(13===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,r){return(this.dayOfWeek(t,e,r)||7)<6},toJD:function(t,e,r){var n=this._validate(t,e,r,main.local.invalidDate);return(t=n.year())<0&&t++,n.day()+30*(n.month()-1)+365*(t-1)+Math.floor(t/4)+this.jdEpoch-1},fromJD:function(t){var e=Math.floor(t)+.5-this.jdEpoch,r=Math.floor((e-Math.floor((e+366)/1461))/365)+1;r<=0&&r--,e=Math.floor(t)+.5-this.newDate(r,1,1).toJD();var n=Math.floor(e/30)+1,o=e-30*(n-1)+1;return this.newDate(r,n,o)}}),main.calendars.coptic=o},function(t,e,r){var main=r(435),n=r(436);function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}o.prototype=new main.baseCalendar,n(o.prototype,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(t){return this._validate(t,this.minMonth,this.minDay,main.local.invalidYear),!1},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,main.local.invalidYear),13},daysInYear:function(t){return this._validate(t,this.minMonth,this.minDay,main.local.invalidYear),400},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/8)+1},daysInMonth:function(t,e){var r=this._validate(t,e,this.minDay,main.local.invalidMonth);return this.daysPerMonth[r.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(t,e,r){return(this._validate(t,e,r,main.local.invalidDate).day()+1)%8},weekDay:function(t,e,r){var n=this.dayOfWeek(t,e,r);return n>=2&&n<=6},extraInfo:function(t,e,r){var n=this._validate(t,e,r,main.local.invalidDate);return{century:l[Math.floor((n.year()-1)/100)+1]||""}},toJD:function(t,e,r){var n=this._validate(t,e,r,main.local.invalidDate);return t=n.year()+(n.year()<0?1:0),e=n.month(),(r=n.day())+(e>1?16:0)+(e>2?32*(e-2):0)+400*(t-1)+this.jdEpoch-1},fromJD:function(t){t=Math.floor(t+.5)-Math.floor(this.jdEpoch)-1;var e=Math.floor(t/400)+1;t-=400*(e-1),t+=t>15?16:0;var r=Math.floor(t/32)+1,n=t-32*(r-1)+1;return this.newDate(e<=0?e-1:e,r,n)}});var l={20:"Fruitbat",21:"Anchovy"};main.calendars.discworld=o},function(t,e,r){var main=r(435),n=r(436);function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}o.prototype=new main.baseCalendar,n(o.prototype,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,main.local.invalidYear);return(t=e.year()+(e.year()<0?1:0))%4==3||t%4==-1},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,main.local.invalidYear||main.regionalOptions[""].invalidYear),13},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var r=this._validate(t,e,this.minDay,main.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(13===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,r){return(this.dayOfWeek(t,e,r)||7)<6},toJD:function(t,e,r){var n=this._validate(t,e,r,main.local.invalidDate);return(t=n.year())<0&&t++,n.day()+30*(n.month()-1)+365*(t-1)+Math.floor(t/4)+this.jdEpoch-1},fromJD:function(t){var e=Math.floor(t)+.5-this.jdEpoch,r=Math.floor((e-Math.floor((e+366)/1461))/365)+1;r<=0&&r--,e=Math.floor(t)+.5-this.newDate(r,1,1).toJD();var n=Math.floor(e/30)+1,o=e-30*(n-1)+1;return this.newDate(r,n,o)}}),main.calendars.ethiopian=o},function(t,e,r){var main=r(435),n=r(436);function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}function l(a,b){return a-b*Math.floor(a/b)}o.prototype=new main.baseCalendar,n(o.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,main.local.invalidYear);return this._leapYear(e.year())},_leapYear:function(t){return l(7*(t=t<0?t+1:t)+1,19)<7},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,main.local.invalidYear),this._leapYear(t.year?t.year():t)?13:12},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(t){return t=this._validate(t,this.minMonth,this.minDay,main.local.invalidYear).year(),this.toJD(-1===t?1:t+1,7,1)-this.toJD(t,7,1)},daysInMonth:function(t,e){return t.year&&(e=t.month(),t=t.year()),this._validate(t,e,this.minDay,main.local.invalidMonth),12===e&&this.leapYear(t)||8===e&&5===l(this.daysInYear(t),10)?30:9===e&&3===l(this.daysInYear(t),10)?29:this.daysPerMonth[e-1]},weekDay:function(t,e,r){return 6!==this.dayOfWeek(t,e,r)},extraInfo:function(t,e,r){var n=this._validate(t,e,r,main.local.invalidDate);return{yearType:(this.leapYear(n)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(n)%10-3]}},toJD:function(t,e,r){var n=this._validate(t,e,r,main.local.invalidDate);t=n.year(),e=n.month(),r=n.day();var o=t<=0?t+1:t,l=this.jdEpoch+this._delay1(o)+this._delay2(o)+r+1;if(e<7){for(var c=7;c<=this.monthsInYear(t);c++)l+=this.daysInMonth(t,c);for(c=1;c<e;c++)l+=this.daysInMonth(t,c)}else for(c=7;c<e;c++)l+=this.daysInMonth(t,c);return l},_delay1:function(t){var e=Math.floor((235*t-234)/19),r=12084+13753*e,n=29*e+Math.floor(r/25920);return l(3*(n+1),7)<3&&n++,n},_delay2:function(t){var e=this._delay1(t-1),r=this._delay1(t);return this._delay1(t+1)-r==356?2:r-e==382?1:0},fromJD:function(t){t=Math.floor(t)+.5;for(var e=Math.floor(98496*(t-this.jdEpoch)/35975351)-1;t>=this.toJD(-1===e?1:e+1,7,1);)e++;for(var r=t<this.toJD(e,1,1)?7:1;t>this.toJD(e,r,this.daysInMonth(e,r));)r++;var n=t-this.toJD(e,r,1)+1;return this.newDate(e,r,n)}}),main.calendars.hebrew=o},function(t,e,r){var main=r(435),n=r(436);function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}o.prototype=new main.baseCalendar,n(o.prototype,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(t){return(11*this._validate(t,this.minMonth,this.minDay,main.local.invalidYear).year()+14)%30<11},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(t){return this.leapYear(t)?355:354},daysInMonth:function(t,e){var r=this._validate(t,e,this.minDay,main.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(12===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,r){return 5!==this.dayOfWeek(t,e,r)},toJD:function(t,e,r){var n=this._validate(t,e,r,main.local.invalidDate);return t=n.year(),e=n.month(),t=t<=0?t+1:t,(r=n.day())+Math.ceil(29.5*(e-1))+354*(t-1)+Math.floor((3+11*t)/30)+this.jdEpoch-1},fromJD:function(t){t=Math.floor(t)+.5;var e=Math.floor((30*(t-this.jdEpoch)+10646)/10631);e=e<=0?e-1:e;var r=Math.min(12,Math.ceil((t-29-this.toJD(e,1,1))/29.5)+1),n=t-this.toJD(e,r,1)+1;return this.newDate(e,r,n)}}),main.calendars.islamic=o},function(t,e,r){var main=r(435),n=r(436);function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}o.prototype=new main.baseCalendar,n(o.prototype,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,main.local.invalidYear);return(t=e.year()<0?e.year()+1:e.year())%4==0},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var r=this._validate(t,e,this.minDay,main.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(2===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,r){return(this.dayOfWeek(t,e,r)||7)<6},toJD:function(t,e,r){var n=this._validate(t,e,r,main.local.invalidDate);return t=n.year(),e=n.month(),r=n.day(),t<0&&t++,e<=2&&(t--,e+=12),Math.floor(365.25*(t+4716))+Math.floor(30.6001*(e+1))+r-1524.5},fromJD:function(t){var b=Math.floor(t+.5)+1524,e=Math.floor((b-122.1)/365.25),r=Math.floor(365.25*e),n=Math.floor((b-r)/30.6001),o=n-Math.floor(n<14?1:13),l=e-Math.floor(o>2?4716:4715),c=b-r-Math.floor(30.6001*n);return l<=0&&l--,this.newDate(l,o,c)}}),main.calendars.julian=o},function(t,e,r){var main=r(435),n=r(436);function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}function l(a,b){return a-b*Math.floor(a/b)}function c(a,b){return l(a-1,b)+1}o.prototype=new main.baseCalendar,n(o.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(t){return this._validate(t,this.minMonth,this.minDay,main.local.invalidYear),!1},formatYear:function(t){t=this._validate(t,this.minMonth,this.minDay,main.local.invalidYear).year();var e=Math.floor(t/400);return t%=400,t+=t<0?400:0,e+"."+Math.floor(t/20)+"."+t%20},forYear:function(t){if((t=t.split(".")).length<3)throw"Invalid Mayan year";for(var e=0,i=0;i<t.length;i++){var r=parseInt(t[i],10);if(Math.abs(r)>19||i>0&&r<0)throw"Invalid Mayan year";e=20*e+r}return e},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,main.local.invalidYear),18},weekOfYear:function(t,e,r){return this._validate(t,e,r,main.local.invalidDate),0},daysInYear:function(t){return this._validate(t,this.minMonth,this.minDay,main.local.invalidYear),360},daysInMonth:function(t,e){return this._validate(t,e,this.minDay,main.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(t,e,r){return this._validate(t,e,r,main.local.invalidDate).day()},weekDay:function(t,e,r){return this._validate(t,e,r,main.local.invalidDate),!0},extraInfo:function(t,e,r){var n=this._validate(t,e,r,main.local.invalidDate).toJD(),o=this._toHaab(n),l=this._toTzolkin(n);return{haabMonthName:this.local.haabMonths[o[0]-1],haabMonth:o[0],haabDay:o[1],tzolkinDayName:this.local.tzolkinMonths[l[0]-1],tzolkinDay:l[0],tzolkinTrecena:l[1]}},_toHaab:function(t){var e=l((t-=this.jdEpoch)+8+340,365);return[Math.floor(e/20)+1,l(e,20)]},_toTzolkin:function(t){return[c((t-=this.jdEpoch)+20,20),c(t+4,13)]},toJD:function(t,e,r){var n=this._validate(t,e,r,main.local.invalidDate);return n.day()+20*n.month()+360*n.year()+this.jdEpoch},fromJD:function(t){t=Math.floor(t)+.5-this.jdEpoch;var e=Math.floor(t/360);t%=360,t+=t<0?360:0;var r=Math.floor(t/20),n=t%20;return this.newDate(e,r,n)}}),main.calendars.mayan=o},function(t,e,r){var main=r(435),n=r(436);function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}o.prototype=new main.baseCalendar;var l=main.instance("gregorian");n(o.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,main.local.invalidYear||main.regionalOptions[""].invalidYear);return l.leapYear(e.year()+(e.year()<1?1:0)+1469)},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(1-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var r=this._validate(t,e,this.minDay,main.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(12===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,r){return(this.dayOfWeek(t,e,r)||7)<6},toJD:function(t,e,r){var n=this._validate(t,e,r,main.local.invalidMonth);(t=n.year())<0&&t++;for(var o=n.day(),c=1;c<n.month();c++)o+=this.daysPerMonth[c-1];return o+l.toJD(t+1468,3,13)},fromJD:function(t){t=Math.floor(t+.5);for(var e=Math.floor((t-(this.jdEpoch-1))/366);t>=this.toJD(e+1,1,1);)e++;for(var r=t-Math.floor(this.toJD(e,1,1)+.5)+1,n=1;r>this.daysInMonth(e,n);)r-=this.daysInMonth(e,n),n++;return this.newDate(e,n,r)}}),main.calendars.nanakshahi=o},function(t,e,r){var main=r(435),n=r(436);function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}o.prototype=new main.baseCalendar,n(o.prototype,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(t){return this.daysInYear(t)!==this.daysPerYear},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(t){if(t=this._validate(t,this.minMonth,this.minDay,main.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[t])return this.daysPerYear;for(var e=0,r=this.minMonth;r<=12;r++)e+=this.NEPALI_CALENDAR_DATA[t][r];return e},daysInMonth:function(t,e){return t.year&&(e=t.month(),t=t.year()),this._validate(t,e,this.minDay,main.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[t]?this.daysPerMonth[e-1]:this.NEPALI_CALENDAR_DATA[t][e]},weekDay:function(t,e,r){return 6!==this.dayOfWeek(t,e,r)},toJD:function(t,e,r){var n=this._validate(t,e,r,main.local.invalidDate);t=n.year(),e=n.month(),r=n.day();var o=main.instance(),l=0,c=e,f=t;this._createMissingCalendarData(t);var h=t-(c>9||9===c&&r>=this.NEPALI_CALENDAR_DATA[f][0]?56:57);for(9!==e&&(l=r,c--);9!==c;)c<=0&&(c=12,f--),l+=this.NEPALI_CALENDAR_DATA[f][c],c--;return 9===e?(l+=r-this.NEPALI_CALENDAR_DATA[f][0])<0&&(l+=o.daysInYear(h)):l+=this.NEPALI_CALENDAR_DATA[f][9]-this.NEPALI_CALENDAR_DATA[f][0],o.newDate(h,1,1).add(l,"d").toJD()},fromJD:function(t){var e=main.instance().fromJD(t),r=e.year(),n=e.dayOfYear(),o=r+56;this._createMissingCalendarData(o);for(var l=9,c=this.NEPALI_CALENDAR_DATA[o][0],f=this.NEPALI_CALENDAR_DATA[o][l]-c+1;n>f;)++l>12&&(l=1,o++),f+=this.NEPALI_CALENDAR_DATA[o][l];var h=this.NEPALI_CALENDAR_DATA[o][l]-(f-n);return this.newDate(o,l,h)},_createMissingCalendarData:function(t){var e=this.daysPerMonth.slice(0);e.unshift(17);for(var r=t-1;r<t+2;r++)void 0===this.NEPALI_CALENDAR_DATA[r]&&(this.NEPALI_CALENDAR_DATA[r]=e)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),main.calendars.nepali=o},function(t,e,r){var main=r(435),n=r(436);function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}function l(a,b){return a-b*Math.floor(a/b)}o.prototype=new main.baseCalendar,n(o.prototype,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,main.local.invalidYear);return 682*((e.year()-(e.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(-(n.dayOfWeek()+1)%7,"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var r=this._validate(t,e,this.minDay,main.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(12===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,r){return 5!==this.dayOfWeek(t,e,r)},toJD:function(t,e,r){var n=this._validate(t,e,r,main.local.invalidDate);t=n.year(),e=n.month(),r=n.day();var o=t-(t>=0?474:473),c=474+l(o,2820);return r+(e<=7?31*(e-1):30*(e-1)+6)+Math.floor((682*c-110)/2816)+365*(c-1)+1029983*Math.floor(o/2820)+this.jdEpoch-1},fromJD:function(t){var e=(t=Math.floor(t)+.5)-this.toJD(475,1,1),r=Math.floor(e/1029983),n=l(e,1029983),o=2820;if(1029982!==n){var c=Math.floor(n/366),f=l(n,366);o=Math.floor((2134*c+2816*f+2815)/1028522)+c+1}var h=o+2820*r+474;h=h<=0?h-1:h;var d=t-this.toJD(h,1,1)+1,v=d<=186?Math.ceil(d/31):Math.ceil((d-6)/30),m=t-this.toJD(h,v,1)+1;return this.newDate(h,v,m)}}),main.calendars.persian=o,main.calendars.jalali=o},function(t,e,r){var main=r(435),n=r(436),o=main.instance();function l(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}l.prototype=new main.baseCalendar,n(l.prototype,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,main.local.invalidYear);t=this._t2gYear(e.year());return o.leapYear(t)},weekOfYear:function(t,e,r){var n=this._validate(t,this.minMonth,this.minDay,main.local.invalidYear);t=this._t2gYear(n.year());return o.weekOfYear(t,n.month(),n.day())},daysInMonth:function(t,e){var r=this._validate(t,e,this.minDay,main.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(2===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,r){return(this.dayOfWeek(t,e,r)||7)<6},toJD:function(t,e,r){var n=this._validate(t,e,r,main.local.invalidDate);t=this._t2gYear(n.year());return o.toJD(t,n.month(),n.day())},fromJD:function(t){var e=o.fromJD(t),r=this._g2tYear(e.year());return this.newDate(r,e.month(),e.day())},_t2gYear:function(t){return t+this.yearsOffset+(t>=-this.yearsOffset&&t<=-1?1:0)},_g2tYear:function(t){return t-this.yearsOffset-(t>=1&&t<=this.yearsOffset?1:0)}}),main.calendars.taiwan=l},function(t,e,r){var main=r(435),n=r(436),o=main.instance();function l(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}l.prototype=new main.baseCalendar,n(l.prototype,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,main.local.invalidYear);t=this._t2gYear(e.year());return o.leapYear(t)},weekOfYear:function(t,e,r){var n=this._validate(t,this.minMonth,this.minDay,main.local.invalidYear);t=this._t2gYear(n.year());return o.weekOfYear(t,n.month(),n.day())},daysInMonth:function(t,e){var r=this._validate(t,e,this.minDay,main.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(2===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,r){return(this.dayOfWeek(t,e,r)||7)<6},toJD:function(t,e,r){var n=this._validate(t,e,r,main.local.invalidDate);t=this._t2gYear(n.year());return o.toJD(t,n.month(),n.day())},fromJD:function(t){var e=o.fromJD(t),r=this._g2tYear(e.year());return this.newDate(r,e.month(),e.day())},_t2gYear:function(t){return t-this.yearsOffset-(t>=1&&t<=this.yearsOffset?1:0)},_g2tYear:function(t){return t+this.yearsOffset+(t>=-this.yearsOffset&&t<=-1?1:0)}}),main.calendars.thai=l},function(t,e,r){var main=r(435),n=r(436);function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}o.prototype=new main.baseCalendar,n(o.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,main.local.invalidYear);return 355===this.daysInYear(e.year())},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(t){for(var e=0,i=1;i<=12;i++)e+=this.daysInMonth(t,i);return e},daysInMonth:function(t,e){for(var r=this._validate(t,e,this.minDay,main.local.invalidMonth).toJD()-24e5+.5,n=0,i=0;i<l.length;i++){if(l[i]>r)return l[n]-l[n-1];n++}return 30},weekDay:function(t,e,r){return 5!==this.dayOfWeek(t,e,r)},toJD:function(t,e,r){var n=this._validate(t,e,r,main.local.invalidDate),o=12*(n.year()-1)+n.month()-15292;return n.day()+l[o-1]-1+24e5-.5},fromJD:function(t){for(var e=t-24e5+.5,r=0,i=0;i<l.length&&!(l[i]>e);i++)r++;var n=r+15292,o=Math.floor((n-1)/12),c=o+1,f=n-12*o,h=e-l[r-1]+1;return this.newDate(c,f,h)},isValid:function(t,e,r){var n=main.baseCalendar.prototype.isValid.apply(this,arguments);return n&&(n=(t=null!=t.year?t.year:t)>=1276&&t<=1500),n},_validate:function(t,e,r,n){var o=main.baseCalendar.prototype._validate.apply(this,arguments);if(o.year<1276||o.year>1500)throw n.replace(/\{0\}/,this.local.name);return o}}),main.calendars.ummalqura=o;var l=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){(function(t){var n,o,l;r(333),r(43),r(44),r(10),r(18),r(19),r(7),r(5),r(9),r(41);var c,f=r(522);"undefined"!=typeof self&&self,c=function(t){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(object,t){return Object.prototype.hasOwnProperty.call(object,t)},r.p="",r(r.s=23)}([function(t,e){t.exports=function(t){var e=f(t);return null!=t&&("object"==e||"function"==e)}},function(t,e,r){var n=r(14),o="object"==("undefined"==typeof self?"undefined":f(self))&&self&&self.Object===Object&&self,l=n||o||Function("return this")();t.exports=l},function(t,e,r){var n=r(15),o=r(66),l=r(67),c=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":c&&c in Object(t)?o(t):l(t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==f(t)}},function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e){var r=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},function(t,e){t.exports=function(t){return"object"===f(t)?null!==t:"function"==typeof t}},function(t,e,r){t.exports=!r(8)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,r){var n=r(11),o=r(12);t.exports=function(t){return n(o(t))}},function(t,e,r){var n=r(48);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e,r){(function(e){var r="object"==f(e)&&e&&e.Object===Object&&e;t.exports=r}).call(e,r(63))},function(t,e,r){var n=r(1).Symbol;t.exports=n},function(t,e){t.exports=function(t){return t}},function(t,e,r){var n=r(2),o=r(0);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,r){var n=r(17),o=r(20);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e){var r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var n=f(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){r(24);var n=r(29)(r(30),r(99),null,null);n.options.__file="C:\\Users\\martinha\\vue-plotly\\src\\Plotly.vue",n.esModule&&Object.keys(n.esModule).some((function(t){return"default"!==t&&"__esModule"!==t}))&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] Plotly.vue: functional components are not supported with templates, they should use render functions."),t.exports=n.exports},function(t,e,r){var content=r(25);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals),r(27)("712e37f0",content,!1)},function(t,e,r){(t.exports=r(26)(!1)).push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var content=function(t,e){var r,content=t[1]||"",n=t[3];if(!n)return content;if(e&&"function"==typeof btoa){var o=(r=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),l=n.sources.map((function(source){return"/*# sourceURL="+n.sourceRoot+source+" */"}));return[content].concat(l).concat([o]).join("\n")}return[content].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+content+"}":content})).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<t.length;i++){var l=t[i];"number"==typeof l[0]&&n[l[0]]||(r&&!l[2]?l[2]=r:r&&(l[2]="("+l[2]+") and ("+r+")"),e.push(l))}},e}},function(t,e,r){var n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o=r(28),l={},head=n&&(document.head||document.getElementsByTagName("head")[0]),c=null,f=0,h=!1,d=function(){},v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(t){for(var i=0;i<t.length;i++){var e=t[i],r=l[e.id];if(r){r.refs++;for(var n=0;n<r.parts.length;n++)r.parts[n](e.parts[n]);for(;n<e.parts.length;n++)r.parts.push(x(e.parts[n]));r.parts.length>e.parts.length&&(r.parts.length=e.parts.length)}else{var o=[];for(n=0;n<e.parts.length;n++)o.push(x(e.parts[n]));l[e.id]={id:e.id,refs:1,parts:o}}}}function y(){var t=document.createElement("style");return t.type="text/css",head.appendChild(t),t}function x(t){var e,r,n=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(n){if(h)return d;n.parentNode.removeChild(n)}if(v){var o=f++;n=c||(c=y()),e=M.bind(null,n,o,!1),r=M.bind(null,n,o,!0)}else n=y(),e=A.bind(null,n),r=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else r()}}t.exports=function(t,e,r){h=r;var n=o(t,e);return m(n),function(e){for(var r=[],i=0;i<n.length;i++){var c=n[i];(f=l[c.id]).refs--,r.push(f)}for(e?m(n=o(t,e)):n=[],i=0;i<r.length;i++){var f;if(0===(f=r[i]).refs){for(var h=0;h<f.parts.length;h++)f.parts[h]();delete l[f.id]}}}};var _,w=(_=[],function(t,e){return _[t]=e,_.filter(Boolean).join("\n")});function M(t,e,r,n){var o=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=w(e,o);else{var l=document.createTextNode(o),c=t.childNodes;c[e]&&t.removeChild(c[e]),c.length?t.insertBefore(l,c[e]):t.appendChild(l)}}function A(t,e){var r=e.css,n=e.media,o=e.sourceMap;if(n&&t.setAttribute("media",n),o&&(r+="\n/*# sourceURL="+o.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}},function(t,e){t.exports=function(t,e){for(var r=[],n={},i=0;i<e.length;i++){var o=e[i],l=o[0],c={id:t+":"+i,css:o[1],media:o[2],sourceMap:o[3]};n[l]?n[l].parts.push(c):r.push(n[l]={id:l,parts:[c]})}return r}},function(t,e){t.exports=function(t,e,r,n){var o,l=t=t||{},c=f(t.default);"object"!==c&&"function"!==c||(o=t,l=t.default);var h="function"==typeof l?l.options:l;if(e&&(h.render=e.render,h.staticRenderFns=e.staticRenderFns),r&&(h._scopeId=r),n){var d=Object.create(h.computed||null);Object.keys(n).forEach((function(t){var e=n[t];d[t]=function(){return e}})),h.computed=d}return{esModule:o,exports:l,options:h}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(31),o=r.n(n),l=r(60),c=r.n(l),f=r(61),h=r.n(f),d=r(68),v=r.n(d),m=["click","hover","unhover","selecting","selected","restyle","relayout","autosize","deselect","doubleclick","redraw","animated","afterplot"],y=["restyle","relayout","update","addTraces","deleteTraces","moveTraces","extendTraces","prependTraces","purge"].reduce((function(t,e){return t[e]=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return c.a[e].apply(c.a,[this.$refs.container].concat(r))},t}),{});e.default={props:{autoResize:Boolean,watchShallow:!1,options:{type:Object},data:{type:Array},layout:{type:Object}},data:function(){return{internalLayout:o()({},this.layout,{datarevision:1})}},mounted:function(){var t=this;this.react(),this.initEvents(),this.$watch("data",(function(){t.internalLayout.datarevision++,t.react()}),{deep:!this.watchShallow}),this.$watch("options",this.react,{deep:!this.watchShallow}),this.$watch("layout",this.relayout,{deep:!this.watchShallow})},beforeDestroy:function(){var t=this;window.removeEventListener("resize",this.__resizeListener),this.__generalListeners.forEach((function(e){return t.$refs.container.removeAllListeners(e.fullName)})),c.a.purge(this.$refs.container)},methods:o()({initEvents:function(){var t=this;this.autoResize&&(this.__resizeListener=function(){t.internalLayout.datarevision++,h()(t.react,200)},window.addEventListener("resize",this.__resizeListener)),this.__generalListeners=m.map((function(e){return{fullName:"plotly_"+e,handler:function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];t.$emit.apply(t,[e].concat(n))}}})),this.__generalListeners.forEach((function(e){t.$refs.container.on(e.fullName,e.handler)}))}},y,{toImage:function(t){var e=this.$refs.container,r=v()(t,{format:"png",width:e.clientWidth,height:e.clientHeight});return c.a.toImage(this.$refs.container,r)},downloadImage:function(t){var e=this.$refs.container,r=v()(t,{format:"png",width:e.clientWidth,height:e.clientHeight,filename:(e.layout.title||"plot")+" - "+(new Date).toISOString()});return c.a.downloadImage(this.$refs.container,r)},plot:function(){return c.a.plot(this.$refs.container,this.data,this.internalLayout,this.getOptions())},getOptions:function(){var t=this.$refs.container,e=this.options;return e||(e={}),e.toImageButtonOptions||(e.toImageButtonOptions={}),e.toImageButtonOptions.width||(e.toImageButtonOptions.width=t.clientWidth),e.toImageButtonOptions.height||(e.toImageButtonOptions.height=t.clientHeight),e},newPlot:function(){return c.a.newPlot(this.$refs.container,this.data,this.internalLayout,this.getOptions())},react:function(){return c.a.react(this.$refs.container,this.data,this.internalLayout,this.getOptions())}})}},function(t,e,r){"use strict";e.__esModule=!0;var n,o=r(32),l=(n=o)&&n.__esModule?n:{default:n};e.default=l.default||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t}},function(t,e,r){t.exports={default:r(33),__esModule:!0}},function(t,e,r){r(34),t.exports=r(5).Object.assign},function(t,e,r){var n=r(35);n(n.S+n.F,"Object",{assign:r(45)})},function(t,e,r){var n=r(4),o=r(5),l=r(36),c=r(38),f=r(9),h=function t(e,r,source){var h,d,v,m=e&t.F,y=e&t.G,x=e&t.S,_=e&t.P,w=e&t.B,M=e&t.W,A=y?o:o[r]||(o[r]={}),T=A.prototype,k=y?n:x?n[r]:(n[r]||{}).prototype;for(h in y&&(source=r),source)(d=!m&&k&&void 0!==k[h])&&f(A,h)||(v=d?k[h]:source[h],A[h]=y&&"function"!=typeof k[h]?source[h]:w&&d?l(v,n):M&&k[h]==v?function(t){var e=function(a,b,e){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(a);case 2:return new t(a,b)}return new t(a,b,e)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(v):_&&"function"==typeof v?l(Function.call,v):v,_&&((A.virtual||(A.virtual={}))[h]=v,e&t.R&&T&&!T[h]&&c(T,h,v)))};h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,t.exports=h},function(t,e,r){var n=r(37);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(a){return t.call(e,a)};case 2:return function(a,b){return t.call(e,a,b)};case 3:return function(a,b,r){return t.call(e,a,b,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,r){var n=r(39),o=r(44);t.exports=r(7)?function(object,t,e){return n.f(object,t,o(1,e))}:function(object,t,e){return object[t]=e,object}},function(t,e,r){var n=r(40),o=r(41),l=r(43),c=Object.defineProperty;e.f=r(7)?Object.defineProperty:function(t,e,r){if(n(t),e=l(e,!0),n(r),o)try{return c(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){var n=r(6);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,r){t.exports=!r(7)&&!r(8)((function(){return 7!=Object.defineProperty(r(42)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,r){var n=r(6),o=r(4).document,l=n(o)&&n(o.createElement);t.exports=function(t){return l?o.createElement(t):{}}},function(t,e,r){var n=r(6);t.exports=function(t,e){if(!n(t))return t;var r,o;if(e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!n(o=r.call(t)))return o;if(!e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){"use strict";var n=r(46),o=r(57),l=r(58),c=r(59),f=r(11),h=Object.assign;t.exports=!h||r(8)((function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!=h({},t)[r]||Object.keys(h({},e)).join("")!=n}))?function(t,source){for(var e=c(t),r=arguments.length,h=1,d=o.f,v=l.f;r>h;)for(var m,y=f(arguments[h++]),x=d?n(y).concat(d(y)):n(y),_=x.length,w=0;_>w;)v.call(y,m=x[w++])&&(e[m]=y[m]);return e}:h},function(t,e,r){var n=r(47),o=r(56);t.exports=Object.keys||function(t){return n(t,o)}},function(t,e,r){var n=r(9),o=r(10),l=r(49)(!1),c=r(52)("IE_PROTO");t.exports=function(object,t){var e,r=o(object),i=0,f=[];for(e in r)e!=c&&n(r,e)&&f.push(e);for(;t.length>i;)n(r,e=t[i++])&&(~l(f,e)||f.push(e));return f}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,r){var n=r(10),o=r(50),l=r(51);t.exports=function(t){return function(e,r,c){var f,h=n(e),d=o(h.length),v=l(c,d);if(t&&r!=r){for(;d>v;)if((f=h[v++])!=f)return!0}else for(;d>v;v++)if((t||v in h)&&h[v]===r)return t||v||0;return!t&&-1}}},function(t,e,r){var n=r(13),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e,r){var n=r(13),o=Math.max,l=Math.min;t.exports=function(t,e){return(t=n(t))<0?o(t+e,0):l(t,e)}},function(t,e,r){var n=r(53)("keys"),o=r(55);t.exports=function(t){return n[t]||(n[t]=o(t))}},function(t,e,r){var n=r(5),o=r(4),l=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return l[t]||(l[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:r(54)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!0},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,r){var n=r(12);t.exports=function(t){return Object(n(t))}},function(e,r){e.exports=t},function(t,e,r){var n=r(0),o=r(62),l=r(64),c=Math.max,f=Math.min;t.exports=function(t,e,r){var h,d,v,m,y,x,_=0,w=!1,M=!1,A=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function T(time){var e=h,r=d;return h=d=void 0,_=time,m=t.apply(r,e)}function k(time){return _=time,y=setTimeout(S,e),w?T(time):m}function E(time){var t=time-x;return void 0===x||t>=e||t<0||M&&time-_>=v}function S(){var time=o();if(E(time))return L(time);y=setTimeout(S,function(time){var t=e-(time-x);return M?f(t,v-(time-_)):t}(time))}function L(time){return y=void 0,A&&h?T(time):(h=d=void 0,m)}function C(){var time=o(),t=E(time);if(h=arguments,d=this,x=time,t){if(void 0===y)return k(x);if(M)return y=setTimeout(S,e),T(x)}return void 0===y&&(y=setTimeout(S,e)),m}return e=l(e)||0,n(r)&&(w=!!r.leading,v=(M="maxWait"in r)?c(l(r.maxWait)||0,e):v,A="trailing"in r?!!r.trailing:A),C.cancel=function(){void 0!==y&&clearTimeout(y),_=0,h=x=d=y=void 0},C.flush=function(){return void 0===y?m:L(o())},C}},function(t,e,r){var n=r(1);t.exports=function(){return n.Date.now()}},function(t,e){var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":f(window))&&(g=window)}t.exports=g},function(t,e,r){var n=r(0),o=r(65),l=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var r=f.test(t);return r||h.test(t)?d(t.slice(2),r?2:8):c.test(t)?NaN:+t}},function(t,e,r){var n=r(2),o=r(3);t.exports=function(t){return"symbol"==f(t)||o(t)&&"[object Symbol]"==n(t)}},function(t,e,r){var n=r(15),o=Object.prototype,l=o.hasOwnProperty,c=o.toString,f=n?n.toStringTag:void 0;t.exports=function(t){var e=l.call(t,f),r=t[f];try{t[f]=void 0;var n=!0}catch(t){}var o=c.call(t);return n&&(e?t[f]=r:delete t[f]),o}},function(t,e){var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},function(t,e,r){var n=r(69),o=r(18),l=r(83),c=r(84),f=Object.prototype,h=f.hasOwnProperty,d=n((function(object,t){object=Object(object);var e=-1,r=t.length,n=r>2?t[2]:void 0;for(n&&l(t[0],t[1],n)&&(r=1);++e<r;)for(var source=t[e],d=c(source),v=-1,m=d.length;++v<m;){var y=d[v],x=object[y];(void 0===x||o(x,f[y])&&!h.call(object,y))&&(object[y]=source[y])}return object}));t.exports=d},function(t,e,r){var n=r(16),o=r(70),l=r(72);t.exports=function(t,e){return l(o(t,e,n),t+"")}},function(t,e,r){var n=r(71),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var l=arguments,c=-1,f=o(l.length-e,0),h=Array(f);++c<f;)h[c]=l[e+c];c=-1;for(var d=Array(e+1);++c<e;)d[c]=l[c];return d[e]=r(h),n(t,this,d)}}},function(t,e){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},function(t,e,r){var n=r(73),o=r(82)(n);t.exports=o},function(t,e,r){var n=r(74),o=r(75),l=r(16),c=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:l;t.exports=c},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,r){var n=r(76),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,r){var n=r(77),o=r(81);t.exports=function(object,t){var e=o(object,t);return n(e)?e:void 0}},function(t,e,r){var n=r(17),o=r(78),l=r(0),c=r(80),f=/^\[object .+?Constructor\]$/,h=Function.prototype,d=Object.prototype,v=h.toString,m=d.hasOwnProperty,y=RegExp("^"+v.call(m).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!l(t)||o(t))&&(n(t)?y:f).test(c(t))}},function(t,e,r){var n,o=r(79),l=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!l&&l in t}},function(t,e,r){var n=r(1)["__core-js_shared__"];t.exports=n},function(t,e){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(object,t){return null==object?void 0:object[t]}},function(t,e){var r=Date.now;t.exports=function(t){var e=0,n=0;return function(){var o=r(),l=16-(o-n);if(n=o,l>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,r){var n=r(18),o=r(19),l=r(21),c=r(0);t.exports=function(t,e,object){if(!c(object))return!1;var r=f(e);return!!("number"==r?o(object)&&l(e,object.length):"string"==r&&e in object)&&n(object[e],t)}},function(t,e,r){var n=r(85),o=r(96),l=r(19);t.exports=function(object){return l(object)?n(object,!0):o(object)}},function(t,e,r){var n=r(86),o=r(87),l=r(89),c=r(90),f=r(21),h=r(92),d=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=l(t),v=!r&&o(t),m=!r&&!v&&c(t),y=!r&&!v&&!m&&h(t),x=r||v||m||y,_=x?n(t.length,String):[],w=_.length;for(var M in t)!e&&!d.call(t,M)||x&&("length"==M||m&&("offset"==M||"parent"==M)||y&&("buffer"==M||"byteLength"==M||"byteOffset"==M)||f(M,w))||_.push(M);return _}},function(t,e){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},function(t,e,r){var n=r(88),o=r(3),l=Object.prototype,c=l.hasOwnProperty,f=l.propertyIsEnumerable,h=n(function(){return arguments}())?n:function(t){return o(t)&&c.call(t,"callee")&&!f.call(t,"callee")};t.exports=h},function(t,e,r){var n=r(2),o=r(3);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},function(t,e){var r=Array.isArray;t.exports=r},function(t,e,r){(function(t){var n=r(1),o=r(91),l="object"==f(e)&&e&&!e.nodeType&&e,c=l&&"object"==f(t)&&t&&!t.nodeType&&t,h=c&&c.exports===l?n.Buffer:void 0,d=(h?h.isBuffer:void 0)||o;t.exports=d}).call(e,r(22)(t))},function(t,e){t.exports=function(){return!1}},function(t,e,r){var n=r(93),o=r(94),l=r(95),c=l&&l.isTypedArray,f=c?o(c):n;t.exports=f},function(t,e,r){var n=r(2),o=r(20),l=r(3),c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c["[object Arguments]"]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c["[object Map]"]=c["[object Number]"]=c["[object Object]"]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1,t.exports=function(t){return l(t)&&o(t.length)&&!!c[n(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,r){(function(t){var n=r(14),o="object"==f(e)&&e&&!e.nodeType&&e,l=o&&"object"==f(t)&&t&&!t.nodeType&&t,c=l&&l.exports===o&&n.process,h=function(){try{var t=l&&l.require&&l.require("util").types;return t||c&&c.binding&&c.binding("util")}catch(t){}}();t.exports=h}).call(e,r(22)(t))},function(t,e,r){var n=r(0),o=r(97),l=r(98),c=Object.prototype.hasOwnProperty;t.exports=function(object){if(!n(object))return l(object);var t=o(object),e=[];for(var r in object)("constructor"!=r||!t&&c.call(object,r))&&e.push(r);return e}},function(t,e){var r=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},function(t,e){t.exports=function(object){var t=[];if(null!=object)for(var e in Object(object))t.push(e);return t}},function(t,e,r){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"container",staticClass:"vue-plotly"})},staticRenderFns:[]},t.exports.render._withStripped=!0}])},"object"===f(e)&&"object"===f(t)?t.exports=c(r(600)):(o=[r(600)],void 0===(l="function"==typeof(n=c)?n.apply(e,o):n)||(t.exports=l))}).call(this,r(337)(t))}])]);